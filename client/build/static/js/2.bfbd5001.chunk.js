/*! For license information please see 2.bfbd5001.chunk.js.LICENSE.txt */
(this.webpackJsonpconsulting=this.webpackJsonpconsulting||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(8)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))i.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)o.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="dist",n(0)}([function(e,t,n){"use strict";var r={},i=n(1),o=i.extend;o(r,i),o(r,n(3)),o(r,n(2)),o(r,n(4)),o(r,n(5)),o(r,n(6)),o(r,n(7)),o(r,n(8)),o(r,n(9)),r.browser=n(10),r.popup=n(11),r.formatDate=n(12),r.defineClass=n(13),r.defineModule=n(14),r.defineNamespace=n(15),r.CustomEvents=n(16),r.Enum=n(17),r.ExMap=n(18),r.HashMap=n(20),r.Map=n(19),e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(3),o=0;function a(e,t){var n,o=[],s=[];if(isNaN(e)&&isNaN(t)&&r.isNumber(e)&&r.isNumber(t))return!0;if(e===t)return!0;if(r.isFunction(e)&&r.isFunction(t)||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e)||e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(i.inArray(e,o)>-1||i.inArray(t,s)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!==typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!==typeof e[n])return!1;if("object"===typeof e[n]||"function"===typeof e[n]){if(o.push(e),s.push(t),!a(e[n],t[n]))return!1;o.pop(),s.pop()}else if(e[n]!==t[n])return!1}return!0}function s(e,t){for(var n=arguments,i=n[0],o=1,a=n.length;o<a;o+=1){if(r.isUndefined(i)||r.isNull(i))return;i=i[n[o]]}return i}e.exports={extend:function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e},stamp:function(e){return e.__fe_id||(o+=1,e.__fe_id=o),e.__fe_id},hasStamp:function(e){return r.isExisty(s(e,"__fe_id"))},resetLastId:function(){o=0},keys:Object.prototype.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},compareJSON:function(e){var t=arguments.length,n=1;if(t<1)return!0;for(;n<t;n+=1)if(!a(e,arguments[n]))return!1;return!0},pick:s}},function(e,t){"use strict";var n=Object.prototype.toString;function r(e){return!i(e)&&!o(e)}function i(e){return void 0===e}function o(e){return null===e}function a(e){return r(e)&&!1!==e}function s(e){return r(e)&&("[object Arguments]"===n.call(e)||!!e.callee)}function l(e){return e instanceof Array}function c(e){return e===Object(e)}function u(e){return e instanceof Function}function d(e){return"string"===typeof e||e instanceof String}function h(e){return!(r(e)&&!function(e){return d(e)&&""===e}(e))||(l(e)||s(e)?0===e.length:!(c(e)&&!u(e))||!function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(e))}e.exports={isExisty:r,isUndefined:i,isNull:o,isTruthy:a,isFalsy:function(e){return!a(e)},isArguments:s,isArray:l,isArraySafe:function(e){return"[object Array]"===n.call(e)},isObject:c,isFunction:u,isFunctionSafe:function(e){return"[object Function]"===n.call(e)},isNumber:function(e){return"number"===typeof e||e instanceof Number},isNumberSafe:function(e){return"[object Number]"===n.call(e)},isDate:function(e){return e instanceof Date},isDateSafe:function(e){return"[object Date]"===n.call(e)},isString:d,isStringSafe:function(e){return"[object String]"===n.call(e)},isBoolean:function(e){return"boolean"===typeof e||e instanceof Boolean},isBooleanSafe:function(e){return"[object Boolean]"===n.call(e)},isHTMLNode:function(e){return"object"===typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)},isHTMLTag:function(e){return"object"===typeof HTMLElement?e&&e instanceof HTMLElement:!(!e||!e.nodeType||1!==e.nodeType)},isEmpty:h,isNotEmpty:function(e){return!h(e)}}},function(e,t,n){"use strict";var r,i=n(4),o=n(2),a=Array.prototype.slice;r={inArray:function(e,t,n){var r,i;if(n=n||0,!o.isArray(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(i=t.length,r=n;n>=0&&r<i;r+=1)if(t[r]===e)return r;return-1},range:function(e,t,n){var r,i=[];for(o.isUndefined(t)&&(t=e||0,e=0),t*=r=(n=n||1)<0?-1:1;e*r<t;e+=n)i.push(e);return i},zip:function(){var e=a.call(arguments),t=[];return i.forEach(e,(function(e){i.forEach(e,(function(e,n){t[n]||(t[n]=[]),t[n].push(e)}))})),t}},e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(1);function o(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}function a(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}function s(e,t,n){r.isArray(e)?o(e,t,n):a(e,t,n)}function l(e,t,n){var r=[];return n=n||null,s(e,(function(){r.push(t.apply(n,arguments))})),r}e.exports={forEachOwnProperties:a,forEachArray:o,forEach:s,toArray:function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],o(e,(function(e){t.push(e)}))}return t},map:l,reduce:function(e,t,n){var o,a,s,l=0;for(n=n||null,r.isArray(e)?(a=e.length,s=e[l]):(a=(o=i.keys(e)).length,s=e[o[l+=1]]),l+=1;l<a;l+=1)s=t.call(n,s,e[o?o[l]:l]);return s},filter:function(e,t,n){var i,o;if(n=n||null,!r.isObject(e)||!r.isFunction(t))throw new Error("wrong parameter");return r.isArray(e)?(i=[],o=function(e,t){e.push(t[0])}):(i={},o=function(e,t){e[t[1]]=t[0]}),s(e,(function(){t.apply(n,arguments)&&o(i,arguments)}),n),i},pluck:function(e,t){return l(e,(function(e){return e[t]}))}}},function(e,t){"use strict";e.exports={bind:function(e,t){var n,r=Array.prototype.slice;return e.bind?e.bind.apply(e,r.call(arguments,1)):(n=r.call(arguments,2),function(){return e.apply(t,n.length?n.concat(r.call(arguments)):arguments)})}}},function(e,t){"use strict";function n(e){function t(){}return t.prototype=e,new t}e.exports={createObject:n,inherit:function(e,t){var r=n(t.prototype);r.constructor=e,e.prototype=r}}},function(e,t,n){"use strict";var r=n(4),i=n(1);e.exports={decodeHTMLEntity:function(e){var t={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&nbsp;":" "};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g,(function(e){return t[e]?t[e]:e}))},encodeHTMLEntity:function(e){var t={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return e.replace(/[<>&"']/g,(function(e){return t[e]?"&"+t[e]+";":e}))},hasEncodableString:function(e){return/[<>&"']/.test(e)},getDuplicatedChar:function(e,t){for(var n,o=0,a=e.length,s={};o<a;o+=1)s[n=e.charAt(o)]=1;for(o=0,a=t.length;o<a;o+=1)s[n=t.charAt(o)]&&(s[n]+=1);return s=r.filter(s,(function(e){return e>1})),(s=i.keys(s).sort()).join("")}}},function(e,t){"use strict";var n={},r=Array.prototype.slice;n.timestamp=function(){return Number(new Date)},n.debounce=function(e,t){var n,i;return t=t||0,function(){i=r.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,i)}),t)}},n.throttle=function(e,t){var i,o,a,s,l=!0,c=function(t){e.apply(null,t),i=null};function u(){if(s=r.call(arguments),l)return c(s),void(l=!1);a=n.timestamp(),i=i||a,o(s),a-i>=t&&c(s)}return t=t||0,o=n.debounce(c,t),u.reset=function(){l=!0,i=null},u},e.exports=n},function(e,t,n){"use strict";var r=n(1),i=n(4),o=n(2);function a(e,t){var n=i.map(r.keys(t),(function(e,n){return(0===n?"":"&")+e+"="+t[e]})).join(""),o=document.createElement("img");return o.src=e+"?"+n,o.style.display="none",document.body.appendChild(o),document.body.removeChild(o),o}e.exports={imagePing:a,sendHostname:function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",i=window.localStorage.getItem(r);(o.isUndefined(window.tui)||!1!==window.tui.usageStatistics)&&(i&&!function(e){return(new Date).getTime()-e>6048e5}(i)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||a("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}}},function(e,t){"use strict";var n={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};window&&window.navigator&&function(){var e,t,r=window.navigator,i=r.appName.replace(/\s/g,"_"),o=r.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(a);e?(n.msie=!0,n.version=parseFloat(e[1])):n.others=!0},Netscape:function(){var r=!1;if(s.exec(o))n.msie=!0,n.version=11,r=!0;else if(l.exec(o))n.edge=!0,n.version=o.match(l)[1],r=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]))&&t.length>1){n[e]=r=!0,n.version=parseFloat(t[1]||0);break}r||(n.others=!0)}};u[i]&&u[i]()}(),e.exports=n},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(5),a=n(10),s=n(1),l=0;function c(){this.openedPopup={},this.closeWithParentPopup={},this.postBridgeUrl=""}c.prototype.getPopupList=function(e){return i.isExisty(e)?this.openedPopup[e]:this.openedPopup},c.prototype.openPopup=function(e,t){var n,r,c;if((t=s.extend({popupName:"popup_"+l+"_"+Number(new Date),popupOptionStr:"",useReload:!0,closeWithParent:!0,method:"get",param:{}},t||{})).method=t.method.toUpperCase(),this.postBridgeUrl=t.postBridgeUrl||this.postBridgeUrl,c="POST"===t.method&&t.param&&a.msie&&11===a.version,!i.isExisty(e))throw new Error("Popup#open() need popup url.");l+=1,t.param&&("GET"===t.method?e=e+(/\?/.test(e)?"&":"?")+this._parameterize(t.param):"POST"===t.method&&(c||(r=this.createForm(e,t.param,t.method,t.popupName),e="about:blank"))),n=this.openedPopup[t.popupName],i.isExisty(n)?n.closed?this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr):(t.useReload&&n.location.replace(e),n.focus()):this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr),this.closeWithParentPopup[t.popupName]=t.closeWithParent,(!n||n.closed||i.isUndefined(n.closed))&&alert("please enable popup windows for this website"),t.param&&"POST"===t.method&&!c&&(n&&r.submit(),r.parentNode&&r.parentNode.removeChild(r)),window.onunload=o.bind(this.closeAllPopup,this)},c.prototype.close=function(e,t){var n=t||window;(e=!!i.isExisty(e)&&e)&&(window.onunload=null),n.closed||(n.opener=window.location.href,n.close())},c.prototype.closeAllPopup=function(e){var t=i.isExisty(e);r.forEachOwnProperties(this.openedPopup,(function(e,n){(t&&this.closeWithParentPopup[n]||!t)&&this.close(!1,e)}),this)},c.prototype.focus=function(e){this.getPopupList(e).focus()},c.prototype.parseQuery=function(){var e,t,n={};return e=window.location.search.substr(1),r.forEachArray(e.split("&"),(function(e){t=e.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])})),n},c.prototype.createForm=function(e,t,n,i,o){var a,s=document.createElement("form");return o=o||document.body,s.method=n||"POST",s.action=e||"",s.target=i||"",s.style.display="none",r.forEachOwnProperties(t,(function(e,t){(a=document.createElement("input")).name=t,a.type="hidden",a.value=e,s.appendChild(a)})),o.appendChild(s),s},c.prototype._parameterize=function(e){var t=[];return r.forEachOwnProperties(e,(function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})),t.join("&")},c.prototype._open=function(e,t,n,r,i){var o;return e?(o=window.open(this.postBridgeUrl,r,i),setTimeout((function(){o.redirect(n,t)}),100)):o=window.open(n,r,i),o},e.exports=new c},function(e,t,n){"use strict";var r=n(2),i=n(1),o=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi,a=["Invalid month","January","February","March","April","May","June","July","August","September","October","November","December"],s=[0,31,28,31,30,31,30,31,31,30,31,30,31],l={M:function(e){return Number(e.month)},MM:function(e){var t=e.month;return Number(t)<10?"0"+t:t},MMM:function(e){return a[Number(e.month)].substr(0,3)},MMMM:function(e){return a[Number(e.month)]},D:function(e){return Number(e.date)},d:function(e){return l.D(e)},DD:function(e){var t=e.date;return Number(t)<10?"0"+t:t},dd:function(e){return l.DD(e)},YY:function(e){return Number(e.year)%100},yy:function(e){return l.YY(e)},YYYY:function(e){var t="20",n=e.year;return n>69&&n<100&&(t="19"),Number(n)<100?t+String(n):n},yyyy:function(e){return l.YYYY(e)},A:function(e){return e.meridiem},a:function(e){return e.meridiem},hh:function(e){var t=e.hour;return Number(t)<10?"0"+t:t},HH:function(e){return l.hh(e)},h:function(e){return String(Number(e.hour))},H:function(e){return l.h(e)},m:function(e){return String(Number(e.minute))},mm:function(e){var t=e.minute;return Number(t)<10?"0"+t:t}};e.exports=function(e,t,n){var a,c,u=i.pick(n,"meridiemSet","AM")||"AM",d=i.pick(n,"meridiemSet","PM")||"PM";return!!function(e,t,n){var r;return e=Number(e),t=Number(t),n=Number(n),(e>-1&&e<100||e>1969&&e<2070)&&t>0&&t<13&&(r=s[t],2===t&&e%4===0&&(e%100===0&&e%400!==0||(r=29)),n>0&&n<=r)}((c=r.isDate(t)?{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}:{year:t.year,month:t.month,date:t.date,hour:t.hour,minute:t.minute}).year,c.month,c.date)&&(c.meridiem="",/([^\\]|^)[aA]\b/.test(e)&&(a=c.hour>11?d:u,c.hour>12&&(c.hour%=12),0===c.hour&&(c.hour=12),c.meridiem=a),e.replace(o,(function(e){return e.indexOf("\\")>-1?e.replace(/\\/,""):l[e](c)||""})))}},function(e,t,n){"use strict";var r=n(6).inherit,i=n(1).extend;e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&r(n,e),t.hasOwnProperty("static")&&(i(n,t.static),delete t.static),i(n.prototype,t),n}},function(e,t,n){"use strict";var r=n(15),i=n(2);e.exports=function(e,t){var n=t||{};return i.isFunction(n.initialize)&&n.initialize(),r(e,n)}},function(e,t,n){"use strict";var r=n(4),i=n(1);e.exports=function(e,t,n){var o,a,s;return(o=e.split(".")).unshift(window),a=r.reduce(o,(function(e,t){return e[t]=e[t]||{},e[t]})),n?(s=o.pop(),a=i.pick.apply(null,o)[s]=t):i.extend(a,t),a}},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(1),a=/\s+/g;function s(){this.events=null,this.contexts=null}s.mixin=function(e){o.extend(e.prototype,s.prototype)},s.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},s.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},s.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},s.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},s.prototype._memorizeContext=function(e){var t,n;i.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},s.prototype._forgetContext=function(e){var t,n;i.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},s.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},s.prototype.on=function(e,t,n){var o=this;i.isString(e)?(e=e.split(a),r.forEach(e,(function(e){o._bindEvent(e,t,n)}))):i.isObject(e)&&(n=t,r.forEach(e,(function(e,t){o.on(t,e,n)})))},s.prototype.once=function(e,t,n){var o=this;if(i.isObject(e))return n=t,void r.forEach(e,(function(e,t){o.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),o.off(e,r,n)}),n)},s.prototype._spliceMatches=function(e,t){var n,r=0;if(i.isArray(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},s.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},s.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},s.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},s.prototype._offByEventName=function(e,t){var n=this,o=r.forEachArray,s=i.isFunction(t),l=n._matchHandler(t);e=e.split(a),o(e,(function(e){var t=n._safeEvent(e);s?n._spliceMatches(t,l):(o(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},s.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);r.forEach(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},s.prototype._offByObject=function(e,t){var n,o=this;this._indexOfContext(e)<0?r.forEach(e,(function(e,t){o.off(t,e)})):i.isString(t)?(n=this._matchContext(e),o._spliceMatches(this._safeEvent(t),n)):i.isFunction(t)?(n=this._matchHandlerAndContext(t,e),r.forEach(this._safeEvent(),(function(e){o._spliceMatches(e,n)}))):(n=this._matchContext(e),r.forEach(this._safeEvent(),(function(e){o._spliceMatches(e,n)})))},s.prototype.off=function(e,t){i.isString(e)?this._offByEventName(e,t):arguments.length?i.isFunction(e)?this._offByHandler(e):i.isObject(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},s.prototype.fire=function(e){this.invoke.apply(this,arguments)},s.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},s.prototype.hasListener=function(e){return this.getListenerLength(e)>0},s.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=s},function(e,t,n){"use strict";var r=n(4),i=n(2),o=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),a=0;function s(e){e&&this.set.apply(this,arguments)}s.prototype.set=function(e){var t=this;i.isArray(e)||(e=r.toArray(arguments)),r.forEach(e,(function(e){t._addItem(e)}))},s.prototype.getName=function(e){var t,n=this;return r.forEach(this,(function(r,i){if(n._isEnumItem(i)&&e===r)return t=i,!1})),t},s.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),o?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},s.prototype._makeEnumValue=function(){var e;return e=a,a+=1,e},s.prototype._isEnumItem=function(e){return i.isNumber(this[e])},e.exports=s},function(e,t,n){"use strict";var r=n(4),i=n(19);function o(e){this._map=new i(e),this.size=this._map.size}r.forEachArray(["get","has","forEach","keys","values","entries"],(function(e){o.prototype[e]=function(){return this._map[e].apply(this._map,arguments)}})),r.forEachArray(["delete","clear"],(function(e){o.prototype[e]=function(){var t=this._map[e].apply(this._map,arguments);return this.size=this._map.size,t}})),o.prototype.set=function(){return this._map.set.apply(this._map,arguments),this.size=this._map.size,this},o.prototype.setObject=function(e){r.forEachOwnProperties(e,(function(e,t){this.set(t,e)}),this)},o.prototype.deleteByKeys=function(e){r.forEachArray(e,(function(e){this.delete(e)}),this)},o.prototype.merge=function(e){e.forEach((function(e,t){this.set(t,e)}),this)},o.prototype.filter=function(e){var t=new o;return this.forEach((function(n,r){e(n,r)&&t.set(r,n)})),t},e.exports=o},function(e,t,n){"use strict";var r=n(4),i=n(2),o=n(3),a=n(10),s=n(5),l={},c={};function u(e,t){this._keys=e,this._valueGetter=t,this._length=this._keys.length,this._index=-1,this._done=!1}function d(e){this._valuesForString={},this._valuesForIndex={},this._keys=[],e&&this._setInitData(e),this.size=0}u.prototype.next=function(){var e={};do{this._index+=1}while(i.isUndefined(this._keys[this._index])&&this._index<this._length);return this._index>=this._length?e.done=!0:(e.done=!1,e.value=this._valueGetter(this._keys[this._index],this._index)),e},d.prototype._setInitData=function(e){if(!i.isArray(e))throw new Error("Only Array is supported.");r.forEachArray(e,(function(e){this.set(e[0],e[1])}),this)},d.prototype._isNaN=function(e){return"number"===typeof e&&e!==e},d.prototype._getKeyIndex=function(e){var t,n=-1;return i.isString(e)?(t=this._valuesForString[e])&&(n=t.keyIndex):n=o.inArray(e,this._keys),n},d.prototype._getOriginKey=function(e){var t=e;return e===l?t=void 0:e===c&&(t=NaN),t},d.prototype._getUniqueKey=function(e){var t=e;return i.isUndefined(e)?t=l:this._isNaN(e)&&(t=c),t},d.prototype._getValueObject=function(e,t){return i.isString(e)?this._valuesForString[e]:(i.isUndefined(t)&&(t=this._getKeyIndex(e)),t>=0?this._valuesForIndex[t]:void 0)},d.prototype._getOriginValue=function(e,t){return this._getValueObject(e,t).origin},d.prototype._getKeyValuePair=function(e,t){return[this._getOriginKey(e),this._getOriginValue(e,t)]},d.prototype._createValueObject=function(e,t){return{keyIndex:t,origin:e}},d.prototype.set=function(e,t){var n,r=this._getUniqueKey(e),o=this._getKeyIndex(r);return o<0&&(o=this._keys.push(r)-1,this.size+=1),n=this._createValueObject(t,o),i.isString(e)?this._valuesForString[e]=n:this._valuesForIndex[o]=n,this},d.prototype.get=function(e){var t=this._getUniqueKey(e),n=this._getValueObject(t);return n&&n.origin},d.prototype.keys=function(){return new u(this._keys,s.bind(this._getOriginKey,this))},d.prototype.values=function(){return new u(this._keys,s.bind(this._getOriginValue,this))},d.prototype.entries=function(){return new u(this._keys,s.bind(this._getKeyValuePair,this))},d.prototype.has=function(e){return!!this._getValueObject(e)},d.prototype.delete=function(e){var t;i.isString(e)?this._valuesForString[e]&&(t=this._valuesForString[e].keyIndex,delete this._valuesForString[e]):(t=this._getKeyIndex(e))>=0&&delete this._valuesForIndex[t],t>=0&&(delete this._keys[t],this.size-=1)},d.prototype.forEach=function(e,t){t=t||this,r.forEachArray(this._keys,(function(n){i.isUndefined(n)||e.call(t,this._getValueObject(n).origin,n,this)}),this)},d.prototype.clear=function(){d.call(this)},window.Map&&(a.firefox&&a.version>=37||a.chrome&&a.version>=42)&&(d=window.Map),e.exports=d},function(e,t,n){"use strict";var r=n(4),i=n(2);function o(e){this.length=0,e&&this.setObject(e)}o.prototype.set=function(e,t){2===arguments.length?this.setKeyValue(e,t):this.setObject(e)},o.prototype.setKeyValue=function(e,t){this.has(e)||(this.length+=1),this[this.encodeKey(e)]=t},o.prototype.setObject=function(e){var t=this;r.forEachOwnProperties(e,(function(e,n){t.setKeyValue(n,e)}))},o.prototype.merge=function(e){var t=this;e.each((function(e,n){t.setKeyValue(n,e)}))},o.prototype.encodeKey=function(e){return"\xe5"+e},o.prototype.decodeKey=function(e){var t=e.split("\xe5");return t[t.length-1]},o.prototype.get=function(e){return this[this.encodeKey(e)]},o.prototype.has=function(e){return this.hasOwnProperty(this.encodeKey(e))},o.prototype.remove=function(e){return arguments.length>1&&(e=r.toArray(arguments)),i.isArray(e)?this.removeByKeyArray(e):this.removeByKey(e)},o.prototype.removeByKey=function(e){var t=this.has(e)?this.get(e):null;return null!==t&&(delete this[this.encodeKey(e)],this.length-=1),t},o.prototype.removeByKeyArray=function(e){var t=[],n=this;return r.forEach(e,(function(e){t.push(n.removeByKey(e))})),t},o.prototype.removeAll=function(){var e=this;this.each((function(t,n){e.remove(n)}))},o.prototype.each=function(e){var t,n=this;r.forEachOwnProperties(this,(function(r,i){if("\xe5"===i.charAt(0)&&(t=e(r,n.decodeKey(i))),!1===t)return t}))},o.prototype.keys=function(){var e=[],t=this;return this.each((function(n,r){e.push(t.decodeKey(r))})),e},o.prototype.find=function(e){var t=[];return this.each((function(n,r){e(n,r)&&t.push(n)})),t},o.prototype.toArray=function(){var e=[];return this.each((function(t){e.push(t)})),e},e.exports=o}])},e.exports=r()},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(9)},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(14)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=["disableDblClick","isReadOnly","month","scheduleView","taskView","theme","timezones","week"],f=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];return r=this,o=(e=c(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==s(o)&&"function"!=typeof o?u(r):o,h(u(n),"rootEl",i.a.createRef()),h(u(n),"calendarInst",null),h(u(n),"bindEventHandlers",(function(e){Object.keys(e).filter((function(e){return/on[A-Z][a-zA-Z]+/.test(e)})).forEach((function(t){var r=t[2].toLowerCase()+t.slice(3);n.calendarInst.off(r),n.calendarInst.on(r,e[t])}))})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.schedules,n=void 0===t?[]:t,r=e.view;this.calendarInst=new a.a(this.rootEl.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},this.props,{defaultView:r})),this.setSchedules(n),this.bindEventHandlers(this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this,n=this.props,r=n.calendars,i=n.height,o=n.schedules,a=n.theme,s=n.view;return i!==e.height&&(this.getRootElement().style.height=i),r!==e.calendars&&this.setCalendars(e.calendars),o!==e.schedules&&(this.calendarInst.clear(),this.setSchedules(e.schedules)),a!==e.theme&&this.calendarInst.setTheme(this.cloneData(e.theme)),s!==e.view&&this.calendarInst.changeView(e.view),p.forEach((function(n){t.props[n]!==e[n]&&t.setOptions(n,e[n])})),this.bindEventHandlers(e,this.props),!1}},{key:"componentWillUnmount",value:function(){this.calendarInst.destroy()}},{key:"cloneData",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"setCalendars",value:function(e){e&&e.length&&this.calendarInst.setCalendars(e)}},{key:"setSchedules",value:function(e){e&&e.length&&this.calendarInst.createSchedules(e)}},{key:"setOptions",value:function(e,t){this.calendarInst.setOptions(h({},e,t))}},{key:"getInstance",value:function(){return this.calendarInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.rootEl,style:{height:this.props.height}})}}])&&l(n.prototype,r),t}();h(f,"defaultProps",{height:"800px",view:"week"})}])},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(21)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(){var e,n;c(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return m(p(n=d(this,(e=h(t)).call.apply(e,[this].concat(o)))),"rootEl",i.a.createRef()),m(p(n),"imageEditorInst",null),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.imageEditorInst=new a.a(this.rootEl.current,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props)),this.bindEventHandlers(this.props)}},{key:"componentWillUnmount",value:function(){this.unbindEventHandlers(),this.imageEditorInst.destroy(),this.imageEditorInst=null}},{key:"shouldComponentUpdate",value:function(e){return this.bindEventHandlers(this.props,e),!1}},{key:"getInstance",value:function(){return this.imageEditorInst}},{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"bindEventHandlers",value:function(e,t){var n=this;Object.keys(e).filter(this.isEventHandlerKeys).forEach((function(r){var i=r[2].toLowerCase()+r.slice(3);t&&t[r]!==e[r]&&n.imageEditorInst.off(i),n.imageEditorInst.on(i,e[r])}))}},{key:"unbindEventHandlers",value:function(){var e=this;Object.keys(this.props).filter(this.isEventHandlerKeys).forEach((function(t){var n=t[2].toLowerCase()+t.slice(3);e.imageEditorInst.off(n)}))}},{key:"isEventHandlerKeys",value:function(e){return/on[A-Z][a-zA-Z]+/.test(e)}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.rootEl})}}])&&u(n.prototype,r),t}(i.a.Component)}])},function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=n(0)},function(e,t){e.exports=n(32)},function(e,t){e.exports=n(34)},function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",(function(){return g})),n.d(t,"Viewer",(function(){return j}));var r=n(0),i=n.n(r),o=n(1),a=n.n(o);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}(o);function o(){var e;c(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return m(p(e=r.call.apply(r,[this].concat(n))),"rootEl",i.a.createRef()),m(p(e),"editorInst",null),e}return t=o,(n=[{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"getInstance",value:function(){return this.editorInst}},{key:"bindEventHandlers",value:function(e){var t=this;Object.keys(this.props).filter((function(e){return/^on[A-Z][a-zA-Z]+/.test(e)})).forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);t.editorInst.off(r),t.editorInst.on(r,e[n])}))}},{key:"componentDidMount",value:function(){this.editorInst=new a.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:this.rootEl.current},this.props)),this.bindEventHandlers(this.props)}},{key:"shouldComponentUpdate",value:function(e){var t=this.getInstance(),n=e.height,r=e.previewStyle;return this.props.height!==n&&t.height(n),this.props.previewStyle!==r&&t.changePreviewStyle(r),this.bindEventHandlers(e,this.props),!1}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.rootEl})}}])&&u(t.prototype,n),o}(i.a.Component),v=n(2),_=n.n(v);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(o,e);var t,n,r=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}(o);function o(){var e;C(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return T(k(e=r.call.apply(r,[this].concat(n))),"rootEl",i.a.createRef()),T(k(e),"viewerInst",null),e}return t=o,(n=[{key:"getRootElement",value:function(){return this.rootEl.current}},{key:"getInstance",value:function(){return this.viewerInst}},{key:"bindEventHandlers",value:function(e){var t=this;Object.keys(this.props).filter((function(e){return/^on[A-Z][a-zA-Z]+/.test(e)})).forEach((function(n){var r=n[2].toLowerCase()+n.slice(3);t.viewerInst.off(r),t.viewerInst.on(r,e[n])}))}},{key:"componentDidMount",value:function(){this.viewerInst=new _.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({el:this.rootEl.current},this.props)),this.bindEventHandlers(this.props)}},{key:"shouldComponentUpdate",value:function(e){return this.bindEventHandlers(e,this.props),!1}},{key:"render",value:function(){return i.a.createElement("div",{ref:this.rootEl})}}])&&w(t.prototype,n),o}(i.a.Component)}])},,function(e,t,n){"use strict";var r=n(1),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||_}function C(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||_}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=b.prototype;var S=w.prototype=new C;S.constructor=w,r(S,b.prototype),S.isPureReactComponent=!0;var x={current:null},k=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:x.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,P=[];function D(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return r(i,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,r,i)}else if(null===t||"object"!==typeof t?u=null:u="function"===typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"===typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),r,i);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function N(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?A(e,r,n,(function(e){return e})):null!=e&&(j(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function A(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),I(e,N,t=D(t,o,r,i)),M(t)}var F={current:null};function B(){var e=F.current;if(null===e)throw Error(v(321));return e}var H={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return A(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,L,t=D(null,null,t,n)),M(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return A(e,t,null,(function(e){return e})),t},only:function(e){if(!j(e))throw Error(v(143));return e}},t.Component=b,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(v(267,e));var i=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return B().useCallback(e,t)},t.useContext=function(e,t){return B().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return B().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return B().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return B().useLayoutEffect(e,t)},t.useMemo=function(e,t){return B().useMemo(e,t)},t.useReducer=function(e,t,n){return B().useReducer(e,t,n)},t.useRef=function(e){return B().useRef(e)},t.useState=function(e){return B().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(1),o=n(10);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var l=!1,c=null,u=!1,d=null,h={onError:function(e){l=!0,c=e}};function p(e,t,n,r,i,o,a,u,d){l=!1,c=null,s.apply(h,arguments)}var f=null,m=null,g=null;function v(e,t,n){var r=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,r,i,o,s,h,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,d=m)}}(r,t,void 0,e),e.currentTarget=null}var _=null,y={};function b(){if(_)for(var e in y){var t=y[e],n=_.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in w[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,l=r;if(S.hasOwnProperty(l))throw Error(a(99,l));S[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&C(c[i],s,l);i=!0}else o.registrationName?(C(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function C(e,t,n){if(x[e])throw Error(a(100,e));x[e]=t,k[e]=t.eventTypes[n].dependencies}var w=[],S={},x={},k={};function E(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!y.hasOwnProperty(t)||y[t]!==r){if(y[t])throw Error(a(102,t));y[t]=r,n=!0}}n&&b()}var T=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),j=null,O=null,P=null;function D(e){if(e=m(e)){if("function"!==typeof j)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),j(e.stateNode,e.type,t))}}function M(e){O?P?P.push(e):P=[e]:O=e}function I(){if(O){var e=O,t=P;if(P=O=null,D(e),t)for(e=0;e<t.length;e++)D(t[e])}}function R(e,t){return e(t)}function L(e,t,n,r,i){return e(t,n,r,i)}function N(){}var A=R,F=!1,B=!1;function H(){null===O&&null===P||(N(),I())}function z(e,t,n){if(B)return e(t,n);B=!0;try{return A(e,t,n)}finally{B=!1,H()}}var q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,X={},W={};function V(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new V(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new V(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new V(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new V(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new V(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new V(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new V(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new V(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new V(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function K(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,K);G[t]=new V(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,K);G[t]=new V(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,K);G[t]=new V(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new V(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new V(e,1,!1,e.toLowerCase(),null,!0)}));var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!U.call(W,e)||!U.call(X,e)&&(q.test(e)?W[e]=!0:(X[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}$.hasOwnProperty("ReactCurrentDispatcher")||($.ReactCurrentDispatcher={current:null}),$.hasOwnProperty("ReactCurrentBatchConfig")||($.ReactCurrentBatchConfig={suspense:null});var Z=/^(.*)[\\\/]/,Q="function"===typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,ne=Q?Symbol.for("react.fragment"):60107,re=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,oe=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,le=Q?Symbol.for("react.forward_ref"):60112,ce=Q?Symbol.for("react.suspense"):60113,ue=Q?Symbol.for("react.suspense_list"):60120,de=Q?Symbol.for("react.memo"):60115,he=Q?Symbol.for("react.lazy"):60116,pe=Q?Symbol.for("react.block"):60121,fe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case pe:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function ve(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ge(e.type);n=null,r&&(n=ge(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Z,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ye(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function be(e){e._valueTracker||(e._valueTracker=function(e){var t=ye(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ye(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function ke(e,t){xe(e,t);var n=_e(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Te(e,t.type,n):t.hasOwnProperty("defaultValue")&&Te(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Te(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function je(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function De(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function Me(e,t){var n=_e(t.value),r=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Ne(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ne(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Be=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function He(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},Ue={},Xe={};function We(e){if(Ue[e])return Ue[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in Xe)return Ue[e]=n[t];return e}T&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ve=We("animationend"),Ge=We("animationiteration"),Ye=We("animationstart"),Ke=We("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)v(e,t[r],n[r]);else t&&v(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(u)throw e=d,u=!1,d=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!T)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,n,r){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Tn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=lt(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Gt(e,t)}n.set(e,null)}}var mt,gt,vt,_t=!1,yt=[],bt=null,Ct=null,wt=null,St=new Map,xt=new Map,kt=[],Et="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function jt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Ot(e,t){switch(e){case"focus":case"blur":bt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Pt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=jt(t,n,r,i,o),null!==t&&(null!==(t=jn(t))&&gt(t)),e):(e.eventSystemFlags|=r,e)}function Dt(e){var t=Tn(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){vt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=jn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function It(e,t,n){Mt(e)&&n.delete(t)}function Rt(){for(_t=!1;0<yt.length;){var e=yt[0];if(null!==e.blockedOn){null!==(e=jn(e.blockedOn))&&mt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:yt.shift()}null!==bt&&Mt(bt)&&(bt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==wt&&Mt(wt)&&(wt=null),St.forEach(It),xt.forEach(It)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Nt(e){function t(t){return Lt(t,e)}if(0<yt.length){Lt(yt[0],e);for(var n=1;n<yt.length;n++){var r=yt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==bt&&Lt(bt,e),null!==Ct&&Lt(Ct,e),null!==wt&&Lt(wt,e),St.forEach(t),xt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Dt(n),null===n.blockedOn&&kt.shift()}var At={},Ft=new Map,Bt=new Map,Ht=["abort","abort",Ve,"animationEnd",Ge,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ke,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Bt.set(r,t),Ft.set(r,o),At[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ht,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ut=0;Ut<qt.length;Ut++)Bt.set(qt[Ut],0);var Xt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,Vt=!0;function Gt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Bt.get(t);switch(void 0===r?2:r){case 0:r=Kt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Kt(e,t,n,r){F||N();var i=Jt,o=F;F=!0;try{L(i,e,t,n,r)}finally{(F=o)||H()}}function $t(e,t,n,r){Wt(Xt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Vt)if(0<yt.length&&-1<Et.indexOf(e))e=jt(null,e,t,n,r),yt.push(e);else{var i=Zt(e,t,n,r);if(null===i)Ot(e,r);else if(-1<Et.indexOf(e))e=jt(i,e,t,n,r),yt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return bt=Pt(bt,e,t,n,r,i),!0;case"dragenter":return Ct=Pt(Ct,e,t,n,r,i),!0;case"mouseover":return wt=Pt(wt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Pt(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Pt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Ot(e,r),e=ht(e,r,null,t);try{z(pt,e)}finally{dt(e)}}}}function Zt(e,t,n,r){if(null!==(n=Tn(n=lt(r)))){var i=Qe(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=ht(e,r,n,t);try{z(pt,e)}finally{dt(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Qt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Re;function ln(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=k[t];for(var r=0;r<t.length;r++)ft(t[r],e,n)}function cn(){}function un(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,r=dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dn(r)}}function pn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function vn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yn="function"===typeof setTimeout?setTimeout:void 0,bn="function"===typeof clearTimeout?clearTimeout:void 0;function Cn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),xn="__reactInternalInstance$"+Sn,kn="__reactEventHandlers$"+Sn,En="__reactContainere$"+Sn;function Tn(e){var t=e[xn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[En]||n[xn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[xn])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function jn(e){return!(e=e[xn]||e[En])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function On(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Pn(e){return e[kn]||null}function Dn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=f(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function In(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Rn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Dn(t);for(t=n.length;0<t--;)In(n[t],"captured",e);for(t=0;t<n.length;t++)In(n[t],"bubbled",e)}}function Ln(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Nn(e){e&&e.dispatchConfig.registrationName&&Ln(e._targetInst,null,e)}function An(e){it(e,Rn)}var Fn=null,Bn=null,Hn=null;function zn(){if(Hn)return Hn;var e,t,n=Bn,r=n.length,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Hn=i.slice(e,1<t?1-t:void 0)}function qn(){return!0}function Un(){return!1}function Xn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?qn:Un,this.isPropagationStopped=Un,this}function Wn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Vn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Gn(e){e.eventPool=[],e.getPooled=Wn,e.release=Vn}i(Xn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=qn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=qn)},persist:function(){this.isPersistent=qn},isPersistent:Un,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Un,this._dispatchInstances=this._dispatchListeners=null}}),Xn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Xn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,Gn(n),n},Gn(Xn);var Yn=Xn.extend({data:null}),Kn=Xn.extend({data:null}),$n=[9,13,27,32],Jn=T&&"CompositionEvent"in window,Zn=null;T&&"documentMode"in document&&(Zn=document.documentMode);var Qn=T&&"TextEvent"in window&&!Zn,er=T&&(!Jn||Zn&&8<Zn&&11>=Zn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==$n.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Jn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=zn()):(Bn="value"in(Fn=r)?Fn.value:Fn.textContent,ar=!0)),o=Yn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),An(o),i=o):i=null,(e=Qn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Jn&&ir(e,t)?(e=zn(),Hn=Bn=Fn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Kn.getPooled(nr.beforeInput,t,n,r)).data=e,An(t)):t=null,null===i?t:null===t?i:[i,t]}},lr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lr[e.type]:"textarea"===t}var ur={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function dr(e,t,n){return(e=Xn.getPooled(ur.change,e,t,n)).type="change",M(n),An(e),e}var hr=null,pr=null;function fr(e){st(e)}function mr(e){if(Ce(On(e)))return e}function gr(e,t){if("change"===e)return t}var vr=!1;function _r(){hr&&(hr.detachEvent("onpropertychange",yr),pr=hr=null)}function yr(e){if("value"===e.propertyName&&mr(pr))if(e=dr(pr,e,lt(e)),F)st(e);else{F=!0;try{R(fr,e)}finally{F=!1,H()}}}function br(e,t,n){"focus"===e?(_r(),pr=n,(hr=t).attachEvent("onpropertychange",yr)):"blur"===e&&_r()}function Cr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(pr)}function wr(e,t){if("click"===e)return mr(t)}function Sr(e,t){if("input"===e||"change"===e)return mr(t)}T&&(vr=ct("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:ur,_isInputEventSupported:vr,extractEvents:function(e,t,n,r){var i=t?On(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gr;else if(cr(i))if(vr)a=Sr;else{a=Cr;var s=br}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wr);if(a&&(a=a(e,t)))return dr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Te(i,"number",i.value)}},kr=Xn.extend({view:null,detail:null}),Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function jr(){return Tr}var Or=0,Pr=0,Dr=!1,Mr=!1,Ir=kr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:jr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Or;return Or=e.screenX,Dr?"mousemove"===e.type?e.screenX-t:0:(Dr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Pr;return Pr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Rr=Ir.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Lr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Nr={eventTypes:Lr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Tn(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Ir,l=Lr.mouseLeave,c=Lr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rr,l=Lr.pointerLeave,c=Lr.pointerEnter,u="pointer");if(e=null==a?o:On(a),o=null==t?o:On(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(r=a)&&u)e:{for(c=u,a=0,e=s=r;e;e=Dn(e))a++;for(e=0,t=c;t;t=Dn(t))e++;for(;0<a-e;)s=Dn(s),a--;for(;0<e-a;)c=Dn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Dn(s),c=Dn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=Dn(r);for(r=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)r.push(u),u=Dn(u);for(u=0;u<s.length;u++)Ln(s[u],"bubbled",l);for(u=r.length;0<u--;)Ln(r[u],"captured",n);return 0===(64&i)?[l]:[l,n]}};var Ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Fr=Object.prototype.hasOwnProperty;function Br(e,t){if(Ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Fr.call(t,n[r])||!Ar(e[n[r]],t[n[r]]))return!1;return!0}var Hr=T&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},qr=null,Ur=null,Xr=null,Wr=!1;function Vr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wr||null==qr||qr!==un(n)?null:("selectionStart"in(n=qr)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xr&&Br(Xr,n)?null:(Xr=n,(e=Xn.getPooled(zr.select,Ur,e,t)).type="select",e.target=qr,An(e),e))}var Gr={eventTypes:zr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=k.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?On(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(qr=i,Ur=t,Xr=null);break;case"blur":Xr=Ur=qr=null;break;case"mousedown":Wr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wr=!1,Vr(n,r);case"selectionchange":if(Hr)break;case"keydown":case"keyup":return Vr(n,r)}return null}},Yr=Xn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Kr=Xn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$r=kr.extend({relatedTarget:null});function Jr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Zr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=kr.extend({key:function(e){if(e.key){var t=Zr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:jr,charCode:function(e){return"keypress"===e.type?Jr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Ir.extend({dataTransfer:null}),ni=kr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:jr}),ri=Xn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Ir.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:At,extractEvents:function(e,t,n,r){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Jr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=$r;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case Ve:case Ge:case Ye:e=Yr;break;case Ke:e=ri;break;case"scroll":e=kr;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Kr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rr;break;default:e=Xn}return An(t=e.getPooled(i,t,n,r)),t}};if(_)throw Error(a(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),b(),f=Pn,m=jn,g=On,E({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Nr,ChangeEventPlugin:xr,SelectEventPlugin:Gr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var ui={},di={current:ui},hi={current:!1},pi=ui;function fi(e,t){var n=e.type.contextTypes;if(!n)return ui;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(hi),li(di)}function vi(e,t,n){if(di.current!==ui)throw Error(a(168));ci(di,t),ci(hi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},n,{},r)}function yi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,pi=di.current,ci(di,e),ci(hi,hi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,li(hi),li(di),ci(di,e)):li(hi),ci(hi,n)}var Ci=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,xi=o.unstable_requestPaint,ki=o.unstable_now,Ei=o.unstable_getCurrentPriorityLevel,Ti=o.unstable_ImmediatePriority,ji=o.unstable_UserBlockingPriority,Oi=o.unstable_NormalPriority,Pi=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Mi={},Ii=o.unstable_shouldYield,Ri=void 0!==xi?xi:function(){},Li=null,Ni=null,Ai=!1,Fi=ki(),Bi=1e4>Fi?ki:function(){return ki()-Fi};function Hi(){switch(Ei()){case Ti:return 99;case ji:return 98;case Oi:return 97;case Pi:return 96;case Di:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Ti;case 98:return ji;case 97:return Oi;case 96:return Pi;case 95:return Di;default:throw Error(a(332))}}function qi(e,t){return e=zi(e),Ci(e,t)}function Ui(e,t,n){return e=zi(e),wi(e,t,n)}function Xi(e){return null===Li?(Li=[e],Ni=wi(Ti,Vi)):Li.push(e),Mi}function Wi(){if(null!==Ni){var e=Ni;Ni=null,Si(e)}Vi()}function Vi(){if(!Ai&&null!==Li){Ai=!0;var e=0;try{var t=Li;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Li=null}catch(n){throw null!==Li&&(Li=Li.slice(e+1)),wi(Ti,Wi),n}finally{Ai=!1}}}function Gi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Ki={current:null},$i=null,Ji=null,Zi=null;function Qi(){Zi=Ji=$i=null}function eo(e){var t=Ki.current;li(Ki),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){$i=e,Zi=Ji=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Pa=!0),e.firstContext=null)}function ro(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ji){if(null===$i)throw Error(a(308));Ji=t,$i.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ji=Ji.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,d=null,h=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<r){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(h=p=m,d=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var g=e,v=f;switch(s=t,m=n,v.tag){case 1:if("function"===typeof(g=v.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=v.payload)?g.call(m,c,s):g)||void 0===s)break e;c=i({},c,s);break e;case 2:io=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?d=c:p.next=h,o.baseState=d,o.baseQueue=p,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var po=$.ReactCurrentBatchConfig,fo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=po.suspense;(i=so(r=Gs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Ys(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Vs(),i=po.suspense;(i=so(r=Gs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),lo(e,i),Ys(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Vs(),r=po.suspense;(r=so(n=Gs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),lo(e,r),Ys(e,n)}};function vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Br(n,r)||!Br(i,o))}function _o(e,t,n){var r=!1,i=ui,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?pi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?fi(e,i):ui),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function yo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fo,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?pi:di.current,i.context=fi(e,o)),uo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),uo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Co=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===fo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function xo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=El(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ol(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=wo(e,t,n),r.return=e,r):((r=Tl(n.type,n.key,n.props,null,e.mode,r)).ref=wo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=jl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ol(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Tl(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Pl(t,e.mode,n)).return=e,t}if(Co(t)||me(t))return(t=jl(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?u(e,t,n,r):null}if(Co(n)||me(n))return null!==i?null:d(e,t,n,r,null);So(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Co(r)||me(r))return d(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=me(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=p(i,m,_.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(_.done)return n(i,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=h(i,_.value,c))&&(s=o(_,s,g),null===d?u=_:d.sibling=_,d=_);return u}for(m=r(i,m);!_.done;g++,_=l.next())null!==(_=f(m,i,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=o(_,s,g),null===d?u=_:d.sibling=_,d=_);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=wo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=jl(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Tl(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,r,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Pl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ol(o,e.mode,l)).return=e,e=r),s(e);if(Co(o))return m(e,r,o,l);if(me(o))return g(e,r,o,l);if(u&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var ko=xo(!0),Eo=xo(!1),To={},jo={current:To},Oo={current:To},Po={current:To};function Do(e){if(e===To)throw Error(a(174));return e}function Mo(e,t){switch(ci(Po,t),ci(Oo,e),ci(jo,To),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ae(null,"");break;default:t=Ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(jo),ci(jo,t)}function Io(){li(jo),li(Oo),li(Po)}function Ro(e){Do(Po.current);var t=Do(jo.current),n=Ae(t,e.type);t!==n&&(ci(Oo,e),ci(jo,n))}function Lo(e){Oo.current===e&&(li(jo),li(Oo))}var No={current:0};function Ao(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var Bo=$.ReactCurrentDispatcher,Ho=$.ReactCurrentBatchConfig,zo=0,qo=null,Uo=null,Xo=null,Wo=!1;function Vo(){throw Error(a(321))}function Go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ar(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,i,o){if(zo=o,qo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Bo.current=null===e||null===e.memoizedState?va:_a,e=n(r,i),t.expirationTime===zo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Xo=Uo=null,t.updateQueue=null,Bo.current=ya,e=n(r,i)}while(t.expirationTime===zo)}if(Bo.current=ga,t=null!==Uo&&null!==Uo.next,zo=0,Xo=Uo=qo=null,Wo=!1,t)throw Error(a(300));return e}function Ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xo?qo.memoizedState=Xo=e:Xo=Xo.next=e,Xo}function $o(){if(null===Uo){var e=qo.alternate;e=null!==e?e.memoizedState:null}else e=Uo.next;var t=null===Xo?qo.memoizedState:Xo.next;if(null!==t)Xo=t,Uo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Uo=e).memoizedState,baseState:Uo.baseState,baseQueue:Uo.baseQueue,queue:Uo.queue,next:null},null===Xo?qo.memoizedState=Xo=e:Xo=Xo.next=e}return Xo}function Jo(e,t){return"function"===typeof t?t(e):t}function Zo(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Uo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.expirationTime;if(u<zo){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,u>qo.expirationTime&&(qo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,Ar(r,t.memoizedState)||(Pa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Qo(e){var t=$o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Ar(o,t.memoizedState)||(Pa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e}).dispatch=ma.bind(null,qo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=qo.updateQueue)?(t={lastEffect:null},qo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return $o().memoizedState}function ra(e,t,n,r){var i=Ko();qo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=$o();r=void 0===r?null:r;var o=void 0;if(null!==Uo){var a=Uo.memoizedState;if(o=a.destroy,null!==r&&Go(r,a.deps))return void ta(t,n,o,r)}qo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)}function ua(){}function da(e,t){return Ko().memoizedState=[e,void 0===t?null:t],e}function ha(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=$o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t,n){var r=Hi();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Ho.suspense;Ho.suspense=void 0===t?null:t;try{e(!1),n()}finally{Ho.suspense=r}}))}function ma(e,t,n){var r=Vs(),i=po.suspense;i={expirationTime:r=Gs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===qo||null!==o&&o===qo)Wo=!0,i.expirationTime=zo,qo.expirationTime=zo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Ar(s,a))return}catch(l){}Ys(e,r)}}var ga={readContext:ro,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useResponder:Vo,useDeferredValue:Vo,useTransition:Vo},va={readContext:ro,useCallback:da,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,qo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ko().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},_a={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Zo,useRef:na,useState:function(){return Zo(Jo)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var n=Zo(Jo),r=n[0],i=n[1];return aa((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Zo(Jo),n=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),n]}},ya={readContext:ro,useCallback:ha,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:na,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var n=Qo(Jo),r=n[0],i=n[1];return aa((function(){var n=Ho.suspense;Ho.suspense=void 0===t?null:t;try{i(e)}finally{Ho.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Qo(Jo),n=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),n]}},ba=null,Ca=null,wa=!1;function Sa(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function xa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ka(e){if(wa){var t=Ca;if(t){var n=t;if(!xa(e,t)){if(!(t=Cn(n.nextSibling))||!xa(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(ba=e);Sa(ba,n)}ba=e,Ca=Cn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,ba=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ba=e}function Ta(e){if(e!==ba)return!1;if(!wa)return Ea(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=Ca;t;)Sa(e,t),t=Cn(t.nextSibling);if(Ea(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=Cn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=ba?Cn(e.stateNode.nextSibling):null;return!0}function ja(){Ca=ba=null,wa=!1}var Oa=$.ReactCurrentOwner,Pa=!1;function Da(e,t,n,r){t.child=null===e?Eo(t,null,n,r):ko(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Yo(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Da(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Ia(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||kl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Tl(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Br)(i,r)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=El(a,r)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,n,r,i,o){return null!==e&&Br(e.memoizedProps,r)&&e.ref===t.ref&&(Pa=!1,i<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):Na(e,t,n,r,o)}function La(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Na(e,t,n,r,i){var o=mi(n)?pi:di.current;return o=fi(t,o),no(t,i),n=Yo(e,t,n,r,o,i),null===e||Pa?(t.effectTag|=1,Da(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Aa(e,t,n,r,i){if(mi(n)){var o=!0;yi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=fi(t,c=mi(n)?pi:di.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&yo(t,a,r,c),io=!1;var h=t.memoizedState;a.state=h,uo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||hi.current||io?("function"===typeof u&&(mo(t,n,u,r),l=t.memoizedState),(s=io||vo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yi(t.type,s),l=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=fi(t,c=mi(n)?pi:di.current),(d="function"===typeof(u=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&yo(t,a,r,c),io=!1,l=t.memoizedState,a.state=l,uo(t,r,a,i),h=t.memoizedState,s!==r||l!==h||hi.current||io?("function"===typeof u&&(mo(t,n,u,r),h=t.memoizedState),(u=io||vo(t,n,s,r,l,h,c))?(d||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Fa(e,t,n,r,o,i)}function Fa(e,t,n,r,i,o){La(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&bi(t,n,!1),Ya(e,t,o);r=t.stateNode,Oa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Da(e,t,s,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Ba(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Mo(e,t.containerInfo)}var Ha,za,qa,Ua={dehydrated:null,retryTime:0};function Xa(e,t,n){var r,i=t.mode,o=t.pendingProps,a=No.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(No,1&a),null===e){if(void 0!==o.fallback&&ka(t),s){if(s=o.fallback,(o=jl(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ua,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Eo(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=El(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=El(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ua,t.child=n,i}return n=ko(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=jl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=jl(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ua,t.child=o,n}return t.memoizedState=null,t.child=ko(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Va(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Ga(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Da(e,t,r.children,n),0!==(2&(r=No.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(No,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ao(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ao(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o,t.lastEffect);break;case"together":Va(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&al(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=El(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=El(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return Io(),li(hi),li(di),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ta(t)||(t.effectTag|=4),null;case 5:Lo(t),n=Do(Po.current);var o=t.type;if(null!==e&&null!=t.stateNode)za(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Do(jo.current),Ta(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[xn]=t,r[kn]=s,o){case"iframe":case"object":case"embed":Gt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Gt($e[e],r);break;case"source":Gt("error",r);break;case"img":case"image":case"link":Gt("error",r),Gt("load",r);break;case"form":Gt("reset",r),Gt("submit",r);break;case"details":Gt("toggle",r);break;case"input":Se(r,s),Gt("invalid",r),ln(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Gt("invalid",r),ln(n,"onChange");break;case"textarea":De(r,s),Gt("invalid",r),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):x.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":be(r),Ee(r,s,!0);break;case"textarea":be(r),Ie(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Ne(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(o,{is:r.is}):(e=l.createElement(o),"select"===o&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,o),e[xn]=t,e[kn]=r,Ha(e,t),t.stateNode=e,l=an(o,r),o){case"iframe":case"object":case"embed":Gt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Gt($e[c],e);c=r;break;case"source":Gt("error",e),c=r;break;case"img":case"image":case"link":Gt("error",e),Gt("load",e),c=r;break;case"form":Gt("reset",e),Gt("submit",e),c=r;break;case"details":Gt("toggle",e),c=r;break;case"input":Se(e,r),c=we(e,r),Gt("invalid",e),ln(n,"onChange");break;case"option":c=je(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Gt("invalid",e),ln(n,"onChange");break;case"textarea":De(e,r),c=Pe(e,r),Gt("invalid",e),ln(n,"onChange");break;default:c=r}on(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?nn(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&Be(e,d):"children"===s?"string"===typeof d?("textarea"!==o||""!==d)&&He(e,d):"number"===typeof d&&He(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?null!=d&&ln(n,s):null!=d&&J(e,s,d,l))}switch(o){case"input":be(e),Ee(e,r,!1);break;case"textarea":be(e),Ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+_e(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Oe(e,!!r.multiple,n,!1):null!=r.defaultValue&&Oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}vn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qa(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Do(Po.current),Do(jo.current),Ta(t)?(n=t.stateNode,r=t.memoizedProps,n[xn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[xn]=t,t.stateNode=n)}return null;case 13:return li(No),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ta(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&No.current)?Ts===bs&&(Ts=Cs):(Ts!==bs&&Ts!==Cs||(Ts=ws),0!==Ms&&null!==xs&&(Il(xs,Es),Rl(xs,Ms)))),(n||r)&&(t.effectTag|=4),null);case 4:return Io(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(li(No),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Ka(r,!1);else if(Ts!==bs||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Ao(s))){for(t.effectTag|=64,Ka(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(No,1&No.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Ao(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ka(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ka(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Bi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=No.current,ci(No,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Io(),li(hi),li(di),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(No),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(No),null;case 4:return Io(),null;case 10:return eo(e),null;default:return null}}function Za(e,t){return{value:e,source:t,stack:ve(t)}}Ha=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},za=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Do(jo.current),e=null,n){case"input":a=we(c,a),r=we(c,r),e=[];break;case"option":a=je(c,a),r=je(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Pe(c,a),r=Pe(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(x.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!==typeof u&&"number"!==typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(x.hasOwnProperty(s)?(null!=u&&ln(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},qa=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Qa="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ve(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){_l(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&vn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;qi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){_l(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){_l(e,n)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(He(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function us(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,d=c;;)if(as(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i?(l=r,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function ds(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[kn]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Be(n,l):"children"===s?He(n,l):J(n,s,l,t)}switch(e){case"input":ke(n,r);break;case"textarea":Me(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Oe(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Oe(n,!!r.multiple,r.defaultValue,!0):Oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Nt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Rs=Bi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hs(t);case 19:return void hs(t);case 17:return}throw Error(a(163))}function hs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qa),t.forEach((function(t){var r=bl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ns||(Ns=!0,As=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,vs=Math.ceil,_s=$.ReactCurrentDispatcher,ys=$.ReactCurrentOwner,bs=0,Cs=3,ws=4,Ss=0,xs=null,ks=null,Es=0,Ts=bs,js=null,Os=1073741823,Ps=1073741823,Ds=null,Ms=0,Is=!1,Rs=0,Ls=null,Ns=!1,As=null,Fs=null,Bs=!1,Hs=null,zs=90,qs=null,Us=0,Xs=null,Ws=0;function Vs(){return 0!==(48&Ss)?1073741821-(Bi()/10|0):0!==Ws?Ws:Ws=1073741821-(Bi()/10|0)}function Gs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Hi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return Es;if(null!==n)e=Gi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Gi(e,150,100);break;case 97:case 96:e=Gi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==xs&&e===Es&&--e,e}function Ys(e,t){if(50<Us)throw Us=0,Xs=null,Error(a(185));if(null!==(e=Ks(e,t))){var n=Hi();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Qs(e):(Js(e),0===Ss&&Wi()):Js(e),0===(4&Ss)||98!==n&&99!==n||(null===qs?qs=new Map([[e,t]]):(void 0===(n=qs.get(e))||n>t)&&qs.set(e,t))}}function Ks(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(xs===i&&(al(t),Ts===ws&&Il(i,Es)),Rl(i,t)),i}function $s(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Ml(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Xi(Qs.bind(null,e));else{var t=$s(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Vs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Xi(Qs.bind(null,e)):Ui(r,Zs.bind(null,e),{timeout:10*(1073741821-t)-Bi()}),e.callbackNode=t}}}function Zs(e,t){if(Ws=0,t)return Ll(e,t=Vs()),Js(e),null;var n=$s(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ss))throw Error(a(327));if(ml(),e===xs&&n===Es||nl(e,n),null!==ks){var r=Ss;Ss|=16;for(var i=il();;)try{ll();break}catch(l){rl(e,l)}if(Qi(),Ss=r,_s.current=i,1===Ts)throw t=js,nl(e,n),Il(e,n),Js(e),t;if(null===ks)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ts,xs=null,r){case bs:case 1:throw Error(a(345));case 2:Ll(e,2<n?2:n);break;case Cs:if(Il(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),1073741823===Os&&10<(i=Rs+500-Bi())){if(Is){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=$s(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=yn(hl.bind(null,e),i);break}hl(e);break;case ws:if(Il(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=dl(i)),Is&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(i=$s(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ps?r=10*(1073741821-Ps)-Bi():1073741823===Os?r=0:(r=10*(1073741821-Os)-5e3,0>(r=(i=Bi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vs(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=yn(hl.bind(null,e),r);break}hl(e);break;case 5:if(1073741823!==Os&&null!==Ds){o=Os;var s=Ds;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Bi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Il(e,n),e.timeoutHandle=yn(hl.bind(null,e),r);break}}hl(e);break;default:throw Error(a(329))}if(Js(e),e.callbackNode===t)return Zs.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(a(327));if(ml(),e===xs&&t===Es||nl(e,t),null!==ks){var n=Ss;Ss|=16;for(var r=il();;)try{sl();break}catch(i){rl(e,i)}if(Qi(),Ss=n,_s.current=r,1===Ts)throw n=js,nl(e,t),Il(e,t),Js(e),n;if(null!==ks)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,xs=null,hl(e),Js(e)}return null}function el(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Wi()}}function tl(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Wi()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bn(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Io(),li(hi),li(di);break;case 5:Lo(r);break;case 4:Io();break;case 13:case 19:li(No);break;case 10:eo(r)}n=n.return}xs=e,ks=El(e.current,null),Es=t,Ts=bs,js=null,Ps=Os=1073741823,Ds=null,Ms=0,Is=!1}function rl(e,t){for(;;){try{if(Qi(),Bo.current=ga,Wo)for(var n=qo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(zo=0,Xo=Uo=qo=null,Wo=!1,null===ks||null===ks.return)return Ts=1,js=t,ks=null;e:{var i=e,o=ks.return,a=ks,s=t;if(t=Es,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!==(1&No.current),d=o;do{var h;if(h=13===d.tag){var p=d.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var f=d.memoizedProps;h=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(h){var m=d.updateQueue;if(null===m){var g=new Set;g.add(l),d.updateQueue=g}else m.add(l);if(0===(2&d.mode)){if(d.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=so(1073741823,null);v.tag=2,lo(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var _=i.pingCache;if(null===_?(_=i.pingCache=new ps,s=new Set,_.set(l,s)):void 0===(s=_.get(l))&&(s=new Set,_.set(l,s)),!s.has(a)){s.add(a);var y=yl.bind(null,i,l,a);l.then(y,y)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ve(a))}5!==Ts&&(Ts=2),s=Za(s,a),d=o;do{switch(d.tag){case 3:l=s,d.effectTag|=4096,d.expirationTime=t,co(d,fs(d,l,t));break e;case 1:l=s;var b=d.type,C=d.stateNode;if(0===(64&d.effectTag)&&("function"===typeof b.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Fs||!Fs.has(C)))){d.effectTag|=4096,d.expirationTime=t,co(d,ms(d,l,t));break e}}d=d.return}while(null!==d)}ks=ul(ks)}catch(w){t=w;continue}break}}function il(){var e=_s.current;return _s.current=ga,null===e?ga:e}function ol(e,t){e<Os&&2<e&&(Os=e),null!==t&&e<Ps&&2<e&&(Ps=e,Ds=t)}function al(e){e>Ms&&(Ms=e)}function sl(){for(;null!==ks;)ks=cl(ks)}function ll(){for(;null!==ks&&!Ii();)ks=cl(ks)}function cl(e){var t=gs(e.alternate,e,Es);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),ys.current=null,t}function ul(e){ks=e;do{var t=ks.alternate;if(e=ks.return,0===(2048&ks.effectTag)){if(t=$a(t,ks,Es),1===Es||1!==ks.childExpirationTime){for(var n=0,r=ks.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ks.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ks.firstEffect),null!==ks.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ks.firstEffect),e.lastEffect=ks.lastEffect),1<ks.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ks:e.firstEffect=ks,e.lastEffect=ks))}else{if(null!==(t=Ja(ks)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ks.sibling))return t;ks=e}while(null!==ks);return Ts===bs&&(Ts=5),null}function dl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hl(e){var t=Hi();return qi(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==Hs);if(0!==(48&Ss))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=dl(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===xs&&(ks=xs=null,Es=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ss;Ss|=32,ys.current=null,mn=Vt;var s=pn();if(fn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(E){l=null;break e}var h=0,p=-1,f=-1,m=0,g=0,v=s,_=null;t:for(;;){for(var y;v!==l||0!==u&&3!==v.nodeType||(p=h+u),v!==d||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(y=v.firstChild);)_=v,v=y;for(;;){if(v===s)break t;if(_===l&&++m===u&&(p=h),_===d&&++g===c&&(f=h),null!==(y=v.nextSibling))break;_=(v=_).parentNode}v=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},Vt=!1,Ls=i;do{try{fl()}catch(E){if(null===Ls)throw Error(a(330));_l(Ls,E),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=e,l=t;null!==Ls;){var b=Ls.effectTag;if(16&b&&He(Ls.stateNode,""),128&b){var C=Ls.alternate;if(null!==C){var w=C.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,ds(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,ds(Ls.alternate,Ls);break;case 4:ds(Ls.alternate,Ls);break;case 8:us(s,u=Ls,l),ss(u)}Ls=Ls.nextEffect}}catch(E){if(null===Ls)throw Error(a(330));_l(Ls,E),Ls=Ls.nextEffect}}while(null!==Ls);if(w=gn,C=pn(),b=w.focusedElem,l=w.selectionRange,C!==b&&b&&b.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(b.ownerDocument.documentElement,b)){null!==l&&fn(b)&&(C=l.start,void 0===(w=l.end)&&(w=C),"selectionStart"in b?(b.selectionStart=C,b.selectionEnd=Math.min(w,b.value.length)):(w=(C=b.ownerDocument||document)&&C.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=hn(b,s),d=hn(b,l),u&&d&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==d.node||w.focusOffset!==d.offset)&&((C=C.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(C),w.extend(d.node,d.offset)):(C.setEnd(d.node,d.offset),w.addRange(C))))),C=[];for(w=b;w=w.parentNode;)1===w.nodeType&&C.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<C.length;b++)(w=C[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Vt=!!mn,gn=mn=null,e.current=n,Ls=i;do{try{for(b=e;null!==Ls;){var S=Ls.effectTag;if(36&S&&os(b,Ls.alternate,Ls),128&S){C=void 0;var x=Ls.ref;if(null!==x){var k=Ls.stateNode;switch(Ls.tag){case 5:C=k;break;default:C=k}"function"===typeof x?x(C):x.current=C}}Ls=Ls.nextEffect}}catch(E){if(null===Ls)throw Error(a(330));_l(Ls,E),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Ri(),Ss=o}else e.current=n;if(Bs)Bs=!1,Hs=e,zs=t;else for(Ls=i;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===Xs?Us++:(Us=0,Xs=e):Us=0,"function"===typeof Cl&&Cl(n.stateNode,r),Js(e),Ns)throw Ns=!1,e=As,As=null,e;return 0!==(8&Ss)||Wi(),null}function fl(){for(;null!==Ls;){var e=Ls.effectTag;0!==(256&e)&&ns(Ls.alternate,Ls),0===(512&e)||Bs||(Bs=!0,Ui(97,(function(){return ml(),null}))),Ls=Ls.nextEffect}}function ml(){if(90!==zs){var e=97<zs?97:zs;return zs=90,qi(e,gl)}}function gl(){if(null===Hs)return!1;var e=Hs;if(Hs=null,0!==(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));_l(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Wi(),!0}function vl(e,t,n){lo(e,t=fs(e,t=Za(n,t),1073741823)),null!==(e=Ks(e,1073741823))&&Js(e)}function _l(e,t){if(3===e.tag)vl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){vl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Fs||!Fs.has(r))){lo(n,e=ms(n,e=Za(t,e),1073741823)),null!==(n=Ks(n,1073741823))&&Js(n);break}}n=n.return}}function yl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),xs===e&&Es===n?Ts===ws||Ts===Cs&&1073741823===Os&&Bi()-Rs<500?nl(e,Es):Is=!0:Ml(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Js(e)))}function bl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Gs(t=Vs(),e,null)),null!==(e=Ks(e,t))&&Js(e)}gs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||hi.current)Pa=!0;else{if(r<n){switch(Pa=!1,t.tag){case 3:Ba(t),ja();break;case 5:if(Ro(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&yi(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Xa(e,t,n):(ci(No,1&No.current),null!==(t=Ya(e,t,n))?t.sibling:null);ci(No,1&No.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return Ga(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(No,No.current),!r)return null}return Ya(e,t,n)}Pa=!1}}else Pa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=fi(t,di.current),no(t,n),i=Yo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;yi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,bo(t,r,e,n),t=Fa(null,t,r,!0,o,n)}else t.tag=0,Da(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return kl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===de)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Na(null,t,i,e,n);break e;case 1:t=Aa(null,t,i,e,n);break e;case 11:t=Ma(null,t,i,e,n);break e;case 14:t=Ia(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ba(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),uo(t,r,null,n),(r=t.memoizedState.element)===i)ja(),t=Ya(e,t,n);else{if((i=t.stateNode.hydrate)&&(Ca=Cn(t.stateNode.containerInfo.firstChild),ba=t,i=wa=!0),i)for(n=Eo(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Da(e,t,r,n),ja();t=t.child}return t;case 5:return Ro(t),null===e&&ka(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_n(r,i)?s=null:null!==o&&_n(r,o)&&(t.effectTag|=16),La(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Da(e,t,s,n),t=t.child),t;case 6:return null===e&&ka(t),null;case 13:return Xa(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Da(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Ki,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Ar(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!hi.current){t=Ya(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=so(n,null)).tag=2,lo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Da(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,Da(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ia(e,t,i,o=Yi(i.type,o),r,n);case 15:return Ra(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,yi(t)):e=!1,no(t,n),_o(t,r,i),bo(t,r,i,n),Fa(null,t,r,!0,e,n);case 19:return Ga(e,t,n)}throw Error(a(156,t.tag))};var Cl=null,wl=null;function Sl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xl(e,t,n,r){return new Sl(e,t,n,r)}function kl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function El(e,t){var n=e.alternate;return null===n?((n=xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)kl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return jl(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=xl(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=xl(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=xl(19,n,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case de:s=14;break e;case he:s=16,r=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xl(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function jl(e,t,n,r){return(e=xl(7,e,r,t)).expirationTime=n,e}function Ol(e,t,n){return(e=xl(6,e,null,t)).expirationTime=n,e}function Pl(e,t,n){return(t=xl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ml(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Il(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Nl(e,t,n,r){var i=t.current,o=Vs(),s=po.suspense;o=Gs(o,i,s);e:if(n){t:{if(Qe(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=_i(n,c,l);break e}}n=l}else n=ui;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),lo(i,t),Ys(i,o),o}function Al(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Bl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Hl(e,t,n){var r=new Dl(e,t,n=null!=n&&!0===n.hydrate),i=xl(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[En]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Et.forEach((function(e){ft(e,t,n)})),Tt.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ql(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Al(a);s.call(e)}}Nl(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Hl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=Al(a);l.call(e)}}tl((function(){Nl(t,a,e,i)}))}return Al(a)}function Ul(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zl(t))throw Error(a(200));return Ul(e,t,null,n)}Hl.prototype.render=function(e){Nl(e,this._internalRoot,null,null)},Hl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Nl(null,e,null,(function(){t[En]=null}))},mt=function(e){if(13===e.tag){var t=Gi(Vs(),150,100);Ys(e,t),Bl(e,t)}},gt=function(e){13===e.tag&&(Ys(e,3),Bl(e,3))},vt=function(e){if(13===e.tag){var t=Vs();Ys(e,t=Gs(t,e,null)),Bl(e,t)}},j=function(e,t,n){switch(t){case"input":if(ke(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pn(r);if(!i)throw Error(a(90));Ce(r),ke(r,i)}}}break;case"textarea":Me(e,n);break;case"select":null!=(t=n.value)&&Oe(e,!!n.multiple,t,!1)}},R=el,L=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&Wi()}},N=function(){0===(49&Ss)&&(function(){if(null!==qs){var e=qs;qs=null,e.forEach((function(e,t){Ll(t,e),Js(t)})),Wi()}}(),ml())},A=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Wi()}};var Wl={Events:[jn,On,Pn,E,S,An,function(e){it(e,Nn)},M,I,Jt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Cl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Tn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Xl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return qi(99,e.bind(null,t))}finally{Ss=n,Wi()}},t.hydrate=function(e,t,n){if(!zl(t))throw Error(a(200));return ql(null,e,t,!0,n)},t.render=function(e,t,n){if(!zl(t))throw Error(a(200));return ql(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){ql(null,null,e,!1,(function(){e._reactRootContainer=null,e[En]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Xl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zl(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return ql(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,c=null,u=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof h&&"function"===typeof h.now)t.unstable_now=function(){return h.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var _=!1,y=null,b=-1,C=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):C=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,x=S.port2;S.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+C;try{y(!0,e)?x.postMessage(null):(_=!1,y=null)}catch(n){throw x.postMessage(null),n}}else _=!1},r=function(e){y=e,_||(_=!0,x.postMessage(null))},i=function(e,n){b=f((function(){e(t.unstable_now())}),n)},o=function(){m(b),b=-1}}function k(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<j(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>j(a,n))void 0!==l&&0>j(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>j(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function j(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var O=[],P=[],D=1,M=null,I=3,R=!1,L=!1,N=!1;function A(e){for(var t=E(P);null!==t;){if(null===t.callback)T(P);else{if(!(t.startTime<=e))break;T(P),t.sortIndex=t.expirationTime,k(O,t)}t=E(P)}}function F(e){if(N=!1,A(e),!L)if(null!==E(O))L=!0,r(B);else{var t=E(P);null!==t&&i(F,t.startTime-e)}}function B(e,n){L=!1,N&&(N=!1,o()),R=!0;var r=I;try{for(A(n),M=E(O);null!==M&&(!(M.expirationTime>n)||e&&!a());){var s=M.callback;if(null!==s){M.callback=null,I=M.priorityLevel;var l=s(M.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?M.callback=l:M===E(O)&&T(O),A(n)}else T(O);M=E(O)}if(null!==M)var c=!0;else{var u=E(P);null!==u&&i(F,u.startTime-n),c=!1}return c}finally{M=null,I=r,R=!1}}function H(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,r(B))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return E(O)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:H(e)}else a=H(e),l=s;return e={id:D++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,k(P,e),null===E(O)&&e===E(P)&&(N?o():N=!0,i(F,l-s))):(e.sortIndex=a,k(O,e),L||R||(L=!0,r(B))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();A(e);var n=E(O);return n!==M&&null!==M&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<M.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},,,function(e,t,n){var r;window,r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s="./src/index.js")}({"./node_modules/handlebars-template-loader/runtime/index.js":function(e,t,n){e.exports=n("./node_modules/handlebars/dist/cjs/handlebars.runtime.js")},"./node_modules/handlebars/dist/cjs/handlebars.runtime.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var o=i(n("./node_modules/handlebars/dist/cjs/handlebars/base.js")),a=r(n("./node_modules/handlebars/dist/cjs/handlebars/safe-string.js")),s=r(n("./node_modules/handlebars/dist/cjs/handlebars/exception.js")),l=i(n("./node_modules/handlebars/dist/cjs/handlebars/utils.js")),c=i(n("./node_modules/handlebars/dist/cjs/handlebars/runtime.js")),u=r(n("./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js"));function d(){var e=new o.HandlebarsEnvironment;return l.extend(e,o),e.SafeString=a.default,e.Exception=s.default,e.Utils=l,e.escapeExpression=l.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var h=d();h.create=d,u.default(h),h.default=h,t.default=h,e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/base.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=u;var i=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js"),o=r(n("./node_modules/handlebars/dist/cjs/handlebars/exception.js")),a=n("./node_modules/handlebars/dist/cjs/handlebars/helpers.js"),s=n("./node_modules/handlebars/dist/cjs/handlebars/decorators.js"),l=r(n("./node_modules/handlebars/dist/cjs/handlebars/logger.js")),c=n("./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js");function u(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},a.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}t.VERSION="4.7.3",t.COMPILER_REVISION=8,t.LAST_COMPATIBLE_COMPILER_REVISION=7,t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},u.prototype={constructor:u,logger:l.default,log:l.default.log,registerHelper:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===i.toString.call(e))i.extend(this.partials,e);else{if("undefined"===typeof t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===i.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple decorators");i.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){c.resetLoggedProperties()}};var d=l.default.log;t.log=d,t.createFrame=i.createFrame,t.logger=l.default},"./node_modules/handlebars/dist/cjs/handlebars/decorators.js":function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var r,i=n("./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js"),o=(r=i)&&r.__esModule?r:{default:r}},"./node_modules/handlebars/dist/cjs/handlebars/decorators/inline.js":function(e,t,n){"use strict";t.__esModule=!0;var r=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js");t.default=function(e){e.registerDecorator("inline",(function(e,t,n,i){var o=e;return t.partials||(t.partials={},o=function(i,o){var a=n.partials;n.partials=r.extend({},a,t.partials);var s=e(i,o);return n.partials=a,s}),t.partials[i.args[0]]=i.fn,o}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/exception.js":function(e,t,n){"use strict";t.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function i(e,t){var n=t&&t.loc,o=void 0,a=void 0,s=void 0,l=void 0;n&&(o=n.start.line,a=n.end.line,s=n.start.column,l=n.end.column,e+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=c[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=o,this.endLineNumber=a,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:l,enumerable:!0})):(this.column=s,this.endColumn=l))}catch(d){}}i.prototype=new Error,t.default=i,e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){i.default(e),o.default(e),a.default(e),s.default(e),l.default(e),c.default(e),u.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var i=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js")),o=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js")),a=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js")),s=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js")),l=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js")),c=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js")),u=r(n("./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js"))},"./node_modules/handlebars/dist/cjs/handlebars/helpers/block-helper-missing.js":function(e,t,n){"use strict";t.__esModule=!0;var r=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js");t.default=function(e){e.registerHelper("blockHelperMissing",(function(t,n){var i=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return i(this);if(r.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return o(t,n)}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers/each.js":function(e,t,n){"use strict";(function(r){t.__esModule=!0;var i,o=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js"),a=n("./node_modules/handlebars/dist/cjs/handlebars/exception.js"),s=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("each",(function(e,t){if(!t)throw new s.default("Must pass iterator to #each");var n=t.fn,i=t.inverse,a=0,l="",c=void 0,u=void 0;function d(t,r,i){c&&(c.key=t,c.index=r,c.first=0===r,c.last=!!i,u&&(c.contextPath=u+t)),l+=n(e[t],{data:c,blockParams:o.blockParams([e[t],t],[u+t,null])})}if(t.data&&t.ids&&(u=o.appendContextPath(t.data.contextPath,t.ids[0])+"."),o.isFunction(e)&&(e=e.call(this)),t.data&&(c=o.createFrame(t.data)),e&&"object"===typeof e)if(o.isArray(e))for(var h=e.length;a<h;a++)a in e&&d(a,a,a===e.length-1);else if(r.Symbol&&e[r.Symbol.iterator]){for(var p=[],f=e[r.Symbol.iterator](),m=f.next();!m.done;m=f.next())p.push(m.value);for(h=(e=p).length;a<h;a++)d(a,a,a===e.length-1)}else!function(){var t=void 0;Object.keys(e).forEach((function(e){void 0!==t&&d(t,a-1),t=e,a++})),void 0!==t&&d(t,a-1,!0)}();return 0===a&&(l=i(this)),l}))},e.exports=t.default}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js":function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("./node_modules/handlebars/dist/cjs/handlebars/exception.js"),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers/if.js":function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js"),o=n("./node_modules/handlebars/dist/cjs/handlebars/exception.js"),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new a.default("#if requires exactly one argument");return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new a.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers/log.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",(function(){for(var t=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)t.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log.apply(e,t)}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers/lookup.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/helpers/with.js":function(e,t,n){"use strict";t.__esModule=!0;var r,i=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js"),o=n("./node_modules/handlebars/dist/cjs/handlebars/exception.js"),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new a.default("#with requires exactly one argument");i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var r=t.data;return t.data&&t.ids&&((r=i.createFrame(t.data)).contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:r,blockParams:i.blockParams([e],[r&&r.contextPath])})}))},e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js":function(e,t,n){"use strict";t.__esModule=!0,t.createNewLookupObject=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.extend.apply(void 0,[Object.create(null)].concat(t))};var r=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js")},"./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js":function(e,t,n){"use strict";t.__esModule=!0,t.createProtoAccessControl=function(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:r.createNewLookupObject(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:r.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}},t.resultIsAllowed=function(e,t,n){return a("function"===typeof e?t.methods:t.properties,n)},t.resetLoggedProperties=function(){Object.keys(o).forEach((function(e){delete o[e]}))};var r=n("./node_modules/handlebars/dist/cjs/handlebars/internal/create-new-lookup-object.js"),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./node_modules/handlebars/dist/cjs/handlebars/logger.js")),o=Object.create(null);function a(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==o[e]&&(o[e]=!0,i.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}(t),!1)}},"./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js":function(e,t,n){"use strict";t.__esModule=!0,t.wrapHelper=function(e,t){return"function"!==typeof e?e:function(){var n=arguments[arguments.length-1];return arguments[arguments.length-1]=t(n),e.apply(this,arguments)}}},"./node_modules/handlebars/dist/cjs/handlebars/logger.js":function(e,t,n){"use strict";t.__esModule=!0;var r=n("./node_modules/handlebars/dist/cjs/handlebars/utils.js"),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"===typeof e){var t=r.indexOf(i.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=i.lookupLevel(e),"undefined"!==typeof console&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];console[t]||(t="log");for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console[t].apply(console,r)}}};t.default=i,e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/no-conflict.js":function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t="undefined"!==typeof n?n:window,r=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=r),e}},e.exports=t.default}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/handlebars/dist/cjs/handlebars/runtime.js":function(e,t,n){"use strict";t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=s.COMPILER_REVISION;if(!(t>=s.LAST_COMPATIBLE_COMPILER_REVISION&&t<=s.COMPILER_REVISION)){if(t<s.LAST_COMPATIBLE_COMPILER_REVISION){var r=s.REVISION_CHANGES[n],i=s.REVISION_CHANGES[t];throw new a.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new a.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new a.default("No environment passed to template");if(!e||!e.main)throw new a.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0],r={strict:function(e,t,n){if(!e||!(t in e))throw new a.default('"'+t+'" not defined in '+e,{loc:n});return e[t]},lookupProperty:function(e,t){var n=e[t];return null==n||Object.prototype.hasOwnProperty.call(e,t)||u.resultIsAllowed(n,r.protoAccessControl,t)?n:void 0},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(null!=(e[i]&&r.lookupProperty(e[i],t)))return e[i][t]},lambda:function(e,t){return"function"===typeof e?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:function(n,r,o){o.hash&&(r=i.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,r,o);var s=i.extend({},o,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),l=t.VM.invokePartial.call(this,n,r,s);if(null==l&&t.compile&&(o.partials[o.name]=t.compile(n,e.compilerOptions,t),l=o.partials[o.name](r,s)),null!=l){if(o.indent){for(var c=l.split("\n"),u=0,d=c.length;u<d&&(c[u]||u+1!==d);u++)c[u]=o.indent+c[u];l=c.join("\n")}return l}throw new a.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,r,i){var o=this.programs[e],a=this.fn(e);return t||i||r||n?o=d(this,e,a,t,n,r,i):o||(o=this.programs[e]=d(this,e,a)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function o(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;o._setup(n),!n.partial&&e.useData&&(i=p(t,i));var a=void 0,s=e.useBlockParams?[]:void 0;function l(t){return""+e.main(r,t,r.helpers,r.partials,i,s,a)}return e.useDepths&&(a=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=f(e.main,l,r,n.depths||[],i,s))(t,n)}return o.isTop=!0,o._setup=function(o){if(o.partial)r.protoAccessControl=o.protoAccessControl,r.helpers=o.helpers,r.partials=o.partials,r.decorators=o.decorators,r.hooks=o.hooks;else{var a=i.extend({},t.helpers,o.helpers);!function(e,t){Object.keys(e).forEach((function(n){var r=e[n];e[n]=function(e,t){var n=t.lookupProperty;return c.wrapHelper(e,(function(e){return i.extend({lookupProperty:n},e)}))}(r,t)}))}(a,r),r.helpers=a,e.usePartial&&(r.partials=r.mergeIfNeeded(o.partials,t.partials)),(e.usePartial||e.useDecorators)&&(r.decorators=i.extend({},t.decorators,o.decorators)),r.hooks={},r.protoAccessControl=u.createProtoAccessControl(o);var s=o.allowCallsToHelperMissing||n;l.moveHelperToHooks(r,"helperMissing",s),l.moveHelperToHooks(r,"blockHelperMissing",s)}},o._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new a.default("must pass block params");if(e.useDepths&&!o)throw new a.default("must pass parent depths");return d(r,t,e[t],n,0,i,o)},o},t.wrapProgram=d,t.resolvePartial=function(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e},t.invokePartial=function(e,t,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==h&&function(){n.data=s.createFrame(n.data);var e=n.fn;o=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=s.createFrame(n.data),n.data["partial-block"]=r,e(t,n)},e.partials&&(n.partials=i.extend({},n.partials,e.partials))}(),void 0===e&&o&&(e=o),void 0===e)throw new a.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=h;var r,i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("./node_modules/handlebars/dist/cjs/handlebars/utils.js")),o=n("./node_modules/handlebars/dist/cjs/handlebars/exception.js"),a=(r=o)&&r.__esModule?r:{default:r},s=n("./node_modules/handlebars/dist/cjs/handlebars/base.js"),l=n("./node_modules/handlebars/dist/cjs/handlebars/helpers.js"),c=n("./node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js"),u=n("./node_modules/handlebars/dist/cjs/handlebars/internal/proto-access.js");function d(e,t,n,r,i,o,a){function s(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||t==a[0]||t===e.nullContext&&null===a[0]||(s=[t].concat(a)),n(e,t,e.helpers,e.partials,i.data||r,o&&[i.blockParams].concat(o),s)}return(s=f(n,s,e,a,r,o)).program=t,s.depth=a?a.length:0,s.blockParams=i||0,s}function h(){return""}function p(e,t){return t&&"root"in t||((t=t?s.createFrame(t):{}).root=e),t}function f(e,t,n,r,o,a){if(e.decorator){var s={};t=e.decorator(t,s,n,r&&r[0],o,a,r),i.extend(t,s)}return t}},"./node_modules/handlebars/dist/cjs/handlebars/safe-string.js":function(e,t,n){"use strict";function r(e){this.string=e}t.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},t.default=r,e.exports=t.default},"./node_modules/handlebars/dist/cjs/handlebars/utils.js":function(e,t,n){"use strict";t.__esModule=!0,t.extend=s,t.indexOf=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!==typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return o.test(e)?e.replace(i,a):e},t.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)},t.createFrame=function(e){var t=s({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},i=/[&<>"'`=]/g,o=/[&<>"'`=]/;function a(e){return r[e]}function s(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var l=Object.prototype.toString;t.toString=l;var c=function(e){return"function"===typeof e};c(/x/)&&(t.isFunction=c=function(e){return"function"===typeof e&&"[object Function]"===l.call(e)}),t.isFunction=c;var u=Array.isArray||function(e){return!(!e||"object"!==typeof e)&&"[object Array]"===l.call(e)};t.isArray=u},"./node_modules/handlebars/runtime.js":function(e,t,n){e.exports=n("./node_modules/handlebars/dist/cjs/handlebars.runtime.js").default},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},"./src/css/main.styl":function(e,t,n){},"./src/index.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/factory/calendar.js");n("./src/css/main.styl"),n("./src/js/view/template/helper.js"),t.jQuery&&(t.jQuery.fn.tuiCalendar=function(){var e,n,o=this.get(0),a=Array.prototype.slice.apply(arguments);if(o)if(e=r.pick(a,0)||{},n=t.jQuery.data(o,"tuiCalendar")){if("string"===typeof e&&n[e])return n[e].apply(n,a.slice(1))}else n=new i(o,e),t.jQuery.data(o,"tuiCalendar",n);return this}),e.exports=i}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/common/array.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/datetime.js");function o(e,t){return e!==t?e?-1:1:0}function a(e,t){var n=String(e),r=String(t);return n>r?1:n<r?-1:0}e.exports={bsearch:function(e,t,n,r){var i,o,s=0,l=e.length-1;for(r=r||a;s<=l;)if(i=(s+l)/2|0,(o=r(n?n(e[i]):e[i],t))<0)s=i+1;else{if(!(o>0))return i;l=i-1}return~l},compare:{schedule:{asc:function(e,t){var n,a,s,l,c=e.valueOf(),u=t.valueOf();return(s=o(c.isAllDay||e.hasMultiDates,u.isAllDay||t.hasMultiDates))?s:(l=i.compare(e.getStarts(),t.getStarts()))?l:(n=e.duration())<(a=t.duration())?1:n>a?-1:r.stamp(c)-r.stamp(u)}},bool:{asc:o,desc:function(e,t){return e!==t?e?1:-1:0}},num:{asc:function(e,t){return Number(e)-Number(t)},desc:function(e,t){var n=Number(e);return Number(t)-n}},str:{asc:a,desc:function(e,t){var n=String(e),r=String(t);return n>r?-1:n<r?1:0},ascIgnoreCase:function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n>r?1:n<r?-1:0},descIgnoreCase:function(e,t){var n=String(e).toLowerCase(),r=String(t).toLowerCase();return n>r?-1:n<r?1:0}}}}},"./src/js/common/autoScroll.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/common/domevent.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/point.js");function s(e){this.container=e,this._direction=s.DIRECTION.INSIDE,this._offset=0,this._intervalID=0,i.on(e,{mousedown:this._onMouseDown},this)}s.DIRECTION={INSIDE:0,TOP:1,RIGHT:2,BOTTOM:3,LEFT:4},s.prototype.destroy=function(){i.off(this.container,{mousedown:this._onMouseDown,mousemove:this._onMouseMove,mouseup:this._onMouseUp},this),window.clearInterval(this._intervalID),this._intervalID=this._direction=this.container=null},s.prototype._getEdgePositions=function(e){return{top:e.top,right:e.left+e.width,bottom:e.bottom,left:e.left}},s.prototype.getRealSize=function(e){var t,n,r=o.getComputedStyle(e);return t=parseFloat(r.getPropertyValue("border-top-width"))+parseFloat(r.getPropertyValue("border-bottom-width")),n=parseFloat(r.getPropertyValue("padding-top"))+parseFloat(r.getPropertyValue("padding-bottom")),[e.clientWidth+t+n,e.clientHeight+t+n]},s.prototype.hasScrollbar=function(e){var t=this.getRealSize(e);return[e.offsetWidth>Math.ceil(t[0]),e.offsetHeight>Math.ceil(t[1])]},s.prototype.isOnScrollbar=function(e,t){var n=this.getRealSize(e),r=i.getMousePosition(t,e);return n[0]-2<r[0]||n[1]-2<r[1]},s.prototype._onMouseDown=function(e){0===i.getMouseButton(e)&&(r.browser.msie&&this.isOnScrollbar(this.container,e)||(window.clearInterval(this._intervalID),this._intervalID=window.setInterval(r.bind(this._onTick,this),30),i.on(t,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)))},s.prototype._onMouseMove=function(e){var t=this._getEdgePositions(this.container.getBoundingClientRect()),n=a.n(i.getMousePosition(e));if(n.y>=t.top&&n.y<=t.bottom&&n.x>=t.left&&n.x<=t.right)this._direction=s.DIRECTION.INSIDE;else{if(n.y<t.top)return this._direction=s.DIRECTION.TOP,void(this._offset=t.top-n.y);if(n.y>t.bottom)return this._direction=s.DIRECTION.BOTTOM,void(this._offset=n.y-t.bottom);if(n.x<t.left)return this._direction=s.DIRECTION.LEFT,void(this._offset=t.left-n.x);this._direction=s.DIRECTION.RIGHT,this._offset=n.x-t.right}},s.prototype._onMouseUp=function(){window.clearInterval(this._intervalID),this._intervalID=0,this._direction=s.DIRECTION.INSIDE,this._offset=0,i.off(t,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},s.prototype._onTick=function(){var e,t,n=this._direction;if(n)switch(e=this.container,t=Math.min(this._offset,15),n){case s.DIRECTION.TOP:e.scrollTop-=t;break;case s.DIRECTION.RIGHT:e.scrollLeft+=t;break;case s.DIRECTION.BOTTOM:e.scrollTop+=t;break;default:e.scrollLeft-=t}},e.exports=s}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/common/collection.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=r.forEachOwnProperties,o=r.forEachArray,a=r.isFunction,s=r.isObject,l=Array.prototype.slice;function c(e){this.items={},this.length=0,a(e)&&(this.getItemID=e)}c.and=function(e){var t;return e=l.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},c.or=function(e){var t;return e=l.call(arguments),t=e.length,function(n){for(var r=1,i=e[0].call(null,n);r<t;r+=1)i=i||e[r].call(null,n);return i}},c.merge=function(e){var t=l.call(arguments),n={},i=new c(t[0].getItemID),a=r.extend;return o(t,(function(e){a(n,e.items)})),i.items=n,i.length=r.keys(i.items).length,i},c.prototype.getItemID=function(e){return String(e._id)},c.prototype.add=function(e){var t,n,r=this;arguments.length>1?o(l.call(arguments),(function(e){r.add(e)})):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},c.prototype.remove=function(e){var t,n,i=this,o=[];return this.length?arguments.length>1?o=r.map(l.call(arguments),(function(e){return i.remove(e)})):(t=this.items,s(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):o):o},c.prototype.clear=function(){this.items={},this.length=0},c.prototype.has=function(e){var t,n;return!!this.length&&(t=a(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=s(e)?this.getItemID(e):e,n=r.isExisty(this.items[e])),n)},c.prototype.doWhenHas=function(e,t,n){var i=this.items[e];r.isExisty(i)&&t.call(n||this,i)},c.prototype.find=function(e){var t=new c;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},c.prototype.groupBy=function(e,t){var n,i,o={},s=a(e),l=this.getItemID;if(r.isArray(e)){if(r.forEachArray(e,(function(e){o[String(e)]=new c(l)})),!t)return o;e=t,s=!0}return this.each((function(t){s?i=e(t):(i=t[e],a(i)&&(i=i.apply(t))),(n=o[i])||(n=o[i]=new c(l)),n.add(t)})),o},c.prototype.single=function(e){var t,n=r.isFunction(e);return this.each((function(r){return n&&!e(r)||(t=r,!1)}),this),t},c.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),a(e)&&(t=t.sort(e)),t},c.prototype.each=function(e,t){i(this.items,e,t||this)},c.prototype.toArray=function(){return this.length?r.map(this.items,(function(e){return e})):[]},e.exports=c},"./src/js/common/common.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=Array.prototype.slice,o=n("./src/js/common/domutil.js"),a=n("./src/js/common/collection.js"),s=n("./src/js/common/datetime.js");function l(e){return e.cid()}e.exports={createScheduleCollection:function(e){var t=new a(l);return arguments.length&&t.add.apply(t,arguments),t},ratio:function(e,t,n){return t*n/e},nearest:function(e,t){var n=r.map(t,(function(t){return Math.abs(e-t)}));return t[r.inArray(Math.min.apply(null,n),n)]},pick2:function(e,t){var n=r.pick.apply(null,arguments);return{val:function(){return n},then:function(e){var t;if(n)return t=i.call(arguments,1),r.isString(e)?(r.pick(n,e)||function(){}).apply(n,t):e.call(n,n)}}},mixin:function(e,t){r.extend(t.prototype,e)},limit:function(e,t,n){var r=Math.max.apply(null,[e].concat(t));return r=Math.min.apply(null,[r].concat(n))},limitDate:function(e,t,n){return e<t?t:e>n?n:e},maxDate:function(e,t){return e>t?e:t},stripTags:function(e){return e.replace(/<([^>]+)>/gi,"")},firstIn2dArray:function(e){return r.pick(e,"0","0")},lastIn2dArray:function(e){var t=e.length-1,n=e[t].length-1;return r.pick(e,t,n)},setAutoEllipsis:function(e,t,n){r.forEach(o.find(e,t,!0),(function(e){(n||e.offsetWidth<e.scrollWidth)&&e.setAttribute("title",o.getData(e,"title"))}))},set:function(e,t,n){var i=t.split("."),o=e;r.forEach(i,(function(e,t){o[e]=o[e]||{},t===i.length-1?o[e]=n:o=o[e]}))},shiftArray:function(e,t){var n,r=Math.abs(t);if(t>0)for(n=0;n<r;n+=1)e.push(e.shift());else if(t<0)for(n=0;n<r;n+=1)e.unshift(e.pop());return e},takeArray:function(e,t,n){var r=e.length-n,i=t;return e.splice(n,r),e.splice(0,i),e},shiftHours:function(e,t){return t>0?e=(e+t)%24:t<0&&(e=(e+=t)>0?e:24+e),e},parseUnit:function(e){return[parseFloat(e,10),e.match(/[\d.\-+]*\s*(.*)/)[1]||""]},find:function(e,t,n){var i;return r.forEach(e,(function(e){return t&&(i=t(e)),!i||(i=e,!1)}),n),i},getScheduleChanges:function(e,t,n){var i={},o=["start","end"];return r.forEach(t,(function(t){o.indexOf(t)>-1?s.compare(e[t],n[t])&&(i[t]=n[t]):r.isUndefined(n[t])||e[t]===n[t]||(i[t]=n[t])})),r.isEmpty(i)?null:i}}},"./src/js/common/datetime.js":function(e,t,n){"use strict";(function(t){var r,i,o=n("./src/js/common/timezone.js").Date,a=n("./src/js/common/dw.js"),s=n("tui-code-snippet"),l=/^(\d{4}[-|\/]*\d{2}[-|\/]*\d{2})\s?(\d{2}:\d{2}:\d{2})?$/,c={},u={};i={YYYYMMDD:function(e){return[e.getFullYear(),r.leadingZero(e.getMonth()+1,2),r.leadingZero(e.getDate(),2)].join("")},YYYY:function(e){return String(e.getFullYear())},MM:function(e){return r.leadingZero(e.getMonth()+1,2)},DD:function(e){return r.leadingZero(e.getDate(),2)},"HH:mm":function(e){var t=e.getHours(),n=e.getMinutes();return r.leadingZero(t,2)+":"+r.leadingZero(n,2)},"hh:mm":function(e){var t=e.getHours(),n=e.getMinutes();return t>12&&(t%=12),r.leadingZero(t,2)+":"+r.leadingZero(n,2)},tt:function(e){return e.getHours()<12?"am":"pm"}},r={MILLISECONDS_PER_DAY:864e5,MILLISECONDS_PER_HOUR:36e5,MILLISECONDS_PER_MINUTES:6e4,MILLISECONDS_SCHEDULE_MIN_DURATION:12e5,_convMilliseconds:function(e,n,r){var i={day:0,hour:1,minutes:2,seconds:3};return e in i&&!t.isNaN(n)&&s.reduce([n].concat([24,60,60,1e3].slice(i[e])),r)},millisecondsTo:function(e,t){var n=c,i=e+t;return n[i]||(n[i]=r._convMilliseconds(e,t,(function(e,t){return e/t}))),n[i]},millisecondsFrom:function(e,t){var n=u,i=e+t;return n[i]||(n[i]=r._convMilliseconds(e,t,(function(e,t){return e*t}))),n[i]},minutesFromHours:function(e){return 60*e},range:function(e,t,n){for(var i=e.getTime(),s=t.getTime(),l=i,c=a(new o(e)),u=[];l<=s&&s>=c.d.getTime();)u.push(r.start(c.d)),l+=n,c.addDate(1);return u},clone:function(e){return new o(e)},compare:function(e,t){var n=e.getTime(),r=t.getTime();return n<r?-1:n>r?1:0},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},isSameDate:function(e,t){return r.isSameMonth(e,t)&&e.getDate()===t.getDate()},isValid:function(e){return e instanceof o&&!window.isNaN(e.getTime())},toUTC:function(e){var t=e.getTime(),n=r.millisecondsFrom("minutes",(new Date).getTimezoneOffset());return new o(t+n)},leadingZero:function(e,t){var n="",r=0;if(String(e).length>t)return String(e);for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},parse:function(e,t){var n,r,i,a=e.match(l);return s.isUndefined(t)&&(t=-1),!!a&&(e.length>8?(n=~e.indexOf("/")?"/":"-",r=(a=a.splice(1))[0].split(n),i=a[1]?a[1].split(":"):[0,0,0]):(r=[(a=a[0]).substr(0,4),a.substr(4,2),a.substr(6,2)],i=[0,0,0]),(new o).setWithRaw(Number(r[0]),Number(r[1])+t,Number(r[2]),Number(i[0]),Number(i[1]),Number(i[2]),0))},raw:function(e){return{y:e.getFullYear(),M:e.getMonth(),d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),ms:e.getMilliseconds()}},start:function(e){var t=e?new o(e):new o;return t.setHours(0,0,0,0),t},end:function(e){var t=e?new o(e):new o;return t.setHours(23,59,59,0),t},format:function(e,t){var n=t;return s.forEachOwnProperties(i,(function(t,r){n=n.replace(r,t(e))})),n},startDateOfMonth:function(e){var t=new o(e);return t.setDate(1),t.setHours(0,0,0,0),t},endDateOfMonth:function(e){var t=r.startDateOfMonth(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.setHours(23,59,59),t},arr2dCalendar:function(e,t,n){var i,l,c,u,d,h,p,f,m=[],g=t.startDayOfWeek,v=!!s.isUndefined(t.isAlways6Week)||t.isAlways6Week,_=t.visibleWeeksCount,y=t.workweek;return _?(l=new o(e),(c=a(new o(e))).addDate(7*(_-1)),c=c.d):(l=r.startDateOfMonth(e),c=r.endDateOfMonth(e)),i=s.range(g,7).concat(s.range(7)).slice(0,7),u=s.inArray(l.getDay(),i),h=7-(s.inArray(c.getDay(),i)+1),d=_?7*_:v?42:u+c.getDate()+h,p=r.start(l).addDate(-u),s.forEachArray(s.range(d),(function(e){var t;e%7||(f=m[e/7]=[]),t=r.start(p),t=n?n(t):t,y&&r.isWeekend(t.getDay())||f.push(t),p.setDate(p.getDate()+1)})),m},getGridLeftAndWidth:function(e,t,n,i){var o=100/e,a=e>5?100/(e-1):o,l=0,c=s.range(n,7).concat(s.range(e)).slice(0,7);return i&&(c=s.filter(c,(function(e){return!r.isWeekend(e)}))),t=!i&&t,s.map(c,(function(n){var i,s=t?a:o;return e>5&&t&&r.isWeekend(n)&&(s=a/2),i={day:n,width:s,left:l},l+=s,i}))},isWeekend:function(e){return 0===e||6===e},isBetweenWithDate:function(e,t,n){return e=parseInt(r.format(e,"YYYYMMDD"),10),t=parseInt(r.format(t,"YYYYMMDD"),10),n=parseInt(r.format(n,"YYYYMMDD"),10),t<=e&&e<=n},isStartOfDay:function(e){return!r.compare(r.start(e),e)},convertStartDayToLastDay:function(e){var t=new o(e);return r.isStartOfDay(e)&&(t.setDate(t.getDate()-1),t.setHours(23,59,59)),t},getStartOfNextDay:function(e){var t=r.start(e);return t.setHours(24),t},getDateDifference:function(e,t){var n=new o(e.getFullYear(),e.getMonth(),e.getDate()).getTime(),i=new o(t.getFullYear(),t.getMonth(),t.getDate()).getTime();return Math.round((n-i)/r.MILLISECONDS_PER_DAY)}},e.exports=r}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/common/dirty.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=r.isExisty,o=r.pick,a=r.isFunction,s={set:function(e,t){this[e]!==t&&(this[e]=t,this._changed||(this._changed={}),this._changed[e]=!0,this._dirty=!0)},isDirty:function(){return!!this._dirty},dirty:function(e){(e=!i(e)||e)||(this._changed={}),this._dirty=e},deleteProp:function(e){delete this[e],this._changed&&delete this._changed[e]},isPropChanged:function(e){return!!this._changed&&!0===this._changed[e]},mixin:function(e){var t=/(^_|mixin|wrap)/;r.forEachOwnProperties(s,(function(n,r){t.test(r)||(e[r]=s[r])}))},wrap:function(e,t,n){var l,c=s.wrap;r.isObject(t)?r.forEachOwnProperties(t,(function(t,n){c(e,n,t)})):(n=!i(n)||n,e._wrapper||(e._wrapper=function(e,t){return function(){var n=Array.prototype.slice.call(arguments),r=e.apply(this,n);return this._dirty=t,r}}),i(o(e,t))&&a(e[t])&&!i(o(e,t,"_wrapped"))&&(l=e[t],e[t]=e._wrapper(l,n),e[t]._wrapped=!0))}};e.exports=s},"./src/js/common/domevent.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=r.browser,o={START:["touchstart","mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},a={on:function(e,t,n,i){r.isString(t)?r.forEach(t.split(" "),(function(t){a._on(e,t,n,i)})):r.forEachOwnProperties(t,(function(t,r){a._on(e,r,t,n)}))},_on:function(e,t,n,i){var o,s,l;o=t+r.stamp(n)+(i?"_"+r.stamp(i):""),e._evt&&e._evt[o]||(l=s=function(t){n.call(i||e,t||window.event)},"addEventListener"in e?"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,a._checkMouse(e,t)&&l(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",s,!1)):("mousewheel"===t&&e.addEventListener("DOMMouseScroll",s,!1),e.addEventListener(t,s,!1)):"attachEvent"in e&&e.attachEvent("on"+t,s),e._evt=e._evt||{},e._evt[o]=s)},off:function(e,t,n,i){r.isString(t)?r.forEach(t.split(" "),(function(t){a._off(e,t,n,i)})):r.forEachOwnProperties(t,(function(t,r){a._off(e,r,t,n)}))},_off:function(e,t,n,i){var o=t+r.stamp(n)+(i?"_"+r.stamp(i):""),a=e._evt&&e._evt[o];if(a){if("removeEventListener"in e)"mouseenter"===t||"mouseleave"===t?e.removeEventListener("mouseenter"===t?"mouseover":"mouseout",a,!1):("mousewheel"===t&&e.removeEventListener("DOMMouseScroll",a,!1),e.removeEventListener(t,a,!1));else if("detachEvent"in e)try{e.detachEvent("on"+t,a)}catch(s){}delete e._evt[o],r.keys(e._evt).length||(r.browser.msie&&r.browser.version<9?e._evt=null:delete e._evt)}},once:function(e,t,n,i){var o=this;r.isObject(t)?r.forEachOwnProperties(t,(function(t,r){a.once(e,r,t,n)})):a.on(e,t,(function r(){n.apply(i||e,arguments),o._off(e,t,r,i)}),i)},stopPropagation:function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},stop:function(e){a.preventDefault(e),a.stopPropagation(e)},disableScrollPropagation:function(e){a.on(e,"mousewheel MozMousePixelScroll",a.stopPropagation)},disableClickPropagation:function(e){a.on(e,o.START.join(" ")+" click dblclick",a.stopPropagation)},getMousePosition:function(e,t){var n;return t?(n=t.getBoundingClientRect(),[e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop]):[e.clientX,e.clientY]},getWheelDelta:function(e){var t=0;return e.wheelDelta&&(t=e.wheelDelta/120),e.detail&&(t=-e.detail/3),t},_checkMouse:function(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e},trigger:function(e,t,n){r.isUndefined(n)&&/(mouse|click)/.exec(t)&&(n=a.mouseEvent(t)),e.dispatchEvent?e.dispatchEvent(n):e.fireEvent&&e.fireEvent("on"+t,n)},mouseEvent:function(e,t){var n,o;return o=r.extend({bubbles:!0,cancelable:"mousemove"!==e,view:window,wheelDelta:0,detail:0,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},t),i.msie&&i.version<9&&delete o.wheelDelta,"function"===typeof document.createEvent?(n=document.createEvent("MouseEvents")).initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,document.body.parentNode):document.createEventObject&&(n=document.createEventObject(),r.forEach(o,(function(e,t){n[t]=e}),this),n.button={0:1,1:4,2:2}[n.button]||n.button),n},getMouseButton:function(e){var t;return document.implementation.hasFeature("MouseEvents","2.0")?e.button:(t=String(e.button),"0,1,3,5,7".indexOf(t)>-1?0:"2,6".indexOf(t)>-1?2:~"4".indexOf(t)?1:-1)},getEventTarget:function(e){return e.target||e.srcElement}};e.exports=a},"./src/js/common/domutil.js":function(e,t,n){"use strict";var r,i=n("./src/js/common/domevent.js"),o=n("./src/js/common/collection.js"),a=n("tui-code-snippet"),s=/^auto$|^$|%/,l=(r={appendHTMLElement:function(e,t,n){var r;return n=n||"",(r=document.createElement(e)).className=n,t?t.appendChild(r):document.body.appendChild(r),r},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},get:function(e){return document.getElementById(e)},_matcher:function(e,t){return/^\./.test(t)?r.hasClass(e,t.replace(".","")):/^#/.test(t)?e.id===t.replace("#",""):e.nodeName.toLowerCase()===t.toLowerCase()},find:function(e,t,n){var i=[],o=!1,s=a.isUndefined(n)||!1===n,l=a.isFunction(n);return a.isString(t)&&(t=r.get(t)),function e(t,a){for(var c,u=t.childNodes,d=0,h=u.length;d<h;d+=1)if("#text"!==(c=u[d]).nodeName)if(r._matcher(c,a)){if((l&&n(c)||!l)&&i.push(c),s){o=!0;break}}else if(c.childNodes.length>0&&(e(c,a),o))break}(t=t||window.document.body,e),s?i[0]||null:i},closest:function(e,t,n){var i;if(!e)return null;if(i=e.parentNode,!n&&r._matcher(e,t))return e;for(;i&&i!==window.document.body;){if(r._matcher(i,t))return i;i=i.parentNode}return null},text:function(e){var t="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)t+=r.text(e)}else if(3===i||4===i)return e.nodeValue}else for(;e[n];n+=1)t+=r.text(e[n]);return t},setData:function(e,t,n){"dataset"in e?e.dataset[t]=n:e.setAttribute("data-"+t,n)},getData:function(e,t){return"dataset"in e?e.dataset[t]:e.getAttribute("data-"+t)},hasClass:function(e,t){var n;return a.isUndefined(e.classList)?(n=r.getClass(e)).length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n):e.classList.contains(t)},addClass:function(e,t){var n;a.isUndefined(e.classList)?r.hasClass(e,t)||(n=r.getClass(e),r.setClass(e,(n?n+" ":"")+t)):a.forEachArray(t.split(" "),(function(t){e.classList.add(t)}))},setClass:function(e,t){a.isUndefined(e.className.baseVal)?e.className=t:e.className.baseVal=t},removeClass:function(e,t){var n="";a.isUndefined(e.classList)?(n=(" "+r.getClass(e)+" ").replace(" "+t+" "," "),r.setClass(e,n.replace(/^\s\s*/,"").replace(/\s\s*$/,""))):e.classList.remove(t)},getClass:function(e){return e&&e.className?a.isUndefined(e.className.baseVal)?e.className:e.className.baseVal:""},getStyle:function(e,t){var n,r=e.style[t]||e.currentStyle&&e.currentStyle[t];return r&&"auto"!==r||!document.defaultView||(r=(n=document.defaultView.getComputedStyle(e,null))?n[t]:null),"auto"===r?null:r},getComputedStyle:function(e){var t=document.defaultView;return t&&t.getComputedStyle?document.defaultView.getComputedStyle(e):{getPropertyValue:function(t){var n=/(\-([a-z]){1})/g;return"float"===t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,(function(){return arguments[2].toUpperCase()}))),e.currentStyle[t]?e.currentStyle[t]:null}}},setPosition:function(e,t,n){t=a.isUndefined(t)?0:t,n=a.isUndefined(n)?0:n,e._pos=[t,n],e.style.left=a.isNumber(t)?t+"px":t,e.style.top=a.isNumber(n)?n+"px":n},setLTRB:function(e,t){var n;["left","top","right","bottom"].forEach((function(r){n=a.isUndefined(t[r])?"":t[r],e.style[r]=a.isNumber(n)?n+"px":n}))},getPosition:function(e,t){var n,r,i;return t&&(e._pos=null),e._pos?e._pos:(n=0,r=0,(s.test(e.style.left)||s.test(e.style.top))&&"getBoundingClientRect"in e?(n=(i=e.getBoundingClientRect()).left,r=i.top):(n=parseFloat(e.style.left||0),r=parseFloat(e.style.top||0)),[n,r])},getSize:function(e){var t,n=r.getStyle(e,"width"),i=r.getStyle(e,"height");return(s.test(n)||s.test(i)||a.isNull(n)||a.isNull(i))&&"getBoundingClientRect"in e?(n=(t=e.getBoundingClientRect()).width||e.offsetWidth,i=t.height||e.offsetHeight):(n=parseFloat(n||0),i=parseFloat(i||0)),[n,i]},getBCRect:function(e){var t=e.getBoundingClientRect();return t=a.extend({width:e.offsetWidth,height:e.offsetHeight},t)},testProp:function(e){for(var t=document.documentElement.style,n=0,r=e.length;n<r;n+=1)if(e[n]in t)return e[n];return!1},getFormData:function(e){var t=new o((function(){return this.length})),n=function(e){return!e.disabled},i={};return t.add.apply(t,r.find("input",e,n).concat(r.find("select",e,n)).concat(r.find("textarea",e,n))),t=t.groupBy((function(e){return e&&e.getAttribute("name")||"_other"})),a.forEach(t,(function(e,t){"_other"!==t&&e.each((function(n){var o=n.nodeName.toLowerCase(),s=n.type,l=[];"radio"===s?l=[e.find((function(e){return e.checked})).toArray().pop()]:"checkbox"===s?l=e.find((function(e){return e.checked})).toArray():"select"===o?e.find((function(e){return!!e.childNodes.length})).each((function(e){l=l.concat(r.find("option",e,(function(e){return e.selected})))})):l=e.find((function(e){return""!==e.value})).toArray(),(l=a.map(l,(function(e){return e.value}))).length?1===l.length&&(l=l[0]):l="",i[t]=l}))})),i}}).testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),c="onselectstart"in document,u="";r.disableTextSelection=c?function(e,t){i.on(e,"selectstart",t||i.preventDefault)}:function(e){var t=e.style;u=t[l],t[l]="none"},r.enableTextSelection=c?function(e,t){i.off(window,"selectstart",t||i.preventDefault)}:function(){document.documentElement.style[l]=u},r.disableImageDrag=function(){i.on(window,"dragstart",i.preventDefault)},r.enableImageDrag=function(){i.off(window,"dragstart",i.preventDefault)},e.exports=r},"./src/js/common/dw.js":function(e,t,n){"use strict";var r=n("./src/js/common/timezone.js").Date;function i(e){if(!(this instanceof i))return new i(e);e instanceof r||(e=new r(e)),this.d=e}i.prototype.safe=function(e){return e.constructor===i?e.d:e},i.prototype.clone=function(){return new i(new r(this.d))},i.prototype.addDate=function(e){return this.d.setDate(this.d.getDate()+e),this},i.prototype.addMonth=function(e){var t=this.d.getMonth(),n=this.d.getDate(),r=this._isLeapYear(),i=t+e,o=this.clone(),a=n;return e&&(1===i?a=r?29:28:(e>0?o.d.setMonth(i+1,0):o.d.setMonth(t,0),a=o.d.getDate())),this.d.setMonth(i,Math.min(n,a)),this},i.prototype._isLeapYear=function(){var e=this.d.getFullYear();return e%4===0&&e%100!==0||!(e%400)},i.prototype.setHours=function(e,t,n,r){return this.d.setHours(e,t,n,r),this},i.prototype.isBetween=function(e,t){var n=this.safe;return n(e)<=this.d&&this.d<=n(t)},e.exports=i},"./src/js/common/floatingLayer.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/view/view.js");function s(e,t){var n,r=t[s.PROP_KEY];r||(r=t[s.PROP_KEY]=[]),r.push(this),this.sibling=r,this.zIndex=this.getLargestZIndex()||s.INIT_ZINDEX,(n=document.createElement("div")).style.display="none",n.style.position="absolute",o.addClass(n,i.classname("floating-layer")),t.appendChild(n),a.call(this,n),this.parent=t}r.inherit(s,a),s.PROP_KEY="__fe_floating_layer",s.INIT_ZINDEX=999,s.prototype.destroy=function(){for(var e=this.parent,t=this.sibling,n=0,r=t.length;n<r;n+=1)if(t[n]===this){t.splice(n,1);break}if(!t.length){try{delete e[s.PROP_KEY]}catch(i){e[s.PROP_KEY]=null}e.style.position=""}o.remove(this.container),this.sibling=null,a.prototype.destroy.call(this)},s.prototype.isVisible=function(){return"none"!==this.container.style.display},s.prototype.setPosition=function(e,t){o.setPosition(this.container,e,t)},s.prototype.setLTRB=function(e){o.setLTRB(this.container,e)},s.prototype.setSize=function(e,t){var n=this.container;e=r.isNumber(e)?e+"px":e,t=r.isNumber(t)?t+"px":t,n.style.width=e,n.style.height=t},s.prototype.setContent=function(e){this.container.innerHTML=e},s.prototype.getLargestZIndex=function(){var e=r.map(this.sibling,(function(e){return e.zIndex}));return Math.max.apply(null,e)},s.prototype.focus=function(){var e=this.getLargestZIndex()+1;this.container.style.zIndex=this.zIndex=e},s.prototype.show=function(){this.focus(),this.container.style.display="block"},s.prototype.hide=function(){this.container.style.display="none"},e.exports=s},"./src/js/common/model.js":function(e,t,n){"use strict";var r,i=n("./src/js/common/timezone.js").Date,o=n("tui-code-snippet"),a=/^\s*|\s*$/g,s=n("./src/js/common/datetime.js");r={trim:function(e){return e.replace(a,"")},validators:{required:function(e,t){var n=!0;return o.forEach(t,(function(t){var i;return i=e[t],n=!o.isUndefined(i)&&""!==r.trim(i)})),n},dateRange:function(e,t){var n,r;return!o.isExisty(e)||2!==t.length||(n=new i(e[t[0]]),r=new i(e[t[1]]),!(!s.isValid(n)||!s.isValid(r))&&1!==s.compare(n,r))}},isValid:function(){var e,t=this,n=this.constructor.schema,i=r.validators,a=!0;return!n||(o.forEach(n,(function(n,r){return!(e=i[r])||(a=e(t,n))})),a)},parameterize:function(){var e={},t=o.isFunction;return o.forEach(this,(function(n,r){t(n)||(e[r]=n)})),e},mixin:function(e){o.forEach(r,(function(t,n){"mixin"!==n&&(e[n]=t)}))}},e.exports=r},"./src/js/common/point.js":function(e,t,n){"use strict";var r=n("tui-code-snippet");function i(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}i.getRatio=function(e,t,n){return t===n?e.clone():e.multiplyBy(n)._divideBy(t)},i.n=function(e,t,n){return e instanceof i?e:r.isArray(e)?new i(e[0],e[1],t):new i(e,t,n)},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.add=function(e){return this.clone()._add(i.n(e))},i.prototype._add=function(e){return this.x+=e.x,this.y+=e.y,this},i.prototype.subtract=function(e){return this.clone()._subtract(i.n(e))},i.prototype._subtract=function(e){return this.x-=e.x,this.y-=e.y,this},i.prototype.divideBy=function(e){return this.clone()._divideBy(e)},i.prototype._divideBy=function(e){return this.x/=e,this.y/=e,this},i.prototype.multiplyBy=function(e){return this.clone()._multiplyBy(e)},i.prototype._multiplyBy=function(e){return this.x*=e,this.y*=e,this},i.prototype.round=function(){return this.clone()._round()},i.prototype._round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},i.prototype.reverse=function(){return this.clone()._reverse()},i.prototype._reverse=function(){return this.x*=-1,this.y*=-1,this},i.prototype.floor=function(){return this.clone()._floor()},i.prototype._floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},i.prototype.ceil=function(){return this.clone()._ceil()},i.prototype._ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},i.prototype.rotate=function(e,t,n,r){return this.clone()._rotate(e,t,n,r)},i.prototype._rotate=function(e,t,n,r){var i,o,a=e*(Math.PI/180);return n=n||parseFloat(Math.cos(a).toFixed(8)),r=r||parseFloat(Math.sin(a).toFixed(8)),this._subtract(t),i=this.x,o=this.y,this.x=i*n-o*r,this.y=i*r+o*n,this._add(t),this},i.prototype.distanceTo=function(e){var t,n;return t=(e=i.n(e)).x-this.x,n=e.y-this.y,Math.sqrt(t*t+n*n)},i.prototype.equals=function(e){return(e=i.n(e)).x===this.x&&e.y===this.y},i.prototype.toString=function(){return"Point("+this.x+", "+this.y+")"},i.prototype.toArray=function(){return[this.x,this.y]},e.exports=i},"./src/js/common/reqAnimFrame.js":function(e,t,n){"use strict";(function(t){var r,i,o=n("tui-code-snippet");function a(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}r=t.requestAnimationFrame||a("RequestAnimationFrame")||function(e,t){e.call(t)},i=t.cancelAnimationFrame||a("CancelAnimationFrame")||a("CancelRequestAnimationFrame")||function(){},e.exports={requestAnimFrame:function(e,n){return r.call(t,o.bind(e,n))},cancelAnimFrame:function(e){e&&i.call(t,e)}}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/common/timezone.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=l(),o=i,a=null,s=!1;function l(e){return e=e||Date.now(),6e4*new Date(e).getTimezoneOffset()}function c(e){return!s&&a?6e4*a(e):o}function u(e){var t=Date.UTC.apply(null,e);return new Date(t+l(t))}function d(e){var t;if(e instanceof f)t=e.getUTCTime();else if("number"===typeof e)t=e;else{if(null!==e)throw new Error("Invalid Type");t=0}return new Date(t)}function h(e){var t;if(e instanceof Date)t=e.getTime();else{if("string"!==typeof e)throw new Error("Invalid Type");t=Date.parse(e)}return t=function(e){var t=l(e),n=c(e);return e-n+t+(n?0:i-t)}(t),new Date(t)}function p(e){return e instanceof Date||"string"===typeof e}function f(e){var t;r.isUndefined(e)&&(e=Date.now()),t=arguments.length>1?u(arguments):p(e)?h(e):d(e),this._date=t}f.prototype.getTime=function(){var e=this._date.getTime();return e+c(e)-l(e)},f.prototype.getUTCTime=function(){return this._date.getTime()},f.prototype.toUTCString=function(){return this._date.toUTCString()},f.prototype.toDate=function(){return this._date},f.prototype.valueOf=function(){return this.getTime()},f.prototype.addDate=function(e){return this.setDate(this.getDate()+e),this},f.prototype.addMinutes=function(e){return this.setMinutes(this.getMinutes()+e),this},f.prototype.addMilliseconds=function(e){return this.setMilliseconds(this.getMilliseconds()+e),this},f.prototype.setWithRaw=function(e,t,n,r,i,o,a){return this.setFullYear(e,t,n),this.setHours(r,i,o,a),this},f.prototype.toLocalTime=function(){var e=this.getTime(),t=this.getUTCTime();return new f(t-(e-t))},["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds"].forEach((function(e){f.prototype[e]=function(){return this._date[e].apply(this._date,arguments)}})),["setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds"].forEach((function(e){f.prototype[e]=function(){return this._date[e].apply(this._date,arguments),this.getTime()}})),e.exports={Date:f,setOffset:function(e){o=6e4*e},setOffsetByTimezoneOption:function(e){this.setOffset(-e),s=!0},getOffset:function(){return s?o/6e4:0},setOffsetCallback:function(e){a=e},restoreOffset:function(){o=l()}}},"./src/js/common/vlayout.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/domevent.js"),l=n("./src/js/view/view.js"),c=n("./src/js/common/vpanel.js"),u=n("./src/js/handler/drag.js"),d=Math.abs;function h(e,t,n){var o,s;if(!(this instanceof h))return new h(e,t);l.call(this,t),a.addClass(t,i.classname("vlayout-container")),o=this.options=r.extend({panels:[],panelHeights:[]},e),this.panels=[],this._drag=new u({distance:10,exclude:function(e){return!a.hasClass(e,i.classname("splitter"))}},t),this._drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd},this),this._dragData=null,this.theme=n,o.panels.length&&(o.panelHeights.length&&(s=o.panelHeights.slice(),r.forEach(o.panels,(function(e){e.isSplitter||e.autoHeight||(e.height=s.shift())}))),this.addPanels(o.panels,this.container)),this.refresh()}r.inherit(h,l),h.prototype.getLayoutData=function(){var e=[];return r.forEach(this.panels,(function(t){t.isSplitter()||t.options.autoHeight||e.push(t.getHeight())})),e},h.prototype.setLayoutData=function(e){e.length&&(r.forEach(this.panels,(function(t){t.isSplitter()||t.options.autoHeight||t.setHeight(null,e.shift())})),this.refresh())},h.prototype.nextPanel=function(e){return this.panels[e.index+1]},h.prototype.prevPanel=function(e){return this.panels[e.index-1]},h.prototype._initializeGuideElement=function(e,t){var n=e.cloneNode(!0);return a.addClass(n,i.classname("splitter-guide")),this._refreshGuideElement(n,t),this.container.appendChild(n),n},h.prototype._refreshGuideElement=function(e,t){e.style.top=t+"px"},h.prototype._clearGuideElement=function(e){a.remove(e)},h.prototype._resize=function(e,t,n){var i,o,a=d(t-n),s=[],l=n>t,c=l?"nextPanel":"prevPanel";for(o=(i=this[l?"prevPanel":"nextPanel"](e)).getResizeInfoByGrowth(a),s.push([i,o[0]]),i=this[c](i);r.isExisty(i);i=this[c](i))i.isSplitter()||(o=i.getResizeInfoByGrowth(-a),s.push([i,o[0]]),a-=o[1]);r.forEach(s,(function(e){e[0].setHeight(null,e[1],!0),e[0].fire("resize")}))},h.prototype._getMouseYAdditionalLimit=function(e){var t,n=0,i=0,o=function(e){return e.isSplitter()?e.getHeight():e.options.minHeight};for(t=this.prevPanel(e);r.isExisty(t);t=this.prevPanel(t))n+=o(t);for(t=this.nextPanel(e);r.isExisty(t);t=this.nextPanel(t))i+=o(t);return[n,i]},h.prototype._onDragStart=function(e){var t=e.originEvent,n=e.target,o=a.getData(n,"panelIndex"),l=this.panels[o],c=l.getHeight(),u=s.getMousePosition(t,n)[1],d=s.getMousePosition(t,this.container)[1],h=this._initializeGuideElement(n,d);l.addClass(i.classname("splitter-focused")),this._dragData={splPanel:l,splOffsetY:u,guideElement:h,startY:d-u,minY:0,maxY:this.getViewBound().height-c},r.browser.msie||a.addClass(document.body,i.classname("resizing"))},h.prototype._onDrag=function(e){var t=this._dragData,n=s.getMousePosition(e.originEvent,this.container)[1];n=o.limit(n-t.splOffsetY,[t.minY],[t.maxY]),this._refreshGuideElement(t.guideElement,n)},h.prototype._onDragEnd=function(e){var t=this._dragData,n=this._getMouseYAdditionalLimit(t.splPanel),r=s.getMousePosition(e.originEvent,this.container)[1];r=o.limit(r-t.splOffsetY,[t.minY+n[0]],[t.maxY-n[1]]),this._resize(t.splPanel,t.startY,r),this.fire("resize",{layoutData:this.getLayoutData()}),this._dragData=null,this._clearGuideElement(t.guideElement),t.splPanel.removeClass(i.classname("splitter-focused")),a.removeClass(document.body,i.classname("resizing"))},h.prototype.refresh=function(){var e,t=[],n=this.getViewBound().height,i=0;n&&(r.forEach(this.panels,(function(e){e.options.autoHeight?t.push(e):i+=e.getHeight()})),e=(n-i)/t.length,r.forEach(t,(function(t){t.setHeight(null,e)})))},h.prototype.addPanel=function(e,t){var n=document.createElement("div"),i=this.panels,o=i.length;e=r.extend({index:o},e),i.push(new c(e,n,this.theme)),t.appendChild(n)},h.prototype.addPanels=function(e,t){var n=this,i=document.createDocumentFragment();r.forEach(e,(function(e){n.addPanel(e,i)})),t.appendChild(i)},h.prototype.getPanelByName=function(e){var t;return r.forEach(this.panels,(function(n){n.name===e&&(t=n)})),t},e.exports=h},"./src/js/common/vpanel.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/view/view.js");function l(e,t,n){s.call(this,t),this.options=r.extend({index:0,name:"0",minHeight:0,maxHeight:null,height:null,isSplitter:!1,autoHeight:!1,className:""},e),this.index=this.options.index,this.name=this.options.name||String(this.index),this.isHeightForcedSet=!1,this.theme=n,this._initPanel(this.options,t)}r.inherit(l,s),l.prototype.isSplitter=function(){return this.options.isSplitter},l.prototype.setMaxHeight=function(e){this.options.autoHeight||(this.options.maxHeight=e)},l.prototype.setHeightForcedSet=function(e){this.isHeightForcedSet=e},l.prototype.getHeightForcedSet=function(){return this.isHeightForcedSet},l.prototype.setHeight=function(e,t,n){var r=this.options.maxHeight,i=this.options.minHeight,o=this.options.autoHeight;e=e||this.container,(n||!this.isHeightForcedSet||o)&&(n?this.isHeightForcedSet=!0:r&&(t=Math.min(t,r)),t=Math.max(i,t),e.style.height=t+"px")},l.prototype.getResizeInfoByGrowth=function(e){var t=this.getHeight(),n=t+e,r=Math.max(0,n,this.options.minHeight);return[r,t-r]},l.prototype.getHeight=function(){return a.getSize(this.container)[1]},l.prototype.addClass=function(e){a.addClass(this.container,e)},l.prototype.removeClass=function(e){a.removeClass(this.container,e)},l.prototype._initPanel=function(e,t){var n;if(a.setData(t,"panelIndex",e.index),e.isSplitter)return a.addClass(t,i.classname("splitter")),void this.applyTheme();e.className&&a.addClass(t,e.className),e.autoHeight?a.setData(t,"autoHeight",!0):(n=o.limit(e.height||0,[e.minHeight],[e.maxHeight||e.height]),e.height=n,this.setHeight(t,n))},l.prototype.applyTheme=function(){var e=this.container.style,t=this.theme;t&&(e.borderTop=t.week.vpanelSplitter.border||t.common.border,e.borderBottom=t.week.vpanelSplitter.border||t.common.border,e.height=t.week.vpanelSplitter.height)},e.exports=l},"./src/js/config.js":function(e,t,n){"use strict";var r="tui-full-calendar-",i=new RegExp("^"+r+"weekday[\\s]tui-view-(\\d+)"),o=new RegExp("^"+r+"schedule(-title)?$"),a={throwError:function(e){throw new Error(e)},cssPrefix:r,classname:function(e){return"."===(e=e||"").charAt(0)?"."+a.cssPrefix+e.slice(1):a.cssPrefix+e},allday:{getViewIDRegExp:i,checkCondRegExp:o},daygrid:{getViewIDRegExp:i,checkCondRegExp:o},time:{getViewIDRegExp:new RegExp("^"+r+"time-date[\\s]tui-view-(\\d+)")}};e.exports=a},"./src/js/controller/base.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/model/schedule.js"),o=n("./src/js/model/viewModel/scheduleViewModel.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/common.js"),l=n("./src/js/theme/theme.js");function c(e){e=e||{},this.groupFunc=e.groupFunc||function(e){var t=e.model;return e.model.isAllDay||"time"===t.category&&t.end-t.start>a.MILLISECONDS_PER_DAY?"allday":t.category},this.schedules=s.createScheduleCollection(),this.dateMatrix={},this.theme=new l(e.theme),this.calendars=[]}c.prototype._getContainDatesInSchedule=function(e){var t=e.getStarts(),n=e.getEnds(),r=a.start(t),i=0===a.compare(t,n)?n:a.convertStartDayToLastDay(n),o=a.end(i);return a.range(r,o,a.MILLISECONDS_PER_DAY)},c.prototype.createSchedule=function(e,t){var n,r={data:e};return this.invoke("beforeCreateSchedule",r)?(n=this.addSchedule(i.create(e)),t||this.fire("createdSchedule",n),n):null},c.prototype.createSchedules=function(e,t){var n=this;return r.map(e,(function(e){return n.createSchedule(e,t)}))},c.prototype.updateSchedule=function(e,t){var n=t.start||e.start,i=t.end||e.end;return["milestone","task","allday","time"].indexOf((t=t||{}).category)>-1&&e.set("category",t.category),"allday"===t.category&&(t.isAllDay=!0),r.isUndefined(t.isAllDay)||e.set("isAllDay",t.isAllDay),r.isUndefined(t.calendarId)||e.set("calendarId",t.calendarId),t.title&&e.set("title",t.title),t.body&&e.set("body",t.body),(t.start||t.end)&&(e.isAllDay?e.setAllDayPeriod(n,i):e.setTimePeriod(n,i)),t.color&&e.set("color",t.color),t.bgColor&&e.set("bgColor",t.bgColor),t.borderColor&&e.set("borderColor",t.borderColor),t.origin&&e.set("origin",t.origin),r.isUndefined(t.isPending)||e.set("isPending",t.isPending),r.isUndefined(t.isFocused)||e.set("isFocused",t.isFocused),t.location&&e.set("location",t.location),t.state&&e.set("state",t.state),t.raw&&e.set("raw",t.raw),this._removeFromMatrix(e),this._addToMatrix(e),this.fire("updateSchedule"),e},c.prototype.deleteSchedule=function(e){return this._removeFromMatrix(e),this.schedules.remove(e),e},c.prototype._addToMatrix=function(e){var t=this.dateMatrix,n=this._getContainDatesInSchedule(e);r.forEach(n,(function(n){var i=a.format(n,"YYYYMMDD");(t[i]=t[i]||[]).push(r.stamp(e))}))},c.prototype._removeFromMatrix=function(e){var t=r.stamp(e);r.forEach(this.dateMatrix,(function(e){var n=r.inArray(t,e);~n&&e.splice(n,1)}),this)},c.prototype.addSchedule=function(e,t){return this.schedules.add(e),this._addToMatrix(e),t||this.fire("addedSchedule",e),e},c.prototype.splitScheduleByDateRange=function(e,t,n){var i=a.range(a.start(e),a.end(t),a.MILLISECONDS_PER_DAY),o=this.dateMatrix,l={};return r.forEachArray(i,(function(e){var t,i=a.format(e,"YYYYMMDD"),c=o[i];t=l[i]=s.createScheduleCollection(),c&&c.length&&r.forEachArray(c,(function(e){n.doWhenHas(e,(function(e){t.add(e)}))}))})),l},c.prototype.findByDateRange=function(e,t){var n,i,l,c=a.range(a.start(e),a.end(t),a.MILLISECONDS_PER_DAY),u=this.schedules.items,d=this.dateMatrix,h=a.format,p={};return r.forEachArray(c,(function(e){i=h(e,"YYYYMMDD"),n=d[i],l=p[i]=s.createScheduleCollection(),n&&n.length&&l.add.apply(l,r.map(n,(function(e){return o.create(u[e])})))})),p},c.prototype.clearSchedules=function(){this.dateMatrix={},this.schedules.clear(),this.fire("clearSchedules")},c.prototype.setTheme=function(e){return this.theme.setStyles(e)},c.prototype.setCalendars=function(e){this.calendars=e},r.CustomEvents.mixin(c),e.exports=c},"./src/js/controller/viewMixin/core.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=r.forEachArray,o=Array.prototype.slice,a=n("./src/js/common/datetime.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/common/collection.js"),c=n("./src/js/model/viewModel/scheduleViewModel.js"),u={getCollisionGroup:function(e){var t,n=[],a=!1;return e.length?(n[0]=[r.stamp(e[0].valueOf())],i(e.slice(1),(function(s,l){a=!1,t=o.apply(e,[0,l+1]).reverse(),i(t,(function(e){return!s.collidesWith(e)||(a=!0,i(n.slice(0).reverse(),(function(t){return!~r.inArray(r.stamp(e.valueOf()),t)||(t.push(r.stamp(s.valueOf())),!1)})),!1)})),a||n.push([r.stamp(s.valueOf())])})),n):n},getLastRowInColumn:function(e,t){for(var n=e.length;n>0;)if(n-=1,!r.isUndefined(e[n][t]))return n;return!1},getMatrices:function(e,t){var n=[],o=u.getLastRowInColumn;return i(t,(function(t){var a=[[]];i(t,(function(t){for(var n,i,s=e.items[t],l=0,c=!1;!c;)!1===(i=o(a,l))?(a[0].push(s),c=!0):s.collidesWith(a[i][l])||(n=i+1,r.isUndefined(a[n])&&(a[n]=[]),a[n][l]=s,c=!0),l+=1})),n.push(a)})),n},getScheduleInDateRangeFilter:function(e,t){return function(n){var r=n.getStarts();return!(n.getEnds()<e||r>t)}},positionViewModels:function(e,t,n,o){var s;s=r.map(a.range(e,t,a.MILLISECONDS_PER_DAY),(function(e){return a.format(e,"YYYYMMDD")})),i(n,(function(e){i(e,(function(e){i(e,(function(e,t){var n,i;e&&(n=a.format(e.getStarts(),"YYYYMMDD"),i=a.range(a.start(e.getStarts()),a.end(e.getEnds()),a.MILLISECONDS_PER_DAY).length,e.top=t,e.left=r.inArray(n,s),e.width=i,o&&o(e))}))}))}))},limitRenderRange:function(e,t,n){function r(n){return n.getStarts()<e&&(n.exceedLeft=!0,n.renderStarts=new s(e)),n.getEnds()>t&&(n.exceedRight=!0,n.renderEnds=new s(t)),n}return n.constructor===l?(n.each(r),null):r(n)},convertToViewModel:function(e){var t;return t=new l((function(e){return e.cid()})),e.each((function(e){t.add(c.create(e))})),t}};e.exports=u},"./src/js/controller/viewMixin/month.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/array.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/collection.js"),s=Math.max,l={_onlyTimeFilter:function(e){return!e.model.isAllDay&&!e.hasMultiDates},_onlyAlldayFilter:function(e){return e.model.isAllDay||e.hasMultiDates},_weightTopValue:function(e){e.top=e.top||0,e.top+=1},_adjustRenderRange:function(e,t,n){var r=this.Core;n.each((function(n){(n.model.isAllDay||n.hasMultiDates)&&r.limitRenderRange(e,t,n)}))},_getAlldayMaxTopIndexAtYMD:function(e,t){var n=this.dateMatrix,i=[];return r.forEach(n[e],(function(e){t.doWhenHas(e,(function(e){i.push(e.top)}))})),i.length>0?s.apply(null,i):0},_adjustTimeTopIndex:function(e){var t=this.Month,n=t._getAlldayMaxTopIndexAtYMD,a=e.find(t._onlyAlldayFilter),s=e.find(t._onlyTimeFilter).sort(i.compare.schedule.asc),l={};s.forEach((function(e){var t=o.format(e.getStarts(),"YYYYMMDD"),i=l[t];r.isUndefined(i)&&(i=l[t]=n(t,a)),l[t]=e.top=i+1}))},_stackTimeFromTop:function(e){var t=this.Month,n=e.find(t._onlyAlldayFilter),a=e.find(t._onlyTimeFilter).sort(i.compare.schedule.asc),l={},c=this.dateMatrix;a.forEach((function(e){var t,i,a=o.format(e.getStarts(),"YYYYMMDD"),u=l[a];if(r.isUndefined(u)&&(u=l[a]=[],r.forEach(c[a],(function(e){n.doWhenHas(e,(function(e){u.push(e.top)}))}))),r.inArray(e.top,u)>=0)for(t=s.apply(null,u)+1,i=1;i<=t&&(e.top=i,!(r.inArray(e.top,u)<0));i+=1);u.push(e.top)}))},_addMultiDatesInfo:function(e){e.each((function(e){var t=e.model,n=t.getStarts(),r=t.getEnds();e.hasMultiDates=!o.isSameDate(n,r),!t.isAllDay&&e.hasMultiDates&&(e.renderStarts=o.start(n),e.renderEnds=o.convertStartDayToLastDay(r))}))},findByDateRange:function(e,t,n,r){var o,s,l,c,u,d=this.Core,h=this.Month,p=d.getScheduleInDateRangeFilter(e,t);return r=r||!1,n=n||[],p=a.and.apply(null,[p].concat(n)),o=this.schedules.find(p),s=d.convertToViewModel(o),h._addMultiDatesInfo(s),h._adjustRenderRange(e,t,s),l=s.sort(i.compare.schedule.asc),c=d.getCollisionGroup(l),u=d.getMatrices(s,c),d.positionViewModels(e,t,u,h._weightTopValue),r?h._adjustTimeTopIndex(s):h._stackTimeFromTop(s),u}};e.exports=l},"./src/js/controller/viewMixin/week.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/collection.js"),o=n("./src/js/common/array.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/timezone.js").Date,l=a.MILLISECONDS_SCHEDULE_MIN_DURATION,c={generateTimeArrayInRow:function(e){var t,n,i,o,s,c=[],u=[],d=Math.max.apply(null,r.map(e,(function(e){return e.length})));for(n=1;n<d;n+=1){for(t=0,i=r.pick(e,t,n);i;)o=i.getStarts().getTime()-a.millisecondsFrom("minutes",i.valueOf().goingDuration),s=i.getEnds().getTime()+a.millisecondsFrom("minutes",i.valueOf().comingDuration),Math.abs(s-o)<l&&(s+=l),u.push([o,s]),t+=1,i=r.pick(e,t,n);c.push(u),u=[]}return c},hasCollide:function(e,t,n){var r,i,a,s,l,c=function(e){return function(t){return t[e]}},u=Math.abs,d=o.compare.num.asc;return!!e.length&&(r=u(o.bsearch(e,t,c(0),d)),i=u(o.bsearch(e,t,c(1),d)),a=u(o.bsearch(e,n,c(0),d)),s=u(o.bsearch(e,n,c(1),d)),l=!(r===i&&i===a&&a===s),l)},getCollides:function(e){r.forEachArray(e,(function(e){var t,n;t=c.generateTimeArrayInRow(e),n=Math.max.apply(null,r.map(e,(function(e){return e.length}))),r.forEachArray(e,(function(e){r.forEachArray(e,(function(e,r){var i,o,s;if(e)for(i=e.getStarts().getTime(),o=e.getEnds().getTime(),Math.abs(o-i)<l&&(o+=l),i-=a.millisecondsFrom("minutes",e.valueOf().goingDuration),o+=a.millisecondsFrom("minutes",e.valueOf().comingDuration),o-=1,s=r+1;s<n;s+=1){if(c.hasCollide(t[s-1],i,o)){e.hasCollide=!0;break}e.extraSpace+=1}}))}))}))},getViewModelForTimeView:function(e,t,n,i,o){var a=this,s=this.splitScheduleByDateRange(e,t,n),l={},u=c._makeGetViewModelFuncForTimeView(i,o);return r.forEach(s,(function(e,t){var n,r,i=u(e);n=a.Core.getCollisionGroup(i),r=a.Core.getMatrices(e,n),a.Week.getCollides(r),l[t]=r})),l},_makeGetViewModelFuncForTimeView:function(e,t){return 0===e&&24===t?function(e){return e.sort(o.compare.schedule.asc)}:function(n){return n.find(c._makeHourRangeFilter(e,t)).sort(o.compare.schedule.asc)}},_makeHourRangeFilter:function(e,t){return function(n){var r=n.model.start,i=n.model.end,o=r.getFullYear(),a=r.getMonth(),l=r.getDate(),c=new s(o,a,l).setHours(e),u=new s(o,a,l).setHours(t);return r>=c&&r<u||i>c&&i<=u||r<c&&i>c||i>u&&r<u}},_addMultiDatesInfo:function(e){e.each((function(e){var t=e.model;e.hasMultiDates=!0,e.renderStarts=a.start(t.getStarts()),e.renderEnds=a.convertStartDayToLastDay(t.getEnds())}))},getViewModelForAlldayView:function(e,t,n){var r,i,a,s=this.Core,l=this.Week;return n&&n.length?(l._addMultiDatesInfo(n),s.limitRenderRange(e,t,n),r=n.sort(o.compare.schedule.asc),i=s.getCollisionGroup(r),a=s.getMatrices(n,i),s.positionViewModels(e,t,a),a):[]},findByDateRange:function(e,t,n,o,a){var s,l,c=this.Core,u=this.Week,d=c.getScheduleInDateRangeFilter(e,t),h=r.pluck(n,"name"),p=r.pick(a,"hourStart"),f=r.pick(a,"hourEnd");return o=o||[],d=i.and.apply(null,[d].concat(o)),s=this.schedules.find(d),s=c.convertToViewModel(s),l=s.groupBy(h,this.groupFunc),r.forEach(n,(function(n){var r=n.name;"daygrid"===n.type?l[r]=u.getViewModelForAlldayView(e,t,l[r]):"timegrid"===n.type&&(l[r]=u.getViewModelForTimeView(e,t,l[r],p,f))})),l},getExceedDate:function(e,t,n){var i={};return r.forEach(n,(function(e){var t=a.format(e,"YYYYMMDD");i[t]=0})),r.forEach(t,(function(t){r.forEach(t,(function(t){r.forEach(t,(function(t){var n;!t||t.top<e||(n=a.range(t.getStarts(),t.getEnds(),a.MILLISECONDS_PER_DAY),r.forEach(n,(function(e){var t=a.format(e,"YYYYMMDD");i[t]+=1})))}))}))})),i},excludeExceedSchedules:function(e,t){return e.map((function(e){return e.map((function(e){return e.length>t?e.filter((function(e){return e.top<t}),this):e}),this)}),this)}};e.exports=c},"./src/js/factory/calendar.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./node_modules/handlebars-template-loader/runtime/index.js"),o=n("./src/js/common/dw.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/view/layout.js"),l=n("./src/js/handler/drag.js"),c=n("./src/js/factory/controller.js"),u=n("./src/js/factory/weekView.js"),d=n("./src/js/factory/monthView.js"),h=n("./src/js/common/timezone.js").Date,p=n("./src/js/config.js"),f=n("./src/js/common/timezone.js"),m=n("./src/js/common/reqAnimFrame.js"),g=Math.min;function v(e,t){!0===(t=r.extend({usageStatistics:!0},t)).usageStatistics&&r.sendHostname&&r.sendHostname("calendar","UA-129951699-1"),r.isString(e)&&(e=document.querySelector(e)),this._calendarColor={},this._renderDate=a.start(),this._renderRange={start:null,end:null},this._controller=function(e){return c(e)}(t),this._controller.setCalendars(t.calendars),this._layout=new s(e,this._controller.theme),this._dragHandler=new l({distance:10},this._layout.container),this._viewName=t.defaultView||"week",this._refreshMethod=null,this._scrollToNowMethod=null,this._requestScrollToNow=!1,this._openCreationPopup=null,this._hideMoreView=null,this._requestRender=0,this._options={},this._initialize(t)}function _(e,t){e.recursive((function(e){var n=e.options;n&&t(e,n)}))}v.prototype.destroy=function(){this._dragHandler.destroy(),this._controller.off(),this._layout.clear(),this._layout.destroy(),r.forEach(this._options.template,(function(e,t){e&&i.unregisterHelper(t+"-tmpl")})),this._options=this._renderDate=this._controller=this._layout=this._dragHandler=this._viewName=this._refreshMethod=this._scrollToNowMethod=null},v.prototype._initialize=function(e){var t=this._controller,n=this._viewName;this._options=r.extend({defaultView:n,taskView:!0,scheduleView:!0,template:r.extend({allday:null,time:null},r.pick(e,"template")||{}),week:r.extend({},r.pick(e,"week")||{}),month:r.extend({},r.pick(e,"month")||{}),calendars:[],useCreationPopup:!1,useDetailPopup:!1,timezones:e.timezones||[],disableDblClick:!1,disableClick:!1,isReadOnly:!1},e),this._options.week=r.extend({startDayOfWeek:0,workweek:!1},r.pick(this._options,"week")||{}),this._options.month=r.extend({startDayOfWeek:0,workweek:!1,scheduleFilter:function(e){return Boolean(e.isVisible)&&("allday"===e.category||"time"===e.category)}},r.pick(e,"month")||{}),this._options.isReadOnly&&(this._options.useCreationPopup=!1),this._layout.controller=t,this._setAdditionalInternalOptions(e),this.changeView(n,!0)},v.prototype._setAdditionalInternalOptions=function(e){var t=e.timezones||[];r.forEach(e.template,(function(e,t){e&&i.registerHelper(t+"-tmpl",e)})),r.forEach(e.calendars||[],(function(e){this.setCalendarColor(e.id,e,!0)}),this),t.length&&f.setOffsetByTimezoneOption(t[0].timezoneOffset)},v.prototype.createSchedules=function(e,t){r.forEach(e,(function(e){this._setScheduleColor(e.calendarId,e)}),this),this._controller.createSchedules(e,t),t||this.render()},v.prototype.getSchedule=function(e,t){return this._controller.schedules.single((function(n){return n.id===e&&n.calendarId===t}))},v.prototype.updateSchedule=function(e,t,n,r){var i=this._controller,o=i.schedules.single((function(n){return n.id===e&&n.calendarId===t}));n&&o&&(n=this._hasChangedCalendar(o,n)?this._setScheduleColor(n.calendarId,n):n,i.updateSchedule(o,n),r||this.render())},v.prototype._hasChangedCalendar=function(e,t){return e&&t.calendarId&&e.calendarId!==t.calendarId},v.prototype._setScheduleColor=function(e,t){var n=this._calendarColor[e];return n&&(t.color=t.color||n.color,t.bgColor=t.bgColor||n.bgColor,t.borderColor=t.borderColor||n.borderColor,t.dragBgColor=t.dragBgColor||n.dragBgColor),t},v.prototype.deleteSchedule=function(e,t,n){var r=this._controller,i=r.schedules.single((function(n){return n.id===e&&n.calendarId===t}));i&&(r.deleteSchedule(i),n||this.render())},v.prototype._getWeekDayRange=function(e,t,n){var i,o,s,l;return t=t||0,i=(e=r.isDate(e)?e:new h(e)).getDay(),o=new h(e).addDate(-i+t),s=new h(o).addDate(6),i<t&&(o=new h(o).addDate(-7),s=new h(s).addDate(-7)),n&&(l=a.range(a.start(o),a.end(s),a.MILLISECONDS_PER_DAY),o=(l=r.filter(l,(function(e){return!a.isWeekend(e.getDay())})))[0],s=l[l.length-1]),[o=a.start(o),s=a.start(s)]},v.prototype.toggleSchedules=function(e,t,n){var i=this._controller.schedules;n=!r.isExisty(n)||n,e=r.isArray(e)?e:[e],i.each((function(n){~r.inArray(n.calendarId,e)&&n.set("isVisible",!t)})),n&&this.render()},v.prototype.render=function(e){this._requestRender&&m.cancelAnimFrame(this._requestRender),e?this._renderFunc():this._requestRender=m.requestAnimFrame(this._renderFunc,this)},v.prototype._renderFunc=function(){this._refreshMethod&&this._refreshMethod(),this._layout&&this._layout.render(),this._scrollToNowMethod&&this._requestScrollToNow&&this._scrollToNowMethod(),this._requestScrollToNow=!1,this._requestRender=null},v.prototype.clear=function(e){this._controller.clearSchedules(),this.render(e)},v.prototype.scrollToNow=function(){this._scrollToNowMethod&&(this._requestScrollToNow=!0)},v.prototype.today=function(){this._renderDate=a.start(),this._setViewName(this._viewName),this.move(),this.render()},v.prototype.move=function(e){var t,n,i,s,l,c,u,d,p=o(a.start(this._renderDate)),f=this._viewName,m=this._getCurrentView(),v=_;e=r.isExisty(e)?e:0,"month"===f?(s=r.pick(this._options,"month","startDayOfWeek")||0,l=g(r.pick(this._options,"month","visibleWeeksCount")||0,6),c=r.pick(this._options,"month","workweek")||!1,u=r.pick(this._options,"month","isAlways6Week"),l?(d={startDayOfWeek:s,isAlways6Week:!1,visibleWeeksCount:l,workweek:c},p.addDate(7*e*d.visibleWeeksCount),i=a.arr2dCalendar(p.d,d),v(m,(function(e,t){t.renderMonth=new h(p.d)}))):(d={startDayOfWeek:s,isAlways6Week:u,workweek:c},p.addMonth(e),i=a.arr2dCalendar(p.d,d),v(m,(function(e,t){t.renderMonth=new h(p.d)}))),t=i[0][0],n=i[i.length-1][i[i.length-1].length-1]):"week"===f?(p.addDate(7*e),s=r.pick(this._options,"week","startDayOfWeek")||0,c=r.pick(this._options,"week","workweek")||!1,i=this._getWeekDayRange(p.d,s,c),t=i[0],n=i[1],v(m,(function(e,r){r.renderStartDate=new h(t),r.renderEndDate=new h(n),e.setState({collapsed:!0})}))):"day"===f&&(p.addDate(e),t=a.start(p.d),n=a.end(p.d),v(m,(function(e,r){r.renderStartDate=new h(t),r.renderEndDate=new h(n),e.setState({collapsed:!0})}))),this._renderDate=p.d,this._renderRange={start:t,end:n}},v.prototype.setDate=function(e){r.isString(e)&&(e=a.parse(e)),this._renderDate=new h(e),this._setViewName(this._viewName),this.move(0),this.render()},v.prototype.next=function(){this.move(1),this.render()},v.prototype.prev=function(){this.move(-1),this.render()},v.prototype._getCurrentView=function(){var e=this._viewName;return"day"===e&&(e="week"),r.pick(this._layout.children.items,e)},v.prototype.setCalendarColor=function(e,t,n){var i=this._calendarColor,o=this._controller.schedules,a=i[e];r.isObject(t)||p.throwError("Calendar#changeCalendarColor(): color \ub294 {color: '', bgColor: ''} \ud615\ud0dc\uc5ec\uc57c \ud569\ub2c8\ub2e4."),a=i[e]=r.extend({color:"#000",bgColor:"#a1b56c",borderColor:"#a1b56c",dragBgColor:"#a1b56c"},t),o.each((function(t){t.calendarId===e&&(t.color=a.color,t.bgColor=a.bgColor,t.borderColor=a.borderColor,t.dragBgColor=a.dragBgColor)})),n||this.render()},v.prototype._onClick=function(e){this.fire("clickSchedule",e)},v.prototype._onClickMore=function(e){this.fire("clickMore",e)},v.prototype._onClickDayname=function(e){this.fire("clickDayname",e)},v.prototype._onBeforeCreate=function(e){this._options.useCreationPopup&&!e.useCreationPopup&&this._showCreationPopup?this._showCreationPopup(e):this.fire("beforeCreateSchedule",e)},v.prototype._onBeforeUpdate=function(e){this.fire("beforeUpdateSchedule",e)},v.prototype._onBeforeDelete=function(e){this.fire("beforeDeleteSchedule",e)},v.prototype._onAfterRenderSchedule=function(e){this.fire("afterRenderSchedule",e)},v.prototype._onClickTimezonesCollapseBtn=function(e){this.fire("clickTimezonesCollapseBtn",e)},v.prototype._toggleViewSchedule=function(e,t){var n=this,i=t.handler,o=e?"on":"off";r.forEach(i.click,(function(e){e[o]("clickSchedule",n._onClick,n)})),r.forEach(i.dayname,(function(e){e[o]("clickDayname",n._onClickDayname,n)})),r.forEach(i.creation,(function(e){e[o]("beforeCreateSchedule",n._onBeforeCreate,n),e[o]("beforeDeleteSchedule",n._onBeforeDelete,n)})),r.forEach(i.move,(function(e){e[o]("beforeUpdateSchedule",n._onBeforeUpdate,n)})),r.forEach(i.resize,(function(e){e[o]("beforeUpdateSchedule",n._onBeforeUpdate,n)})),t[o]("afterRenderSchedule",n._onAfterRenderSchedule,n),t[o]("clickTimezonesCollapseBtn",n._onClickTimezonesCollapseBtn,n),t[o]("clickMore",n._onClickMore,n)},v.prototype.changeView=function(e,t){var n,r=this,i=this._layout,o=this._controller,a=this._dragHandler,s=this._options,l=this._viewName;(t||l!==e)&&(this._setViewName(e),"day"===l&&(l="week"),"day"===e&&(e="week"),i.children.doWhenHas(l,(function(e){r._toggleViewSchedule(!1,e)})),i.clear(),"month"===e?n=function(e,t,n,r){return d(e,t,n,r)}(o,i.container,a,s):"week"!==e&&"day"!==e||(n=function(e,t,n,r,i){return u(e,t,n,r,i)}(o,i.container,a,s,this.getViewName())),i.addChild(n.view),i.children.doWhenHas(e,(function(e){r._toggleViewSchedule(!0,e)})),this._refreshMethod=n.refresh,this._scrollToNowMethod=n.scrollToNow,this._openCreationPopup=n.openCreationPopup,this._showCreationPopup=n.showCreationPopup,this._hideMoreView=n.hideMoreView,this.move(),this.render())},v.prototype.toggleTaskView=function(e){var t=this._viewName;this._options.taskView=e,this.changeView(t,!0)},v.prototype.toggleScheduleView=function(e){var t=this._viewName;this._options.scheduleView=e,this.changeView(t,!0)},v.prototype._setViewName=function(e){this._viewName=e},v.prototype.getElement=function(e,t){return this.getSchedule(e,t)?document.querySelector('[data-schedule-id="'+e+'"][data-calendar-id="'+t+'"]'):null},v.prototype.setTheme=function(e){var t=this._controller.setTheme(e);return this.render(!0),t},v.prototype.setOptions=function(e,t){r.forEach(e,(function(e,t){r.isObject(e)&&!r.isArray(e)?r.forEach(e,(function(e,n){this._options[t][n]=e}),this):this._options[t]=e}),this),this._setAdditionalInternalOptions(e),t||this.changeView(this._viewName,!0)},v.prototype.getOptions=function(){return this._options},v.prototype.getDate=function(){return this._renderDate},v.prototype.getDateRangeStart=function(){return this._renderRange.start},v.prototype.getDateRangeEnd=function(){return this._renderRange.end},v.prototype.getViewName=function(){return this._viewName},v.prototype.setCalendars=function(e){r.forEach(e||[],(function(e){this.setCalendarColor(e.id,e,!0)}),this),this._controller.setCalendars(e),this.render()},v.prototype.openCreationPopup=function(e){this._openCreationPopup&&this._openCreationPopup(e)},v.prototype.hideMoreView=function(){this._hideMoreView&&this._hideMoreView()},v.setTimezoneOffset=function(e){f.setOffset(e)},v.setTimezoneOffsetCallback=function(e){f.setOffsetCallback(e)},r.CustomEvents.mixin(v),e.exports=v},"./src/js/factory/controller.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/controller/base.js"),o=n("./src/js/controller/viewMixin/core.js"),a=n("./src/js/controller/viewMixin/week.js"),s=n("./src/js/controller/viewMixin/month.js");function l(e,t,n){var i=t[n]={};r.forEach(e,(function(e,n){i[n]=r.bind(e,t)}))}e.exports=function(e){var t=new i(e);return l(o,t,"Core"),l(a,t,"Week"),l(s,t,"Month"),t.Core.theme=t.theme,t.Week.theme=t.theme,t.Month.theme=t.theme,t}},"./src/js/factory/monthView.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/array.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/domutil.js"),l=n("./src/js/common/common.js"),c=n("./src/js/view/month/month.js"),u=n("./src/js/handler/month/click.js"),d=n("./src/js/handler/month/creation.js"),h=n("./src/js/handler/month/resize.js"),p=n("./src/js/handler/month/move.js"),f=n("./src/js/view/month/more.js"),m=n("./src/js/view/popup/scheduleCreationPopup.js"),g=n("./src/js/view/popup/scheduleDetailPopup.js"),v=n("./src/js/model/schedule.js");e.exports=function(e,t,n,_){var y,b,C,w,S,x,k,E,T,j,O,P,D,M,I,R;return y=s.appendHTMLElement("div",t,i.classname("month")),b=new c(_,y,e.Month),C=new f(_.month,t,e.theme),S=new u(n,b,e),_.isReadOnly||(x=new d(n,b,e,_),k=new h(n,b,e),E=new p(n,b,e)),T=function(){C&&C.hide()},j=function(){C&&C.refresh()},S.on("clickMore",(function(t){var n=t.date,i=t.target,s=r.pick(e.findByDateRange(a.start(n),a.end(n)),t.ymd);s.items=r.filter(s.items,(function(e){return _.month.scheduleFilter(e.model)})),s&&s.length&&(C.render(function(e,t,n,r){return n.each((function(e){var t=e.model;e.hasMultiDates=!a.isSameDate(t.start,t.end)})),{target:t,date:a.format(e,"YYYY.MM.DD"),dayname:r[e.getDay()],schedules:n.sort(o.compare.schedule.asc)}}(n,i,s,b.options.daynames)),s.each((function(e){e&&b.fire("afterRenderSchedule",{schedule:e.model})})),b.fire("clickMore",{date:t.date,target:C.getMoreViewElement()}))})),_.useCreationPopup&&(w=new m(t,e.calendars,_.usageStatistics),O=function(e){x.fire("beforeCreateSchedule",r.extend(e,{useCreationPopup:!0}))},w.on("beforeCreateSchedule",O)),_.useDetailPopup&&(D=new g(t,e.calendars),M=function(t){var n=t.schedule.calendarId;t.calendar=l.find(e.calendars,(function(e){return e.id===n})),_.isReadOnly&&(t.schedule=r.extend({},t.schedule,{isReadOnly:!0})),D.render(t)},I=function(e){x&&x.fire("beforeDeleteSchedule",e)},R=function(e){E.fire("beforeUpdateSchedule",e)},S.on("clickSchedule",M),D.on("beforeDeleteSchedule",I),_.useCreationPopup?(P=function(t){w.setCalendars(e.calendars),w.render(t)},w.on("beforeUpdateSchedule",R),D.on("beforeUpdateSchedule",P)):D.on("beforeUpdateSchedule",R)),e.on("clearSchedules",T),e.on("updateSchedule",j),E&&E.on("monthMoveStart_from_morelayer",(function(){C.hide()})),b.handler={click:{default:S}},_.isReadOnly||(b.handler=r.extend(b.handler,{creation:{default:x},resize:{default:k},move:{default:E}})),b._beforeDestroy=function(){C.destroy(),e.off("clearSchedules",T),e.off("updateSchedule",j),r.forEach(b.handler,(function(e){r.forEach(e,(function(e){e.off(),e.destroy()}))})),_.useCreationPopup&&_.useDetailPopup&&w.off("beforeUpdateSchedule",j),_.useCreationPopup&&(x&&x.off("beforeCreateSchedule",void 0),w.off("saveSchedule",O),w.destroy()),_.useDetailPopup&&(S.off("clickSchedule",M),D.off("beforeUpdateSchedule",j),D.off("beforeDeleteSchedule",I),D.destroy())},b.controller=e.Month,{view:b,refresh:function(){b.vLayout.refresh()},openCreationPopup:function(e){w&&x&&x.invokeCreationClick(v.create(e))},showCreationPopup:function(t){w&&(w.setCalendars(e.calendars),w.render(t))},hideMoreView:function(){C&&C.hide()}}}},"./src/js/factory/weekView.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/common.js"),s=n("./src/js/common/vlayout.js"),l=n("./src/js/common/reqAnimFrame.js"),c=n("./src/js/model/schedule.js"),u=n("./src/js/view/week/week.js"),d=n("./src/js/view/week/dayname.js"),h=n("./src/js/view/week/dayGrid.js"),p=n("./src/js/view/week/timeGrid.js"),f=n("./src/js/view/popup/scheduleCreationPopup.js"),m=n("./src/js/view/popup/scheduleDetailPopup.js"),g=n("./src/js/handler/time/clickDayname.js"),v=n("./src/js/handler/daygrid/click.js"),_=n("./src/js/handler/daygrid/creation.js"),y=n("./src/js/handler/daygrid/move.js"),b=n("./src/js/handler/daygrid/resize.js"),C=n("./src/js/handler/time/click.js"),w=n("./src/js/handler/time/creation.js"),S=n("./src/js/handler/time/move.js"),x=n("./src/js/handler/time/resize.js"),k={click:v,creation:_,move:y,resize:b},E={click:C,creation:w,move:S,resize:x},T=[{name:"milestone",type:"daygrid",minHeight:20,maxHeight:80,showExpandableButton:!0,maxExpandableHeight:210,handlers:["click"],show:!0},{name:"task",type:"daygrid",minHeight:40,maxHeight:120,showExpandableButton:!0,maxExpandableHeight:210,handlers:["click","move"],show:!0},{name:"allday",type:"daygrid",minHeight:30,maxHeight:80,showExpandableButton:!0,maxExpandableHeight:210,handlers:["click","creation","move","resize"],show:!0},{name:"time",type:"timegrid",autoHeight:!0,handlers:["click","creation","move","resize"],show:!0}];e.exports=function(e,t,n,v,_){var y,b,C,w,S,x,j,O,P,D,M,I,R,L,N=[],A=[],F=v.taskView,B=v.scheduleView,H={milestone:r.isArray(F)?r.inArray("milestone",F)>=0:F,task:r.isArray(F)?r.inArray("task",F)>=0:F,allday:r.isArray(B)?r.inArray("allday",B)>=0:B,time:r.isArray(B)?r.inArray("time",B)>=0:B};return r.forEach(T,(function(e){var t=e.name;e=r.extend({},e),N.push(e),e.show=H[t],e.show&&(A.length&&A.push({isSplitter:!0}),A.push(r.extend({},e)))})),A.length&&((P=A[A.length-1]).autoHeight=!0,P.maxHeight=null,P.showExpandableButton=!1,r.forEach(N,(function(e){return e.name!==P.name||(e.showExpandableButton=!1,!1)}))),r.extend(v.week,{panels:N}),(y=new u(null,v.week,t,N,_)).handler={click:{},dayname:{},creation:{},move:{},resize:{}},b=o.appendHTMLElement("div",y.container,i.classname("dayname-layout")),C=new d(v,b,e.theme),y.handler.dayname.date=new g(n,C,e),y.addChild(C),(w=o.appendHTMLElement("div",y.container,i.classname("vlayout-area"))).style.height=o.getSize(y.container)[1]-C.container.offsetHeight+"px",S=new s({panels:A,panelHeights:v.week.panelHeights||[]},w,e.theme),y.vLayout=S,r.forEach(N,(function(t){var i,o=t.name,a=t.handlers;t.show&&("daygrid"===t.type?((i=new h(o,v,S.getPanelByName(t.name).container,e.theme)).on("afterRender",(function(e){S.getPanelByName(o).setHeight(null,e.height)})),y.addChild(i),r.forEach(a,(function(t){v.isReadOnly&&"click"!==t||(y.handler[t][o]=new k[t](n,i,e,v),i.addHandler(t,y.handler[t][o],S.getPanelByName(o)))}))):"timegrid"===t.type&&(i=new p(o,v,S.getPanelByName(o).container),y.addChild(i),r.forEach(a,(function(t){v.isReadOnly&&"click"!==t||(y.handler[t][o]=new E[t](n,i,e,v))})),i.on("clickTimezonesCollapsedBtn",(function(){var e=!y.state.timezonesCollapsed;y.setState({timezonesCollapsed:e}),l.requestAnimFrame((function(){y.invoke("clickTimezonesCollapseBtn",e)||y.render()}))}))))})),S.on("resize",(function(){l.requestAnimFrame((function(){y.render()}))})),v.useCreationPopup&&(x=new f(t,e.calendars,v.usageStatistics),j=function(e){r.extend(e,{useCreationPopup:!0}),e.isAllDay?y.handler.creation.allday.fire("beforeCreateSchedule",e):y.handler.creation.time.fire("beforeCreateSchedule",e)},x.on("beforeCreateSchedule",j)),O=function(e){x&&x.setCalendars(e)},e.on("setCalendars",O),v.useDetailPopup&&(D=new m(t,e.calendars),M=function(t){var n=t.schedule.calendarId;t.calendar=a.find(e.calendars,(function(e){return e.id===n})),v.isReadOnly&&(t.schedule=r.extend({},t.schedule,{isReadOnly:!0})),D.render(t)},I=function(e){e.isAllDay?y.handler.creation.allday.fire("beforeDeleteSchedule",e):y.handler.creation.time.fire("beforeDeleteSchedule",e)},L=function(e){e.isAllDay?y.handler.move.allday.fire("beforeUpdateSchedule",e):y.handler.move.time.fire("beforeUpdateSchedule",e)},r.forEach(y.handler.click,(function(e){e.on("clickSchedule",M)})),v.useCreationPopup?(R=function(t){var n=e.calendars;t.isEditMode=!0,x.setCalendars(n),x.render(t)},x.on("beforeUpdateSchedule",L),D.on("beforeUpdateSchedule",R)):D.on("beforeUpdateSchedule",L),D.on("beforeDeleteSchedule",I)),y.on("afterRender",(function(){S.refresh()})),y.controller=e.Week,y._beforeDestroy=function(){r.forEach(y.handler,(function(e){r.forEach(e,(function(e){e.off(),e.destroy()}))})),v.useCreationPopup&&(x.off("beforeCreateSchedule",j),x.destroy()),v.useDetailPopup&&(D.off("beforeDeleteSchedule",I),D.destroy()),y.off()},{view:y,refresh:function(){var e=y.getViewBound().height,t=o.getBCRect(C.container).height;S.container.style.height=e-t+"px",S.refresh()},scrollToNow:function(){y.children.each((function(e){e.scrollToNow&&e.scrollToNow()}))},openCreationPopup:function(e){x&&(e.isAllDay?y.handler.creation.allday.invokeCreationClick(c.create(e)):y.handler.creation.time.invokeCreationClick(c.create(e)))},showCreationPopup:function(t){x&&(x.setCalendars(e.calendars),x.render(t))}}}},"./src/js/handler/daygrid/click.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/handler/daygrid/move.js");function s(e,t,n){this.dragHandler=e,this.view=t,this.controller=n,e.on({click:this._onClick},this)}s.prototype.destroy=function(){this.dragHandler.off(this),this.view=this.controller=this.dragHandler=null},s.prototype.checkExpectCondition=a.prototype.checkExpectedCondition,s.prototype._onClick=function(e){var t,n=this,r=e.target,a=this.checkExpectCondition(r),s=this.controller.schedules,l=o.closest(r,i.classname(".weekday-collapse-btn")),c=o.closest(r,i.classname(".weekday-exceed-in-week"));if(this.view.container.contains(r)){if(!l)return c?(this.view.setState({clickedExpandBtnIndex:parseInt(o.getData(c,"index"),10)}),void n.fire("expand")):void(a&&o.closest(r,i.classname(".weekday-schedule"))&&(t=o.closest(r,i.classname(".weekday-schedule-block")),s.doWhenHas(o.getData(t,"id"),(function(t){n.fire("clickSchedule",{schedule:t,event:e.originEvent})}))));n.fire("collapse")}},r.CustomEvents.mixin(s),e.exports=s},"./src/js/handler/daygrid/core.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/domutil.js"),o=n("./src/js/common/domevent.js"),a=n("./src/js/common/common.js"),s=n("./src/js/common/datetime.js"),l=Math.max,c=Math.min,u={_retriveScheduleData:function(e,t){var n,r,s,u,h,p,f,m=e.children.single();return!!m&&(n=m.container,f=m.getRenderDateRange(),r=f.length,p=m.getRenderDateGrids(),s=i.getSize(n)[0],u=o.getMousePosition(t,n),h=d(p,a.ratio(s,100,u[0])),function(t){var i=o.getMousePosition(t,n)[0],u=d(p,a.ratio(s,100,i));return u=l(u,0),u=c(u,r-1),{relatedView:e,dragStartXIndex:h,datesInRange:r,xIndex:u,triggerEvent:t.type,grids:p,range:f}})},_retriveScheduleDataFromDate:function(e,t){var n,i,o,a=e.children.single(),u=0;return!!a&&(o=a.getRenderDateRange(),n=o.length,i=a.getRenderDateGrids(),r.forEach(o,(function(e,n){s.isSameDate(e,t)&&(u=n)})),function(t){var a=0;return r.forEach(o,(function(e,n){s.isSameDate(e,t)&&(a=n)})),a=l(a,0),a=c(a,n-1),{relatedView:e,dragStartXIndex:u,datesInRange:n,xIndex:a,triggerEvent:"manual",grids:i,range:o}})}};function d(e,t){var n,r=0,i=e.length;for(t<0&&(t=0);r<i;r+=1)if((n=e[r]).left<=t&&t<=n.left+n.width)return r;return r}e.exports=u},"./src/js/handler/daygrid/creation.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/common.js"),s=n("./src/js/common/domutil.js"),l=n("./src/js/common/domevent.js"),c=n("./src/js/handler/daygrid/core.js"),u=n("./src/js/handler/daygrid/creationGuide.js"),d=n("./src/js/common/timezone.js").Date,h=300;function p(e,t,n,r){this.dragHandler=e,this.view=t,this.controller=n,this.getScheduleDataFunc=null,this.guide=new u(this),this._requestOnClick=!1,this._disableDblClick=r.disableDblClick,this._disableClick=r.disableClick,e.on("dragStart",this._onDragStart,this),e.on("click",this._onClick,this),this._disableDblClick?h=0:l.on(t.container,"dblclick",this._onDblClick,this)}p.prototype.destroy=function(){this.guide.destroy(),this.dragHandler.off(this),this.view&&this.view.container&&l.off(this.view.container,"dblclick",this._onDblClick,this),this.dragHandler=this.view=this.controller=this.getScheduleDataFunc=null},p.prototype.checkExpectedCondition=function(e){var t,n,o=s.getClass(e).trim();return!s.closest(e,i.classname(".weekday-exceed-in-week"))&&!s.closest(e,i.classname(".weekday-collapse-btn"))&&!s.closest(e,i.classname(".weekday-schedule-block"),!0)&&!(!(n=s.closest(e,i.classname(".weekday-schedules")))&&o!==i.classname("weekday-schedules"))&&(e=n?n.parentNode:e.parentNode,!(!(t=(o=s.getClass(e)).match(i.daygrid.getViewIDRegExp))||t.length<2)&&r.pick(this.view.children.items,t[1]))},p.prototype._createSchedule=function(e){var t,n,r=e.range,i=e.dragStartXIndex,a=e.xIndex;a<i&&(i=a+i,i-=a=i-a),t=new d(r[i]),n=o.end(r[a]),this.fire("beforeCreateSchedule",{category:this.view.options.viewName,isAllDay:!0,start:t,end:n,guide:this.guide,triggerEventName:e.triggerEvent})},p.prototype._onDragStart=function(e){var t,n,r=e.target;this.checkExpectedCondition(r)&&(this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd},this),t=this._retriveScheduleData(this.view,e.originEvent),this.getScheduleDataFunc=t,n=t(e.originEvent),this.fire("dragstart",n))},p.prototype._onDrag=function(e){var t,n=this.getScheduleDataFunc;n&&(t=n(e.originEvent),this.fire("drag",t))},p.prototype._onDragEnd=function(e,t){var n,r=this.getScheduleDataFunc;r&&(this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),n=r(e.originEvent),this._createSchedule(n),this.fire(t||"dragend",n),this.getScheduleDataFunc=null)},p.prototype._onClick=function(e){var t,n,r=this;this.checkExpectedCondition(e.target)&&!this._disableClick&&(t=this._retriveScheduleData(this.view,e.originEvent),n=t(e.originEvent),this._requestOnClick=!0,setTimeout((function(){r._requestOnClick&&(r.fire("click",n),r._createSchedule(n)),r._requestOnClick=!1}),h))},p.prototype._onDblClick=function(e){var t;this.checkExpectedCondition(e.target)&&(t=this._retriveScheduleData(this.view,e)(e),this.fire("click",t),this._createSchedule(t),this._requestOnClick=!1)},p.prototype.invokeCreationClick=function(e){var t;t=this._retriveScheduleDataFromDate(this.view,e.start)(e.start),this.fire("click",t),this._createSchedule(t)},a.mixin(c,p),r.CustomEvents.mixin(p),e.exports=p},"./src/js/handler/daygrid/creationGuide.js":function(e,t,n){"use strict";var r=n("./src/js/config.js"),i=n("./src/js/common/domutil.js"),o=n("./src/js/common/reqAnimFrame.js");function a(e){this.creation=e,this.scheduleContainer=null,this.guideElement=document.createElement("div"),this.initializeGuideElement(),this.applyTheme(e.controller.theme),e.on({dragstart:this._createGuideElement,drag:this._onDrag,click:this._createGuideElement},this)}a.prototype.destroy=function(){this.clearGuideElement(),this.creation.off(this),this.creation=this.scheduleContainer=this.guideElement=null},a.prototype.initializeGuideElement=function(){i.addClass(this.guideElement,r.classname("daygrid-guide-creation-block"))},a.prototype._onDrag=function(e){this._refreshGuideElement(e,!0)},a.prototype._getGuideWidth=function(e,t,n){for(var r=0,i=e;i<=t;i+=1)r+=n[i]?n[i].width:0;return r},a.prototype._refreshGuideElement=function(e,t){var n,r,i=this.guideElement,a=e,s=a.dragStartXIndex<a.xIndex?a.dragStartXIndex:a.xIndex,l=a.dragStartXIndex<a.xIndex?a.xIndex:a.dragStartXIndex;function c(){i.style.display="block",i.style.left=n+"%",i.style.width=r+"%"}n=a.grids[s]?a.grids[s].left:0,r=this._getGuideWidth(s,l,a.grids),t?o.requestAnimFrame(c):c()},a.prototype.clearGuideElement=function(){var e=this.guideElement;i.remove(e),e.style.display="none",e.style.left="",e.style.width=""},a.prototype._createGuideElement=function(e){var t=this.creation.view.container;i.find(r.classname(".weekday-grid"),t).appendChild(this.guideElement),this._refreshGuideElement(e)},a.prototype._onDrag=function(e){this._refreshGuideElement(e)},a.prototype.applyTheme=function(e){var t=this.guideElement.style;t.backgroundColor=e.common.creationGuide.backgroundColor,t.border=e.common.creationGuide.border},e.exports=a},"./src/js/handler/daygrid/move.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/handler/daygrid/core.js"),l=n("./src/js/handler/daygrid/moveGuide.js"),c=n("./src/js/common/timezone.js").Date;function u(e,t,n){this.dragHandler=e,this.view=t,this.controller=n,this._dragStart=null,e.on({dragStart:this._onDragStart},this),this.guide=new l(this)}u.prototype.destroy=function(){this.guide.destroy(),this.dragHandler.off(this),this.dragHandler=this.view=this.controller=this.guide=this._dragStart=null},u.prototype.checkExpectedCondition=function(e){var t,n,o=a.getClass(e);return!~o.indexOf(i.classname("weekday-resize-handle"))&&!!(t=a.closest(e,i.classname(".weekday")))&&!(!(n=(o=a.getClass(t)).match(i.daygrid.getViewIDRegExp))||n.length<2)&&r.pick(this.view.children.items,n[1])},u.prototype._onDragStart=function(e){var t,n,o,s,l,c=e.target,u=this.checkExpectedCondition(c),d=this.controller;u&&(t=a.closest(c,i.classname(".weekday-schedule-block"),!0))&&(n=a.getData(t,"id"),(o=d.schedules.items[n])&&(o.isReadOnly||(s=this._retriveScheduleData(this.view,e.originEvent),this.getScheduleDataFunc=s,l=this._dragStart=s(e.originEvent),r.extend(l,{scheduleBlockElement:t,model:o}),this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),this.fire("dragstart",l))))},u.prototype._onDrag=function(e){var t=this.getScheduleDataFunc;t&&this.fire("drag",t(e.originEvent))},u.prototype._updateSchedule=function(e){var t=e.targetModel,n=e.xIndex-e.dragStartXIndex,r=new c(t.start),i=new c(t.end);r=r.addDate(n),i=i.addDate(n),this.fire("beforeUpdateSchedule",{schedule:t,changes:{start:r,end:i},start:r,end:i})},u.prototype._onDragEnd=function(e,t,n){var i,o=this.getScheduleDataFunc,a=this._dragStart;o&&a&&(this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),i=o(e.originEvent),r.extend(i,{targetModel:a.model}),n||this._updateSchedule(i),this.fire(t||"dragend",i),this.getScheduleDataFunc=this._dragStart=null)},u.prototype._onClick=function(e){this._onDragEnd(e,"click",!0)},o.mixin(s,u),r.CustomEvents.mixin(u),e.exports=u},"./src/js/handler/daygrid/moveGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/reqAnimFrame.js");function l(e){this.daygridMove=e,this.scheduleContainer=null,this._dragStartXIndex=null,this.guideElement=null,this.elements=null,e.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._clearGuideElement,click:this._clearGuideElement},this)}l.prototype.destroy=function(){this._clearGuideElement(),this.daygridMove.off(this),this.daygridMove=this.scheduleContainer=this._dragStartXIndex=this.elements=this.guideElement=null},l.prototype._clearGuideElement=function(){this._showOriginScheduleBlocks(),a.remove(this.guideElement),r.browser.msie||a.removeClass(t.document.body,i.classname("dragging")),this._dragStartXIndex=this.getScheduleDataFunc=this.guideElement=null},l.prototype._hideOriginScheduleBlocks=function(e){var t=i.classname("weekday-schedule-block-dragging-dim"),n=a.find(i.classname(".weekday-schedule-block"),this.daygridMove.view.container,!0);this.elements=r.filter(n,(function(t){return a.getData(t,"id")===e})),r.forEach(this.elements,(function(e){a.addClass(e,t)}))},l.prototype._showOriginScheduleBlocks=function(){var e=i.classname("weekday-schedule-block-dragging-dim");r.forEach(this.elements,(function(t){a.removeClass(t,e)}))},l.prototype._highlightScheduleBlocks=function(e,t){var n=a.find(i.classname(".weekday-schedule"),t,!0);r.forEach(n,(function(t){t.style.margin="0",e.isFocused||(t.style.backgroundColor=e.dragBgColor,t.style.borderLeftColor=e.borderColor,t.style.color="#ffffff")}))},l.prototype.refreshGuideElement=function(e,t,n,r){var o=this.guideElement;s.requestAnimFrame((function(){o.style.left=e+"%",o.style.width=t+"%",n?a.addClass(o,i.classname("weekday-exceed-left")):a.removeClass(o,i.classname("weekday-exceed-left")),r?a.addClass(o,i.classname("weekday-exceed-right")):a.removeClass(o,i.classname("weekday-exceed-right"))}))},l.prototype._getScheduleBlockDataFunc=function(e){var t=e.model,n=e.datesInRange,r=e.range,i=100/n,a=o.start(t.start),s=o.end(t.end),l=o.start(r[0]),c=o.end(r[r.length-1]),u=Math.ceil((a.getTime()-l.getTime())/o.MILLISECONDS_PER_DAY)||0,d=Math.ceil((s.getTime()-c.getTime())/o.MILLISECONDS_PER_DAY)||0;return function(e){return{baseWidthPercent:i,fromLeft:u+e,fromRight:d+e}}},l.prototype._onDragStart=function(e){var n,o=this.daygridMove.view.container,s=this.guideElement=e.scheduleBlockElement.cloneNode(!0);r.browser.msie||a.addClass(t.document.body,i.classname("dragging")),this._hideOriginScheduleBlocks(String(e.model.cid())),n=a.find(i.classname(".weekday-schedules"),o),a.appendHTMLElement("div",s,i.classname("weekday-schedule-cover")),n.appendChild(s),this._dragStartXIndex=e.xIndex,this.getScheduleDataFunc=this._getScheduleBlockDataFunc(e),this._highlightScheduleBlocks(e.model,s)},l.prototype._onDrag=function(e){var t,n,r,i,o,a,s,l,c=this.getScheduleDataFunc,u=this._dragStartXIndex,d=e.datesInRange,h=e.grids;c&&(n=(t=c(e.xIndex-u)).fromLeft<0,r=t.fromRight>0,o=Math.max(0,t.fromLeft),i=-1*t.fromLeft+(d+t.fromRight),a=n?i+t.fromLeft:i,a=r?a-t.fromRight:a,s=h[o]?h[o].left:0,l=function(e,t,n){for(var r=0,i=0,o=n.length;i<t;i+=1)(e=(e+i)%o)<o&&(r+=n[e]?n[e].width:0);return r}(o,a,h),this.refreshGuideElement(s,l,n,r))},e.exports=l}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/daygrid/resize.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/common.js"),l=n("./src/js/handler/daygrid/core.js"),c=n("./src/js/handler/daygrid/resizeGuide.js"),u=n("./src/js/common/timezone.js").Date;function d(e,t,n){this.dragHandler=e,this.view=t,this.controller=n,this._dragStart=null,e.on({dragStart:this._onDragStart},this),this.guide=new c(this)}d.prototype.destroy=function(){this.guide.destroy(),this.dragHandler.off(this),this.dragHandler=this.view=this.controller=this.guide=this._dragStart=null},d.prototype.checkExpectedCondition=function(e){var t,n=a.getClass(e);return!!~n.indexOf(i.classname("weekday-resize-handle"))&&!!(e=a.closest(e,i.classname(".weekday")))&&!(!(t=(n=a.getClass(e)).match(i.daygrid.getViewIDRegExp))||t.length<2)&&r.pick(this.view.children.items,t[1])},d.prototype._onDragStart=function(e){var t,n,o,s,l,c=e.target,u=this.checkExpectedCondition(c),d=this.controller;u&&(t=a.closest(c,i.classname(".weekday-schedule-block")),n=a.getData(t,"id"),(o=d.schedules.items[n])&&(s=this._retriveScheduleData(this.view,e.originEvent),this.getScheduleDataFunc=s,l=this._dragStart=s(e.originEvent),r.extend(l,{scheduleBlockElement:t,model:o}),this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),this.fire("dragstart",l)))},d.prototype._onDrag=function(e){var t=this.getScheduleDataFunc;t&&this.fire("drag",t(e.originEvent))},d.prototype._updateSchedule=function(e){var t,n=e.targetModel,r=e.xIndex-e.dragStartXIndex,i=new u(n.end);i=i.addDate(r),i=new u(s.maxDate(o.end(n.start),i)),t=s.getScheduleChanges(n,["end"],{end:i}),this.fire("beforeUpdateSchedule",{schedule:n,changes:t,start:n.getStarts(),end:i})},d.prototype._onDragEnd=function(e,t,n){var i,o=this.getScheduleDataFunc,a=this._dragStart;o&&a&&(this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),i=o(e.originEvent),r.extend(i,{targetModel:a.model}),n||this._updateSchedule(i),this.fire(t||"dragend",i),this.getScheduleDataFunc=this._dragStart=null)},d.prototype._onClick=function(e){this._onDragEnd(e,"click",!0)},s.mixin(l,d),r.CustomEvents.mixin(d),e.exports=d},"./src/js/handler/daygrid/resizeGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/reqAnimFrame.js");function l(e){this.resizeHandler=e,this.scheduleContainer=null,this.getScheduleDataFunc=null,this.guideElement=null,this.scheduleBlockElement=null,e.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._clearGuideElement,click:this._clearGuideElement},this)}l.prototype.destroy=function(){this._clearGuideElement(),this.resizeHandler.off(this),this.resizeHandler=this.scheduleContainer=this.getScheduleDataFunc=this.guideElement=this.scheduleBlockElement=null},l.prototype._clearGuideElement=function(){o.remove(this.guideElement),r.browser.msie||o.removeClass(t.document.body,i.classname("resizing-x")),this.scheduleBlockElement&&o.removeClass(this.scheduleBlockElement,i.classname("weekday-schedule-block-dragging-dim")),this.getScheduleDataFunc=null},l.prototype.refreshGuideElement=function(e){var t=this.guideElement;s.requestAnimFrame((function(){t.style.width=e+"%"}))},l.prototype.getGuideElementWidthFunc=function(e){var t=e.model,n=this.resizeHandler.view.options,r=Math.ceil((t.start-n.renderStartDate)/a.MILLISECONDS_PER_DAY)||0,i=e.grids;return function(e){var t=0,n=0,o=i.length;for(t+=i[r]?i[r].width:0;n<o;n+=1)n>r&&n<=e&&(t+=i[n]?i[n].width:0);return t}},l.prototype._onDragStart=function(e){var n,a=this.resizeHandler.view.container,s=this.scheduleBlockElement=e.scheduleBlockElement,l=this.guideElement=s.cloneNode(!0);r.browser.msie||o.addClass(t.document.body,i.classname("resizing-x")),n=o.find(i.classname(".weekday-schedules"),a),o.addClass(l,i.classname("daygrid-guide-move")),o.addClass(s,i.classname("weekday-schedule-block-dragging-dim")),n.appendChild(l),this.getScheduleDataFunc=this.getGuideElementWidthFunc(e)},l.prototype._onDrag=function(e){var t=this.getScheduleDataFunc;t&&this.refreshGuideElement(t(e.xIndex))},e.exports=l}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/drag.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/common/domutil.js"),o=n("./src/js/common/domevent.js"),a=n("./src/js/config.js");function s(e,t){o.on(t,"mousedown",this._onMouseDown,this),this.options=r.extend({distance:10,exclude:null},e),this.container=t,this._cancelled=!1,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}function l(e){i.closest(e.target,a.classname(".popup"))||o.preventDefault(e)}s.prototype.destroy=function(){o.off(this.container,"mousedown",this._onMouseDown,this),this._isMoved=null,this.container=null},s.prototype._clearData=function(){this._cancelled=!1,this._distance=0,this._isMoved=!1,this._dragStartFired=!1,this._dragStartEventData=null},s.prototype._toggleDragEvent=function(e){var n,r,a=this.container;e?(n="on",r="disable"):(n="off",r="enable"),i[r+"TextSelection"](a,l),i[r+"ImageDrag"](a,l),o[n](t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)},s.prototype._getEventData=function(e){return{target:o.getEventTarget(e),originEvent:e}},s.prototype._onMouseDown=function(e){var t=this.options,n=o.getEventTarget(e);0===o.getMouseButton(e)&&(t.exclude&&t.exclude(n)?this._cancelled=!0:(this._clearData(),this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0),this.fire("mousedown",this._dragStartEventData)))},s.prototype._onMouseMove=function(e){var t;if(this._cancelled)this._clearData();else if(t=this.options.distance,l(e),this._distance<t)this._distance+=1;else{if(this._isMoved=!0,!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData)))return this._toggleDragEvent(!1),void this._clearData();this.fire("drag",this._getEventData(e))}},s.prototype._onMouseUp=function(e){this._cancelled||(this._toggleDragEvent(!1),this._isMoved?(this._isMoved=!1,this.fire("dragEnd",this._getEventData(e))):this.fire("click",this._getEventData(e)),this._clearData())},r.CustomEvents.mixin(s),e.exports=s}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/month/click.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js");function s(e,t,n){this.dragHandler=e,this.monthView=t,this.baseController=n,e.on({click:this._onClick},this)}s.prototype.destroy=function(){this.dragHandler.off(this),this.monthView=this.baseController=this.dragHandler=null},s.prototype._onClick=function(e){var t,n=this,r=this.baseController.schedules,s=a.closest(e.target,i.classname(".weekday-schedule-block"))||a.closest(e.target,i.classname(".month-more-schedule"));(t=a.closest(e.target,i.classname(".weekday-exceed-in-month")))&&n.fire("clickMore",{date:o.parse(a.getData(t,"ymd")),target:t,ymd:a.getData(t,"ymd")}),s&&r.doWhenHas(a.getData(s,"id"),(function(t){n.fire("clickSchedule",{schedule:t,event:e.originEvent})}))},r.CustomEvents.mixin(s),e.exports=s},"./src/js/handler/month/core.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/common.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/domevent.js"),s=Math.floor;e.exports=function(e){var t=e.children,n=t.sort((function(e,t){return r.stamp(e)-r.stamp(t)})),l=t.length,c=t.single().getRenderDateRange().length,u=r.pick(e.vLayout.panels[1],"container"),d=o.getSize(u),h=e.grids;return function(e){var t,o,p,f=a.getMousePosition(e,u),m=function(e){for(var t,n=0,r=h.length;n<r;n+=1)if((t=h[n]).left<=e&&e<=t.left+t.width)return n;return e<0?-1:n}(i.ratio(d[0],100,f[0])),g=s(i.ratio(d[1],l,f[1]));return g<0&&(g=0),g>=n.length&&(g=n.length-1),(t=r.pick(n,g))?(m<0&&(m=0),m>=(p=t.getRenderDateRange()).length&&(m=p.length-1),(o=r.pick(p,m))?{x:m,y:g,sizeX:c,sizeY:l,date:o,weekdayView:t,triggerEvent:e.type}:null):null}}},"./src/js/handler/month/creation.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/array.js"),s=n("./src/js/common/domutil.js"),l=n("./src/js/common/domevent.js"),c=n("./src/js/handler/month/core.js"),u=n("./src/js/handler/month/creationGuide.js"),d=n("./src/js/common/timezone.js").Date,h=300;function p(e,t,n,r){this.dragHandler=e,this.monthView=t,this.baseController=n,this.getScheduleData=null,this._cache=null,this.guide=new u(this),this._requestOnClick=!1,this._disableDblClick=r.disableDblClick,this._disableClick=r.disableClick,e.on("dragStart",this._onDragStart,this),e.on("click",this._onClick,this),this._disableDblClick?h=0:l.on(t.container,"dblclick",this._onDblClick,this)}function f(e){return s.closest(e,i.classname(".weekday-grid"))&&!s.closest(e,i.classname(".weekday-exceed-in-month"))}p.prototype.destroy=function(){this.dragHandler.off(this),this.guide.destroy(),this.monthView&&this.monthView.container&&l.off(this.monthView.container,"dblclick",this._onDblClick,this),this.dragHandler=this.monthView=this.baseController=this.getScheduleData=this._cache=this.guide=null},p.prototype._createSchedule=function(e){this.fire("beforeCreateSchedule",{isAllDay:e.isAllDay,start:e.start,end:e.end,guide:this.guide.guide,triggerEventName:e.triggerEvent})},p.prototype._onDragStart=function(e){var t;f(e.target)&&(this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData=c(this.monthView),t=this.getScheduleData(e.originEvent),this._cache={start:new d(t.date)},this.fire("monthCreationDragstart",t))},p.prototype._onDrag=function(e){var t;this.getScheduleData&&(t=this.getScheduleData(e.originEvent))&&this.fire("monthCreationDrag",t)},p.prototype._onDragEnd=function(e){var t,n,r=this._cache;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData&&((t=this.getScheduleData(e.originEvent))&&(r.end=new d(t.date),r.isAllDay=!0,n=[r.start,r.end].sort(a.compare.num.asc),r.start=new d(n[0]),r.end=o.end(n[1]),this._createSchedule(r)),this.fire("monthCreationDragend",t),this.getScheduleData=this._cache=null)},p.prototype._onDblClick=function(e){var t,n;f(e.target)&&(t=c(this.monthView)(e),this.fire("monthCreationClick",t),n=this._adjustStartAndEndTime(new d(t.date),new d(t.date)),this._createSchedule({start:n.start,end:n.end,isAllDay:!1,triggerEvent:t.triggerEvent}),this._requestOnClick=!1)},p.prototype._onClick=function(e){var t,n,r=this;f(e.target)&&!this._disableClick&&(t=c(this.monthView)(e.originEvent),this._requestOnClick=!0,setTimeout((function(){r._requestOnClick&&(r.fire("monthCreationClick",t),n=r._adjustStartAndEndTime(new d(t.date),new d(t.date)),r._createSchedule({start:n.start,end:n.end,isAllDay:!1,triggerEvent:t.triggerEvent})),r._requestOnClick=!1}),h))},p.prototype._adjustStartAndEndTime=function(e,t){var n=new d,r=n.getHours(),i=n.getMinutes();return i=i<=30?0:30,e.setHours(r,i,0,0),t.setHours(r+1,i,0,0),{start:e,end:t}},p.prototype.invokeCreationClick=function(e){var t={model:e};this.fire("monthCreationClick",t),this._createSchedule({start:e.start,end:e.end,isAllDay:e.isAllDay,triggerEvent:"manual"})},r.CustomEvents.mixin(p),e.exports=p},"./src/js/handler/month/creationGuide.js":function(e,t,n){"use strict";var r=n("./src/js/handler/month/guide.js");function i(e){this.monthCreation=e,this.guide=null,e.on({monthCreationDragstart:this._createGuideElement,monthCreationDrag:this._onDrag,monthCreationDragend:this._onDragEnd,monthCreationClick:this._createGuideElement},this)}i.prototype.destroy=function(){this.monthCreation.off(this),this.guide&&this.guide.destroy(),this.guide=this.monthCreation=null},i.prototype._createGuideElement=function(e){this.guide=new r({isCreationMode:!0,height:"100%",top:0},this.monthCreation.monthView),this.guide.start(e)},i.prototype._onDrag=function(e){this.guide.update(e.x,e.y)},i.prototype._onDragEnd=function(){this.guide=null},e.exports=i},"./src/js/handler/month/guide.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=e.escapeExpression,l=e.lambda,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+s("function"===typeof(a=null!=(a=c(n,"CSS_PREFIX")||(null!=t?c(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:16},end:{line:3,column:30}}}):a)+'month-creation-guide" style="border: '+s(l(null!=(o=null!=t?c(t,"styles"):t)?c(o,"border"):o,t))+"; background-color: "+s(l(null!=(o=null!=t?c(t,"styles"):t)?c(o,"backgroundColor"):o,t))+';"></div>\n'},3:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:16},end:{line:5,column:30}}}):a)+'weekday-schedule"\n        style="height: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+"; line-height: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+"; margin-top: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleGutter"):o,t))+"; border-radius:"+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"borderRadius"):o,t))+"; margin-left: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"marginLeft"):o,t))+"; margin-right: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"marginRight"):o,t))+";\n            color:"+u(typeof(a=null!=(a=h(n,"color")||(null!=t?h(t,"color"):t))?a:l)===c?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:7,column:18},end:{line:7,column:27}}}):a)+";border-color:"+u(typeof(a=null!=(a=h(n,"borderColor")||(null!=t?h(t,"borderColor"):t))?a:l)===c?a.call(s,{name:"borderColor",hash:{},data:i,loc:{start:{line:7,column:41},end:{line:7,column:56}}}):a)+";background-color:"+u(typeof(a=null!=(a=h(n,"bgColor")||(null!=t?h(t,"bgColor"):t))?a:l)===c?a.call(s,{name:"bgColor",hash:{},data:i,loc:{start:{line:7,column:74},end:{line:7,column:85}}}):a)+'">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:20},end:{line:8,column:34}}}):a)+'weekday-schedule-title">\n'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"isAllDay"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(6,i,0),data:i,loc:{start:{line:9,column:12},end:{line:13,column:19}}}))?o:"")+'        </div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:15,column:20},end:{line:15,column:34}}}):a)+'weekday-resize-handle handle-y" style="line-height: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+';">&nbsp;</div>\n    </div>\n'},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+(null!=(o=(a(n,"allday-tmpl")||t&&a(t,"allday-tmpl")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"allday-tmpl",hash:{},data:i,loc:{start:{line:10,column:16},end:{line:10,column:38}}}))?o:"")+"\n"},6:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                "+(null!=(o=(a(n,"time-tmpl")||t&&a(t,"time-tmpl")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:12,column:16},end:{line:12,column:36}}}))?o:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'month-guide-block" style="top:'+c("function"===typeof(a=null!=(a=u(n,"top")||(null!=t?u(t,"top"):t))?a:l)?a.call(s,{name:"top",hash:{},data:i,loc:{start:{line:1,column:56},end:{line:1,column:63}}}):a)+";height:"+c("function"===typeof(a=null!=(a=u(n,"height")||(null!=t?u(t,"height"):t))?a:l)?a.call(s,{name:"height",hash:{},data:i,loc:{start:{line:1,column:71},end:{line:1,column:81}}}):a)+';display:none">\n'+(null!=(o=u(n,"if").call(s,null!=t?u(t,"isCreationMode"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.program(3,i,0),data:i,loc:{start:{line:2,column:4},end:{line:17,column:11}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/handler/month/guide.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/datetime.js"),l=n("./src/js/common/timezone.js").Date,c=n("./src/js/handler/month/guide.hbs"),u=Math.max,d=Math.min,h=Math.abs,p=Math.floor;function f(e,t){var n=this;this.options=r.extend({top:0,height:"20px",bgColor:"#f7ca88",label:"New event",isResizeMode:!1,isCreationMode:!1,styles:this._getStyles(t.controller.theme)},e),this.view=t,this.weeks=t.children.sort((function(e,t){return r.stamp(e)-r.stamp(t)})),this.days=t.children.single().getRenderDateRange().length,this.ratio=r.bind((function(e){return o.ratio(n.days,100,e)})),this.startCoord=[0,0],this.guideElements={},this.grids=t.grids}f.prototype.destroy=function(){this.clear(),this.options=this.view=this.weeks=this.days=this.ratio=this.startCoord=this.guideElements=null},f.prototype.clearGuideElement=function(){this.destroy()},f.prototype._getRatioValueInWeek=function(e){return(this.grids[e]||{left:100}).left},f.prototype._createGuideElement=function(){var e=document.createElement("div");return e.innerHTML=c(this.options),e.firstChild},f.prototype._getGuideElement=function(e){var t=this.guideElements,n=t[e],r=this.weeks[e];return r?(n||(n=this._createGuideElement(),r.container.appendChild(n),t[e]=n),n):null},f.prototype._getCoordByDate=function(e){for(var t=this.weeks,n=r.pick(this.view,"options","workweek")?this.days+2:this.days,i=function(e,t){return p(s.millisecondsTo("day",h(t-e)))},o=s.start(t[0].options.renderStartDate),a=e<o,c=new l(o),u=new l(o).addDate(a?-n:n).addDate(-1),d=i(e,c),f=0;!s.isBetweenWithDate(e,c,u);)c.addDate(a?-n:n),u=new l(c).addDate(n-1),d=i(e,c),f+=a?-1:1;return[d,f]},f.prototype._getLimitedCoord=function(e,t,n){var r,i=e[0],o=e[1];return t=t||[0,0],n=n||[this.days-1,this.weeks.length-1],o<t[1]?r=t.slice(0):o>n[1]?r=n.slice(0):(i=u(t[0],i),r=[i=d(n[0],i),o]),r},f.prototype.start=function(e){var t,n=this.options,i=e.target,o=e.model,a=e.x,c=e.y,u=new l(this.view.options.renderMonth);n.isCreationMode?o&&!s.isSameMonth(u,o.start)&&(o.start.setMonth(u.getMonth()),o.start.setDate(1),o.end.setMonth(u.getMonth()),o.end.setDate(1)):(a=(t=this._getCoordByDate(o.getStarts()))[0],c=t[1],r.extend(this.options,{top:parseInt(i.style.top,10)+"px",height:parseInt(i.style.height,10)+"px",label:o.title},o)),(r.isUndefined(a)||r.isUndefined(c))&&(a=(t=this._getCoordByDate(o.getStarts()))[0],c=t[1]),this.startCoord=[a,c],this.update(a,c)},f.prototype._updateGuides=function(e){r.forEach(e,(function(e){var t=e.guide,n=i.classname("month-exceed-left"),r=i.classname("month-exceed-right");t.style.display="block",t.style.left=e.left+"%",t.style.width=e.width+"%",e.exceedL?a.addClass(t,n):a.removeClass(t,n),e.exceedR?a.addClass(t,r):a.removeClass(t,r)}))},f.prototype._getOriginIndicate=function(e,t){var n,r,i=d(e[0],t[0]),o=u(e[0],t[0])+1;return t[1]>e[1]?(i=e[0],o=this.days,r=!0):t[1]<e[1]&&(i=0,o=e[0]+1,n=!0),{left:this._getRatioValueInWeek(i),width:this._getRatioValueInWeek(o)-this._getRatioValueInWeek(i),exceedL:n,exceedR:r}},f.prototype._getMouseIndicate=function(e,t){var n,r,i=t[0],o=t[0]+1;return t[1]>e[1]?(i=0,n=!0):t[1]<e[1]&&(o=this.days,r=!0),{left:this._getRatioValueInWeek(i),width:this._getRatioValueInWeek(o)-this._getRatioValueInWeek(i),exceedL:n,exceedR:r}},f.prototype._getContainIndicate=function(){return{left:0,width:100,exceedL:!0,exceedR:!0}},f.prototype._removeGuideElements=function(e){var t=this.guideElements;r.forEach(e,(function(e){a.remove(t[e]),delete t[e]}))},f.prototype._getExcludesInRange=function(e,t){var n=d.apply(null,e),i=u.apply(null,e),o=[];return r.forEach(t,(function(e){((e=parseInt(e,10))<n||e>i)&&o.push(e)})),o},f.prototype.update=function(e,t){var n=this,i=this.startCoord,o=[e,t],a=this.options.isResizeMode?this._getLimitedCoord(o,i):o,s=r.keys(this.guideElements),l=r.range(d(i[1],a[1]),u(i[1],a[1])+1),c=this._getExcludesInRange(l,s),h={};this._removeGuideElements(c),r.forEach(l,(function(e){var t,s=n._getGuideElement(e);s&&(t=e===i[1]?n._getOriginIndicate(i,a):e===o[1]?n._getMouseIndicate(i,o):n._getContainIndicate(),h[e]=r.extend({guide:s},t))})),this._updateGuides(h)},f.prototype.clear=function(){r.forEach(this.guideElements,(function(e){a.remove(e)})),this.guideElements={}},f.prototype._getStyles=function(e){var t={};return e&&(t.border=e.common.creationGuide.border,t.backgroundColor=e.common.creationGuide.backgroundColor,t.scheduleHeight=e.month.schedule.height,t.scheduleGutter=e.month.schedule.marginTop,t.marginLeft=e.month.schedule.marginLeft,t.marginRight=e.month.schedule.marginRight,t.borderRadius=e.month.schedule.borderRadius),t},e.exports=f},"./src/js/handler/month/move.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/handler/month/core.js"),l=n("./src/js/handler/month/moveGuide.js"),c=n("./src/js/common/timezone.js").Date;function u(e,t,n){this.dragHandler=e,this.monthView=t,this.baseController=n,this.getScheduleData=null,this._cache=null,this.guide=new l(this),e.on("dragStart",this._onDragStart,this)}u.prototype.destroy=function(){this.dragHandler.off(this),this.dragHandler=this.monthView=this.baseController=null},u.prototype.updateSchedule=function(e){var t=e.model,n=t.duration(),r=a.raw(t.start),i=new c(e.end),o=new c(i);o.setHours(r.h,r.m,r.s,r.ms),this.fire("beforeUpdateSchedule",{schedule:t,changes:{start:o,end:new c(o).addMilliseconds(n)},start:o,end:new c(o).addMilliseconds(n)})},u.prototype.getMonthScheduleBlock=function(e){var t=i.classname(".weekday-schedule-block");return o.closest(e,t)},u.prototype.getMoreLayerScheduleBlock=function(e){var t=i.classname(".month-more-schedule");return o.closest(e,t)},u.prototype.hasPermissionToHandle=function(e){var t,n=null;return o.hasClass(e,i.classname("weekday-resize-handle"))?null:((t=this.getMonthScheduleBlock(e))?n=o.getData(t,"id"):(t=this.getMoreLayerScheduleBlock(e))&&(n=o.getData(t,"id"),this.fire("monthMoveStart_from_morelayer")),n)},u.prototype._onDragStart=function(e){var t,n=e.target,r=this.hasPermissionToHandle(n),i=this.baseController.schedules.items[r];r&&i&&!i.isReadOnly&&!i.isPending&&(this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData=s(this.monthView),(t=this.getScheduleData(e.originEvent)).originEvent=e.originEvent,t.target=this.getMonthScheduleBlock(n),t.model=i,this._cache={model:i,target:n,start:new c(Number(t.date))},this.fire("monthMoveDragstart",t))},u.prototype._onDrag=function(e){var t;this.getScheduleData&&(t=r.extend({originEvent:e.originEvent},this.getScheduleData(e.originEvent)))&&this.fire("monthMoveDrag",t)},u.prototype._onDragEnd=function(e){var t,n=this._cache;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData&&((t=this.getScheduleData(e.originEvent))&&(n.end=new c(t.date),this.updateSchedule(n)),this.fire("monthMoveDragend",t),this.getScheduleData=this._cache=null)},r.CustomEvents.mixin(u),e.exports=u},"./src/js/handler/month/moveGuide.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            border-left:3px solid "+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"borderColor"):o,t))+";\n            "},3:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:17},end:{line:14,column:31}}}):a)+"weekday-schedule-bullet "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:55},end:{line:14,column:69}}}):a)+'weekday-schedule-bullet-focused" style="top: '+c(e.lambda(null!=(o=null!=t?u(t,"styles"):t)?u(o,"scheduleBulletTop"):o,t))+'px;"></span>\n'},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:110},end:{line:16,column:124}}}):o)+'weekday-schedule-title-focused"'},7:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            "+(null!=(o=(a(n,"allday-tmpl")||t&&a(t,"allday-tmpl")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"model"):t,{name:"allday-tmpl",hash:{},data:i,loc:{start:{line:18,column:12},end:{line:18,column:35}}}))?o:"")+"\n"},9:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            "+(null!=(o=(a(n,"time-tmpl")||t&&a(t,"time-tmpl")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"model"):t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:20,column:12},end:{line:20,column:33}}}))?o:"")+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+"month-guide "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:38},end:{line:1,column:52}}}):a)+'month-guide-focused"\n     style="top: -50%;\n            left: -50%;\n            width: 100%;\n            color: #ffffff;\n            background-color:'+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"dragBgColor"):o,t))+";\n            height:"+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+"px;\n            line-height:"+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+"px;\n            border-radius: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"borderRadius"):o,t))+";\n"+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isAllDay"):o,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:12},end:{line:12,column:19}}}))?o:"")+'">\n'+(null!=(o=h(n,"unless").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isAllDay"):o,{name:"unless",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:4},end:{line:15,column:15}}}))?o:"")+'    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:16},end:{line:16,column:30}}}):a)+"month-move-guide "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:47},end:{line:16,column:61}}}):a)+"weekday-schedule-title "+(null!=(o=h(n,"unless").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isAllDay"):o,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:84},end:{line:16,column:166}}}))?o:"")+">\n"+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isAllDay"):o,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i,loc:{start:{line:17,column:8},end:{line:21,column:15}}}))?o:"")+'    </div>\n</div>\n<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:24,column:12},end:{line:24,column:26}}}):a)+'month-guide-cover" style="height:'+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"scheduleHeight"):o,t))+"px; border-radius: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"borderRadius"):o,t))+';"></div>\n'},useData:!0})},"./src/js/handler/month/moveGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/domevent.js"),s=n("./src/js/common/floatingLayer.js"),l=n("./src/js/handler/month/moveGuide.hbs"),c=n("./src/js/model/schedule.js");function u(e){this.monthMove=e,this.elements=null,this.layer=null,e.on({monthMoveDragstart:this._onDragStart,monthMoveDrag:this._onDrag,monthMoveDragend:this._onDragEnd},this)}u.prototype.destroy=function(){this.monthMove.off(this),this._clearGridBgColor(),this.layer&&this.layer.destroy(),this.element&&o.remove(this.element),this.monthMove=this.elements=this.layer=null},u.prototype._hideOriginScheduleBlocks=function(e){var t=i.classname("weekday-schedule-block-dragging-dim");this.elements=o.find(i.classname(".weekday-schedule-block-"+e),this.monthMove.monthView.container,!0),r.forEach(this.elements,(function(e){o.addClass(e,t)}))},u.prototype._showOriginScheduleBlocks=function(){var e=i.classname("weekday-schedule-block-dragging-dim");r.forEach(this.elements,(function(t){o.removeClass(t,e)}))},u.prototype._clearGridBgColor=function(){var e=i.classname(".weekday-filled"),t=i.classname("weekday-filled"),n=o.find(e,this.monthMove.monthView.container);n&&o.removeClass(n,t)},u.prototype._updateGridBgColor=function(e){var t=o.find(i.classname(".weekday-grid-line"),this.monthMove.monthView.container,!0),n=i.classname("weekday-filled"),r=e.x+e.sizeX*e.y;this._clearGridBgColor(),t&&t[r]&&o.addClass(t[r],n)},u.prototype._onDragStart=function(e){var n=this.monthMove.monthView,u=n.children.single(),d=u.options,h=100/u.getRenderDateRange().length,p=d.scheduleGutter+d.scheduleHeight,f=n.container,m=a.getMousePosition(e.originEvent,f),g=e.model,v=new s(null,f);this._hideOriginScheduleBlocks(g.cid()),this.layer=v,v.setSize(h+"%",p),v.setPosition(m[0],m[1]),v.setContent(l({model:r.extend(c.create(g),g),styles:{scheduleHeight:d.scheduleHeight,scheduleBulletTop:d.scheduleHeight/3,borderRadius:n.controller.theme.month.schedule.borderRadius}})),v.show(),r.browser.msie||o.addClass(t.document.body,i.classname("dragging"))},u.prototype._onDrag=function(e){var t=this.monthMove.monthView.container,n=a.getMousePosition(e.originEvent,t);this._updateGridBgColor(e),this.layer&&this.layer.setPosition(n[0],n[1])},u.prototype._onDragEnd=function(){this._showOriginScheduleBlocks(),r.browser.msie||o.removeClass(t.document.body,i.classname("dragging")),this._clearGridBgColor(),this.layer.destroy(),this.layer=null},e.exports=u}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/month/resize.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/handler/month/core.js"),l=n("./src/js/handler/month/resizeGuide.js"),c=n("./src/js/common/timezone.js").Date,u=n("./src/js/common/common.js");function d(e,t,n){this.dragHandler=e,this.monthView=t,this.baseController=n,this.getScheduleData=null,this._cache=null,this.guide=new l(this),e.on("dragStart",this._onDragStart,this)}d.prototype.destroy=function(){this.dragHandler.off(this),this.dragHandler=this.monthView=this.baseController=null},d.prototype._updateSchedule=function(e){var t=o.end(new c(e.end)),n=e.schedule,r=u.getScheduleChanges(n,["end"],{end:t});this.fire("beforeUpdateSchedule",{schedule:n,changes:r,start:new c(n.getStarts()),end:t})},d.prototype._onDragStart=function(e){var t,n,r,o=e.target;a.hasClass(o,i.classname("weekday-resize-handle"))&&(o=a.closest(o,i.classname(".weekday-schedule-block")))&&(t=a.getData(o,"id"),n=this.baseController.schedules.items[t],this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData=s(this.monthView),(r=this.getScheduleData(e.originEvent)).target=o,r.model=n,this._cache={schedule:n,target:o,start:new c(r.date)},this.fire("monthResizeDragstart",r))},d.prototype._onDrag=function(e){var t;this.getScheduleData&&(t=this.getScheduleData(e.originEvent))&&this.fire("monthResizeDrag",t)},d.prototype._onDragEnd=function(e){var t,n,r,i=this._cache;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.getScheduleData&&((t=this.getScheduleData(e.originEvent))&&(n=new c(i.schedule.getStarts()),r=new c(t.date),i.end=r,n<=i.end&&this._updateSchedule(i)),this.fire("monthResizeDragend",t),this.getScheduleData=this._cache=null)},r.CustomEvents.mixin(d),e.exports=d},"./src/js/handler/month/resizeGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/handler/month/guide.js");function s(e){this.monthResize=e,this.elements=null,this.guide=null,e.on({monthResizeDragstart:this._onDragStart,monthResizeDrag:this._onDrag,monthResizeDragend:this._onDragEnd},this)}s.prototype.destroy=function(){this.monthResize.off(this),this.guide.destroy(),this.guide=this.monthResize=null},s.prototype._hideScheduleBlocks=function(e){this.elements=o.find(i.classname(".weekday-schedule-block-"+e),this.monthResize.monthView.container,!0),r.forEach(this.elements,(function(e){e.style.display="none"}))},s.prototype._showScheduleBlocks=function(){r.forEach(this.elements,(function(e){e.style.display="block"}))},s.prototype._onDragStart=function(e){this.guide=new a({isResizeMode:!0},this.monthResize.monthView),this.guide.start(e),this._hideScheduleBlocks(e.model.cid()),r.browser.msie||o.addClass(t.document.body,i.classname("resizing-x"))},s.prototype._onDrag=function(e){this.guide.update(e.x,e.y)},s.prototype._onDragEnd=function(){this._showScheduleBlocks(),this.guide.destroy(),this.elements=this.guide=null,r.browser.msie||o.removeClass(t.document.body,i.classname("resizing-x"))},e.exports=s}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/time/click.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js");function a(e,t,n){this.dragHandler=e,this.timeGridView=t,this.baseController=n,e.on({click:this._onClick},this)}a.prototype.destroy=function(){this.dragHandler.off(this),this.timeGridView=this.baseController=this.dragHandler=null},a.prototype.checkExpectCondition=function(e){var t,n;return!!(t=o.closest(e,i.classname(".time-date")))&&!(!(n=o.getClass(t).match(i.time.getViewIDRegExp))||n.length<2)&&r.pick(this.timeGridView.children.items,Number(n[1]))},a.prototype._onClick=function(e){var t=this,n=e.target,r=this.checkExpectCondition(n),a=o.closest(n,i.classname(".time-date-schedule-block")),s=this.baseController.schedules;r&&a&&s.doWhenHas(o.getData(a,"id"),(function(n){t.fire("clickSchedule",{schedule:n,event:e.originEvent})}))},r.CustomEvents.mixin(a),e.exports=a},"./src/js/handler/time/clickDayname.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js");function a(e,t,n){this.dragHandler=e,this.dayNameView=t,this.baseController=n,e.on({click:this._onClick},this)}a.prototype.destroy=function(){this.dragHandler.off(this),this.dayNameView=this.baseController=this.dragHandler=null},a.prototype.checkExpectCondition=function(e){return!!o.closest(e,i.classname(".dayname-date-area"))},a.prototype._onClick=function(e){var t=e.target,n=this.checkExpectCondition(t),r=o.closest(t,i.classname(".dayname"));n&&r&&this.fire("clickDayname",{date:o.getData(r,"date")})},r.CustomEvents.mixin(a),e.exports=a},"./src/js/handler/time/core.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/common.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domevent.js"),s=n("./src/js/common/point.js"),l=n("./src/js/common/timezone.js").Date,c={_calcGridYIndex:function(e,t,n){var r=o.millisecondsTo("hour",n*e/t),a=0|r;return a+(i.nearest(r-a,[0,1])?.5:0)},_retriveScheduleData:function(e){var t=this,n=e.container,c=e.options,u=e.getViewBound().height,d=e.getDate(),h=c.hourEnd-c.hourStart,p=o.millisecondsFrom("hour",h);return r.bind((function(f,m){var g=s.n(a.getMousePosition(f,n)).y,v=i.ratio(u,h,g),_=new l(d).addMinutes(o.minutesFromHours(v)),y=t._calcGridYIndex(p,u,g),b=new l(d).addMinutes(o.minutesFromHours(y+c.hourStart));return r.extend({target:a.getEventTarget(f),relatedView:e,originEvent:f,mouseY:g,gridY:v,timeY:_,nearestGridY:y,nearestGridTimeY:b,triggerEvent:f.type},m)}),this)},_retriveScheduleDataFromDate:function(e){var t=e.getDate();return r.bind((function(n,i,a){var s,c,d,h,p,f;return s=n.getHours()-a+u(n.getMinutes()),c=new l(t).addMinutes(o.minutesFromHours(s)),d=s,h=new l(t).addMinutes(o.minutesFromHours(d)),p=i.getHours()-a+u(i.getMinutes()),f=new l(t).addMinutes(o.minutesFromHours(p)),r.extend({target:e,relatedView:e,gridY:s,timeY:c,nearestGridY:d,nearestGridTimeY:h,nearestGridEndY:p,nearestGridEndTimeY:f,triggerEvent:"manual",hourStart:a})}),this)},mixin:function(e){var t=e.prototype;r.forEach(c,(function(e,n){"mixin"!==n&&(t[n]=e)}))}};function u(e){var t;return 0===e?t=0:e>30?t=1:e<=30&&(t=.5),t}e.exports=c},"./src/js/handler/time/creation.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/array.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/domutil.js"),l=n("./src/js/common/domevent.js"),c=n("./src/js/common/common.js"),u=n("./src/js/handler/time/creationGuide.js"),d=n("./src/js/common/timezone.js").Date,h=n("./src/js/handler/time/core.js"),p=300;function f(e,t,n,r){this.dragHandler=e,this.timeGridView=t,this.baseController=n,this.guide=new u(this),this._getScheduleDataFunc=null,this._dragStart=null,this._requestOnClick=!1,this._disableDblClick=r.disableDblClick,this._disableClick=r.disableClick,e.on("dragStart",this._onDragStart,this),e.on("click",this._onClick,this),this._disableDblClick?p=0:l.on(t.container,"dblclick",this._onDblClick,this)}f.prototype.destroy=function(){var e=this.timeGridView;this.guide.destroy(),this.dragHandler.off(this),e&&e.container&&l.off(e.container,"dblclick",this._onDblClick,this),this.dragHandler=this.timeGridView=this.baseController=this._getScheduleDataFunc=this._dragStart=this.guide=null},f.prototype.checkExpectedCondition=function(e){var t,n=s.getClass(e);return n===i.classname("time-date-schedule-block-wrap")&&(e=e.parentNode,n=s.getClass(e)),!(!(t=n.match(i.time.getViewIDRegExp))||t.length<2)&&r.pick(this.timeGridView.children.items,t[1])},f.prototype._onDragStart=function(e,t,n){var r,i,o=e.target,a=this.checkExpectedCondition(o);a&&(r=this._getScheduleDataFunc=this._retriveScheduleData(a),i=this._dragStart=r(e.originEvent),n&&n(i),this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd},this),this.fire(t||"timeCreationDragstart",i))},f.prototype._onDrag=function(e,t,n){var r,i=this._getScheduleDataFunc;i&&(r=i(e.originEvent),n&&n(r),this.fire(t||"timeCreationDrag",r))},f.prototype._createSchedule=function(e){var t,n,r,i,o,s=e.relatedView,l=e.createRange,u=e.nearestGridTimeY,h=e.nearestGridEndTimeY?e.nearestGridEndTimeY:new d(u).addMinutes(30);l||(l=[u,h]),t=new d(s.getDate()),n=a.start(t),r=a.getStartOfNextDay(t),i=c.limitDate(l[0],n,r),o=c.limitDate(l[1],n,r),this.fire("beforeCreateSchedule",{isAllDay:!1,start:new d(i),end:new d(o),guide:this.guide,triggerEventName:e.triggerEvent})},f.prototype._onDragEnd=function(e){var t=this,n=this._dragStart;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),this._onDrag(e,"timeCreationDragend",(function(e){var r=[n.nearestGridTimeY,e.nearestGridTimeY].sort(o.compare.num.asc);r[1].addMinutes(30),e.createRange=r,t._createSchedule(e)})),this._dragStart=this._getScheduleDataFunc=null},f.prototype._onClick=function(e){var t,n,r,i=this;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd},this),(t=this.checkExpectedCondition(e.target))&&!this._disableClick&&(n=this._retriveScheduleData(t),r=n(e.originEvent),this._requestOnClick=!0,setTimeout((function(){i._requestOnClick&&(i.fire("timeCreationClick",r),i._createSchedule(r)),i._requestOnClick=!1}),p),this._dragStart=this._getScheduleDataFunc=null)},f.prototype._onDblClick=function(e){var t,n;(t=this.checkExpectedCondition(e.target))&&(n=this._retriveScheduleData(t)(e),this.fire("timeCreationClick",n),this._createSchedule(n),this._requestOnClick=!1)},f.prototype.invokeCreationClick=function(e){var t,n,i=this.timeGridView.options,o=a.range(i.renderStartDate,i.renderEndDate,a.MILLISECONDS_PER_DAY),s=i.hourStart,l=e.start;r.forEach(o,(function(e,t){a.isSameDate(e,l)&&(n=this.timeGridView.children.toArray()[t])}),this),n||(n=this.timeGridView.children.toArray()[0]),t=this._retriveScheduleDataFromDate(n)(e.start,e.end,s),this.fire("timeCreationClick",t),this._createSchedule(t)},h.mixin(f),r.CustomEvents.mixin(f),e.exports=f},"./src/js/handler/time/creationGuide.js":function(e,t,n){"use strict";(function(t){var r=n("./src/js/common/common.js"),i=n("./src/js/common/datetime.js"),o=n("./src/js/config.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/reqAnimFrame.js"),l=n("./src/js/common/common.js").ratio,c=n("./src/js/common/timezone.js").Date,u=60*i.MILLISECONDS_PER_MINUTES;function d(e){this.guideElement=t.document.createElement("div"),this.guideTimeElement=a.appendHTMLElement("span",this.guideElement,o.classname("time-guide-creation-label")),a.addClass(this.guideElement,o.classname("time-guide-creation")),this.timeCreation=e,this._styleUnit=null,this._styleStart=null,this._styleFunc=null,e.on({timeCreationDragstart:this._createGuideElement,timeCreationDrag:this._onDrag,timeCreationClick:this._createGuideElement},this),this.applyTheme(e.baseController.theme)}d.prototype.destroy=function(){this.clearGuideElement(),this.timeCreation.off(this),this.timeCreation=this._styleUnit=this._styleStart=this._styleFunc=this.guideElement=this.guideTimeElement=null},d.prototype.clearGuideElement=function(){var e=this.guideElement,t=this.guideTimeElement;a.remove(e),s.requestAnimFrame((function(){e.style.display="none",e.style.top="",e.style.height="",t.innerHTML=""}))},d.prototype._refreshGuideElement=function(e,t,n,r,s){var l=this.guideElement,c=this.guideTimeElement;l.style.top=e+"px",l.style.height=t+"px",l.style.display="block",c.innerHTML=i.format(n,"HH:mm")+" - "+i.format(r,"HH:mm"),s?a.removeClass(c,o.classname("time-guide-bottom")):a.addClass(c,o.classname("time-guide-bottom"))},d.prototype._getUnitData=function(e){var t=e.options,n=e.getViewBound().height,r=t.hourEnd-t.hourStart,o=i.parse(t.ymd),a=i.getStartOfNextDay(o);return o.setHours(0,0,0,0),o.setHours(t.hourStart),[n,r,o,a,n/r]},d.prototype._limitStyleData=function(e,t,n,i){var o=this._styleUnit;return[e=r.limit(e,[0],[o[0]]),t=r.limit(e+t,[0],[o[0]])-e,n=r.limitDate(n,o[2],o[3]),i=r.limitDate(i,o[2],o[3])]},d.prototype._getStyleDataFunc=function(e,t,n){var o=n,a=i.end(n);return function(n){var i=n.nearestGridY,s=n.nearestGridTimeY,u=n.nearestGridEndTimeY||new c(s).addMinutes(30);return[r.limit(l(t,e,i),[0],[e]),r.limitDate(s,o,a),r.limitDate(u,o,a)]}},d.prototype._createGuideElement=function(e){var t,n,r,o,a,s,l,d,h=e.relatedView,p=i.millisecondsFrom("hour",e.hourStart)||0;t=this._styleUnit=this._getUnitData(h),n=this._styleFunc=this._getStyleDataFunc.apply(this,t),r=this._styleStart=n(e),l=new c(r[1]).addMinutes(i.minutesFromHours(p)),d=new c(r[2]).addMinutes(i.minutesFromHours(p)),a=r[0],s=t[4]*(d-l)/u,o=this._limitStyleData(a,s,l,d),this._refreshGuideElement.apply(this,o),h.container.appendChild(this.guideElement)},d.prototype._onDrag=function(e){var t,n,r,i=this._styleFunc,o=this._styleUnit,a=this._styleStart,l=this._refreshGuideElement.bind(this);i&&o&&a&&(t=o[4]/2,(n=i(e))[0]>a[0]?r=this._limitStyleData(a[0],n[0]-a[0]+t,a[1],new c(n[1]).addMinutes(30)):(r=this._limitStyleData(n[0],a[0]-n[0]+t,n[1],new c(a[1]).addMinutes(30))).push(!0),s.requestAnimFrame((function(){l.apply(null,r)})))},d.prototype.applyTheme=function(e){var t=this.guideElement.style,n=this.guideTimeElement.style;t.backgroundColor=e.common.creationGuide.backgroundColor,t.border=e.common.creationGuide.border,n.color=e.week.creationGuide.color,n.fontSize=e.week.creationGuide.fontSize,n.fontWeight=e.week.creationGuide.fontWeight},e.exports=d}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/time/move.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/domevent.js"),l=n("./src/js/common/timezone.js").Date,c=n("./src/js/handler/time/core.js"),u=n("./src/js/handler/time/moveGuide.js");function d(e,t,n){this.dragHandler=e,this.timeGridView=t,this.baseController=n,this._getScheduleDataFunc=null,this._dragStart=null,this._guide=new u(this),e.on("dragStart",this._onDragStart,this),e.on("mousedown",this._onMouseDown,this)}d.prototype.destroy=function(){this._guide.destroy(),this.dragHandler.off(this),this.dragHandler=this.timeGridView=this.baseController=this._getScheduleDataFunc=this._dragStart=this._guide=null},d.prototype.checkExpectCondition=function(e){return!!a.closest(e,i.classname(".time-schedule"))&&this._getTimeView(e)},d.prototype._getTimeView=function(e){var t,n=a.closest(e,i.classname(".time-date"));return!!n&&!(!(t=a.getClass(n).match(i.time.getViewIDRegExp))||t.length<2)&&r.pick(this.timeGridView.children.items,Number(t[1]))},d.prototype._onMouseDown=function(e){var t=e.target,n=this.checkExpectCondition(t),o=a.closest(t,i.classname(".time-date-schedule-block"));n&&o&&r.browser.firefox&&s.preventDefault(e.originEvent)},d.prototype._onDragStart=function(e){var t,n,r,o,s=e.target,l=this.checkExpectCondition(s),c=a.closest(s,i.classname(".time-date-schedule-block")),u=this.baseController;l&&c&&(r=a.getData(c,"id"),(o=u.schedules.items[r]).isReadOnly||(t=this._getScheduleDataFunc=this._retriveScheduleData(l),n=this._dragStart=t(e.originEvent,{targetModelID:r,model:o}),this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),this.fire("timeMoveDragstart",n)))},d.prototype._onDrag=function(e,t,n){var r,i=this._getScheduleDataFunc,o=this._getTimeView(e.target),a=this._dragStart;o&&i&&a&&(r=i(e.originEvent,{currentView:o,targetModelID:a.targetModelID}),n&&n(r),this.fire(t||"timeMoveDrag",r))},d.prototype._updateSchedule=function(e){var t,n,r=this.baseController,i=e.targetModelID,a=e.nearestRange,s=a[1]-a[0],c=0,u=r.schedules.items[i],d=e.relatedView,h=e.currentView;u&&h&&(s-=o.millisecondsFrom("minutes",30),t=new l(u.getStarts()).addMilliseconds(s),n=new l(u.getEnds()).addMilliseconds(s),h&&(c=h.getDate()-d.getDate()),t.addMilliseconds(c),n.addMilliseconds(c),this.fire("beforeUpdateSchedule",{schedule:u,changes:{start:t,end:n},start:t,end:n}))},d.prototype._onDragEnd=function(e){var t,n=this._getScheduleDataFunc,r=this._getTimeView(e.target),i=this._dragStart;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),n&&i&&((t=n(e.originEvent,{currentView:r,targetModelID:i.targetModelID})).range=[i.timeY,new l(t.timeY).addMinutes(30)],t.nearestRange=[i.nearestGridTimeY,new l(t.nearestGridTimeY).addMinutes(30)],this._updateSchedule(t),this.fire("timeMoveDragend",t))},d.prototype._onClick=function(e){var t,n=this._getScheduleDataFunc,r=this._dragStart;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),n&&r&&(t=n(e.originEvent,{targetModelID:r.targetModelID}),this.fire("timeMoveClick",t))},c.mixin(d),r.CustomEvents.mixin(d),e.exports=d},"./src/js/handler/time/moveGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/reqAnimFrame.js"),s=n("./src/js/common/common.js").ratio,l=n("./src/js/common/floatingLayer.js"),c=n("./src/js/view/template/week/timeMoveGuide.hbs"),u=n("./src/js/common/timezone.js").Date,d=n("./src/js/model/schedule.js"),h=n("./src/js/common/datetime.js"),p=n("./src/js/common/common.js"),f=h.MILLISECONDS_SCHEDULE_MIN_DURATION;function m(e){this._guideLayer=null,this._model=null,this._viewModel=null,this._lastDrag=null,this.guideElement=null,this.timeMove=e,this._container=null,this._getTopFunc=null,this._startGridY=0,this._startTopPixel=0,e.on({timeMoveDragstart:this._onDragStart,timeMoveDrag:this._onDrag,timeMoveDragend:this._clearGuideElement,timeMoveClick:this._clearGuideElement},this)}m.prototype.destroy=function(){this._clearGuideElement(),this.timeMove.off(this),this._guideLayer&&this._guideLayer.destroy(),this.guideElement=this.timeMove=this._container=this._guideLayer=this._lastDrag=this._getTopFunc=this._startGridY=this._startTopPixel=this._viewModel=null},m.prototype._clearGuideElement=function(){r.browser.msie||o.removeClass(t.document.body,i.classname("dragging")),this._guideLayer&&this._guideLayer.destroy(),this._showOriginScheduleBlocks(),this.guideElement=this._getTopFunc=this._guideLayer=this._model=this._lastDrag=this._startGridY=this._startTopPixel=this._viewModel=null},m.prototype._hideOriginScheduleBlocks=function(){var e=i.classname("time-date-schedule-block-dragging-dim");this.guideElement&&o.addClass(this.guideElement,e)},m.prototype._showOriginScheduleBlocks=function(){var e=i.classname("time-date-schedule-block-dragging-dim");this.guideElement&&o.removeClass(this.guideElement,e)},m.prototype._refreshGuideElement=function(e,t,n){var i=this;a.requestAnimFrame((function(){i._guideLayer&&(i._guideLayer.setPosition(0,e),i._guideLayer.setContent(c(r.extend({model:t},n))))}))},m.prototype._onDragStart=function(e){var t,n,a,s,l=o.closest(e.target,i.classname(".time-date-schedule-block"));l&&(this._startTopPixel=parseFloat(l.style.top),this._startGridY=e.nearestGridY,this.guideElement=l,this._container=e.relatedView.container,this._model=r.extend(d.create(e.model),e.model),n=(n=this._model.duration())>f?n:f,t=(a=h.millisecondsFrom("minutes",this._model.goingDuration))+n+(s=h.millisecondsFrom("minutes",this._model.comingDuration)),this._lastDrag=e,this._viewModel={hasGoingDuration:a>0,hasComingDuration:s>0,goingDurationHeight:p.ratio(t,a,100),modelDurationHeight:p.ratio(t,n,100),comingDurationHeight:p.ratio(t,s,100)},this._resetGuideLayer(),this._hideOriginScheduleBlocks())},m.prototype._onDrag=function(e){var n,a,l=e.currentView,c=l.options,d=l.getViewBound().height,p=parseFloat(this.guideElement.style.height),f=c.hourEnd-c.hourStart,m=e.nearestGridY-this._startGridY,g=s(f,d,m),v=e.nearestGridY-this._lastDrag.nearestGridY;r.browser.msie||o.addClass(t.document.body,i.classname("dragging")),this._container!==l.container&&(this._container=l.container,this._resetGuideLayer()),a=this._startTopPixel+g,n=d-p,a=Math.max(a,0),a=Math.min(a,n),this._model.start=new u(this._model.getStarts()).addMinutes(h.minutesFromHours(v)),this._model.end=new u(this._model.getEnds()).addMinutes(h.minutesFromHours(v)),this._lastDrag=e,this._refreshGuideElement(a,this._model,this._viewModel)},m.prototype._resetGuideLayer=function(){this._guideLayer&&(this._guideLayer.destroy(),this._guideLayer=null),this._guideLayer=new l(null,this._container),this._guideLayer.setSize(this._container.getBoundingClientRect().width,this.guideElement.style.height),this._guideLayer.setPosition(0,this.guideElement.style.top),this._guideLayer.setContent(c(r.extend({model:this._model},this._viewModel))),this._guideLayer.show()},e.exports=m}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/handler/time/resize.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/common/common.js"),c=n("./src/js/handler/time/core.js"),u=n("./src/js/handler/time/resizeGuide.js");function d(e,t,n){this.dragHandler=e,this.timeGridView=t,this.baseController=n,this._getScheduleDataFunc=null,this._dragStart=null,this._guide=new u(this),e.on("dragStart",this._onDragStart,this)}d.prototype.destroy=function(){this._guide.destroy(),this.dragHandler.off(this),this.dragHandler=this.timeGridView=this.baseController=this._getScheduleDataFunc=this._dragStart=this._guide=null},d.prototype.checkExpectCondition=function(e){var t,n;return!!a.hasClass(e,i.classname("time-resize-handle"))&&!!(t=a.closest(e,i.classname(".time-date")))&&!(!(n=a.getClass(t).match(i.time.getViewIDRegExp))||n.length<2)&&r.pick(this.timeGridView.children.items,Number(n[1]))},d.prototype._onDragStart=function(e){var t,n,r,o=e.target,s=this.checkExpectCondition(o),l=a.closest(o,i.classname(".time-date-schedule-block")),c=this.baseController;s&&l&&(t=a.getData(l,"id"),n=this._getScheduleDataFunc=this._retriveScheduleData(s),r=this._dragStart=n(e.originEvent,{targetModelID:t,schedule:c.schedules.items[t]}),this.dragHandler.on({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),this.fire("timeResizeDragstart",r))},d.prototype._onDrag=function(e,t,n){var r,i=this._getScheduleDataFunc,o=this._dragStart;i&&o&&(r=i(e.originEvent,{targetModelID:o.targetModelID}),n&&n(r),this.fire(t||"timeResizeDrag",r))},d.prototype._updateSchedule=function(e){var t,n,r,i,a=this.baseController,c=e.targetModelID,u=e.nearestRange,d=u[1]-u[0],h=a.schedules.items[c],p=e.relatedView;h&&(d-=o.millisecondsFrom("minutes",30),r=new s(p.getDate()),t=o.end(r),(n=new s(h.getEnds()).addMilliseconds(d))>t&&(n=new s(t)),n.getTime()-h.getStarts().getTime()<o.millisecondsFrom("minutes",30)&&(n=new s(h.getStarts()).addMinutes(30)),i=l.getScheduleChanges(h,["end"],{end:n}),this.fire("beforeUpdateSchedule",{schedule:h,changes:i,start:h.getStarts(),end:n}))},d.prototype._onDragEnd=function(e){var t,n=this._getScheduleDataFunc,r=this._dragStart;this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),n&&r&&((t=n(e.originEvent,{targetModelID:r.targetModelID})).range=[r.timeY,new s(t.timeY).addMinutes(30)],t.nearestRange=[r.nearestGridTimeY,t.nearestGridTimeY.addMinutes(30)],this._updateSchedule(t),this.fire("timeResizeDragend",t),this._getScheduleDataFunc=this._dragStart=null)},d.prototype._onClick=function(){this.dragHandler.off({drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this),this.fire("timeResizeClick")},c.mixin(d),r.CustomEvents.mixin(d),e.exports=d},"./src/js/handler/time/resizeGuide.js":function(e,t,n){"use strict";(function(t){var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/reqAnimFrame.js"),s=n("./src/js/common/common.js").ratio,l=n("./src/js/common/datetime.js");function c(e){this.guideElement=null,this.timeResize=e,this._getTopFunc=null,this._originScheduleElement=null,this._startTopPixel=0,this._startHeightPixel=0,this._startGridY=0,this._schedule=null,e.on({timeResizeDragstart:this._onDragStart,timeResizeDrag:this._onDrag,timeResizeDragend:this._clearGuideElement,timeResizeClick:this._clearGuideElement},this)}c.prototype.destroy=function(){this._clearGuideElement(),this.timeResize.off(this),this.guideElement=this.timeResize=this._getTopFunc=this._originScheduleElement=this._startHeightPixel=this._startGridY=this._startTopPixel=null},c.prototype._clearGuideElement=function(){var e=this.guideElement,n=this._originScheduleElement;r.browser.msie||o.removeClass(t.document.body,i.classname("resizing")),n&&(n.style.display="block"),o.remove(e),this.guideElement=this._getTopFunc=this._originScheduleElement=this._startHeightPixel=this._startGridY=this._startTopPixel=null},c.prototype._refreshGuideElement=function(e,t,n){var r,s=this.guideElement;s&&(r=o.find(i.classname(".time-schedule-content-time"),s),a.requestAnimFrame((function(){s.style.height=e+"px",s.style.display="block",r&&(r.style.height=n+"px",r.style.minHeight=t+"px")})))},c.prototype._onDragStart=function(e){var n,a=o.closest(e.target,i.classname(".time-date-schedule-block")),s=e.schedule;r.browser.msie||o.addClass(t.document.body,i.classname("resizing")),a&&s&&(this._startGridY=e.nearestGridY,this._startHeightPixel=parseFloat(a.style.height),this._startTopPixel=parseFloat(a.style.top),this._originScheduleElement=a,this._schedule=s,n=this.guideElement=a.cloneNode(!0),o.addClass(n,i.classname("time-guide-resize")),a.style.display="none",e.relatedView.container.appendChild(n))},c.prototype._onDrag=function(e){var t,n,r,i,o,a=e.relatedView,c=a.options,u=a.getViewBound().height,d=c.hourEnd-c.hourStart,h=this.guideElement,p=parseFloat(h.style.top),f=e.nearestGridY-this._startGridY,m=s(d,u,f),g=this._schedule.goingDuration,v=this._schedule.duration()/l.MILLISECONDS_PER_MINUTES,_=this._schedule.comingDuration,y=60*d;o=this._startHeightPixel+m,r=p+s(d,u,.5),n=r-=this._startTopPixel,r+=s(y,u,g)+s(y,u,_),i=u-p,o=Math.max(o,r),o=Math.min(o,i),t=s(y,u,v)+m,this._refreshGuideElement(o,n,t)},e.exports=c}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./src/js/model/schedule.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/timezone.js").Date,o=n("./src/js/common/datetime.js"),a=n("./src/js/common/dirty.js"),s=n("./src/js/common/model.js"),l=o.MILLISECONDS_SCHEDULE_MIN_DURATION,c="allday";function u(){this.id="",this.title="",this.body="",this.isAllDay=!1,this.start=null,this.end=null,this.color="#000",this.isVisible=!0,this.bgColor="#a1b56c",this.dragBgColor="#a1b56c",this.borderColor="#000",this.calendarId="",this.category="",this.dueDateClass="",this.customStyle="",this.isPending=!1,this.isFocused=!1,this.isReadOnly=!1,this.isPrivate=!1,this.location="",this.attendees=[],this.recurrenceRule="",this.state="",this.goingDuration=0,this.comingDuration=0,this.raw=null,r.stamp(this)}u.schema={required:["title"],dateRange:["start","end"]},u.create=function(e){var t=new u;return t.init(e),t},u.prototype.init=function(e){(e=r.extend({},e)).category===c&&(e.isAllDay=!0),this.id=e.id||"",this.title=e.title||"",this.body=e.body||"",this.isAllDay=!!r.isExisty(e.isAllDay)&&e.isAllDay,this.isVisible=!r.isExisty(e.isVisible)||e.isVisible,this.color=e.color||this.color,this.bgColor=e.bgColor||this.bgColor,this.dragBgColor=e.dragBgColor||this.dragBgColor,this.borderColor=e.borderColor||this.borderColor,this.calendarId=e.calendarId||"",this.category=e.category||"",this.dueDateClass=e.dueDateClass||"",this.customStyle=e.customStyle||"",this.location=e.location||"",this.attendees=e.attendees||[],this.recurrenceRule=e.recurrenceRule||"",this.isPrivate=e.isPrivate||!1,this.isPending=e.isPending||!1,this.isFocused=e.isFocused||!1,this.isReadOnly=e.isReadOnly||!1,this.goingDuration=e.goingDuration||0,this.comingDuration=e.comingDuration||0,this.state=e.state||"",this.isAllDay?this.setAllDayPeriod(e.start,e.end):this.setTimePeriod(e.start,e.end),this.raw=e.raw||null},u.prototype.setAllDayPeriod=function(e,t){e=r.isString(e)?o.parse(e.substring(0,10)):new i(e||Date.now()),t=r.isString(t)?o.parse(t.substring(0,10)):new i(t||this.start),this.start=e,this.start.setHours(0,0,0),this.end=t||new i(this.start),this.end.setHours(23,59,59)},u.prototype.setTimePeriod=function(e,t){this.start=new i(e||Date.now()),this.end=new i(t||this.start),t||this.end.setMinutes(this.end.getMinutes()+30)},u.prototype.getStarts=function(){return this.start},u.prototype.getEnds=function(){return this.end},u.prototype.cid=function(){return r.stamp(this)},u.prototype.equals=function(e){return this.id===e.id&&this.title===e.title&&this.body===e.body&&this.isAllDay===e.isAllDay&&0===o.compare(this.getStarts(),e.getStarts())&&0===o.compare(this.getEnds(),e.getEnds())&&this.color===e.color&&this.bgColor===e.bgColor&&this.dragBgColor===e.dragBgColor&&this.borderColor===e.borderColor},u.prototype.duration=function(){var e=this.getStarts(),t=this.getEnds();return this.isAllDay?o.end(t)-o.start(e):t-e},u.prototype.collidesWith=function(e){var t=this.getStarts(),n=this.getEnds(),r=e.getStarts(),i=e.getEnds(),a=o.millisecondsFrom("minutes",this.goingDuration),s=o.millisecondsFrom("minutes",this.comingDuration),c=o.millisecondsFrom("minutes",e.goingDuration),u=o.millisecondsFrom("minutes",e.comingDuration);return Math.abs(n-t)<l&&(n+=l),Math.abs(i-r)<l&&(i+=l),n+=s,i+=u,(r-=c)>(t-=a)&&r<n||i>t&&i<n||r<=t&&i>=n},s.mixin(u.prototype),a.mixin(u.prototype),e.exports=u},"./src/js/model/viewModel/scheduleViewModel.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/datetime.js"),o=i.MILLISECONDS_SCHEDULE_MIN_DURATION;function a(e){this.model=e,this.top=0,this.left=0,this.width=0,this.height=0,this.hasCollide=!1,this.extraSpace=0,this.hidden=!1,this.hasMultiDates=!1,this.renderStarts=null,this.exceedLeft=!1,this.renderEnds=null,this.exceedRight=!1}a.create=function(e){return new a(e)},a.prototype.getStarts=function(){return this.renderStarts?this.renderStarts:this.model.start},a.prototype.getEnds=function(){return this.renderEnds?this.renderEnds:this.model.end},a.prototype.cid=function(){return r.stamp(this.model)},a.prototype.valueOf=function(){return this.model},a.prototype.duration=function(){return this.model.duration()},a.prototype.collidesWith=function(e){var t=this.getStarts(),n=this.getEnds(),r=e.getStarts(),a=e.getEnds(),s=i.millisecondsFrom("minutes",this.valueOf().goingDuration),l=i.millisecondsFrom("minutes",this.valueOf().comingDuration),c=i.millisecondsFrom("minutes",e.valueOf().goingDuration),u=i.millisecondsFrom("minutes",e.valueOf().comingDuration);return Math.abs(n-t)<o&&(n+=o),Math.abs(a-r)<o&&(a+=o),n+=l,a+=u,(r-=c)>(t-=s)&&r<n||a>t&&a<n||r<=t&&a>=n},e.exports=a},"./src/js/theme/standard.js":function(e,t,n){"use strict";e.exports={"common.border":"1px solid #e5e5e5","common.backgroundColor":"white","common.holiday.color":"#ff4040","common.saturday.color":"#333","common.dayname.color":"#333","common.today.color":"#333","common.creationGuide.backgroundColor":"rgba(81, 92, 230, 0.05)","common.creationGuide.border":"1px solid #515ce6","month.dayname.height":"31px","month.dayname.borderLeft":"none","month.dayname.paddingLeft":"10px","month.dayname.paddingRight":"0","month.dayname.backgroundColor":"inherit","month.dayname.fontSize":"12px","month.dayname.fontWeight":"normal","month.dayname.textAlign":"left","month.holidayExceptThisMonth.color":"rgba(255, 64, 64, 0.4)","month.dayExceptThisMonth.color":"rgba(51, 51, 51, 0.4)","month.weekend.backgroundColor":"inherit","month.day.fontSize":"14px","month.schedule.borderRadius":"2px","month.schedule.height":"24px","month.schedule.marginTop":"2px","month.schedule.marginLeft":"8px","month.schedule.marginRight":"8px","month.moreView.border":"1px solid #d5d5d5","month.moreView.boxShadow":"0 2px 6px 0 rgba(0, 0, 0, 0.1)","month.moreView.backgroundColor":"white","month.moreView.paddingBottom":"17px","month.moreViewTitle.height":"44px","month.moreViewTitle.marginBottom":"12px","month.moreViewTitle.borderBottom":"none","month.moreViewTitle.padding":"12px 17px 0 17px","month.moreViewList.padding":"0 17px","week.dayname.height":"42px","week.dayname.borderTop":"1px solid #e5e5e5","week.dayname.borderBottom":"1px solid #e5e5e5","week.dayname.borderLeft":"none","week.dayname.paddingLeft":"0","week.dayname.backgroundColor":"inherit","week.dayname.textAlign":"left","week.today.color":"inherit","week.pastDay.color":"#bbb","week.vpanelSplitter.border":"1px solid #e5e5e5","week.vpanelSplitter.height":"3px","week.daygrid.borderRight":"1px solid #e5e5e5","week.daygrid.backgroundColor":"inherit","week.daygridLeft.width":"72px","week.daygridLeft.backgroundColor":"inherit","week.daygridLeft.paddingRight":"8px","week.daygridLeft.borderRight":"1px solid #e5e5e5","week.today.backgroundColor":"rgba(81, 92, 230, 0.05)","week.weekend.backgroundColor":"inherit","week.timegridLeft.width":"72px","week.timegridLeft.backgroundColor":"inherit","week.timegridLeft.borderRight":"1px solid #e5e5e5","week.timegridLeft.fontSize":"11px","week.timegridOneHour.height":"52px","week.timegridHalfHour.height":"26px","week.timegridHalfHour.borderBottom":"none","week.timegridHorizontalLine.borderBottom":"1px solid #e5e5e5","week.timegrid.paddingRight":"8px","week.timegrid.borderRight":"1px solid #e5e5e5","week.timegridSchedule.borderRadius":"2px","week.timegridSchedule.paddingLeft":"2px","week.currentTime.color":"#515ce6","week.currentTime.fontSize":"11px","week.currentTime.fontWeight":"normal","week.currentTimeLinePast.border":"1px dashed #515ce6","week.currentTimeLineBullet.backgroundColor":"#515ce6","week.currentTimeLineToday.border":"1px solid #515ce6","week.currentTimeLineFuture.border":"none","week.creationGuide.color":"#515ce6","week.creationGuide.fontSize":"11px","week.creationGuide.fontWeight":"bold","week.dayGridSchedule.borderRadius":"2px","week.dayGridSchedule.height":"24px","week.dayGridSchedule.marginTop":"2px","week.dayGridSchedule.marginLeft":"8px","week.dayGridSchedule.marginRight":"8px"}},"./src/js/theme/theme.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/theme/standard.js"),o=n("./src/js/theme/themeConfig.js"),a=n("./src/js/common/common.js");function s(e){var t=e||i;this._map=new r.HashMap,this.setStyles(t)}s.prototype.getStyle=function(e){return this._map.get(e)},s.prototype.setStyle=function(e,t){var n={};return n[e]=t,0===this.setStyles(n).length},s.prototype.setStyles=function(e){var t=[];return r.forEach(e,(function(e,n){r.isUndefined(o[n])?t.push(n):(this._map.set(n,e),a.set(this,n,e))}),this),r.forEach(o,(function(e,t){this.getStyle(t)||(this._map.set(t,e),a.set(this,t,e))}),this),t},s.prototype.clear=function(){var e=this._map.keys(),t={};r.forEach(e,(function(e){var n=e.split(".")[0];t[n]||(t[n]=n)})),r.forEach(t,(function(e){delete this[e]}),this),this._map.removeAll()},e.exports=s},"./src/js/theme/themeConfig.js":function(e,t,n){"use strict";e.exports={"common.border":"1px solid #e5e5e5","common.backgroundColor":"white","common.holiday.color":"#ff4040","common.saturday.color":"#333","common.dayname.color":"#333","common.today.color":"#333","common.creationGuide.backgroundColor":"rgba(81, 92, 230, 0.05)","common.creationGuide.border":"1px solid #515ce6","month.dayname.height":"31px","month.dayname.borderLeft":"1px solid #e5e5e5","month.dayname.paddingLeft":"10px","month.dayname.paddingRight":"10px","month.dayname.backgroundColor":"inherit","month.dayname.fontSize":"12px","month.dayname.fontWeight":"normal","month.dayname.textAlign":"left","month.holidayExceptThisMonth.color":"rgba(255, 64, 64, 0.4)","month.dayExceptThisMonth.color":"rgba(51, 51, 51, 0.4)","month.weekend.backgroundColor":"inherit","month.day.fontSize":"14px","month.schedule.borderRadius":"2px","month.schedule.height":"24px","month.schedule.marginTop":"2px","month.schedule.marginLeft":"8px","month.schedule.marginRight":"8px","month.moreView.border":"1px solid #d5d5d5","month.moreView.boxShadow":"0 2px 6px 0 rgba(0, 0, 0, 0.1)","month.moreView.backgroundColor":"white","month.moreView.paddingBottom":"17px","month.moreViewTitle.height":"44px","month.moreViewTitle.marginBottom":"12px","month.moreViewTitle.backgroundColor":"inherit","month.moreViewTitle.borderBottom":"none","month.moreViewTitle.padding":"12px 17px 0 17px","month.moreViewList.padding":"0 17px","week.dayname.height":"42px","week.dayname.borderTop":"1px solid #e5e5e5","week.dayname.borderBottom":"1px solid #e5e5e5","week.dayname.borderLeft":"inherit","week.dayname.paddingLeft":"0","week.dayname.backgroundColor":"inherit","week.dayname.textAlign":"left","week.today.color":"#333","week.pastDay.color":"#bbb","week.vpanelSplitter.border":"1px solid #e5e5e5","week.vpanelSplitter.height":"3px","week.daygrid.borderRight":"1px solid #e5e5e5","week.daygrid.backgroundColor":"inherit","week.daygridLeft.width":"72px","week.daygridLeft.backgroundColor":"inherit","week.daygridLeft.paddingRight":"8px","week.daygridLeft.borderRight":"1px solid #e5e5e5","week.today.backgroundColor":"rgba(81, 92, 230, 0.05)","week.weekend.backgroundColor":"inherit","week.timegridLeft.width":"72px","week.timegridLeft.backgroundColor":"inherit","week.timegridLeft.borderRight":"1px solid #e5e5e5","week.timegridLeft.fontSize":"11px","week.timegridLeftTimezoneLabel.height":"40px","week.timegridLeftAdditionalTimezone.backgroundColor":"white","week.timegridOneHour.height":"52px","week.timegridHalfHour.height":"26px","week.timegridHalfHour.borderBottom":"none","week.timegridHorizontalLine.borderBottom":"1px solid #e5e5e5","week.timegrid.paddingRight":"8px","week.timegrid.borderRight":"1px solid #e5e5e5","week.timegridSchedule.borderRadius":"2px","week.timegridSchedule.paddingLeft":"2px","week.currentTime.color":"#515ce6","week.currentTime.fontSize":"11px","week.currentTime.fontWeight":"normal","week.pastTime.color":"#bbb","week.pastTime.fontWeight":"normal","week.futureTime.color":"#333","week.futureTime.fontWeight":"normal","week.currentTimeLinePast.border":"1px dashed #515ce6","week.currentTimeLineBullet.backgroundColor":"#515ce6","week.currentTimeLineToday.border":"1px solid #515ce6","week.currentTimeLineFuture.border":"none","week.creationGuide.color":"#515ce6","week.creationGuide.fontSize":"11px","week.creationGuide.fontWeight":"bold","week.dayGridSchedule.borderRadius":"2px","week.dayGridSchedule.height":"24px","week.dayGridSchedule.marginTop":"2px","week.dayGridSchedule.marginLeft":"8px","week.dayGridSchedule.marginRight":"8px"}},"./src/js/view/layout.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/collection.js"),s=n("./src/js/view/view.js");function l(e,t){e=o.appendHTMLElement("div",e,i.classname("layout")),this.container=e,this.children=new a((function(e){return e.viewName})),this.theme=t,this.applyTheme()}r.inherit(l,s),l.prototype.clear=function(){this.children.each((function(e){e.destroy()})),this.children.clear(),this.container.innerHTML=""},l.prototype.removeChild=function(e){this.children.remove(e)},l.prototype.toggleChildView=function(e){var t,n,r=["add","remove"];this.children.each((function(a){t=a.container,n=Number(a.viewName===e),o[r[n]+"Class"](t,i.classname("hidden"))}))},l.prototype.applyTheme=function(){var e=this.container.style,t=this.theme.common;e.backgroundColor=t.backgroundColor},e.exports=l},"./src/js/view/month/month.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/view/template/month/month.hbs"),c=n("./src/js/view/view.js"),u=n("./src/js/common/vlayout.js"),d=n("./src/js/view/month/weekdayInMonth.js"),h=Math.min;function p(e,t,n){var i,a=n?n.theme:null;i=(e=e||{})?e.month:{},c.call(this,t),this.controller=n,this.vLayout=new u({panels:[{height:parseInt(n.theme.month.dayname.height,10)||42},{autoHeight:!0}]},t,a),this.options=r.extend({scheduleFilter:function(e){return Boolean(e.isVisible)},startDayOfWeek:0,renderMonth:"2018-01",daynames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrowWeekend:!1,visibleWeeksCount:null,isAlways6Week:!0,isReadOnly:e.isReadOnly,grid:{header:{height:34},footer:{height:3}}},i),this.options.grid.header=r.extend({height:34},r.pick(i,"grid","header")),this.options.grid.footer=r.extend({height:3},r.pick(i,"grid","footer")),this.grids=o.getGridLeftAndWidth(this.options.daynames.length,this.options.narrowWeekend,this.options.startDayOfWeek)}r.inherit(p,c),p.prototype.viewName="month",p.prototype._getMonthCalendar=function(e){var t,n=new s(e),r=this.options.startDayOfWeek||0,i=h(this.options.visibleWeeksCount||0,6),a=this.options.workweek||!1;return t=this.options.visibleWeeksCount?{startDayOfWeek:r,isAlways6Week:!1,visibleWeeksCount:i,workweek:a}:{startDayOfWeek:r,isAlways6Week:this.options.isAlways6Week,workweek:a},o.arr2dCalendar(n,t)},p.prototype._renderChildren=function(e,t,n){var o=this,l=100/t.length,c=this.options,u=c.renderMonth,h=c.narrowWeekend,p=c.startDayOfWeek,f=c.visibleWeeksCount,m=c.visibleScheduleCount,g=c.grid,v=c.isReadOnly;e.innerHTML="",this.children.clear(),r.forEach(t,(function(t){var r,c,_=new s(t[0]),y=new s(t[t.length-1]);r=a.appendHTMLElement("div",e,i.classname("month-week-item")),c=new d({renderMonth:u,heightPercent:l,renderStartDate:_,renderEndDate:y,narrowWeekend:h,startDayOfWeek:p,visibleWeeksCount:f,visibleScheduleCount:m,grid:g,scheduleHeight:parseInt(n.month.schedule.height,10),scheduleGutter:parseInt(n.month.schedule.marginTop,10),isReadOnly:v},r),o.addChild(c)}))},p.prototype.render=function(){var e,t,n,i=this,a=this.options,s=this.vLayout,c=this.controller,u=a.daynames,d=a.workweek,h=this._getMonthCalendar(a.renderMonth),p=a.scheduleFilter,f=c?c.theme:null,m=this._getStyles(f);e=this.grids=o.getGridLeftAndWidth(a.daynames.length,a.narrowWeekend,a.startDayOfWeek),t=r.map(r.range(a.startDayOfWeek,7).concat(r.range(7)).slice(0,7),(function(t,n){return{day:t,label:u[t],width:e[n]?e[n].width:0,left:e[n]?e[n].left:0,color:this._getDayNameColor(f,t)}}),this),d&&(e=this.grids=o.getGridLeftAndWidth(5,a.narrowWeekend,a.startDayOfWeek,d),t=r.filter(t,(function(e){return!o.isWeekend(e.day)})),r.forEach(t,(function(t,n){t.width=e[n]?e[n].width:0,t.left=e[n]?e[n].left:0}))),n={daynames:t,styles:m},s.panels[0].container.innerHTML=l(n),this._renderChildren(s.panels[1].container,h,f),n.panelHeight=s.panels[1].getHeight(),this.children.each((function(t){var r=o.start(t.options.renderStartDate),a=o.start(t.options.renderEndDate),s=c.findByDateRange(o.start(r),o.end(a),p),l={eventsInDateRange:s,range:o.range(o.start(r),o.end(a),o.MILLISECONDS_PER_DAY).slice(0,e.length),grids:e,panelHeight:n.panelHeight,theme:f};t.render(l),i._invokeAfterRenderSchedule(s)}))},p.prototype._invokeAfterRenderSchedule=function(e){var t=this;r.forEachArray(e,(function(e){r.forEachArray(e,(function(e){r.forEachArray(e,(function(e){e&&!e.hidden&&t.fire("afterRenderSchedule",{schedule:e.model})}))}))}))},p.prototype._getStyles=function(e){var t,n={};return e&&(t=e.month.dayname,n.borderTop=t.borderTop||e.common.border,n.borderLeft=t.borderLeft||e.common.border,n.height=t.height,n.paddingLeft=t.paddingLeft,n.paddingRight=t.paddingRight,n.fontSize=t.fontSize,n.backgroundColor=t.backgroundColor,n.fontWeight=t.fontWeight,n.textAlign=t.textAlign),n},p.prototype._getDayNameColor=function(e,t){var n="";return e&&(n=0===t?e.common.holiday.color:6===t?e.common.saturday.color:e.common.dayname.color),n},e.exports=p},"./src/js/view/month/more.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domevent.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/view/view.js"),l=n("./src/js/common/floatingLayer.js"),c=n("./src/js/common/common.js"),u=n("./src/js/view/template/month/more.hbs");function d(e,t,n){s.call(this,t),this.layer=new l(null,t),this._viewModel=null,this.options=r.extend({moreLayerSize:{width:null,height:null},scheduleHeight:parseInt(n.month.schedule.height,10)||18,scheduleGutter:parseInt(n.month.schedule.marginTop,10)||2,scheduleBulletTop:(parseInt(n.month.schedule.height,10)||18)/3,borderRadius:n.month.schedule.borderRadius},e),this.theme=n,o.on(t,"click",this._onClick,this)}r.inherit(d,s),d.prototype._onClick=function(e){var t=o.getEventTarget(e),n=i.classname("month-more-close");(a.hasClass(t,n)||a.closest(t,"."+n))&&this.hide()},d.prototype._onMouseDown=function(e){var t=o.getEventTarget(e);a.closest(t,i.classname(".month-more"))||this.hide()},d.prototype._getRenderPosition=function(e,t){var n=o.getMousePosition({clientX:a.getPosition(e)[0],clientY:a.getPosition(t)[1]},this.container),r=a.getSize(this.container),i=n[0]-5,s=n[1]-5;return[i=c.ratio(r[0],100,i),s=c.ratio(r[1],100,s)]},d.prototype.destroy=function(){this.layer.destroy(),this.layer=null,o.off(this.container,"click",this._onClick,this),o.off(document.body,"mousedown",this._onMouseDown,this),s.prototype.destroy.call(this)},d.prototype.render=function(e){var t,n,s,l,c=a.closest(e.target,i.classname(".weekday-grid-line")),d=a.closest(c,i.classname(".month-week-item")),h=this.layer,p=this,f=this._getRenderPosition(c,d),m=a.getSize(d)[1]+10,g=c.offsetWidth+10,v=this.options,_=v.moreLayerSize,y=this._getStyles(this.theme),b="",C=a.getSize(this.container),w=f[0],S=f[1];this._viewModel=r.extend(e,{scheduleGutter:v.scheduleGutter,scheduleHeight:v.scheduleHeight,scheduleBulletTop:v.scheduleBulletTop,borderRadius:v.borderRadius,styles:y}),g=Math.max(g,280),b=parseInt(y.titleHeight,10),b+=parseInt(y.titleMarginBottom,10),e.schedules.length<=10?b+=(v.scheduleGutter+v.scheduleHeight)*e.schedules.length:b+=10*(v.scheduleGutter+v.scheduleHeight),b+=parseInt(y.paddingBottom,10),b+=5,_.width&&(g=_.width),_.height&&(b=_.height),(isNaN(b)||b<m)&&(b=m),h.setContent(u(e)),t=w*C[0]/100,n=S*C[1]/100,s=t+g>=C[0],l=n+b>=C[1],w+="%",S+="%",s&&l?h.setLTRB({right:0,bottom:0}):!s&&l?h.setLTRB({left:w,bottom:0}):s&&!l?h.setLTRB({right:0,top:S}):h.setPosition(w,S),h.setSize(g,b),h.show(),r.debounce((function(){o.on(document.body,"mousedown",p._onMouseDown,p)}))()},d.prototype.hide=function(){this.layer.hide(),o.off(document.body,"mousedown",this._onMouseDown,this)},d.prototype.refresh=function(){this._viewModel&&this.layer.setContent(u(this._viewModel))},d.prototype.getMoreViewElement=function(){return a.find(i.classname(".month-more"),this.layer.container)},d.prototype._getStyles=function(e){var t={},n="";return e&&(t.border=e.month.moreView.border||e.common.border,t.boxShadow=e.month.moreView.boxShadow,t.backgroundColor=e.month.moreView.backgroundColor||e.common.backgroundColor,t.paddingBottom=e.month.moreView.paddingBottom,t.titleHeight=e.month.moreViewTitle.height,t.titleMarginBottom=e.month.moreViewTitle.marginBottom,t.titleBackgroundColor=e.month.moreViewTitle.backgroundColor,t.titleBorderBottom=e.month.moreViewTitle.borderBottom,t.titlePadding=e.month.moreViewTitle.padding,t.listPadding=e.month.moreViewList.padding,n="calc(100%",parseInt(t.titleHeight,10)&&(n+=" - "+t.titleHeight),parseInt(t.titleMarginBottom,10)&&(n+=" - "+t.titleMarginBottom),n+=")",t.listHeight=n),t},e.exports=d},"./src/js/view/month/weekdayInMonth.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/view/view.js"),l=n("./src/js/view/weekday.js"),c=n("./src/js/view/template/month/weekdayInMonth.hbs"),u=n("./src/js/view/template/month/weekdayInMonthSchedule.hbs"),d=Math.floor,h=Math.min;function p(e,t){l.call(this,e,t),t.style.height=e.heightPercent+"%"}r.inherit(p,l),p.prototype.getViewBound=function(){return s.prototype.getViewBound.call(this)},p.prototype._getRenderLimitIndex=function(e){var t,n=this.options,i=e||this.getViewBound().height,o=r.pick(n,"grid","header","height")||0,a=r.pick(n,"grid","footer","height")||0,s=n.visibleScheduleCount||0;return t=d((i-=o+a)/(n.scheduleHeight+n.scheduleGutter)),s||(s=t),h(t,s)},p.prototype.getBaseViewModel=function(e){var t,n=this.options,i=r.pick(n,"grid","header","height")||0,o=r.pick(n,"grid","footer","height")||0,a=this._getRenderLimitIndex()+1,s=this.getExceedDate(a,e.eventsInDateRange,e.range),c=this._getStyles(e.theme);return e=r.extend({exceedDate:s},e),t=l.prototype.getBaseViewModel.call(this,e),t=r.extend({matrices:e.eventsInDateRange,gridHeaderHeight:i,gridFooterHeight:o,renderLimitIdx:a,isReadOnly:n.isReadOnly,styles:c},t)},p.prototype.render=function(e){var t,n=this.container,s=this.getBaseViewModel(e);this.options.visibleWeeksCount||function(e,t,n){var i=t.getMonth()+1;r.forEach(e,(function(e){var t=e.month!==i;e.isOtherMonth=t,t&&(e.color=l.prototype._getDayNameColor(n,e.day,e.isToday,t))}))}(s.dates,this.options.renderMonth,e.theme),n.innerHTML=c(s),(t=a.find(i.classname(".weekday-schedules"),n))&&(t.innerHTML=u(s),o.setAutoEllipsis(i.classname(".weekday-schedule-title"),n,!0))},p.prototype._beforeDestroy=function(){},p.prototype._getStyles=function(e){var t={};return e&&(t.borderTop=e.common.border,t.borderLeft=e.common.border,t.fontSize=e.month.day.fontSize,t.borderRadius=e.month.schedule.borderRadius,t.marginLeft=e.month.schedule.marginLeft,t.marginRight=e.month.schedule.marginRight,t.scheduleBulletTop=this.options.scheduleHeight/3),t},e.exports=p},"./src/js/view/popup/scheduleCreationPopup.js":function(e,t,n){"use strict";var r=n("./src/js/view/view.js"),i=n("./src/js/common/floatingLayer.js"),o=n("tui-code-snippet"),a=n("tui-date-picker"),s=n("./src/js/common/timezone.js"),l=n("./src/js/config.js"),c=n("./src/js/common/domevent.js"),u=n("./src/js/common/domutil.js"),d=n("./src/js/common/common.js"),h=n("./src/js/common/datetime.js"),p=n("./src/js/view/template/popup/scheduleCreationPopup.hbs"),f=s.Date;function m(e,t,n){r.call(this,e),this.layer=new i(null,e),this._viewModel=null,this._selectedCal=null,this._schedule=null,this.calendars=t,this._focusedDropdown=null,this._usageStatistics=n,this._onClickListeners=[this._selectDropdownMenuItem.bind(this),this._toggleDropdownMenuView.bind(this),this._closeDropdownMenuView.bind(this,null),this._closePopup.bind(this),this._toggleIsAllday.bind(this),this._toggleIsPrivate.bind(this),this._onClickSaveSchedule.bind(this)],c.on(e,"click",this._onClick,this)}o.inherit(m,r),m.prototype._onMouseDown=function(e){var t=c.getEventTarget(e);u.closest(t,l.classname(".floating-layer"))||this.hide()},m.prototype.destroy=function(){this.layer.destroy(),this.layer=null,c.off(this.container,"click",this._onClick,this),c.off(document.body,"mousedown",this._onMouseDown,this),r.prototype.destroy.call(this)},m.prototype._onClick=function(e){var t=c.getEventTarget(e);o.forEach(this._onClickListeners,(function(e){return!e(t)}))},m.prototype._closePopup=function(e){var t=l.classname("popup-close");return!(!u.hasClass(e,t)&&!u.closest(e,"."+t))&&(this.hide(),!0)},m.prototype._toggleDropdownMenuView=function(e){var t=l.classname("dropdown-button"),n=u.hasClass(e,t)?e:u.closest(e,"."+t);return!!n&&(u.hasClass(n.parentNode,l.classname("open"))?this._closeDropdownMenuView(n.parentNode):this._openDropdownMenuView(n.parentNode),!0)},m.prototype._closeDropdownMenuView=function(e){(e=e||this._focusedDropdown)&&(u.removeClass(e,l.classname("open")),this._focusedDropdown=null)},m.prototype._openDropdownMenuView=function(e){u.addClass(e,l.classname("open")),this._focusedDropdown=e},m.prototype._selectDropdownMenuItem=function(e){var t,n,r,i,o=l.classname("dropdown-menu-item"),a=l.classname("icon"),s=l.classname("content"),c=u.hasClass(e,o)?e:u.closest(e,"."+o);return!!c&&(t=u.find("."+a,c).style.backgroundColor||"transparent",n=u.find("."+s,c).innerHTML,r=u.closest(c,l.classname(".dropdown")),i=u.find(l.classname(".dropdown-button"),r),u.find("."+s,i).innerText=n,u.hasClass(r,l.classname("section-calendar"))&&(u.find("."+a,i).style.backgroundColor=t,this._selectedCal=d.find(this.calendars,(function(e){return e.id===u.getData(c,"calendarId")}))),u.removeClass(r,l.classname("open")),!0)},m.prototype._toggleIsAllday=function(e){var t,n=l.classname("section-allday"),r=u.hasClass(e,n)?e:u.closest(e,"."+n);return!!r&&((t=u.find(l.classname(".checkbox-square"),r)).checked=!t.checked,!0)},m.prototype._toggleIsPrivate=function(e){var t=l.classname("section-private"),n=u.hasClass(e,t)?e:u.closest(e,"."+t);return!!n&&(u.hasClass(n,l.classname("public"))?u.removeClass(n,l.classname("public")):u.addClass(n,l.classname("public")),!0)},m.prototype._onClickSaveSchedule=function(e){var t,n,r,i,o,a,s=l.classname("popup-save"),c=l.cssPrefix;return!(!u.hasClass(e,s)&&!u.closest(e,"."+s))&&(t=u.get(c+"schedule-title"),n=new f(this.rangePicker.getStartDate()).toLocalTime(),r=new f(this.rangePicker.getEndDate()).toLocalTime(),this._validateForm(t,n,r)?(a=!!u.get(c+"schedule-allday").checked,i=this._getRangeDate(n,r,a),o={calendarId:this._selectedCal?this._selectedCal.id:null,title:t,location:u.get(c+"schedule-location"),start:i.start,end:i.end,isAllDay:a,state:u.get(c+"schedule-state").innerText,isPrivate:!u.hasClass(u.get(c+"schedule-private"),l.classname("public"))},this._isEditMode?this._onClickUpdateSchedule(o):this._onClickCreateSchedule(o),this.hide(),!0):(t.value||t.focus(),!1))},m.prototype.render=function(e){var t,n,r=this.calendars,i=this.layer,a=this;e.zIndex=this.layer.zIndex+5,e.calendars=r,r.length&&(e.selectedCal=this._selectedCal=r[0]),this._isEditMode=e.schedule&&e.schedule.id,this._isEditMode?(t=e.target,e=this._makeEditModeData(e)):(this.guide=e.guide,t=(n=this._getGuideElements(this.guide)).length?n[0]:null),i.setContent(p(e)),this._createDatepicker(e.start,e.end,e.isAllDay),i.show(),t&&this._setPopupPositionAndArrowDirection(t.getBoundingClientRect()),o.debounce((function(){c.on(document.body,"mousedown",a._onMouseDown,a)}))()},m.prototype._makeEditModeData=function(e){var t,n,r,i,o,a,s,l=e.schedule,c=l.raw||{},u=this.calendars,h=l.id;return t=l.title,n="private"===c.class,r=l.location,i=l.start,o=l.end,a=l.isAllDay,s=l.state,e.selectedCal=this._selectedCal=d.find(this.calendars,(function(t){return t.id===e.schedule.calendarId})),this._schedule=l,{id:h,selectedCal:this._selectedCal,calendars:u,title:t,isPrivate:n,location:r,isAllDay:a,state:s,start:i,end:o,raw:{class:n?"private":"public"},zIndex:this.layer.zIndex+5,isEditMode:this._isEditMode}},m.prototype._setPopupPositionAndArrowDirection=function(e){var t=u.find(l.classname(".popup"),this.layer.container),n={width:t.offsetWidth,height:t.offsetHeight},r=this.container.getBoundingClientRect(),i=this._calcRenderingData(n,r,e);this.layer.setPosition(i.x,i.y),this._setArrowDirection(i.arrow)},m.prototype._getGuideElements=function(e){var t=[],n=0;if(e.guideElement)t.push(e.guideElement);else if(e.guideElements)for(;n<6;n+=1)e.guideElements[n]&&t.push(e.guideElements[n]);return t},m.prototype._getBoundOfFirstRowGuideElement=function(e){var t;return e.length?{top:(t=e[0].getBoundingClientRect()).top,left:t.left,bottom:t.bottom,right:t.right}:null},m.prototype._getYAndArrowDirection=function(e,t,n,r,i){var o="arrow-bottom",a=e-n;return a<r?(a=t-r+3,o="arrow-top"):a=a-r-3,a+n>i&&(a=i-n-r-3),{y:a,arrowDirection:o}},m.prototype._getXAndArrowLeft=function(e,t,n,r,i){var o,a=(e+t)/2,s=a-n/2;return s+n>i?o=a-(s=t-n+8):s+=8,s<r?(s=0,o=a-r-8):s=s-r-8,{x:s,arrowLeft:o}},m.prototype._calcRenderingData=function(e,t,n){var r=this._getYAndArrowDirection(n.top,n.bottom,e.height,t.top,t.bottom),i=this._getXAndArrowLeft(n.left,n.right,e.width,t.left,t.right);return{x:i.x,y:r.y,arrow:{direction:r.arrowDirection,position:i.arrowLeft}}},m.prototype._setArrowDirection=function(e){var t=e.direction||"arrow-bottom",n=u.get(l.classname("popup-arrow")),r=u.find(l.classname(".popup-arrow-border",n));t!==l.classname("arrow-bottom")&&(u.removeClass(n,l.classname("arrow-bottom")),u.addClass(n,l.classname(t))),e.position&&(r.style.left=e.position+"px")},m.prototype._createDatepicker=function(e,t,n){var r=l.cssPrefix;this.rangePicker=a.createRangePicker({startpicker:{date:new f(e).toDate(),input:"#"+r+"schedule-start-date",container:"#"+r+"startpicker-container"},endpicker:{date:new f(t).toDate(),input:"#"+r+"schedule-end-date",container:"#"+r+"endpicker-container"},format:n?"yyyy-MM-dd":"yyyy-MM-dd HH:mm",timepicker:n?null:{showMeridiem:!1,usageStatistics:this._usageStatistics},usageStatistics:this._usageStatistics})},m.prototype.hide=function(){this.layer.hide(),this.guide&&(this.guide.clearGuideElement(),this.guide=null),c.off(document.body,"mousedown",this._onMouseDown,this)},m.prototype.refresh=function(){this._viewModel&&this.layer.setContent(this.tmpl(this._viewModel))},m.prototype.setCalendars=function(e){this.calendars=e||[]},m.prototype._validateForm=function(e,t,n){return!!e.value&&!(!t&&!n)&&1!==h.compare(t,n)},m.prototype._getRangeDate=function(e,t,n){return n&&(e.setHours(0,0,0),t=h.isStartOfDay(t)?h.convertStartDayToLastDay(t):t.setHours(23,59,59)),{start:new f(e),end:new f(t)}},m.prototype._onClickUpdateSchedule=function(e){var t=d.getScheduleChanges(this._schedule,["calendarId","title","location","start","end","isAllDay","state"],{calendarId:e.calendarId,title:e.title.value,location:location.value,start:e.start,end:e.end,isAllDay:e.isAllDay,state:e.state});this.fire("beforeUpdateSchedule",{schedule:o.extend({raw:{class:e.isPrivate?"private":"public"}},this._schedule),changes:t,start:e.start,end:e.end,calendar:this._selectedCal,triggerEventName:"click"})},m.prototype._onClickCreateSchedule=function(e){this.fire("beforeCreateSchedule",{calendarId:e.calendarId,title:e.title.value,location:location.value,raw:{class:e.isPrivate?"private":"public"},start:e.start,end:e.end,isAllDay:e.isAllDay,state:e.state})},e.exports=m},"./src/js/view/popup/scheduleDetailPopup.js":function(e,t,n){"use strict";var r=n("./src/js/view/view.js"),i=n("./src/js/common/floatingLayer.js"),o=n("tui-code-snippet"),a=n("./src/js/config.js"),s=n("./src/js/common/domevent.js"),l=n("./src/js/common/domutil.js"),c=n("./src/js/view/template/popup/scheduleDetailPopup.hbs");function u(e){r.call(this,e),this.layer=new i(null,e),this._viewModel=null,this._schedule=null,this._calendar=null,s.on(e,"click",this._onClick,this)}o.inherit(u,r),u.prototype._onMouseDown=function(e){var t=s.getEventTarget(e);l.closest(t,a.classname(".floating-layer"))||this.hide()},u.prototype.destroy=function(){this.layer.destroy(),this.layer=null,s.off(this.container,"click",this._onClick,this),s.off(document.body,"mousedown",this._onMouseDown,this),r.prototype.destroy.call(this)},u.prototype._onClick=function(e){var t=s.getEventTarget(e);this._onClickEditSchedule(t),this._onClickDeleteSchedule(t)},u.prototype._onClickEditSchedule=function(e){var t=a.classname("popup-edit");(l.hasClass(e,t)||l.closest(e,"."+t))&&(this.fire("beforeUpdateSchedule",{schedule:this._schedule,triggerEventName:"click",target:this._scheduleEl}),this.hide())},u.prototype._onClickDeleteSchedule=function(e){var t=a.classname("popup-delete");(l.hasClass(e,t)||l.closest(e,"."+t))&&(this.fire("beforeDeleteSchedule",{schedule:this._schedule}),this.hide())},u.prototype.render=function(e){var t=this.layer,n=this;t.setContent(c({schedule:e.schedule,calendar:e.calendar})),t.show(),this._setPopupPositionAndArrowDirection(e.event),this._schedule=e.schedule,this._calendar=e.calendar,o.debounce((function(){s.on(document.body,"mousedown",n._onMouseDown,n)}))()},u.prototype._setPopupPositionAndArrowDirection=function(e){var t,n=l.find(a.classname(".popup"),this.layer.container),r={width:n.offsetWidth,height:n.offsetHeight},i=this.container.getBoundingClientRect(),o=s.getEventTarget(e),c=l.closest(o,a.classname(".time-date-schedule-block"))||l.closest(o,a.classname(".weekday-schedule"))||o,u=c.getBoundingClientRect();this._scheduleEl=c,t=this._calcRenderingData(r,i,u),this.layer.setPosition(t.x,t.y),this._setArrowDirection(t.arrow)},u.prototype._getYAndArrowTop=function(e,t,n,r,i){var o,a,s;return(a=(o=((e=e<0?0:e)+t)/2)-n/2)<r?(a=0,s=o-r-8):a+n>i?s=o-(a=i-n-r)-r-8:a-=r,(s<0||s>n)&&(s=null),{y:a,arrowTop:s}},u.prototype._getXAndArrowDirection=function(e,t,n,r,i){var o="arrow-left",a=t;return a+n>i?(o="arrow-right",a=e-n-4):a+=4,a<r?a=0:a-=r,{x:a,arrowDirection:o}},u.prototype._calcRenderingData=function(e,t,n){var r=this._getYAndArrowTop(n.top,n.bottom,e.height,t.top,t.bottom),i=this._getXAndArrowDirection(n.left,n.right,e.width,t.left,t.right);return{x:i.x,y:r.y,arrow:{direction:i.arrowDirection,position:r.arrowTop}}},u.prototype._setArrowDirection=function(e){var t=e.direction||"arrow-left",n=l.find(a.classname(".popup-arrow"),this.layer.container),r=l.find(a.classname(".popup-arrow-border"),n);t!==a.classname("arrow-left")&&(l.removeClass(n,a.classname("arrow-left")),l.addClass(n,a.classname(t))),e.position&&(r.style.top=e.position+"px")},u.prototype.hide=function(){this.layer.hide(),this.guide&&(this.guide.clearGuideElement(),this.guide=null),s.off(document.body,"mousedown",this._onMouseDown,this)},u.prototype.refresh=function(){this._viewModel&&this.layer.setContent(this.tmpl(this._viewModel))},e.exports=u},"./src/js/view/template/helper.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./node_modules/handlebars-template-loader/runtime/index.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/common.js"),s=n("./src/js/config.js"),l=Math.max,c={stamp:function(e){return r.stamp(e)},equal:function(e,t){return e===t},or:function(e,t){return e||t},and:function(e,t){return e&&t},fi:function(e,t,n,r){switch(t){case"==":return e==n?r.fn(this):r.inverse(this);case"===":return e===n?r.fn(this):r.inverse(this);case"!==":return e!==n?r.fn(this):r.inverse(this);case"<":return e<n?r.fn(this):r.inverse(this);case"||":return e||n?r.fn(this):r.inverse(this);default:throw new Error("Not match operation")}},hhmm:function(e){return o.format(e,"HH:mm")},"common-width":function(e){return u(e,"%","width")},"grid-left":function(e,t){return function(e,t){return t[e.left]?t[e.left].left:0}(e,t)},"grid-width":function(e,t){return d(e,t)},"time-scheduleBlock":function(e){return[u(e.top,"px","top"),u(e.left,"%","left"),u(e.width,"%","width"),u(e.height,"px","height")].join(";")},"month-scheduleBlock":function(e,t,n,r){return[u((e.top-1)*n+r,"px","top"),u(t[e.left]?t[e.left].left:0,"%","left"),u(d(e,t),"%","width"),u(e.height,"px","height")].join(";")},holiday:function(e){var t="";return 0===e&&(t=s.classname("holiday-sun")),6===e&&(t=s.classname("holiday-sat")),t},add:function(e,t){return e+t},multiply:function(e,t){return e*t},divide:function(e,t){return e/t},subtract:function(e,t){return e-t},getRight:function(e,t){return l(0,100-(e+t))},CSS_PREFIX:function(){return s.cssPrefix},reverse:function(e){return e.slice().reverse()},"milestone-tmpl":function(e){return'<span class="'+s.classname("icon")+" "+s.classname("ic-milestone")+'"></span><span style="background-color: '+e.bgColor+'">'+a.stripTags(e.title)+"</span>"},"milestoneTitle-tmpl":function(){return'<span class="'+s.classname("left-content")+'">Milestone</span>'},"task-tmpl":function(e){return"#"+e.title},"taskTitle-tmpl":function(){return'<span class="'+s.classname("left-content")+'">Task</span>'},"alldayTitle-tmpl":function(){return'<span class="'+s.classname("left-content")+'">All Day</span>'},"allday-tmpl":function(e){return a.stripTags(e.title)},"time-tmpl":function(e){return a.stripTags(e.title)},"goingDuration-tmpl":function(e){var t=e.goingDuration,n=parseInt(t/60,10),r=t%60;return"GoingTime "+o.leadingZero(n,2)+":"+o.leadingZero(r,2)},"comingDuration-tmpl":function(e){var t=e.goingDuration,n=parseInt(t/60,10),r=t%60;return"ComingTime "+o.leadingZero(n,2)+":"+o.leadingZero(r,2)},"monthMoreTitleDate-tmpl":function(e,t){var n=s.classname("month-more-title-day"),i=s.classname("month-more-title-day-label");return'<span class="'+n+'">'+r.pick(e.split("."),2)+'</span> <span class="'+i+'">'+t+"</span>"},"monthMoreClose-tmpl":function(){return""},"monthGridHeader-tmpl":function(e){var t=parseInt(e.date.split("-")[2],10),n=[];return n.push(s.classname("weekday-grid-date")),e.isToday&&n.push(s.classname("weekday-grid-date-decorator")),'<span class="'+n.join(" ")+'">'+t+"</span>"},"monthGridHeaderExceed-tmpl":function(e){return'<span class="'+s.classname("weekday-grid-more-schedules")+'">'+e+" more</span>"},"monthGridFooter-tmpl":function(){return""},"monthGridFooterExceed-tmpl":function(e){return""},"monthDayname-tmpl":function(e){return e.label},"weekDayname-tmpl":function(e){var t=s.classname("dayname-date"),n=s.classname("dayname-name");return'<span class="'+t+'">'+e.date+'</span>&nbsp;&nbsp;<span class="'+n+'">'+e.dayName+"</span>"},"weekGridFooterExceed-tmpl":function(e){return"+"+e},"dayGridTitle-tmpl":function(e){var t=i.helpers[e+"Title-tmpl"];return t?t(e):e},"schedule-tmpl":function(e){var t=i.helpers[e.category+"-tmpl"];return t?t(e):""},"collapseBtnTitle-tmpl":function(){return'<span class="'+s.classname("icon")+" "+s.classname("ic-arrow-solid-top")+'"></span>'},"timezoneDisplayLabel-tmpl":function(e,t){var n,i,a;return r.isUndefined(t)&&(n=e<0?"-":"+",i=Math.abs(parseInt(e/60,10)),a=Math.abs(e%60),t=n+o.leadingZero(i,2)+":"+o.leadingZero(a,2)),t},"timegridDisplayPrimayTime-tmpl":function(e){return i.helpers["timegridDisplayPrimaryTime-tmpl"](e)},"timegridDisplayPrimaryTime-tmpl":function(e){var t=e.hour,n=t>=12?"pm":"am";return t>12&&(t-=12),t+" "+n},"timegridDisplayTime-tmpl":function(e){return o.leadingZero(e.hour,2)+":"+o.leadingZero(e.minutes,2)},"timegridCurrentTime-tmpl":function(e){var t=[];return e.dateDifference&&t.push("["+e.dateDifferenceSign+e.dateDifference+"]<br>"),t.push(o.format(e.hourmarker,"HH:mm")),t.join("")},"popupIsAllDay-tmpl":function(){return"All day"},"popupStateFree-tmpl":function(){return"Free"},"popupStateBusy-tmpl":function(){return"Busy"},"titlePlaceholder-tmpl":function(){return"Subject"},"locationPlaceholder-tmpl":function(){return"Location"},"startDatePlaceholder-tmpl":function(){return"Start date"},"endDatePlaceholder-tmpl":function(){return"End date"},"popupSave-tmpl":function(){return"Save"},"popupUpdate-tmpl":function(){return"Update"},"popupDetailDate-tmpl":function(e,t,n){var r=o.isSameDate(t,n),i=(r?"":"YYYY.MM.DD ")+"hh:mm tt";return e?o.format(t,"YYYY.MM.DD")+(r?"":" - "+o.format(n,"YYYY.MM.DD")):o.format(t,"YYYY.MM.DD hh:mm tt")+" - "+o.format(n,i)},"popupDetailLocation-tmpl":function(e){return e.location},"popupDetailUser-tmpl":function(e){return(e.attendees||[]).join(", ")},"popupDetailState-tmpl":function(e){return e.state||"Busy"},"popupDetailRepeat-tmpl":function(e){return e.recurrenceRule},"popupDetailBody-tmpl":function(e){return e.body},"popupEdit-tmpl":function(){return"Edit"},"popupDelete-tmpl":function(){return"Delete"}};function u(e,t,n){return n=n||"",r.isNumber(e)?n+":"+e+t:n+":auto"}function d(e,t){for(var n,r=0,i=0,o=t.length;i<e.width;i+=1)n=(e.left+i)%o,(n+=parseInt((e.left+i)/o,10))<o&&(r+=t[n]?t[n].width:0);return r}i.registerHelper(c)},"./src/js/view/template/month/month.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:16},end:{line:4,column:30}}}):a)+'month-dayname-item"\n         style="position: absolute;\n                width: '+c("function"===typeof(a=null!=(a=d(n,"width")||(null!=t?d(t,"width"):t))?a:l)?a.call(s,{name:"width",hash:{},data:i,loc:{start:{line:6,column:23},end:{line:6,column:32}}}):a)+"%;\n                left: "+c("function"===typeof(a=null!=(a=d(n,"left")||(null!=t?d(t,"left"):t))?a:l)?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:7,column:22},end:{line:7,column:30}}}):a)+"%;\n                padding-left: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"paddingLeft"),t))+";\n                padding-right: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"paddingRight"),t))+";\n                line-height: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"height"),t))+";\n"+(null!=(o=d(n,"unless").call(s,i&&d(i,"last"),{name:"unless",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:11,column:16},end:{line:13,column:27}}}))?o:"")+'                ">\n        <span class="'+c((d(n,"holiday")||t&&d(t,"holiday")||l).call(s,null!=t?d(t,"day"):t,{name:"holiday",hash:{},data:i,loc:{start:{line:15,column:21},end:{line:15,column:36}}}))+'" style="color: '+c("function"===typeof(a=null!=(a=d(n,"color")||(null!=t?d(t,"color"):t))?a:l)?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:15,column:52},end:{line:15,column:61}}}):a)+';">\n            '+(null!=(o=(d(n,"monthDayname-tmpl")||t&&d(t,"monthDayname-tmpl")||l).call(s,t,{name:"monthDayname-tmpl",hash:{},data:i,loc:{start:{line:16,column:12},end:{line:16,column:40}}}))?o:"")+"\n        </span>\n    </div>\n"},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                border-right: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"borderLeft"),t))+";\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lambda,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+l("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'month-dayname"\n    style="border-top: '+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"borderTop"):o,t))+"; height: "+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"height"):o,t))+"; font-size: "+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"fontSize"):o,t))+"; background-color: "+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"backgroundColor"):o,t))+"; text-align: "+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"textAlign"):o,t))+"; font-weight: "+l(c(null!=(o=null!=t?u(t,"styles"):t)?u(o,"fontWeight"):o,t))+';">\n'+(null!=(o=u(n,"each").call(s,null!=t?u(t,"daynames"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:0},end:{line:19,column:9}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/view/template/month/more.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(a(n,"fi")||t&&a(t,"fi")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=(o=null!=t?a(t,"model"):t)?a(o,"isAllDay"):o,"||",null!=t?a(t,"hasMultiDates"):t,{name:"fi",hash:{},fn:e.program(2,i,0),inverse:e.program(7,i,0),data:i,loc:{start:{line:9,column:8},end:{line:65,column:15}}}))?o:""},2:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div data-id="'+c((d(n,"stamp")||t&&d(t,"stamp")||l).call(s,null!=t?d(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:10,column:26},end:{line:10,column:41}}}))+'"\n                data-schedule-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'"\n                class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:23},end:{line:12,column:37}}}):a)+"month-more-schedule "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:57},end:{line:12,column:71}}}):a)+"month-more-allday "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:89},end:{line:12,column:103}}}):a)+'weekday-schedule-title"\n                style="height: '+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height: "+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; margin-top: "+c(u((o=i&&d(i,"root"))&&d(o,"scheduleGutter"),t))+"px; border-radius: "+c(u((o=i&&d(i,"root"))&&d(o,"borderRadius"),t))+";\n"+(null!=(o=d(n,"if").call(s,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.program(5,i,0),data:i,loc:{start:{line:14,column:20},end:{line:18,column:27}}}))?o:"")+"                    "+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n                    '+(null!=(o=(d(n,"allday-tmpl")||t&&d(t,"allday-tmpl")||l).call(s,null!=t?d(t,"model"):t,{name:"allday-tmpl",hash:{},data:i,loc:{start:{line:20,column:20},end:{line:20,column:43}}}))?o:"")+"\n            </div>\n"},3:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-left:3px solid "+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},5:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-left:3px solid "+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},7:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(a(n,"fi")||t&&a(t,"fi")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=(o=null!=t?a(t,"model"):t)?a(o,"category"):o,"===","time",{name:"fi",hash:{},fn:e.program(8,i,0),inverse:e.program(17,i,0),data:i,loc:{start:{line:23,column:12},end:{line:64,column:19}}}))?o:""},8:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d="function",h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div data-id="'+c((h(n,"stamp")||t&&h(t,"stamp")||l).call(s,null!=t?h(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:24,column:30},end:{line:24,column:45}}}))+'"\n                    data-schedule-id="'+c(u(null!=(o=null!=t?h(t,"model"):t)?h(o,"id"):o,t))+'" data-calendar-id="'+c(u(null!=(o=null!=t?h(t,"model"):t)?h(o,"calendarId"):o,t))+'"\n                    class="'+c(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===d?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:26,column:27},end:{line:26,column:41}}}):a)+"month-more-schedule "+c(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===d?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:26,column:61},end:{line:26,column:75}}}):a)+"weekday-schedule "+c(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===d?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:26,column:92},end:{line:26,column:106}}}):a)+'weekday-schedule-time"\n                    style="height: '+c(u((o=i&&h(i,"root"))&&h(o,"scheduleHeight"),t))+"px; line-height: "+c(u((o=i&&h(i,"root"))&&h(o,"scheduleHeight"),t))+"px; margin-top: "+c(u((o=i&&h(i,"root"))&&h(o,"scheduleGutter"),t))+"px;"+c(u(null!=(o=null!=t?h(t,"model"):t)?h(o,"customStyle"):o,t))+'">\n                    <span class="'+c(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===d?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:28,column:33},end:{line:28,column:47}}}):a)+'weekday-schedule-bullet"\n                        style="top: '+c(u((o=i&&h(i,"root"))&&h(o,"scheduleBulletTop"),t))+"px;\n"+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i,loc:{start:{line:30,column:28},end:{line:34,column:35}}}))?o:"")+'"></span>\n                    <span class="'+c(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===d?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:35,column:33},end:{line:35,column:47}}}):a)+'weekday-schedule-title"\n                        style="'+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i,loc:{start:{line:36,column:31},end:{line:41,column:35}}}))?o:"")+'"\n                        data-title="'+c(u(null!=(o=null!=t?h(t,"model"):t)?h(o,"title"):o,t))+'">'+(null!=(o=(h(n,"time-tmpl")||t&&h(t,"time-tmpl")||l).call(s,null!=t?h(t,"model"):t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:42,column:53},end:{line:42,column:74}}}))?o:"")+"</span>\n                </div>\n"},9:function(e,t,n,r,i){return"                                background: #ffffff\n"},11:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                background:"+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"borderColor"):o,t))+"\n                            "},13:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n                                color: #ffffff;\n                                background-color: "+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"color"):o,t))+"\n"},15:function(e,t,n,r,i){return"                                color:#333;\n                            "},17:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div data-id="'+c((d(n,"stamp")||t&&d(t,"stamp")||l).call(s,null!=t?d(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:45,column:30},end:{line:45,column:45}}}))+'"\n                    data-schedule-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'"\n                    class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:27},end:{line:47,column:41}}}):a)+"month-more-schedule "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:61},end:{line:47,column:75}}}):a)+"weekday-schedule "+(null!=(o=d(n,"if").call(s,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i,loc:{start:{line:47,column:92},end:{line:47,column:161}}}))?o:"")+'"\n                    style="height:'+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height:"+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; border-radius: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"borderRadius"),t))+";\n"+(null!=(o=d(n,"unless").call(s,null!=t?d(t,"exceedLeft"):t,{name:"unless",hash:{},fn:e.program(20,i,0),inverse:e.noop,data:i,loc:{start:{line:49,column:20},end:{line:51,column:31}}}))?o:"")+(null!=(o=d(n,"unless").call(s,null!=t?d(t,"exceedRight"):t,{name:"unless",hash:{},fn:e.program(22,i,0),inverse:e.noop,data:i,loc:{start:{line:52,column:20},end:{line:54,column:31}}}))?o:"")+(null!=(o=d(n,"if").call(s,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.program(26,i,0),data:i,loc:{start:{line:55,column:20},end:{line:59,column:27}}}))?o:"")+"                        "+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n                    <span class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:61,column:33},end:{line:61,column:47}}}):a)+'weekday-schedule-title"\n                                    data-title="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"title"):o,t))+'">'+(null!=(o=(d(n,"schedule-tmpl")||t&&d(t,"schedule-tmpl")||l).call(s,null!=t?d(t,"model"):t,{name:"schedule-tmpl",hash:{},data:i,loc:{start:{line:62,column:65},end:{line:62,column:90}}}))?o:"")+"</span>\n                </div>\n"},18:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:115},end:{line:47,column:129}}}):o)+"weekday-schedule-focused "},20:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        margin-left: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginLeft"),t))+";\n"},22:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        margin-right: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginRight"),t))+";\n"},24:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+";\n"},26:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'month-more" style="padding-bottom: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"paddingBottom"):o,t))+"; border: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"border"):o,t))+"; box-shadow: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"boxShadow"):o,t))+"; background-color: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"backgroundColor"):o,t))+';">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:16},end:{line:2,column:30}}}):a)+'month-more-title"\n        style="height: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"titleHeight"):o,t))+"; margin-bottom: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"titleMarginBottom"):o,t))+"; background-color: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"titleBackgroundColor"):o,t))+"; border-bottom: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"titleBorderBottom"):o,t))+"; padding: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"titlePadding"):o,t))+';">\n        <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:21},end:{line:4,column:35}}}):a)+'month-more-title-date">'+(null!=(o=(h(n,"monthMoreTitleDate-tmpl")||t&&h(t,"monthMoreTitleDate-tmpl")||l).call(s,null!=t?h(t,"date"):t,null!=t?h(t,"dayname"):t,{name:"monthMoreTitleDate-tmpl",hash:{},data:i,loc:{start:{line:4,column:58},end:{line:4,column:100}}}))?o:"")+'</span>\n        <button type="button" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:37},end:{line:5,column:51}}}):a)+'month-more-close">'+(null!=(o=typeof(a=null!=(a=h(n,"monthMoreClose-tmpl")||(null!=t?h(t,"monthMoreClose-tmpl"):t))?a:l)===c?a.call(s,{name:"monthMoreClose-tmpl",hash:{},data:i,loc:{start:{line:5,column:69},end:{line:5,column:94}}}):a)?o:"")+'</button>\n    </div>\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:30}}}):a)+'month-more-list" style="padding: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"listPadding"):o,t))+"; height: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"listHeight"):o,t))+';">\n'+(null!=(o=h(n,"each").call(s,null!=t?h(t,"schedules"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:8,column:8},end:{line:66,column:17}}}))?o:"")+"    </div>\n</div>\n"},useData:!0})},"./src/js/view/template/month/weekdayInMonth.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:30}}}):a)+"weekday-grid-line "+u((d(n,"holiday")||t&&d(t,"holiday")||l).call(s,null!=t?d(t,"day"):t,{name:"holiday",hash:{},data:i,loc:{start:{line:7,column:48},end:{line:7,column:63}}}))+(null!=(o=(d(n,"fi")||t&&d(t,"fi")||l).call(s,null!=t?d(t,"date"):t,"!==",1,{name:"fi",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:63},end:{line:7,column:119}}}))?o:"")+(null!=(o=d(n,"if").call(s,null!=t?d(t,"isToday"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:119},end:{line:7,column:161}}}))?o:"")+(null!=(o=d(n,"if").call(s,null!=t?d(t,"isOtherMonth"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:161},end:{line:7,column:213}}}))?o:"")+'"\n        style="width:'+u(typeof(a=null!=(a=d(n,"width")||(null!=t?d(t,"width"):t))?a:l)===c?a.call(s,{name:"width",hash:{},data:i,loc:{start:{line:8,column:21},end:{line:8,column:30}}}):a)+"%; left:"+u(typeof(a=null!=(a=d(n,"left")||(null!=t?d(t,"left"):t))?a:l)===c?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:8,column:38},end:{line:8,column:46}}}):a)+"%; background-color: "+u(typeof(a=null!=(a=d(n,"backgroundColor")||(null!=t?d(t,"backgroundColor"):t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:i,loc:{start:{line:8,column:67},end:{line:8,column:86}}}):a)+"; font-size: "+u(e.lambda((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"fontSize"),t))+";\n"+(null!=(o=d(n,"unless").call(s,i&&d(i,"last"),{name:"unless",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i,loc:{start:{line:9,column:8},end:{line:11,column:19}}}))?o:"")+'        ">\n        <div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:20},end:{line:13,column:34}}}):a)+'weekday-grid-header">\n            <span style="color: '+u(typeof(a=null!=(a=d(n,"color")||(null!=t?d(t,"color"):t))?a:l)===c?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:14,column:32},end:{line:14,column:41}}}):a)+';">'+(null!=(o=(d(n,"monthGridHeader-tmpl")||t&&d(t,"monthGridHeader-tmpl")||l).call(s,t,{name:"monthGridHeader-tmpl",hash:{},data:i,loc:{start:{line:14,column:44},end:{line:14,column:75}}}))?o:"")+"</span>\n"+(null!=(o=d(n,"if").call(s,null!=t?d(t,"hiddenSchedules"):t,{name:"if",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i,loc:{start:{line:15,column:12},end:{line:17,column:19}}}))?o:"")+'        </div>\n        <div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:19,column:20},end:{line:19,column:34}}}):a)+'weekday-grid-footer">\n            <span style="color: '+u(typeof(a=null!=(a=d(n,"color")||(null!=t?d(t,"color"):t))?a:l)===c?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:20,column:32},end:{line:20,column:41}}}):a)+';">'+(null!=(o=(d(n,"monthGridFooter-tmpl")||t&&d(t,"monthGridFooter-tmpl")||l).call(s,t,{name:"monthGridFooter-tmpl",hash:{},data:i,loc:{start:{line:20,column:44},end:{line:20,column:75}}}))?o:"")+"</span>\n"+(null!=(o=d(n,"if").call(s,null!=t?d(t,"hiddenSchedules"):t,{name:"if",hash:{},fn:e.program(12,i,0),inverse:e.noop,data:i,loc:{start:{line:21,column:12},end:{line:23,column:19}}}))?o:"")+"        </div>\n    </div>\n"},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:84},end:{line:7,column:98}}}):o)+"near-month-day"},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:135},end:{line:7,column:149}}}):o)+"today"},6:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:182},end:{line:7,column:196}}}):o)+"extra-date"},8:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"        border-right:"+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"borderLeft"),t))+";\n"},10:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:29},end:{line:16,column:43}}}):a)+'weekday-exceed-in-month" data-ymd="'+c("function"===typeof(a=null!=(a=u(n,"ymd")||(null!=t?u(t,"ymd"):t))?a:l)?a.call(s,{name:"ymd",hash:{},data:i,loc:{start:{line:16,column:78},end:{line:16,column:85}}}):a)+'">'+(null!=(o=(u(n,"monthGridHeaderExceed-tmpl")||t&&u(t,"monthGridHeaderExceed-tmpl")||l).call(s,null!=t?u(t,"hiddenSchedules"):t,{name:"monthGridHeaderExceed-tmpl",hash:{},data:i,loc:{start:{line:16,column:87},end:{line:16,column:135}}}))?o:"")+"</span>\n"},12:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:22,column:29},end:{line:22,column:43}}}):a)+'weekday-exceed-in-month" data-ymd="'+c("function"===typeof(a=null!=(a=u(n,"ymd")||(null!=t?u(t,"ymd"):t))?a:l)?a.call(s,{name:"ymd",hash:{},data:i,loc:{start:{line:22,column:78},end:{line:22,column:85}}}):a)+'">'+(null!=(o=(u(n,"monthGridFooterExceed-tmpl")||t&&u(t,"monthGridFooterExceed-tmpl")||l).call(s,null!=t?u(t,"hiddenSchedules"):t,{name:"monthGridFooterExceed-tmpl",hash:{},data:i,loc:{start:{line:22,column:87},end:{line:22,column:135}}}))?o:"")+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'weekday-border"\n    style="\n    border-top: '+c(e.lambda(null!=(o=null!=t?u(t,"styles"):t)?u(o,"borderTop"):o,t))+';\n"></div>\n<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:12},end:{line:5,column:26}}}):a)+'weekday-grid">\n'+(null!=(o=u(n,"each").call(s,null!=t?u(t,"dates"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:6,column:0},end:{line:26,column:11}}}))?o:"")+'</div>\n<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:28,column:12},end:{line:28,column:26}}}):a)+'weekday-schedules"></div>\n'},useData:!0})},"./src/js/view/template/month/weekdayInMonthSchedule.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:0},end:{line:80,column:11}}}))?o:""},2:function(e,t,n,r,i){var o;return"\n"+(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:0},end:{line:79,column:11}}}))?o:"")},3:function(e,t,n,r,i){var o;return"\n"+(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:0},end:{line:78,column:9}}}))?o:"")},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"\n"+(null!=(o=(a(n,"fi")||t&&a(t,"fi")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=t?a(t,"top"):t,"<",(o=i&&a(i,"root"))&&a(o,"renderLimitIdx"),{name:"fi",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:5,column:4},end:{line:77,column:13}}}))?o:"")},5:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div data-id="'+c((u(n,"stamp")||t&&u(t,"stamp")||l).call(s,null!=t?u(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:6,column:18},end:{line:6,column:33}}}))+'"\n         class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:30}}}):a)+"weekday-schedule-block\n                "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:16},end:{line:8,column:30}}}):a)+"weekday-schedule-block-"+c((u(n,"stamp")||t&&u(t,"stamp")||l).call(s,null!=t?u(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:8,column:53},end:{line:8,column:68}}}))+"\n            "+(null!=(o=u(n,"if").call(s,null!=t?u(t,"exceedLeft"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:9,column:12},end:{line:9,column:71}}}))?o:"")+"\n            "+(null!=(o=u(n,"if").call(s,null!=t?u(t,"exceedRight"):t,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:12},end:{line:10,column:73}}}))?o:"")+'"\n         style="'+c((u(n,"month-scheduleBlock")||t&&u(t,"month-scheduleBlock")||l).call(s,t,(o=i&&u(i,"root"))&&u(o,"dates"),(o=i&&u(i,"root"))&&u(o,"scheduleBlockHeight"),(o=i&&u(i,"root"))&&u(o,"gridHeaderHeight"),{name:"month-scheduleBlock",hash:{},data:i,loc:{start:{line:11,column:16},end:{line:11,column:105}}}))+";\n                margin-top:"+c(e.lambda((o=i&&u(i,"root"))&&u(o,"scheduleBlockGutter"),t))+'px">\n'+(null!=(o=(u(n,"fi")||t&&u(t,"fi")||l).call(s,null!=(o=null!=t?u(t,"model"):t)?u(o,"isAllDay"):o,"||",null!=t?u(t,"hasMultiDates"):t,{name:"fi",hash:{},fn:e.program(10,i,0),inverse:e.program(23,i,0),data:i,loc:{start:{line:13,column:8},end:{line:75,column:15}}}))?o:"")+"    </div>\n"},6:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:9,column:31},end:{line:9,column:45}}}):o)+"weekday-exceed-left"},8:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:10,column:32},end:{line:10,column:46}}}):o)+"weekday-exceed-right"},10:function(e,t,n,r,i){var o,a,s=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div data-schedule-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'" class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:92},end:{line:14,column:106}}}):a)+"weekday-schedule "+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i,loc:{start:{line:14,column:123},end:{line:14,column:192}}}))?o:"")+'"\n             style="height:'+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height:"+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; border-radius: "+l(s((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"borderRadius"),t))+";\n"+(null!=(o=d(n,"unless").call(c,null!=t?d(t,"exceedLeft"):t,{name:"unless",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:16},end:{line:18,column:27}}}))?o:"")+(null!=(o=d(n,"unless").call(c,null!=t?d(t,"exceedRight"):t,{name:"unless",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i,loc:{start:{line:19,column:16},end:{line:21,column:27}}}))?o:"")+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(17,i,0),inverse:e.program(19,i,0),data:i,loc:{start:{line:22,column:16},end:{line:26,column:23}}}))?o:"")+"                    "+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n            <span class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:28,column:25},end:{line:28,column:39}}}):a)+'weekday-schedule-title"\n                  data-title="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"title"):o,t))+'">'+(null!=(o=(d(n,"allday-tmpl")||t&&d(t,"allday-tmpl")||u).call(c,null!=t?d(t,"model"):t,{name:"allday-tmpl",hash:{},data:i,loc:{start:{line:29,column:47},end:{line:29,column:70}}}))?o:"")+"</span>\n            "+(null!=(o=d(n,"unless").call(c,(d(n,"or")||t&&d(t,"or")||u).call(c,(o=i&&d(i,"root"))&&d(o,"isReadOnly"),null!=(o=null!=t?d(t,"model"):t)?d(o,"isReadOnly"):o,{name:"or",hash:{},data:i,loc:{start:{line:30,column:22},end:{line:30,column:60}}}),{name:"unless",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i,loc:{start:{line:30,column:12},end:{line:30,column:194}}}))?o:"")+"\n        </div>\n"},11:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:146},end:{line:14,column:160}}}):o)+"weekday-schedule-focused "},13:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    margin-left: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginLeft"),t))+";\n"},15:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    margin-right: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginRight"),t))+";\n"},17:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+";\n"},19:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},21:function(e,t,n,r,i){var o,a,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="'+s("function"===typeof(a=null!=(a=l(n,"CSS_PREFIX")||(null!=t?l(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:75},end:{line:30,column:89}}}):a)+'weekday-resize-handle handle-y" style="line-height: '+s(e.lambda((o=i&&l(i,"root"))&&l(o,"scheduleHeight"),t))+'px;">&nbsp;</span>'},23:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(a(n,"fi")||t&&a(t,"fi")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},null!=(o=null!=t?a(t,"model"):t)?a(o,"category"):o,"===","time",{name:"fi",hash:{},fn:e.program(24,i,0),inverse:e.program(33,i,0),data:i,loc:{start:{line:33,column:12},end:{line:74,column:19}}}))?o:""},24:function(e,t,n,r,i){var o,a,s=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div data-schedule-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'" class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:34,column:100},end:{line:34,column:114}}}):a)+"weekday-schedule "+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:34,column:131},end:{line:34,column:145}}}):a)+'weekday-schedule-time"\n                    style="height:'+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height:"+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; "+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n                    <span class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:36,column:33},end:{line:36,column:47}}}):a)+'weekday-schedule-bullet"\n                        style="top: '+l(s((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"scheduleBulletTop"),t))+"px;\n"+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(25,i,0),inverse:e.program(27,i,0),data:i,loc:{start:{line:38,column:28},end:{line:42,column:35}}}))?o:"")+'                            "\n                    ></span>\n                    <span class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:45,column:33},end:{line:45,column:47}}}):a)+'weekday-schedule-title"\n                        style="\n'+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(29,i,0),inverse:e.program(31,i,0),data:i,loc:{start:{line:47,column:28},end:{line:52,column:35}}}))?o:"")+'                            "\n                        data-title="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"title"):o,t))+'">'+(null!=(o=(d(n,"time-tmpl")||t&&d(t,"time-tmpl")||u).call(c,null!=t?d(t,"model"):t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:54,column:53},end:{line:54,column:74}}}))?o:"")+"</span>\n                </div>\n"},25:function(e,t,n,r,i){return"                                background: #ffffff\n"},27:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                background:"+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"borderColor"):o,t))+"\n"},29:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                                color: #ffffff;\n                                background-color: "+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"color"):o,t))+"\n"},31:function(e,t,n,r,i){return"                                color:#333;\n"},33:function(e,t,n,r,i){var o,a,s=e.lambda,l=e.escapeExpression,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div data-schedule-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'" class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:57,column:100},end:{line:57,column:114}}}):a)+"weekday-schedule "+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i,loc:{start:{line:57,column:131},end:{line:57,column:200}}}))?o:"")+'"\n                    style="height:'+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height:"+l(s((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; border-radius: "+l(s((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"borderRadius"),t))+";\n"+(null!=(o=d(n,"unless").call(c,null!=t?d(t,"exceedLeft"):t,{name:"unless",hash:{},fn:e.program(34,i,0),inverse:e.noop,data:i,loc:{start:{line:59,column:20},end:{line:61,column:31}}}))?o:"")+(null!=(o=d(n,"unless").call(c,null!=t?d(t,"exceedRight"):t,{name:"unless",hash:{},fn:e.program(36,i,0),inverse:e.noop,data:i,loc:{start:{line:62,column:20},end:{line:64,column:31}}}))?o:"")+(null!=(o=d(n,"if").call(c,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(38,i,0),inverse:e.program(40,i,0),data:i,loc:{start:{line:65,column:20},end:{line:69,column:27}}}))?o:"")+"                        "+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n                    <span class="'+l("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:u)?a.call(c,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:71,column:33},end:{line:71,column:47}}}):a)+'weekday-schedule-title"\n                                    data-title="'+l(s(null!=(o=null!=t?d(t,"model"):t)?d(o,"title"):o,t))+'">'+(null!=(o=(d(n,"schedule-tmpl")||t&&d(t,"schedule-tmpl")||u).call(c,null!=t?d(t,"model"):t,{name:"schedule-tmpl",hash:{},data:i,loc:{start:{line:72,column:65},end:{line:72,column:90}}}))?o:"")+"</span>\n                </div>\n"},34:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        margin-left: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginLeft"),t))+";\n"},36:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        margin-right: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"marginRight"),t))+";\n"},38:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+";\n"},40:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                        color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"matrices"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:81,column:11}}}))?o:""},useData:!0})},"./src/js/view/template/popup/scheduleCreationPopup.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:150},end:{line:3,column:164}}}):o)+"hide"},3:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,l="function",c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <li class="'+c(typeof(o=null!=(o=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?o:s)===l?o.call(a,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:31},end:{line:11,column:45}}}):o)+"popup-section-item "+c(typeof(o=null!=(o=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?o:s)===l?o.call(a,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:64},end:{line:11,column:78}}}):o)+'dropdown-menu-item" data-calendar-id="'+c(typeof(o=null!=(o=u(n,"id")||(null!=t?u(t,"id"):t))?o:s)===l?o.call(a,{name:"id",hash:{},data:i,loc:{start:{line:11,column:116},end:{line:11,column:122}}}):o)+'">\n                        <span class="'+c(typeof(o=null!=(o=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?o:s)===l?o.call(a,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:37},end:{line:12,column:51}}}):o)+"icon "+c(typeof(o=null!=(o=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?o:s)===l?o.call(a,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:56},end:{line:12,column:70}}}):o)+'calendar-dot" style="background-color: '+c(typeof(o=null!=(o=u(n,"bgColor")||(null!=t?u(t,"bgColor"):t))?o:s)===l?o.call(a,{name:"bgColor",hash:{},data:i,loc:{start:{line:12,column:109},end:{line:12,column:120}}}):o)+'"></span>\n                        <span class="'+c(typeof(o=null!=(o=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?o:s)===l?o.call(a,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:37},end:{line:13,column:51}}}):o)+'content">'+c(typeof(o=null!=(o=u(n,"name")||(null!=t?u(t,"name"):t))?o:s)===l?o.call(a,{name:"name",hash:{},data:i,loc:{start:{line:13,column:60},end:{line:13,column:68}}}):o)+"</span>\n                    </li>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:135},end:{line:23,column:149}}}):o)+"public"},7:function(e,t,n,r,i){return" checked"},9:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"state")||(null!=t?a(t,"state"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"state",hash:{},data:i,loc:{start:{line:54,column:99},end:{line:54,column:108}}}):o)},11:function(e,t,n,r,i){var o,a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o="function"===typeof(a=null!=(a=s(n,"popupStateBusy-tmpl")||(null!=t?s(t,"popupStateBusy-tmpl"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"popupStateBusy-tmpl",hash:{},data:i,loc:{start:{line:54,column:116},end:{line:54,column:141}}}):a)?o:""},13:function(e,t,n,r,i){var o,a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o="function"===typeof(a=null!=(a=s(n,"popupUpdate-tmpl")||(null!=t?s(t,"popupUpdate-tmpl"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"popupUpdate-tmpl",hash:{},data:i,loc:{start:{line:69,column:163},end:{line:69,column:185}}}):a)?o:""},15:function(e,t,n,r,i){var o,a,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o="function"===typeof(a=null!=(a=s(n,"popupSave-tmpl")||(null!=t?s(t,"popupSave-tmpl"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"popupSave-tmpl",hash:{},data:i,loc:{start:{line:69,column:193},end:{line:69,column:213}}}):a)?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'popup">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:16},end:{line:2,column:30}}}):a)+'popup-container">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:20},end:{line:3,column:34}}}):a)+"popup-section "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:48},end:{line:3,column:62}}}):a)+"dropdown "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:71},end:{line:3,column:85}}}):a)+"close "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:91},end:{line:3,column:105}}}):a)+"section-calendar"+(null!=(o=h(n,"unless").call(s,null!=(o=null!=t?h(t,"calendars"):t)?h(o,"length"):o,{name:"unless",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:121},end:{line:3,column:179}}}))?o:"")+'">\n            <button class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:27},end:{line:4,column:41}}}):a)+"button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:48},end:{line:4,column:62}}}):a)+"dropdown-button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:78},end:{line:4,column:92}}}):a)+'popup-section-item">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:29},end:{line:5,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:48},end:{line:5,column:62}}}):a)+'calendar-dot" style="background-color: '+u(d(null!=(o=null!=t?h(t,"selectedCal"):t)?h(o,"bgColor"):o,t))+'"></span>\n                <span id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:26},end:{line:6,column:40}}}):a)+'schedule-calendar" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:66},end:{line:6,column:80}}}):a)+'content">'+u(d(null!=(o=null!=t?h(t,"selectedCal"):t)?h(o,"name"):o,t))+'</span>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:29},end:{line:7,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:48},end:{line:7,column:62}}}):a)+'dropdown-arrow"></span>\n            </button>\n            <ul class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:9,column:23},end:{line:9,column:37}}}):a)+'dropdown-menu" style="z-index: '+u(typeof(a=null!=(a=h(n,"zIndex")||(null!=t?h(t,"zIndex"):t))?a:l)===c?a.call(s,{name:"zIndex",hash:{},data:i,loc:{start:{line:9,column:68},end:{line:9,column:78}}}):a)+'">\n'+(null!=(o=h(n,"each").call(s,null!=t?h(t,"calendars"):t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:16},end:{line:15,column:25}}}))?o:"")+'            </ul>\n        </div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:18,column:20},end:{line:18,column:34}}}):a)+'popup-section">\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:19,column:24},end:{line:19,column:38}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:19,column:57},end:{line:19,column:71}}}):a)+'section-title">\n            <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:20,column:25},end:{line:20,column:39}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:20,column:44},end:{line:20,column:58}}}):a)+'ic-title"></span>\n                <input id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:21,column:27},end:{line:21,column:41}}}):a)+'schedule-title" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:21,column:64},end:{line:21,column:78}}}):a)+'content" placeholder="'+u(typeof(a=null!=(a=h(n,"titlePlaceholder-tmpl")||(null!=t?h(t,"titlePlaceholder-tmpl"):t))?a:l)===c?a.call(s,{name:"titlePlaceholder-tmpl",hash:{},data:i,loc:{start:{line:21,column:100},end:{line:21,column:125}}}):a)+'" value="'+u(typeof(a=null!=(a=h(n,"title")||(null!=t?h(t,"title"):t))?a:l)===c?a.call(s,{name:"title",hash:{},data:i,loc:{start:{line:21,column:134},end:{line:21,column:143}}}):a)+'">\n            </div>\n            <button id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:24},end:{line:23,column:38}}}):a)+'schedule-private" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:63},end:{line:23,column:77}}}):a)+"button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:84},end:{line:23,column:98}}}):a)+"section-private"+(null!=(o=h(n,"unless").call(s,null!=t?h(t,"isPrivate"):t,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:23,column:113},end:{line:23,column:166}}}))?o:"")+'">\n            <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:24,column:25},end:{line:24,column:39}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:24,column:44},end:{line:24,column:58}}}):a)+'ic-private"></span>\n            </button>\n        </div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:27,column:20},end:{line:27,column:34}}}):a)+'popup-section">\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:28,column:24},end:{line:28,column:38}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:28,column:57},end:{line:28,column:71}}}):a)+'section-location">\n            <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:29,column:25},end:{line:29,column:39}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:29,column:44},end:{line:29,column:58}}}):a)+'ic-location"></span>\n                <input id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:27},end:{line:30,column:41}}}):a)+'schedule-location" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:67},end:{line:30,column:81}}}):a)+'content" placeholder="'+u(typeof(a=null!=(a=h(n,"locationPlaceholder-tmpl")||(null!=t?h(t,"locationPlaceholder-tmpl"):t))?a:l)===c?a.call(s,{name:"locationPlaceholder-tmpl",hash:{},data:i,loc:{start:{line:30,column:103},end:{line:30,column:131}}}):a)+'" value="'+u(typeof(a=null!=(a=h(n,"location")||(null!=t?h(t,"location"):t))?a:l)===c?a.call(s,{name:"location",hash:{},data:i,loc:{start:{line:30,column:140},end:{line:30,column:152}}}):a)+'">\n            </div>\n        </div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:33,column:20},end:{line:33,column:34}}}):a)+'popup-section">\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:34,column:24},end:{line:34,column:38}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:34,column:57},end:{line:34,column:71}}}):a)+'section-start-date">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:35,column:29},end:{line:35,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:35,column:48},end:{line:35,column:62}}}):a)+'ic-date"></span>\n                <input id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:36,column:27},end:{line:36,column:41}}}):a)+'schedule-start-date" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:36,column:69},end:{line:36,column:83}}}):a)+'content" placeholder="'+u(typeof(a=null!=(a=h(n,"startDatePlaceholder-tmpl")||(null!=t?h(t,"startDatePlaceholder-tmpl"):t))?a:l)===c?a.call(s,{name:"startDatePlaceholder-tmpl",hash:{},data:i,loc:{start:{line:36,column:105},end:{line:36,column:134}}}):a)+'">\n                <div id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:37,column:25},end:{line:37,column:39}}}):a)+'startpicker-container" style="margin-left: -1px; position: relative"></div>\n            </div>\n            <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:39,column:25},end:{line:39,column:39}}}):a)+'section-date-dash">-</span>\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:40,column:24},end:{line:40,column:38}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:40,column:57},end:{line:40,column:71}}}):a)+'section-end-date">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:41,column:29},end:{line:41,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:41,column:48},end:{line:41,column:62}}}):a)+'ic-date"></span>\n                <input id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:42,column:27},end:{line:42,column:41}}}):a)+'schedule-end-date" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:42,column:67},end:{line:42,column:81}}}):a)+'content" placeholder="'+u(typeof(a=null!=(a=h(n,"endDatePlaceholder-tmpl")||(null!=t?h(t,"endDatePlaceholder-tmpl"):t))?a:l)===c?a.call(s,{name:"endDatePlaceholder-tmpl",hash:{},data:i,loc:{start:{line:42,column:103},end:{line:42,column:130}}}):a)+'">\n                <div id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:43,column:25},end:{line:43,column:39}}}):a)+'endpicker-container" style="margin-left: -1px; position: relative"></div>\n            </div>\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:45,column:24},end:{line:45,column:38}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:45,column:57},end:{line:45,column:71}}}):a)+'section-allday">\n                <input id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:46,column:27},end:{line:46,column:41}}}):a)+'schedule-allday" type="checkbox" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:46,column:81},end:{line:46,column:95}}}):a)+'checkbox-square"'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"isAllDay"):t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:46,column:111},end:{line:46,column:142}}}))?o:"")+'>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:29},end:{line:47,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:48},end:{line:47,column:62}}}):a)+'ic-checkbox"></span>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:48,column:29},end:{line:48,column:43}}}):a)+'content">'+(null!=(o=typeof(a=null!=(a=h(n,"popupIsAllDay-tmpl")||(null!=t?h(t,"popupIsAllDay-tmpl"):t))?a:l)===c?a.call(s,{name:"popupIsAllDay-tmpl",hash:{},data:i,loc:{start:{line:48,column:52},end:{line:48,column:76}}}):a)?o:"")+'</span>\n            </div>\n        </div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:51,column:20},end:{line:51,column:34}}}):a)+"popup-section "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:51,column:48},end:{line:51,column:62}}}):a)+"dropdown "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:51,column:71},end:{line:51,column:85}}}):a)+"close "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:51,column:91},end:{line:51,column:105}}}):a)+'section-state">\n            <button class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:52,column:27},end:{line:52,column:41}}}):a)+"button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:52,column:48},end:{line:52,column:62}}}):a)+"dropdown-button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:52,column:78},end:{line:52,column:92}}}):a)+'popup-section-item">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:53,column:29},end:{line:53,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:53,column:48},end:{line:53,column:62}}}):a)+'ic-state"></span>\n                <span id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:54,column:26},end:{line:54,column:40}}}):a)+'schedule-state" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:54,column:63},end:{line:54,column:77}}}):a)+'content">'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"state"):t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.program(11,i,0),data:i,loc:{start:{line:54,column:86},end:{line:54,column:148}}}))?o:"")+'</span>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:55,column:29},end:{line:55,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:55,column:48},end:{line:55,column:62}}}):a)+'dropdown-arrow"></span>\n            </button>\n            <ul class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:57,column:23},end:{line:57,column:37}}}):a)+'dropdown-menu" style="z-index: '+u(typeof(a=null!=(a=h(n,"zIndex")||(null!=t?h(t,"zIndex"):t))?a:l)===c?a.call(s,{name:"zIndex",hash:{},data:i,loc:{start:{line:57,column:68},end:{line:57,column:78}}}):a)+'">\n                <li class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:58,column:27},end:{line:58,column:41}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:58,column:60},end:{line:58,column:74}}}):a)+'dropdown-menu-item">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:59,column:29},end:{line:59,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:59,column:48},end:{line:59,column:62}}}):a)+'none"></span>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:60,column:29},end:{line:60,column:43}}}):a)+'content">'+(null!=(o=typeof(a=null!=(a=h(n,"popupStateBusy-tmpl")||(null!=t?h(t,"popupStateBusy-tmpl"):t))?a:l)===c?a.call(s,{name:"popupStateBusy-tmpl",hash:{},data:i,loc:{start:{line:60,column:52},end:{line:60,column:77}}}):a)?o:"")+'</span>\n                </li>\n                <li class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:62,column:27},end:{line:62,column:41}}}):a)+"popup-section-item "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:62,column:60},end:{line:62,column:74}}}):a)+'dropdown-menu-item">\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:63,column:29},end:{line:63,column:43}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:63,column:48},end:{line:63,column:62}}}):a)+'none"></span>\n                <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:64,column:29},end:{line:64,column:43}}}):a)+'content">'+(null!=(o=typeof(a=null!=(a=h(n,"popupStateFree-tmpl")||(null!=t?h(t,"popupStateFree-tmpl"):t))?a:l)===c?a.call(s,{name:"popupStateFree-tmpl",hash:{},data:i,loc:{start:{line:64,column:52},end:{line:64,column:77}}}):a)?o:"")+'</span>\n                </li>\n            </ul>\n        </div>\n        <button class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:68,column:23},end:{line:68,column:37}}}):a)+"button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:68,column:44},end:{line:68,column:58}}}):a)+'popup-close"><span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:68,column:84},end:{line:68,column:98}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:68,column:103},end:{line:68,column:117}}}):a)+'ic-close"></span></button>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:69,column:20},end:{line:69,column:34}}}):a)+'section-button-save"><button class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:69,column:70},end:{line:69,column:84}}}):a)+"button "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:69,column:91},end:{line:69,column:105}}}):a)+"confirm "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:69,column:113},end:{line:69,column:127}}}):a)+'popup-save"><span>'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"isEditMode"):t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i,loc:{start:{line:69,column:145},end:{line:69,column:220}}}))?o:"")+'</span></button></div>\n    </div>\n    <div id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:71,column:13},end:{line:71,column:27}}}):a)+'popup-arrow" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:71,column:47},end:{line:71,column:61}}}):a)+"popup-arrow "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:71,column:73},end:{line:71,column:87}}}):a)+'arrow-bottom">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:72,column:20},end:{line:72,column:34}}}):a)+'popup-arrow-border">\n            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:73,column:24},end:{line:73,column:38}}}):a)+'popup-arrow-fill"></div>\n        </div>\n    </div>\n</div>\n'},useData:!0})},"./src/js/view/template/popup/scheduleDetailPopup.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:45},end:{line:11,column:59}}}):a)+'popup-detail-item"><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:91},end:{line:11,column:105}}}):a)+"icon "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:110},end:{line:11,column:124}}}):a)+'ic-location-b"></span><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:159},end:{line:11,column:173}}}):a)+'content">'+(null!=(o=(u(n,"popupDetailLocation-tmpl")||t&&u(t,"popupDetailLocation-tmpl")||l).call(s,null!=t?u(t,"schedule"):t,{name:"popupDetailLocation-tmpl",hash:{},data:i,loc:{start:{line:11,column:182},end:{line:11,column:221}}}))?o:"")+"</span></div>"},3:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:51},end:{line:12,column:65}}}):a)+'popup-detail-item"><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:97},end:{line:12,column:111}}}):a)+"icon "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:116},end:{line:12,column:130}}}):a)+'ic-repeat-b"></span><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:163},end:{line:12,column:177}}}):a)+'content">'+(null!=(o=(u(n,"popupDetailRepeat-tmpl")||t&&u(t,"popupDetailRepeat-tmpl")||l).call(s,null!=t?u(t,"schedule"):t,{name:"popupDetailRepeat-tmpl",hash:{},data:i,loc:{start:{line:12,column:186},end:{line:12,column:223}}}))?o:"")+"</span></div>"},5:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:46},end:{line:13,column:60}}}):a)+"popup-detail-item "+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:78},end:{line:13,column:92}}}):a)+'popup-detail-item-indent"><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:131},end:{line:13,column:145}}}):a)+"icon "+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:150},end:{line:13,column:164}}}):a)+'ic-user-b"></span><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:195},end:{line:13,column:209}}}):a)+'content">'+(null!=(o=(d(n,"popupDetailUser-tmpl")||t&&d(t,"popupDetailUser-tmpl")||l).call(s,null!=t?d(t,"schedule"):t,{name:"popupDetailUser-tmpl",hash:{},data:i,loc:{start:{line:13,column:218},end:{line:13,column:253}}}))?o:"")+"</span></div>"},7:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:42},end:{line:14,column:56}}}):a)+'popup-detail-item"><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:88},end:{line:14,column:102}}}):a)+"icon "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:107},end:{line:14,column:121}}}):a)+'ic-state-b"></span><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:153},end:{line:14,column:167}}}):a)+'content">'+(null!=(o=(u(n,"popupDetailState-tmpl")||t&&u(t,"popupDetailState-tmpl")||l).call(s,null!=t?u(t,"schedule"):t,{name:"popupDetailState-tmpl",hash:{},data:i,loc:{start:{line:14,column:176},end:{line:14,column:212}}}))?o:"")+"</span></div>"},9:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'        <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:20},end:{line:16,column:34}}}):a)+'popup-detail-item"><span class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:66},end:{line:16,column:80}}}):a)+"icon "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:85},end:{line:16,column:99}}}):a)+'calendar-dot" style="background-color: '+c(u(null!=(o=null!=t?d(t,"schedule"):t)?d(o,"bgColor"):o,t))+'"></span><span class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:16,column:180},end:{line:16,column:194}}}):a)+'content">'+c(u(null!=(o=null!=t?d(t,"calendar"):t)?d(o,"name"):o,t))+"</span></div>\n"},11:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:18,column:41},end:{line:18,column:55}}}):a)+"popup-detail-item "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:18,column:73},end:{line:18,column:87}}}):a)+'popup-detail-item-separate"><span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:18,column:128},end:{line:18,column:142}}}):a)+'content">'+(null!=(o=(u(n,"popupDetailBody-tmpl")||t&&u(t,"popupDetailBody-tmpl")||l).call(s,null!=t?u(t,"schedule"):t,{name:"popupDetailBody-tmpl",hash:{},data:i,loc:{start:{line:18,column:151},end:{line:18,column:186}}}))?o:"")+"</span></div>"},13:function(e,t,n,r,i){return""},15:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:22,column:16},end:{line:22,column:30}}}):a)+'section-button">\n      <button class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:21},end:{line:23,column:35}}}):a)+'popup-edit"><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:60},end:{line:23,column:74}}}):a)+"icon "+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:79},end:{line:23,column:93}}}):a)+'ic-edit"></span><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:122},end:{line:23,column:136}}}):a)+'content">'+(null!=(o=typeof(a=null!=(a=d(n,"popupEdit-tmpl")||(null!=t?d(t,"popupEdit-tmpl"):t))?a:l)===c?a.call(s,{name:"popupEdit-tmpl",hash:{},data:i,loc:{start:{line:23,column:145},end:{line:23,column:165}}}):a)?o:"")+'</span></button>\n      <div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:24,column:18},end:{line:24,column:32}}}):a)+'popup-vertical-line"></div>\n      <button class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:25,column:21},end:{line:25,column:35}}}):a)+'popup-delete"><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:25,column:62},end:{line:25,column:76}}}):a)+"icon "+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:25,column:81},end:{line:25,column:95}}}):a)+'ic-delete"></span><span class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:25,column:126},end:{line:25,column:140}}}):a)+'content">'+(null!=(o=typeof(a=null!=(a=d(n,"popupDelete-tmpl")||(null!=t?d(t,"popupDelete-tmpl"):t))?a:l)===c?a.call(s,{name:"popupDelete-tmpl",hash:{},data:i,loc:{start:{line:25,column:149},end:{line:25,column:171}}}):a)?o:"")+"</span></button>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+"popup "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:32},end:{line:1,column:46}}}):a)+'popup-detail">\n  <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:14},end:{line:2,column:28}}}):a)+'popup-container">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:16},end:{line:3,column:30}}}):a)+"popup-section "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:44},end:{line:3,column:58}}}):a)+'section-header">\n      <div>\n        <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:21},end:{line:5,column:35}}}):a)+"schedule-private "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:52},end:{line:5,column:66}}}):a)+"icon "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:71},end:{line:5,column:85}}}):a)+'ic-private"></span>\n        <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:21},end:{line:6,column:35}}}):a)+'schedule-title">'+u(d(null!=(o=null!=t?h(t,"schedule"):t)?h(o,"title"):o,t))+'</span>\n      </div>\n      <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:18},end:{line:8,column:32}}}):a)+"popup-detail-date "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:50},end:{line:8,column:64}}}):a)+'content">'+(null!=(o=(h(n,"popupDetailDate-tmpl")||t&&h(t,"popupDetailDate-tmpl")||l).call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"isAllDay"):o,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"start"):o,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"end"):o,{name:"popupDetailDate-tmpl",hash:{},data:i,loc:{start:{line:8,column:73},end:{line:8,column:145}}}))?o:"")+'</div>\n    </div>\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:10,column:16},end:{line:10,column:30}}}):a)+'section-detail">\n        '+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"location"):o,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:11,column:8},end:{line:11,column:241}}}))?o:"")+"\n        "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"recurrenceRule"):o,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:12,column:8},end:{line:12,column:243}}}))?o:"")+"\n        "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"attendees"):o,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:8},end:{line:13,column:273}}}))?o:"")+"\n        "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"state"):o,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:14,column:8},end:{line:14,column:232}}}))?o:"")+"\n"+(null!=(o=h(n,"if").call(s,null!=t?h(t,"calendar"):t,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:15,column:8},end:{line:17,column:15}}}))?o:"")+"        "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"body"):o,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i,loc:{start:{line:18,column:8},end:{line:18,column:206}}}))?o:"")+"\n    </div>\n"+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"schedule"):t)?h(o,"isReadOnly"):o,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(15,i,0),data:i,loc:{start:{line:20,column:4},end:{line:27,column:11}}}))?o:"")+'  </div>\n  <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:29,column:14},end:{line:29,column:28}}}):a)+'popup-top-line" style="background-color: '+u(d(null!=(o=null!=t?h(t,"schedule"):t)?h(o,"bgColor"):o,t))+'"></div>\n  <div id="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:11},end:{line:30,column:25}}}):a)+'popup-arrow" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:45},end:{line:30,column:59}}}):a)+"popup-arrow "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:71},end:{line:30,column:85}}}):a)+'arrow-left">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:31,column:16},end:{line:31,column:30}}}):a)+'popup-arrow-border">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:32,column:20},end:{line:32,column:34}}}):a)+'popup-arrow-fill"></div>\n    </div>\n  </div>\n</div>\n'},useData:!0})},"./src/js/view/template/week/dayGrid.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:24},end:{line:8,column:38}}}):a)+'weekday-grid-line"\n                style="left:'+c("function"===typeof(a=null!=(a=u(n,"left")||(null!=t?u(t,"left"):t))?a:l)?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:9,column:28},end:{line:9,column:36}}}):a)+"%; width:"+c("function"===typeof(a=null!=(a=u(n,"width")||(null!=t?u(t,"width"):t))?a:l)?a.call(s,{name:"width",hash:{},data:i,loc:{start:{line:9,column:45},end:{line:9,column:54}}}):a)+"%; background-color: "+c("function"===typeof(a=null!=(a=u(n,"backgroundColor")||(null!=t?u(t,"backgroundColor"):t))?a:l)?a.call(s,{name:"backgroundColor",hash:{},data:i,loc:{start:{line:9,column:75},end:{line:9,column:94}}}):a)+";\n"+(null!=(o=u(n,"unless").call(s,i&&u(i,"last"),{name:"unless",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:20},end:{line:12,column:31}}}))?o:"")+'            "></div>\n'},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-right: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"borderRight"),t))+";\n"},4:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"each").call(null!=t?t:e.nullContext||{},null!=t?a(t,"days"):t,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:17,column:8},end:{line:27,column:19}}}))?o:""},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},(o=i&&a(i,"root"))&&a(o,"collapsed"),{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.program(9,i,0),data:i,loc:{start:{line:18,column:12},end:{line:26,column:19}}}))?o:""},6:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=a(n,"if").call(null!=t?t:e.nullContext||{},null!=t?a(t,"hiddenSchedules"):t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:19,column:16},end:{line:21,column:23}}}))?o:""},7:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:20,column:33},end:{line:20,column:47}}}):a)+'weekday-exceed-in-week" style="z-index: 1; right:'+c((u(n,"getRight")||t&&u(t,"getRight")||l).call(s,null!=t?u(t,"left"):t,null!=t?u(t,"width"):t,{name:"getRight",hash:{},data:i,loc:{start:{line:20,column:96},end:{line:20,column:119}}}))+'%;" data-index="'+c("function"===typeof(a=null!=(a=u(n,"key")||i&&u(i,"key"))?a:l)?a.call(s,{name:"key",hash:{},data:i,loc:{start:{line:20,column:135},end:{line:20,column:143}}}):a)+'">'+(null!=(o=(u(n,"weekGridFooterExceed-tmpl")||t&&u(t,"weekGridFooterExceed-tmpl")||l).call(s,null!=t?u(t,"hiddenSchedules"):t,{name:"weekGridFooterExceed-tmpl",hash:{},data:i,loc:{start:{line:20,column:145},end:{line:20,column:192}}}))?o:"")+"</span>\n"},9:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=(a(n,"fi")||t&&a(t,"fi")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},i&&a(i,"key"),"===",(o=i&&a(i,"root"))&&a(o,"collapseBtnIndex"),{name:"fi",hash:{},fn:e.program(10,i,0),inverse:e.noop,data:i,loc:{start:{line:23,column:16},end:{line:25,column:23}}}))?o:""},10:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                    <span class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:24,column:33},end:{line:24,column:47}}}):a)+'weekday-collapse-btn" style="z-index: 1; right:'+c((u(n,"getRight")||t&&u(t,"getRight")||l).call(s,null!=t?u(t,"left"):t,null!=t?u(t,"width"):t,{name:"getRight",hash:{},data:i,loc:{start:{line:24,column:94},end:{line:24,column:117}}}))+'%;">'+(null!=(o="function"===typeof(a=null!=(a=u(n,"collapseBtnTitle-tmpl")||(null!=t?u(t,"collapseBtnTitle-tmpl"):t))?a:l)?a.call(s,{name:"collapseBtnTitle-tmpl",hash:{},data:i,loc:{start:{line:24,column:121},end:{line:24,column:148}}}):a)?o:"")+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+u(typeof(a=null!=(a=h(n,"viewName")||(null!=t?h(t,"viewName"):t))?a:l)===c?a.call(s,{name:"viewName",hash:{},data:i,loc:{start:{line:1,column:26},end:{line:1,column:38}}}):a)+"-left "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:44},end:{line:1,column:58}}}):a)+'left" style="border-right: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftBorderRight"):o,t))+"; width: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftWidth"):o,t))+"; background-color: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftBackgroundColor"):o,t))+"; padding-right: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftPaddingRight"):o,t))+';">\n    '+(null!=(o=(h(n,"dayGridTitle-tmpl")||t&&h(t,"dayGridTitle-tmpl")||l).call(s,null!=t?h(t,"viewName"):t,{name:"dayGridTitle-tmpl",hash:{},data:i,loc:{start:{line:2,column:4},end:{line:2,column:36}}}))?o:"")+'\n</div>\n<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:12},end:{line:4,column:26}}}):a)+u(typeof(a=null!=(a=h(n,"viewName")||(null!=t?h(t,"viewName"):t))?a:l)===c?a.call(s,{name:"viewName",hash:{},data:i,loc:{start:{line:4,column:26},end:{line:4,column:38}}}):a)+"-right "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:45},end:{line:4,column:59}}}):a)+'right">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:16},end:{line:5,column:30}}}):a)+'container">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:20},end:{line:6,column:34}}}):a)+'weekday-grid">\n'+(null!=(o=h(n,"each").call(s,null!=t?h(t,"days"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:8},end:{line:14,column:19}}}))?o:"")+(null!=(o=h(n,"if").call(s,(o=i&&h(i,"root"))&&h(o,"showExpandableButton"),{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:8},end:{line:28,column:15}}}))?o:"")+"        </div>\n    </div>\n</div>\n"},useData:!0})},"./src/js/view/template/week/dayGridSchedule.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:4},end:{line:27,column:15}}}))?o:""},2:function(e,t,n,r,i){var o;return"\n    "+(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:4},end:{line:26,column:15}}}))?o:"")},3:function(e,t,n,r,i){var o;return"\n    "+(null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:5,column:4},end:{line:25,column:13}}}))?o:"")},4:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n    <div data-id="'+c((d(n,"stamp")||t&&d(t,"stamp")||l).call(s,null!=t?d(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:6,column:18},end:{line:6,column:33}}}))+'"\n        class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:15},end:{line:7,column:29}}}):a)+"weekday-schedule-block\n            "+(null!=(o=d(n,"if").call(s,null!=t?d(t,"exceedLeft"):t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:8,column:12},end:{line:8,column:71}}}))?o:"")+"\n            "+(null!=(o=d(n,"if").call(s,null!=t?d(t,"exceedRight"):t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:9,column:12},end:{line:9,column:73}}}))?o:"")+'"\n        style="top:'+c((d(n,"multiply")||t&&d(t,"multiply")||l).call(s,null!=t?d(t,"top"):t,(o=i&&d(i,"root"))&&d(o,"scheduleBlockHeight"),{name:"multiply",hash:{},data:i,loc:{start:{line:10,column:19},end:{line:10,column:61}}}))+"px;\n                left:"+c((d(n,"grid-left")||t&&d(t,"grid-left")||l).call(s,t,(o=i&&d(i,"root"))&&d(o,"dates"),{name:"grid-left",hash:{},data:i,loc:{start:{line:11,column:21},end:{line:11,column:51}}}))+"%;\n                width:"+c((d(n,"grid-width")||t&&d(t,"grid-width")||l).call(s,t,(o=i&&d(i,"root"))&&d(o,"dates"),{name:"grid-width",hash:{},data:i,loc:{start:{line:12,column:22},end:{line:12,column:53}}}))+'%">\n        <div data-schedule-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"id"):o,t))+'" data-calendar-id="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"calendarId"):o,t))+'" class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:92},end:{line:13,column:106}}}):a)+"weekday-schedule "+(null!=(o=d(n,"if").call(s,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:123},end:{line:13,column:192}}}))?o:"")+'"\n            style="height:'+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; line-height:"+c(u((o=i&&d(i,"root"))&&d(o,"scheduleHeight"),t))+"px; border-radius: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"borderRadius"),t))+";\n"+(null!=(o=d(n,"if").call(s,null!=(o=null!=t?d(t,"model"):t)?d(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.program(13,i,0),data:i,loc:{start:{line:15,column:16},end:{line:19,column:23}}}))?o:"")+"            "+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"customStyle"):o,t))+'">\n            <span class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:21,column:25},end:{line:21,column:39}}}):a)+'weekday-schedule-title" title="'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"title"):o,t))+'">'+(null!=(o=(d(n,"schedule-tmpl")||t&&d(t,"schedule-tmpl")||l).call(s,null!=t?d(t,"model"):t,{name:"schedule-tmpl",hash:{},data:i,loc:{start:{line:21,column:87},end:{line:21,column:112}}}))?o:"")+"</span>\n            "+(null!=(o=d(n,"unless").call(s,(d(n,"or")||t&&d(t,"or")||l).call(s,(o=i&&d(i,"root"))&&d(o,"isReadOnly"),null!=(o=null!=t?d(t,"model"):t)?d(o,"isReadOnly"):o,{name:"or",hash:{},data:i,loc:{start:{line:22,column:22},end:{line:22,column:60}}}),{name:"unless",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i,loc:{start:{line:22,column:12},end:{line:22,column:193}}}))?o:"")+"\n        </div>\n    </div>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:8,column:31},end:{line:8,column:45}}}):o)+"weekday-exceed-left"},7:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:9,column:32},end:{line:9,column:46}}}):o)+"weekday-exceed-right"},9:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:146},end:{line:13,column:160}}}):o)+"weekday-schedule-focused "},11:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+";\n"},13:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},15:function(e,t,n,r,i){var o,a,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<span class="'+s("function"===typeof(a=null!=(a=l(n,"CSS_PREFIX")||(null!=t?l(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:22,column:75},end:{line:22,column:89}}}):a)+'weekday-resize-handle handle-y" style="line-height:'+s(e.lambda((o=i&&l(i,"root"))&&l(o,"scheduleHeight"),t))+'px;">&nbsp;</span>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+"weekday-schedules "+c("function"===typeof(a=null!=(a=u(n,"collapsed")||(null!=t?u(t,"collapsed"):t))?a:l)?a.call(s,{name:"collapsed",hash:{},data:i,loc:{start:{line:1,column:44},end:{line:1,column:57}}}):a)+'"style="top:'+c(e.lambda((o=i&&u(i,"root"))&&u(o,"scheduleContainerTop"),t))+'px;">\n'+(null!=(o=u(n,"each").call(s,null!=t?u(t,"matrices"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:4},end:{line:28,column:15}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/view/template/week/daynames.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:12},end:{line:3,column:26}}}):a)+"dayname "+(null!=(o=h(n,"if").call(s,null!=t?h(t,"isToday"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:34},end:{line:3,column:75}}}))?o:"")+" "+u((h(n,"holiday")||t&&h(t,"holiday")||l).call(s,null!=t?h(t,"day"):t,{name:"holiday",hash:{},data:i,loc:{start:{line:3,column:76},end:{line:3,column:91}}}))+'"\n     data-date="'+u(typeof(a=null!=(a=h(n,"renderDate")||(null!=t?h(t,"renderDate"):t))?a:l)===c?a.call(s,{name:"renderDate",hash:{},data:i,loc:{start:{line:4,column:16},end:{line:4,column:30}}}):a)+'"\n     style="'+u((h(n,"common-width")||t&&h(t,"common-width")||l).call(s,null!=t?h(t,"width"):t,{name:"common-width",hash:{},data:i,loc:{start:{line:5,column:12},end:{line:5,column:34}}}))+";left:"+u(typeof(a=null!=(a=h(n,"left")||(null!=t?h(t,"left"):t))?a:l)===c?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:5,column:40},end:{line:5,column:48}}}):a)+"%; line-height: "+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"height"),t))+"; border-left: "+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"borderLeft"),t))+"; padding-left: "+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"paddingLeft"),t))+';">\n    <span class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:17},end:{line:6,column:31}}}):a)+'dayname-date-area" style="color: '+u(typeof(a=null!=(a=h(n,"color")||(null!=t?h(t,"color"):t))?a:l)===c?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:6,column:64},end:{line:6,column:73}}}):a)+';">\n        '+(null!=(o=(h(n,"weekDayname-tmpl")||t&&h(t,"weekDayname-tmpl")||l).call(s,t,{name:"weekDayname-tmpl",hash:{},data:i,loc:{start:{line:7,column:8},end:{line:7,column:35}}}))?o:"")+"\n    </span>\n</div>\n"},2:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:49},end:{line:3,column:63}}}):o)+"today"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+l("function"===typeof(a=null!=(a=c(n,"CSS_PREFIX")||(null!=t?c(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'dayname-leftmargin" style="margin-left: '+l(e.lambda((o=(o=i&&c(i,"root"))&&c(o,"styles"))&&c(o,"marginLeft"),t))+';">\n'+(null!=(o=c(n,"each").call(s,null!=t?c(t,"dayNames"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:0},end:{line:10,column:9}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/view/template/week/time.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:4},end:{line:60,column:13}}}))?o:""},2:function(e,t,n,r,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:8},end:{line:59,column:17}}}))?o:""},3:function(e,t,n,r,i){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:5,column:8},end:{line:58,column:17}}}))?o:""},4:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:20},end:{line:6,column:34}}}):a)+"time-date-schedule-block "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isPending"):o,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:6,column:59},end:{line:6,column:136}}}))?o:"")+'" data-id="'+u((h(n,"stamp")||t&&h(t,"stamp")||l).call(s,null!=t?h(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:6,column:147},end:{line:6,column:162}}}))+'"\n            style="'+u((h(n,"time-scheduleBlock")||t&&h(t,"time-scheduleBlock")||l).call(s,t,{name:"time-scheduleBlock",hash:{},data:i,loc:{start:{line:7,column:19},end:{line:7,column:46}}}))+";\n"+(null!=(o=(h(n,"fi")||t&&h(t,"fi")||l).call(s,null!=t?h(t,"left"):t,"!==",0,{name:"fi",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i,loc:{start:{line:8,column:16},end:{line:10,column:23}}}))?o:"")+'            ">\n            <div data-schedule-id="'+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"id"):o,t))+'" data-calendar-id="'+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"calendarId"):o,t))+'" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:96},end:{line:12,column:110}}}):a)+"time-schedule "+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(9,i,0),inverse:e.noop,data:i,loc:{start:{line:12,column:124},end:{line:12,column:190}}}))?o:"")+'"\n                style="\n'+(null!=(o=h(n,"unless").call(s,null!=t?h(t,"croppedEnd"):t,{name:"unless",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i,loc:{start:{line:14,column:16},end:{line:17,column:27}}}))?o:"")+(null!=(o=h(n,"unless").call(s,null!=t?h(t,"croppedStart"):t,{name:"unless",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i,loc:{start:{line:18,column:16},end:{line:21,column:27}}}))?o:"")+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.program(17,i,0),data:i,loc:{start:{line:22,column:16},end:{line:26,column:23}}}))?o:"")+"                 "+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"customStyle"):o,t))+'"\n            >\n'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hasGoingDuration"):t,{name:"if",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i,loc:{start:{line:29,column:12},end:{line:37,column:19}}}))?o:"")+'                <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:38,column:28},end:{line:38,column:42}}}):a)+"time-schedule-content "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:38,column:64},end:{line:38,column:78}}}):a)+'time-schedule-content-time" style="height: '+u(typeof(a=null!=(a=h(n,"modelDurationHeight")||(null!=t?h(t,"modelDurationHeight"):t))?a:l)===c?a.call(s,{name:"modelDurationHeight",hash:{},data:i,loc:{start:{line:38,column:121},end:{line:38,column:144}}}):a)+"px;\n"+(null!=(o=h(n,"if").call(s,null!=(o=null!=t?h(t,"model"):t)?h(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i,loc:{start:{line:39,column:16},end:{line:43,column:23}}}))?o:"")+"                "+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hasComingDuration"):t,{name:"if",hash:{},fn:e.program(24,i,0),inverse:e.noop,data:i,loc:{start:{line:44,column:16},end:{line:44,column:96}}}))?o:"")+'">\n                    '+(null!=(o=(h(n,"time-tmpl")||t&&h(t,"time-tmpl")||l).call(s,null!=t?h(t,"model"):t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:45,column:20},end:{line:45,column:41}}}))?o:"")+"\n                </div>\n"+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hasComingDuration"):t,{name:"if",hash:{},fn:e.program(26,i,0),inverse:e.noop,data:i,loc:{start:{line:47,column:12},end:{line:54,column:19}}}))?o:"")+"            </div>\n            "+(null!=(o=h(n,"unless").call(s,(h(n,"or")||t&&h(t,"or")||l).call(s,null!=t?h(t,"croppedEnd"):t,(h(n,"or")||t&&h(t,"or")||l).call(s,(o=i&&h(i,"root"))&&h(o,"isReadOnly"),null!=(o=null!=t?h(t,"model"):t)?h(o,"isReadOnly"):o,{name:"or",hash:{},data:i,loc:{start:{line:56,column:37},end:{line:56,column:75}}}),{name:"or",hash:{},data:i,loc:{start:{line:56,column:22},end:{line:56,column:76}}}),{name:"unless",hash:{},fn:e.program(29,i,0),inverse:e.noop,data:i,loc:{start:{line:56,column:12},end:{line:56,column:207}}}))?o:"")+"\n        </div>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return" "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:83},end:{line:6,column:97}}}):o)+"time-date-schedule-block-pending"},7:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    padding-left: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"paddingLeft"),t))+";\n"},9:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:147},end:{line:12,column:161}}}):o)+"time-schedule-focused "},11:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-bottom-left-radius: "+s(a((o=(o=i&&l(i,"root"))&&l(o,"styles"))&&l(o,"borderRadius"),t))+";\n                    border-bottom-right-radius: "+s(a((o=(o=i&&l(i,"root"))&&l(o,"styles"))&&l(o,"borderRadius"),t))+";\n"},13:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-top-left-radius: "+s(a((o=(o=i&&l(i,"root"))&&l(o,"styles"))&&l(o,"borderRadius"),t))+";\n                    border-top-right-radius: "+s(a((o=(o=i&&l(i,"root"))&&l(o,"styles"))&&l(o,"borderRadius"),t))+";\n"},15:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color: #ffffff; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+";\n"},17:function(e,t,n,r,i){var o,a=e.lambda,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"color"):o,t))+"; background-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"bgColor"):o,t))+"; border-color:"+s(a(null!=(o=null!=t?l(t,"model"):t)?l(o,"borderColor"):o,t))+";\n"},19:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:28},end:{line:30,column:42}}}):a)+"time-schedule-content "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:64},end:{line:30,column:78}}}):a)+'time-schedule-content-travel-time" style="height: '+c("function"===typeof(a=null!=(a=u(n,"goingDurationHeight")||(null!=t?u(t,"goingDurationHeight"):t))?a:l)?a.call(s,{name:"goingDurationHeight",hash:{},data:i,loc:{start:{line:30,column:128},end:{line:30,column:151}}}):a)+"px;\n"+(null!=(o=u(n,"if").call(s,null!=(o=null!=t?u(t,"model"):t)?u(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(22,i,0),data:i,loc:{start:{line:31,column:16},end:{line:35,column:23}}}))?o:"")+"                border-bottom: 1px dashed "+c("function"===typeof(a=null!=(a=u(n,"travelBorderColor")||(null!=t?u(t,"travelBorderColor"):t))?a:l)?a.call(s,{name:"travelBorderColor",hash:{},data:i,loc:{start:{line:36,column:42},end:{line:36,column:63}}}):a)+';">'+(null!=(o=(u(n,"goingDuration-tmpl")||t&&u(t,"goingDuration-tmpl")||l).call(s,null!=t?u(t,"model"):t,{name:"goingDuration-tmpl",hash:{},data:i,loc:{start:{line:36,column:66},end:{line:36,column:96}}}))?o:"")+"</div>\n"},20:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-color:"+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"color"):o,t))+";\n"},22:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-color:"+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"borderColor"):o,t))+";\n"},24:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"border-bottom: 1px dashed "+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"travelBorderColor")||(null!=t?a(t,"travelBorderColor"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"travelBorderColor",hash:{},data:i,loc:{start:{line:44,column:67},end:{line:44,column:88}}}):o)+";"},26:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:48,column:28},end:{line:48,column:42}}}):a)+"time-schedule-content "+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:48,column:64},end:{line:48,column:78}}}):a)+'time-schedule-content-travel-time" style="height: '+c("function"===typeof(a=null!=(a=u(n,"comingDurationHeight")||(null!=t?u(t,"comingDurationHeight"):t))?a:l)?a.call(s,{name:"comingDurationHeight",hash:{},data:i,loc:{start:{line:48,column:128},end:{line:48,column:152}}}):a)+"px;\n"+(null!=(o=u(n,"if").call(s,null!=(o=null!=t?u(t,"model"):t)?u(o,"isFocused"):o,{name:"if",hash:{},fn:e.program(20,i,0),inverse:e.program(27,i,0),data:i,loc:{start:{line:49,column:16},end:{line:53,column:23}}}))?o:"")+';">'+(null!=(o=(u(n,"comingDuration-tmpl")||t&&u(t,"comingDuration-tmpl")||l).call(s,null!=t?u(t,"model"):t,{name:"comingDuration-tmpl",hash:{},data:i,loc:{start:{line:53,column:26},end:{line:53,column:57}}}))?o:"")+"</div>\n"},27:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"                    border-color:"+e.escapeExpression(e.lambda(null!=(o=null!=t?a(t,"model"):t)?a(o,"borderColor"):o,t))+";\n                "},29:function(e,t,n,r,i){var o,a,s=e.escapeExpression,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+s("function"===typeof(a=null!=(a=l(n,"CSS_PREFIX")||(null!=t?l(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:56,column:90},end:{line:56,column:104}}}):a)+'time-resize-handle handle-x" style="margin-left: '+s(e.lambda((o=(o=i&&l(i,"root"))&&l(o,"styles"))&&l(o,"paddingLeft"),t))+';">&nbsp;</div>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+l("function"===typeof(a=null!=(a=c(n,"CSS_PREFIX")||(null!=t?c(t,"CSS_PREFIX"):t))?a:e.hooks.helperMissing)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'time-date-schedule-block-wrap" style="margin-right: '+l(e.lambda(null!=(o=null!=t?c(t,"styles"):t)?c(o,"marginRight"):o,t))+';">\n'+(null!=(o=c(n,"each").call(s,null!=t?c(t,"matrices"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:0},end:{line:61,column:9}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/view/template/week/timeGrid.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:20},end:{line:3,column:34}}}):a)+'timegrid-timezone" data-timezone-index="'+u(typeof(a=null!=(a=d(n,"index")||i&&d(i,"index"))?a:l)===c?a.call(s,{name:"index",hash:{},data:i,loc:{start:{line:3,column:74},end:{line:3,column:84}}}):a)+'" style="'+(null!=(o=d(n,"if").call(s,null!=t?d(t,"hidden"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:93},end:{line:3,column:127}}}))?o:"")+"position: absolute; top: 0; width: "+u(typeof(a=null!=(a=d(n,"width")||(null!=t?d(t,"width"):t))?a:l)===c?a.call(s,{name:"width",hash:{},data:i,loc:{start:{line:3,column:162},end:{line:3,column:171}}}):a)+"%; left: "+u(typeof(a=null!=(a=d(n,"left")||(null!=t?d(t,"left"):t))?a:l)===c?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:3,column:180},end:{line:3,column:188}}}):a)+"%; border-right: "+u(e.lambda((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"leftBorderRight"),t))+"; background-color: "+u(typeof(a=null!=(a=d(n,"backgroundColor")||(null!=t?d(t,"backgroundColor"):t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:i,loc:{start:{line:3,column:257},end:{line:3,column:276}}}):a)+';" >\n'+(null!=(o=d(n,"if").call(s,null!=t?d(t,"isPrimary"):t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.program(10,i,0),data:i,loc:{start:{line:4,column:8},end:{line:26,column:15}}}))?o:"")+"        </div>\n"},2:function(e,t,n,r,i){return"display:none;"},4:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"each").call(a,null!=t?s(t,"timeSlots"):t,{name:"each",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:5,column:12},end:{line:9,column:23}}}))?o:"")+(null!=(o=s(n,"if").call(a,(o=i&&s(i,"root"))&&s(o,"showHourMarker"),{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.noop,data:i,loc:{start:{line:10,column:12},end:{line:14,column:19}}}))?o:"")},5:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:28},end:{line:6,column:42}}}):a)+'timegrid-hour" style="height: '+c(e.lambda((o=(o=i&&u(i,"root"))&&u(o,"styles"))&&u(o,"oneHourHeight"),t))+"; color: "+c("function"===typeof(a=null!=(a=u(n,"color")||(null!=t?u(t,"color"):t))?a:l)?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:6,column:111},end:{line:6,column:120}}}):a)+"; font-weight: "+c("function"===typeof(a=null!=(a=u(n,"fontWeight")||(null!=t?u(t,"fontWeight"):t))?a:l)?a.call(s,{name:"fontWeight",hash:{},data:i,loc:{start:{line:6,column:135},end:{line:6,column:149}}}):a)+';">\n                    <span style="'+(null!=(o=u(n,"if").call(s,null!=t?u(t,"hidden"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:7,column:33},end:{line:7,column:66}}}))?o:"")+'">'+(null!=(o=(u(n,"timegridDisplayPrimayTime-tmpl")||t&&u(t,"timegridDisplayPrimayTime-tmpl")||l).call(s,t,{name:"timegridDisplayPrimayTime-tmpl",hash:{},data:i,loc:{start:{line:7,column:68},end:{line:7,column:109}}}))?o:"")+"</span>\n                </div>\n"},6:function(e,t,n,r,i){return"display:none"},8:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:28},end:{line:11,column:42}}}):a)+'timegrid-hourmarker" style="top:'+c(u((o=i&&d(i,"root"))&&d(o,"hourmarkerTop"),t))+"%; margin-top: calc(6px - "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourHeight"),t))+"); height: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourHeight"),t))+';">\n                    <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:12,column:32},end:{line:12,column:46}}}):a)+'timegrid-hourmarker-time" style="color: '+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"currentTimeColor"),t))+"; font-size: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"currentTimeFontSize"),t))+"; font-weight: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"currentTimeFontWeight"),t))+'">'+(null!=(o=(d(n,"timegridCurrentTime-tmpl")||t&&d(t,"timegridCurrentTime-tmpl")||l).call(s,t,{name:"timegridCurrentTime-tmpl",hash:{},data:i,loc:{start:{line:12,column:223},end:{line:12,column:258}}}))?o:"")+"</div>\n                </div>\n"},10:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=s(n,"each").call(a,null!=t?s(t,"timeSlots"):t,{name:"each",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i,loc:{start:{line:16,column:12},end:{line:20,column:23}}}))?o:"")+(null!=(o=s(n,"if").call(a,(o=i&&s(i,"root"))&&s(o,"showHourMarker"),{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.noop,data:i,loc:{start:{line:21,column:12},end:{line:25,column:19}}}))?o:"")},11:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=u(n,"CSS_PREFIX")||(null!=t?u(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:17,column:28},end:{line:17,column:42}}}):a)+'timegrid-hour" style="height: '+c(e.lambda((o=(o=i&&u(i,"root"))&&u(o,"styles"))&&u(o,"oneHourHeight"),t))+"; color: "+c("function"===typeof(a=null!=(a=u(n,"color")||(null!=t?u(t,"color"):t))?a:l)?a.call(s,{name:"color",hash:{},data:i,loc:{start:{line:17,column:111},end:{line:17,column:120}}}):a)+"; font-weight: "+c("function"===typeof(a=null!=(a=u(n,"fontWeight")||(null!=t?u(t,"fontWeight"):t))?a:l)?a.call(s,{name:"fontWeight",hash:{},data:i,loc:{start:{line:17,column:135},end:{line:17,column:149}}}):a)+';">\n                    <span style="'+(null!=(o=u(n,"if").call(s,null!=t?u(t,"hidden"):t,{name:"if",hash:{},fn:e.program(6,i,0),inverse:e.noop,data:i,loc:{start:{line:18,column:33},end:{line:18,column:66}}}))?o:"")+'">'+(null!=(o=(u(n,"timegridDisplayTime-tmpl")||t&&u(t,"timegridDisplayTime-tmpl")||l).call(s,t,{name:"timegridDisplayTime-tmpl",hash:{},data:i,loc:{start:{line:18,column:68},end:{line:18,column:103}}}))?o:"")+"</span>\n                </div>\n"},13:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'                <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:22,column:28},end:{line:22,column:42}}}):a)+'timegrid-hourmarker" style="top:'+c(u((o=i&&d(i,"root"))&&d(o,"hourmarkerTop"),t))+"%; margin-top: calc(6px - "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourHeight"),t))+"); height: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourHeight"),t))+';">\n                    <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:23,column:32},end:{line:23,column:46}}}):a)+'timegrid-hourmarker-time" style="color: '+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"currentTimeColor"),t))+"; font-size: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"currentTimeFontSize"),t))+';">'+(null!=(o=(d(n,"timegridCurrentTime-tmpl")||t&&d(t,"timegridCurrentTime-tmpl")||l).call(s,t,{name:"timegridCurrentTime-tmpl",hash:{},data:i,loc:{start:{line:23,column:171},end:{line:23,column:206}}}))?o:"")+"</div>\n                </div>\n"},15:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:33,column:20},end:{line:33,column:34}}}):a)+'timegrid-gridline" style="height: '+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"oneHourHeight"),t))+";\n"+(null!=(o=d(n,"unless").call(s,i&&d(i,"last"),{name:"unless",hash:{},fn:e.program(16,i,0),inverse:e.noop,data:i,loc:{start:{line:34,column:12},end:{line:36,column:23}}}))?o:"")+'        ">\n            <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:38,column:24},end:{line:38,column:38}}}):a)+'timegrid-gridline-half" style="height: '+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourHeight"),t))+"; border-bottom: "+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"halfHourBorderBottom"),t))+';"></div>\n        </div>\n'},16:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"            border-bottom: "+e.escapeExpression(e.lambda((o=(o=i&&a(i,"root"))&&a(o,"styles"))&&a(o,"borderBottom"),t))+";\n"},18:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:47,column:16},end:{line:47,column:30}}}):a)+'timegrid-hourmarker" style="top:'+u(typeof(a=null!=(a=h(n,"hourmarkerTop")||(null!=t?h(t,"hourmarkerTop"):t))?a:l)===c?a.call(s,{name:"hourmarkerTop",hash:{},data:i,loc:{start:{line:47,column:62},end:{line:47,column:79}}}):a)+'%">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:48,column:20},end:{line:48,column:34}}}):a)+'timegrid-hourmarker-line-left" style="width:'+u(typeof(a=null!=(a=h(n,"todaymarkerLeft")||(null!=t?h(t,"todaymarkerLeft"):t))?a:l)===c?a.call(s,{name:"todaymarkerLeft",hash:{},data:i,loc:{start:{line:48,column:78},end:{line:48,column:97}}}):a)+"%; border-top: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"currentTimeLeftBorderTop"):o,t))+';"></div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:49,column:20},end:{line:49,column:34}}}):a)+'timegrid-todaymarker" style="left:'+u(typeof(a=null!=(a=h(n,"todaymarkerLeft")||(null!=t?h(t,"todaymarkerLeft"):t))?a:l)===c?a.call(s,{name:"todaymarkerLeft",hash:{},data:i,loc:{start:{line:49,column:68},end:{line:49,column:87}}}):a)+"%; background-color: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"currentTimeBulletBackgroundColor"):o,t))+'; ">today</div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:50,column:20},end:{line:50,column:34}}}):a)+'timegrid-hourmarker-line-today" style="left:'+u(typeof(a=null!=(a=h(n,"todaymarkerLeft")||(null!=t?h(t,"todaymarkerLeft"):t))?a:l)===c?a.call(s,{name:"todaymarkerLeft",hash:{},data:i,loc:{start:{line:50,column:78},end:{line:50,column:97}}}):a)+"%; width: "+u(typeof(a=null!=(a=h(n,"todaymarkerWidth")||(null!=t?h(t,"todaymarkerWidth"):t))?a:l)===c?a.call(s,{name:"todaymarkerWidth",hash:{},data:i,loc:{start:{line:50,column:107},end:{line:50,column:127}}}):a)+"%; border-top: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"currentTimeTodayBorderTop"):o,t))+';"></div>\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:51,column:20},end:{line:51,column:34}}}):a)+'timegrid-hourmarker-line-right" style="left:'+u(typeof(a=null!=(a=h(n,"todaymarkerRight")||(null!=t?h(t,"todaymarkerRight"):t))?a:l)===c?a.call(s,{name:"todaymarkerRight",hash:{},data:i,loc:{start:{line:51,column:78},end:{line:51,column:98}}}):a)+"%; border-top: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"currentTimeRightBorderTop"):o,t))+';"></div>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'timegrid-left" style="width: '+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftWidth"):o,t))+"; font-size: "+u(d(null!=(o=null!=t?h(t,"styles"):t)?h(o,"leftFontSize"):o,t))+';">\n'+(null!=(o=h(n,"each").call(s,null!=t?h(t,"timezones"):t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:4},end:{line:28,column:15}}}))?o:"")+'</div>\n<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:30,column:12},end:{line:30,column:26}}}):a)+'timegrid-right" style="margin-left: '+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"leftWidth"),t))+';">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:31,column:16},end:{line:31,column:30}}}):a)+'timegrid-h-grid">\n'+(null!=(o=h(n,"each").call(s,null!=t?h(t,"hoursLabels"):t,{name:"each",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i,loc:{start:{line:32,column:8},end:{line:40,column:19}}}))?o:"")+'</div>\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:42,column:16},end:{line:42,column:30}}}):a)+'timegrid-schedules">\n        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:43,column:20},end:{line:43,column:34}}}):a)+'timegrid-schedules-container"></div>\n    </div>\n\n'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"showHourMarker"):t,{name:"if",hash:{},fn:e.program(18,i,0),inverse:e.noop,data:i,loc:{start:{line:46,column:4},end:{line:53,column:11}}}))?o:"")+"</div>\n"},useData:!0})},"./src/js/view/template/week/timeGridCurrentTime.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return(null!=(o=(a(n,"timegridCurrentTime-tmpl")||t&&a(t,"timegridCurrentTime-tmpl")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},t,{name:"timegridCurrentTime-tmpl",hash:{},data:i,loc:{start:{line:1,column:0},end:{line:1,column:35}}}))?o:"")+"\n"},useData:!0})},"./src/js/view/template/week/timeMoveGuide.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:24},end:{line:4,column:38}}}):a)+"time-schedule-content "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:4,column:60},end:{line:4,column:74}}}):a)+'time-schedule-content-travel-time" style="border-color:'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"borderColor"):o,t))+"; border-bottom: 1px dashed "+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"color"):o,t))+"; height: "+c("function"===typeof(a=null!=(a=d(n,"goingDurationHeight")||(null!=t?d(t,"goingDurationHeight"):t))?a:l)?a.call(s,{name:"goingDurationHeight",hash:{},data:i,loc:{start:{line:4,column:203},end:{line:4,column:226}}}):a)+'%;">'+(null!=(o=(d(n,"goingDuration-tmpl")||t&&d(t,"goingDuration-tmpl")||l).call(s,null!=t?d(t,"model"):t,{name:"goingDuration-tmpl",hash:{},data:i,loc:{start:{line:4,column:230},end:{line:4,column:260}}}))?o:"")+"</div>\n"},3:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:10,column:24},end:{line:10,column:38}}}):a)+"time-schedule-content "+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:10,column:60},end:{line:10,column:74}}}):a)+'time-schedule-content-travel-time" style="border-color:'+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"borderColor"):o,t))+"; border-top: 1px dashed "+c(u(null!=(o=null!=t?d(t,"model"):t)?d(o,"color"):o,t))+"; height: "+c("function"===typeof(a=null!=(a=d(n,"comingDurationHeight")||(null!=t?d(t,"comingDurationHeight"):t))?a:l)?a.call(s,{name:"comingDurationHeight",hash:{},data:i,loc:{start:{line:10,column:200},end:{line:10,column:224}}}):a)+'%;">'+(null!=(o=(d(n,"comingDuration-tmpl")||t&&d(t,"comingDuration-tmpl")||l).call(s,null!=t?d(t,"model"):t,{name:"comingDuration-tmpl",hash:{},data:i,loc:{start:{line:10,column:228},end:{line:10,column:259}}}))?o:"")+"</div>\n"},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:13,column:38},end:{line:13,column:52}}}):o)+'time-resize-handle handle-x">&nbsp;</div>'},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:1,column:12},end:{line:1,column:26}}}):a)+'time-date-schedule-block" data-id="'+u((h(n,"stamp")||t&&h(t,"stamp")||l).call(s,null!=t?h(t,"model"):t,{name:"stamp",hash:{},data:i,loc:{start:{line:1,column:61},end:{line:1,column:76}}}))+'" style="width: 100%; height: 100%;">\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:16},end:{line:2,column:30}}}):a)+"time-schedule "+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:44},end:{line:2,column:58}}}):a)+'time-date-schedule-block-focused" style="color: #ffffff; background-color:'+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"dragBgColor"):o,t))+';">\n'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hasGoingDuration"):t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:3,column:8},end:{line:5,column:15}}}))?o:"")+'            <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:6,column:24},end:{line:6,column:38}}}):a)+'time-schedule-content" style="height: '+u(typeof(a=null!=(a=h(n,"modelDurationHeight")||(null!=t?h(t,"modelDurationHeight"):t))?a:l)===c?a.call(s,{name:"modelDurationHeight",hash:{},data:i,loc:{start:{line:6,column:76},end:{line:6,column:99}}}):a)+"%; border-color:"+u(d(null!=(o=null!=t?h(t,"model"):t)?h(o,"borderColor"):o,t))+';">\n                '+(null!=(o=(h(n,"time-tmpl")||t&&h(t,"time-tmpl")||l).call(s,null!=t?h(t,"model"):t,{name:"time-tmpl",hash:{},data:i,loc:{start:{line:7,column:16},end:{line:7,column:37}}}))?o:"")+"\n            </div>\n"+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hasComingDuration"):t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i,loc:{start:{line:9,column:8},end:{line:11,column:15}}}))?o:"")+"    </div>\n    "+(null!=(o=h(n,"unless").call(s,null!=t?h(t,"croppedEnd"):t,{name:"unless",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i,loc:{start:{line:13,column:4},end:{line:13,column:104}}}))?o:"")+'\n    <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:14,column:16},end:{line:14,column:30}}}):a)+'time-date-schedule-block-cover"></div>\n</div>\n'},useData:!0})},"./src/js/view/template/week/timezoneSticky.hbs":function(e,t,n){var r=n("./node_modules/handlebars/runtime.js");e.exports=(r.default||r).template({1:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c="function",u=e.escapeExpression,d=e.lambda,h=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:2,column:12},end:{line:2,column:26}}}):a)+'timegrid-timezone-label-container" style="'+(null!=(o=h(n,"if").call(s,null!=t?h(t,"hidden"):t,{name:"if",hash:{},fn:e.program(2,i,0),inverse:e.noop,data:i,loc:{start:{line:2,column:68},end:{line:2,column:102}}}))?o:"")+"background-color: "+u(typeof(a=null!=(a=h(n,"backgroundColor")||(null!=t?h(t,"backgroundColor"):t))?a:l)===c?a.call(s,{name:"backgroundColor",hash:{},data:i,loc:{start:{line:2,column:120},end:{line:2,column:139}}}):a)+"; height: 100%; width: "+u(typeof(a=null!=(a=h(n,"width")||(null!=t?h(t,"width"):t))?a:l)===c?a.call(s,{name:"width",hash:{},data:i,loc:{start:{line:2,column:162},end:{line:2,column:171}}}):a)+"%; left: "+u(typeof(a=null!=(a=h(n,"left")||(null!=t?h(t,"left"):t))?a:l)===c?a.call(s,{name:"left",hash:{},data:i,loc:{start:{line:2,column:180},end:{line:2,column:188}}}):a)+"%; font-size: "+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"leftFontSize"),t))+"; border-right: "+u(d((o=(o=i&&h(i,"root"))&&h(o,"styles"))&&h(o,"leftBorderRight"),t))+';">\n    <div title="'+u(typeof(a=null!=(a=h(n,"tooltip")||(null!=t?h(t,"tooltip"):t))?a:l)===c?a.call(s,{name:"tooltip",hash:{},data:i,loc:{start:{line:3,column:16},end:{line:3,column:27}}}):a)+'" class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:3,column:36},end:{line:3,column:50}}}):a)+'timegrid-timezone-label-cell" data-timezone="'+u(typeof(a=null!=(a=h(n,"displayLabel")||(null!=t?h(t,"displayLabel"):t))?a:l)===c?a.call(s,{name:"displayLabel",hash:{},data:i,loc:{start:{line:3,column:95},end:{line:3,column:111}}}):a)+'" style="height: 100%; width: 100%;">\n'+(null!=(o=h(n,"if").call(s,(h(n,"and")||t&&h(t,"and")||l).call(s,null!=t?h(t,"isPrimary"):t,(o=i&&h(i,"root"))&&h(o,"showTimezoneCollapseButton"),{name:"and",hash:{},data:i,loc:{start:{line:4,column:14},end:{line:4,column:62}}}),{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i,loc:{start:{line:4,column:8},end:{line:10,column:15}}}))?o:"")+'        <div class="'+u(typeof(a=null!=(a=h(n,"CSS_PREFIX")||(null!=t?h(t,"CSS_PREFIX"):t))?a:l)===c?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:11,column:20},end:{line:11,column:34}}}):a)+'timegrid-timezone-label">'+(null!=(o=(h(n,"timezoneDisplayLabel-tmpl")||t&&h(t,"timezoneDisplayLabel-tmpl")||l).call(s,null!=t?h(t,"timezoneOffset"):t,null!=t?h(t,"displayLabel"):t,{name:"timezoneDisplayLabel-tmpl",hash:{},data:i,loc:{start:{line:11,column:59},end:{line:11,column:118}}}))?o:"")+"</div>\n    </div>\n</div>\n"},2:function(e,t,n,r,i){return"display:none;"},4:function(e,t,n,r,i){var o,a,s=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,c=e.escapeExpression,u=e.lambda,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'            <div class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:5,column:24},end:{line:5,column:38}}}):a)+'timegrid-timezone-close-btn" style="border: 1px solid #ddd; top:2px; bottom: 2px; width: 10px; border-left: none;">\n                <span style="color: #777; height: calc('+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"displayTimezoneLabelHeight"),t))+" - 6px); line-height: calc("+c(u((o=(o=i&&d(i,"root"))&&d(o,"styles"))&&d(o,"displayTimezoneLabelHeight"),t))+' - 6px);">\n                    <span class="'+c("function"===typeof(a=null!=(a=d(n,"CSS_PREFIX")||(null!=t?d(t,"CSS_PREFIX"):t))?a:l)?a.call(s,{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:33},end:{line:7,column:47}}}):a)+"icon "+(null!=(o=d(n,"if").call(s,(o=i&&d(i,"root"))&&d(o,"timezonesCollapsed"),{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.program(7,i,0),data:i,loc:{start:{line:7,column:52},end:{line:7,column:154}}}))?o:"")+'"></span>\n                </span>\n            </div>\n'},5:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:84},end:{line:7,column:98}}}):o)+"ic-arrow-right"},7:function(e,t,n,r,i){var o,a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression("function"===typeof(o=null!=(o=a(n,"CSS_PREFIX")||(null!=t?a(t,"CSS_PREFIX"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"CSS_PREFIX",hash:{},data:i,loc:{start:{line:7,column:120},end:{line:7,column:134}}}):o)+"ic-arrow-left"},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,i){var o,a=null!=t?t:e.nullContext||{},s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return null!=(o=s(n,"each").call(a,(s(n,"reverse")||t&&s(t,"reverse")||e.hooks.helperMissing).call(a,null!=t?s(t,"timezones"):t,{name:"reverse",hash:{},data:i,loc:{start:{line:1,column:8},end:{line:1,column:27}}}),{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:14,column:11}}}))?o:""},useData:!0})},"./src/js/view/view.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/common/domutil.js"),o=n("./src/js/common/collection.js");function a(e){var t=r.stamp(this);r.isUndefined(e)&&(e=i.appendHTMLElement("div")),i.addClass(e,this.cssprefix(t)),this.id=t,this.container=e,this.children=new o((function(e){return r.stamp(e)})),this.parent=null,this.state={}}a.prototype.cssPrefix="tui-view-",a.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.children.add(e)},a.prototype.removeChild=function(e,t){var n=r.isNumber(e)?this.children.items[e]:e;e=r.stamp(n),t&&t.call(n,this),this.children.remove(e)},a.prototype.render=function(){this.children.each((function(e){e.render()}))},a.prototype.recursive=function(e,t){r.isFunction(e)&&(t||e(this),this.children.each((function(t){t.recursive(e)})))},a.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)r.isFunction(t._onResize)&&t._onResize.apply(t,e),t=t.parent},a.prototype._beforeDestroy=function(){},a.prototype._destroy=function(){this._beforeDestroy(),this.children.clear(),this.container.innerHTML="",this.id=this.parent=this.children=this.container=null},a.prototype.destroy=function(e){this.children.each((function(e){e.destroy(!0),e._destroy()})),e||this._destroy()},a.prototype.getViewBound=function(){var e=this.container,t=i.getPosition(e),n=i.getSize(e);return{x:t[0],y:t[1],width:n[0],height:n[1]}},a.prototype.cssprefix=function(e){return this.cssPrefix+(e||"")},a.prototype.setState=function(e){r.extend(this.state,e)},r.CustomEvents.mixin(a),e.exports=a},"./src/js/view/week/dayGrid.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/domutil.js"),l=n("./src/js/common/timezone.js").Date,c=n("./src/js/view/view.js"),u=n("./src/js/view/week/dayGridSchedule.js"),d=n("./src/js/view/template/week/dayGrid.hbs"),h=n("./src/js/common/reqAnimFrame.js"),p=Math.max,f=Math.min;function m(e,t,n,o){n=s.appendHTMLElement("div",n,i.classname("daygrid-layout")),c.call(this,n),e=e||"daygrid",this.options=r.extend({viewName:e,daynames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],renderStartDate:"",renderEndDate:"",containerBottomGutter:18,scheduleHeight:parseInt(o.week.dayGridSchedule.height,10),scheduleGutter:parseInt(o.week.dayGridSchedule.marginTop,10),scheduleContainerTop:1,timezones:t.timezones,isReadOnly:t.isReadOnly,getViewModelFunc:function(t){return t.schedulesInDateRange[e]},setViewModelFunc:function(t,n){t.schedulesInDateRange[e]=n}},t.week),this.handler={},this.vPanel=null,this.state.collapsed=!0}function g(e,t,n){return 0===e||6===e?n.weekendBackgroundColor:t?n.todayBackgroundColor:n.backgroundColor}function v(e,t){var n;return r.forEach(e,(function(e){e.name===t&&(n=e)})),n}r.inherit(m,c),m.prototype.getBaseViewModel=function(e){var t,n=this.options,i=n.daynames,o=e.range,s=e.grids,c=n.getViewModelFunc(e),u={},d=v(n.panels,n.viewName),h=this.getViewBound().height,m=this.state.collapsed,_=!!this.vPanel&&this.vPanel.getHeightForcedSet(),y=e.state.timezonesCollapsed,b=this._getStyles(e.theme,y),C=(new l).toLocalTime();return d.showExpandableButton&&(_||(h=m?p(h,d.maxHeight):f(h,d.maxExpandableHeight)),t=Math.floor(h/(n.scheduleHeight+n.scheduleGutter)),m&&(u=this.parent.controller.getExceedDate(t,c,e.range),c=this.parent.controller.excludeExceedSchedules(c,t),n.setViewModelFunc(e,c))),{viewName:n.viewName,range:o,grids:s,days:r.map(e.range,(function(t,n){var r=t.getDay(),o=a.format(t,"YYYYMMDD"),l=a.isSameDate(C,t);return{day:r,dayName:i[r],isToday:l,date:t.getDate(),renderDate:a.format(t,"YYYY-MM-DD"),hiddenSchedules:u[o]||0,width:s[n]?s[n].width:0,left:s[n]?s[n].left:0,backgroundColor:e.range.length>1?g(r,l,b):b.backgroundColor}})),exceedDate:u,showExpandableButton:d.showExpandableButton,collapsed:m,collapseBtnIndex:this.state.clickedExpandBtnIndex,styles:b}},m.prototype.render=function(e){var t,n=this.options,r=this.container,o=this.getBaseViewModel(e),a=this.options.scheduleContainerTop;r.innerHTML=d(o),this.children.clear(),t=new u(n,s.find(i.classname(".container"),r)),this.addChild(t),t.on("afterRender",(function(e){o.height=e.minHeight+a})),this.children.each((function(t){t.render(e)}),this),this.fire("afterRender",o)},m.prototype._beforeDestroy=function(){},m.prototype.addHandler=function(e,t,n){var r=this;this.handler[e]=t,this.vPanel=n,"click"===e&&(t.on("expand",(function(){r.setState({collapsed:!1})}),this),t.on("collapse",(function(){r.setState({collapsed:!0})}),this))},m.prototype._expand=function(){h.requestAnimFrame((function(){var e=this.vPanel,t=this.options,n=v(t.panels,t.viewName);e.setMaxHeight(n.maxExpandableHeight),e.setHeightForcedSet(!1),e.setHeight(null,n.maxExpandableHeight),this.parent&&this.parent.render()}),this)},m.prototype._collapse=function(){h.requestAnimFrame((function(){var e=this.vPanel,t=this.options,n=v(t.panels,t.viewName);e.setMaxHeight(n.maxHeight),e.setHeightForcedSet(!1),e.setHeight(null,n.minHeight),this.parent&&this.parent.render()}),this)},m.prototype.setState=function(e){var t=this.state.collapsed;c.prototype.setState.call(this,e),this.state.collapsed!==t&&(this.state.collapsed?this._collapse():this._expand())},m.prototype._getStyles=function(e,t){var n,r={},i=this.options.timezones.length,a=t;return e&&(r.borderRight=e.week.daygrid.borderRight||e.common.border,r.todayBackgroundColor=e.week.today.backgroundColor,r.weekendBackgroundColor=e.week.weekend.backgroundColor,r.backgroundColor=e.week.daygrid.backgroundColor,r.leftWidth=e.week.daygridLeft.width,r.leftBackgroundColor=e.week.daygridLeft.backgroundColor,r.leftPaddingRight=e.week.daygridLeft.paddingRight,r.leftBorderRight=e.week.daygridLeft.borderRight,!a&&i>1&&(n=o.parseUnit(r.leftWidth),r.leftWidth=n[0]*i+n[1])),r},e.exports=m},"./src/js/view/week/dayGridSchedule.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/view/weekday.js"),o=n("./src/js/view/template/week/dayGridSchedule.hbs"),a=Math.max;function s(e,t){i.call(this,e,t),this.collapsed=!0}r.inherit(s,i),s.prototype.render=function(e){var t,n=this.container;t=this.getBaseViewModel(e),n.innerHTML=o(t),this.fire("afterRender",t)},s.prototype._getMaxScheduleInDay=function(e){return a.apply(null,r.map(e,(function(e){return Math.max.apply(null,r.map(e,(function(e){return e.length})))})))},s.prototype._getMinHeight=function(e){var t=this.options;return e*t.scheduleHeight+(e-1)*t.scheduleGutter},s.prototype.getBaseViewModel=function(e){var t,n=this.options,o=n.getViewModelFunc(e),a=this._getMaxScheduleInDay(o),s=this._getStyles(e.theme);return t=i.prototype.getBaseViewModel.call(this,e),t=r.extend({minHeight:this._getMinHeight(a),matrices:o,scheduleContainerTop:this.options.scheduleContainerTop,maxScheduleInDay:a,isReadOnly:n.isReadOnly,styles:s},t)},s.prototype._getStyles=function(e){var t={};return e&&(t.borderRadius=e.week.dayGridSchedule.borderRadius),t},e.exports=s},"./src/js/view/week/dayname.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/common/domutil.js"),c=n("./src/js/view/view.js"),u=n("./src/js/view/template/week/daynames.hbs");function d(e,t,n){t=l.appendHTMLElement("div",t,i.classname("dayname-container")),this.options=r.extend({daynames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],timezones:e.timezones},e.week),this.theme=n,c.call(this,t),this.applyTheme()}r.inherit(d,c),d.prototype._getBaseViewModel=function(e,t,n){var i=this.options.daynames,o=this.theme,l=(new s).toLocalTime();return r.map(a.range(a.start(e),a.end(t),a.MILLISECONDS_PER_DAY),(function(e,t){var r=e.getDay(),s=a.isSameDate(e,l),c=e<l&&!s;return{day:r,dayName:i[r],isToday:s,date:e.getDate(),left:n[t]?n[t].left:0,width:n[t]?n[t].width:0,renderDate:a.format(e,"YYYY-MM-DD"),color:this._getDayNameColor(o,r,s,c)}}),this)},d.prototype.render=function(e){var t=this._getBaseViewModel(e.renderStartDate,e.renderEndDate,e.grids),n=e.state.timezonesCollapsed,i=this._getStyles(this.theme,n),o=r.extend({},{dayNames:t,styles:i});this.container.innerHTML=u(o)},d.prototype._getDayNameColor=function(e,t,n,r){var i="";return e&&(i=0===t?e.common.holiday.color:r?e.week.pastDay.color||e.common.dayname.color:6===t?e.common.saturday.color:n?e.week.today.color||e.common.today.color:e.common.dayname.color),i},d.prototype._getStyles=function(e,t){var n,r={},i=this.options.timezones.length,a=t;return e&&(r.borderTop=e.week.dayname.borderTop||e.common.border,r.borderBottom=e.week.dayname.borderBottom||e.common.border,r.borderLeft=e.week.dayname.borderLeft||e.common.border,r.paddingLeft=e.week.dayname.paddingLeft,r.backgroundColor=e.week.dayname.backgroundColor,r.height=e.week.dayname.height,r.textAlign=e.week.dayname.textAlign,r.marginLeft=e.week.daygridLeft.width,!a&&i>1&&(n=o.parseUnit(r.marginLeft),r.marginLeft=n[0]*i+n[1])),r},d.prototype.applyTheme=function(){var e=this._getStyles(this.theme),t=this.container.style;return t.borderTop=e.borderTop,t.borderBottom=e.borderBottom,t.height=e.height,t.backgroundColor=e.backgroundColor,t.textAlign=e.textAlign,t},e.exports=d},"./src/js/view/week/time.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/datetime.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/view/view.js"),l=n("./src/js/view/template/week/time.hbs"),c=r.forEachArray,u=o.MILLISECONDS_SCHEDULE_MIN_DURATION;function d(e,t,n){s.call(this,t),this.options=r.extend({index:0,width:0,ymd:"",isToday:!1,pending:!1,hourStart:0,hourEnd:24,defaultMarginBottom:2,minHeight:18.5,isReadOnly:!1},e),this.timeTmpl=l,this.theme=n,t.style.width=e.width+"%",t.style.left=e.left+"%",this.options.isToday&&a.addClass(this.container,i.classname("today")),this.applyTheme()}r.inherit(d,s),d.prototype._parseDateGroup=function(e){var t=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10),r=parseInt(e.substr(6,2),10),i=o.start();return i.setFullYear(t,n-1,r),o.start(i)},d.prototype._getScheduleViewBoundX=function(e,t){var n=t.baseWidth*(e.extraSpace+1);return e.hasCollide||(n=null),{left:t.baseLeft[t.columnIndex],width:n}},d.prototype._getScheduleViewBoundY=function(e,t){var n,r,i,a,s=t.baseMS,l=t.baseHeight,c=!1,d=!1,h=o.millisecondsFrom("minutes",e.valueOf().goingDuration),p=o.millisecondsFrom("minutes",e.valueOf().comingDuration),f=e.valueOf().start-h-t.todayStart,m=l*f/s,g=e.duration();return n=l*((g=g>u?g:u)+h+p)/s,r=l*h/s,i=l*g/s,a=l*p/s,f<0&&(m=0,n+=l*f/s,c=!0),n+m>l&&(n=l-m,d=!0),{top:m,height:Math.max(n,this.options.minHeight)-this.options.defaultMarginBottom,modelDurationHeight:i,goingDurationHeight:r,comingDurationHeight:a,hasGoingDuration:h>0,hasComingDuration:p>0,croppedStart:c,croppedEnd:d}},d.prototype.getScheduleViewBound=function(e,t){var n=this._getScheduleViewBoundX(e,t),i=this._getScheduleViewBoundY(e,t),o=e.model,a=r.pick(o,"isReadOnly")||!1,s=o.isFocused?"#ffffff":o.borderColor;return s===o.bgColor&&(s=null),r.extend({isReadOnly:a,travelBorderColor:s},n,i)},d.prototype._getBaseViewModel=function(e,t,n){var i,a,s=this,l=this.options,u=l.hourStart,d=l.hourEnd,h=l.isReadOnly;n=n||this.getViewBound().height,(i=this._parseDateGroup(e)).setHours(u),a=o.millisecondsFrom("hour",d-u),c(t,(function(e){var t,o,l,u;for(t=Math.max.apply(null,r.map(e,(function(e){return e.length}))),o=100/t,l=[],u=0;u<t;u+=1)l[u]=o*u;c(e,(function(e){c(e,(function(e,t){var c;e&&(c=s.getScheduleViewBound(e,{todayStart:i,baseMS:a,baseLeft:l,baseWidth:o,baseHeight:n,columnIndex:t,isReadOnly:h}),r.extend(e,c))}))}))}))},d.prototype.getDate=function(){return this._parseDateGroup(this.options.ymd)},d.prototype.render=function(e,t,n){this._getBaseViewModel(e,t,n),this.container.innerHTML=this.timeTmpl({matrices:t,styles:this._getStyles(this.theme),isReadOnly:this.options.isReadOnly})},d.prototype._getStyles=function(e){var t={},n=this.options;return e&&(t.borderRight=e.week.timegrid.borderRight||e.common.border,t.marginRight=e.week.timegrid.paddingRight,t.borderRadius=e.week.timegridSchedule.borderRadius,t.paddingLeft=e.week.timegridSchedule.paddingLeft,t.backgroundColor=n.isToday?e.week.today.backgroundColor:"inherit"),t},d.prototype.applyTheme=function(){var e=this.container.style,t=this._getStyles(this.theme);e.borderRight=t.borderRight,e.backgroundColor=t.backgroundColor},e.exports=d},"./src/js/view/week/timeGrid.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/common.js"),a=n("./src/js/common/domutil.js"),s=n("./src/js/common/domevent.js"),l=n("./src/js/common/datetime.js"),c=n("./src/js/common/timezone.js"),u=n("./src/js/common/reqAnimFrame.js"),d=n("./src/js/view/view.js"),h=n("./src/js/view/week/time.js"),p=n("./src/js/common/autoScroll.js"),f=n("./src/js/view/template/week/timeGrid.hbs"),m=n("./src/js/view/template/week/timezoneSticky.hbs"),g=n("./src/js/view/template/week/timeGridCurrentTime.hbs"),v=c.Date;function _(e,t,n,i){var a,s,c=e.hourStart,u=e.hourEnd,d=new v(e.renderEndDate),h=parseInt(n/60,10),p=Math.abs(n%60),f=(new v).toLocalTime(),m=f.getMinutes(),g=r.range(0,24),_=null;return(h<0||-0===h)&&p>0&&(h-=1),o.shiftArray(g,h),o.takeArray(g,c,u),a=o.shiftHours(f.getHours(),h)%24,s=r.inArray(a,g),t&&(m<20?_=a:m>40&&(_=a+1),r.isNumber(_)&&(_%=24)),r.map(g,(function(e,n){var r,o;return t&&n<=s||d<f&&!l.isSameDate(d,f)?(r=i.pastTimeColor,o=i.pastTimeFontWeight):(r=i.futureTimeColor,o=i.futureTimeFontWeight),{hour:e,minutes:p,hidden:_===e||0===n,color:r||"",fontWeight:o||""}}))}function y(e,t,n){var o=a.appendHTMLElement("div",n,i.classname("timegrid-container")),s=a.appendHTMLElement("div",n,i.classname("timegrid-sticky-container"));n.style.position="relative",e=e||"time",d.call(this,o),r.browser.safari||(this._autoScroll=new p(o)),this.stickyContainer=s,this.options=r.extend({viewName:e,renderStartDate:"",renderEndDate:"",hourStart:0,hourEnd:24,timezones:t.timezones,isReadOnly:t.isReadOnly,showTimezoneCollapseButton:!1},t.week),this.options.timezones.length<1&&(this.options.timezones=[{timezoneOffset:c.getOffset()}]),this.intervalID=0,this.timerID=0,this._scrolled=!1,this._cacheParentViewModel=null,this._cacheHoursLabels=null,this.attachEvent()}r.inherit(y,d),y.prototype.viewName="timegrid",y.prototype._beforeDestroy=function(){clearInterval(this.intervalID),clearTimeout(this.timerID),this._autoScroll&&this._autoScroll.destroy(),s.off(this.stickyContainer,"click",this._onClickStickyContainer,this),this._autoScroll=this.hourmarkers=this.intervalID=this.timerID=this._cacheParentViewModel=this.stickyContainer=null},y.prototype._getTopPercentByTime=function(e){var t,n=this.options,i=l.raw(e||new v),a=r.range(n.hourStart,n.hourEnd).length*l.MILLISECONDS_PER_HOUR,s=l.millisecondsFrom("hour",i.h)+l.millisecondsFrom("minutes",i.m)+l.millisecondsFrom("seconds",i.s)+i.ms;return t=o.ratio(a,100,s),t-=o.ratio(a,100,l.millisecondsFrom("hour",n.hourStart)),o.limit(t,[0],[100])},y.prototype._getHourmarkerViewModel=function(e,t,n){var i=-1,o=-1,a=[],s=this.options,u=c.getOffset(),d=s.timezones;return r.forEach(n,(function(n,r){l.isSameDate(e,n)&&(i=t[r]?t[r].left:0,o=t[r]?t[r].width:0)})),r.forEach(d,(function(t){var n,r=t.timezoneOffset+u,i=new v(e);i.setMinutes(i.getMinutes()+r),n=l.getDateDifference(i,e),a.push({hourmarker:i,dateDifferenceSign:n<0?"-":"+",dateDifference:Math.abs(n)})})),{currentHours:e.getHours(),hourmarkerTop:this._getTopPercentByTime(e),hourmarkerTimzones:a,todaymarkerLeft:i,todaymarkerWidth:o,todaymarkerRight:i+o}},y.prototype._getTimezoneViewModel=function(e,t,n){var i=this.options,o=c.getOffset(),a=i.timezones,s=a.length,u=[],d=t,h=d?100:100/s,p=(new v).toLocalTime(),f=n.displayTimezoneLabelBackgroundColor;return r.forEach(a,(function(t,r){var s,c,m,g=new v(p);s=t.timezoneOffset+o,c=_(i,e>=0,s,n),g.setMinutes(g.getMinutes()+s),m=l.getDateDifference(g,p),r>0&&(f=n.additionalTimezoneBackgroundColor),u.push({timeSlots:c,displayLabel:t.displayLabel,timezoneOffset:t.timezoneOffset,tooltip:t.tooltip||"",width:h,left:d?0:(a.length-r-1)*h,isPrimary:0===r,backgroundColor:f||"",hidden:0!==r&&d,hourmarker:g,dateDifferenceSign:m<0?"-":"+",dateDifference:Math.abs(m)})})),u},y.prototype._getBaseViewModel=function(e){var t=e.grids,n=e.range,i=this.options,o=this._getHourmarkerViewModel((new v).toLocalTime(),t,n),a=r.pick(e,"state","timezonesCollapsed"),s=this._getStyles(e.theme,a);return r.extend(o,{timezones:this._getTimezoneViewModel(o.todaymarkerLeft,a,s),hoursLabels:_(i,o.todaymarkerLeft>=0,0,s),styles:s,showTimezoneCollapseButton:r.pick(i,"showTimezoneCollapseButton"),timezonesCollapsed:a})},y.prototype._renderChildren=function(e,t,n,o){var s,c,u,d,p=this,f=this.options,m=l.format(new v,"YYYYMMDD"),g=0;n.innerHTML="",this.children.clear(),d=a.getSize(n.parentElement)[1],r.forEach(e,(function(e,r){u=r===m,s={index:g,left:t[g]?t[g].left:0,width:t[g]?t[g].width:0,ymd:r,isToday:u,isPending:f.isPending,isFocused:f.isFocused,isReadOnly:f.isReadOnly,hourStart:f.hourStart,hourEnd:f.hourEnd},(c=new h(s,a.appendHTMLElement("div",n,i.classname("time-date")),o)).render(r,e,d),p.addChild(c),g+=1}))},y.prototype.render=function(e){var t=this.options,n=e.schedulesInDateRange[t.viewName],o=this.container,s=e.grids,l=this._getBaseViewModel(e),c=r.keys(n).length;this._cacheParentViewModel=e,this._cacheHoursLabels=l.hoursLabels,c&&(l.showHourMarker=l.todaymarkerLeft>=0,o.innerHTML=f(l),this.renderStickyContainer(l),this._renderChildren(n,s,a.find(i.classname(".timegrid-schedules-container"),o),e.theme),this._hourLabels=a.find("ul",o),this.hourmarkers=a.find(i.classname(".timegrid-hourmarker"),o,!0),this._scrolled||(this._scrolled=!0,this.scrollToNow()))},y.prototype.renderStickyContainer=function(e){var t=this.stickyContainer;t.innerHTML=m(e),t.style.display=e.timezones.length>1?"block":"none",t.style.width=e.styles.leftWidth,t.style.height=e.styles.displayTimezoneLabelHeight,t.style.borderBottom=e.styles.leftBorderRight},y.prototype.refreshHourmarker=function(){var e,t=this.hourmarkers,n=this._cacheParentViewModel,o=this._cacheHoursLabels;t&&n&&(e=this._getBaseViewModel(n),u.requestAnimFrame((function(){var s=!1;r.forEach(o,(function(t,n){return t.hidden===e.hoursLabels[n].hidden||(s=!0,!1)})),s?this.render(n):r.forEach(t,(function(t){var n=a.find(i.classname(".timegrid-todaymarker"),t),r=a.find(i.classname(".timegrid-hourmarker-time"),t),o=a.closest(t,i.classname(".timegrid-timezone")),s=o?a.getData(o,"timezoneIndex"):0;t.style.top=e.hourmarkerTop+"%",n&&(n.style.display=e.todaymarkerLeft>=0?"block":"none"),r&&(r.innerHTML=g(e.hourmarkerTimzones[s]))}))}),this))},y.prototype.attachEvent=function(){clearInterval(this.intervalID),clearTimeout(this.timerID),this.intervalID=this.timerID=null,this.timerID=setTimeout(r.bind(this.onTick,this),1e3*(60-(new v).getSeconds())),s.on(this.stickyContainer,"click",this._onClickStickyContainer,this)},y.prototype.scrollToNow=function(){var e,t,n,r,i,o=this.container;this.hourmarkers&&this.hourmarkers.length&&(e=this.hourmarkers[0].offsetTop,t=this.getViewBound(),n=e,r=t.height/4,i=function(){n>e-r?(n-=10,o.scrollTop=n,u.requestAnimFrame(i)):o.scrollTop=e-r},u.requestAnimFrame(i))},y.prototype.onTick=function(){this.timerID&&(clearTimeout(this.timerID),this.timerID=null),this.intervalID||(this.intervalID=setInterval(r.bind(this.onTick,this),6e4)),this.refreshHourmarker()},y.prototype._getStyles=function(e,t){var n,r={},i=this.options.timezones.length,a=t;return e&&(r.borderBottom=e.week.timegridHorizontalLine.borderBottom||e.common.border,r.halfHourBorderBottom=e.week.timegridHalfHour.borderBottom||e.common.border,r.todayBackgroundColor=e.week.today.backgroundColor,r.weekendBackgroundColor=e.week.weekend.backgroundColor,r.backgroundColor=e.week.daygrid.backgroundColor,r.leftWidth=e.week.timegridLeft.width,r.leftBackgroundColor=e.week.timegridLeft.backgroundColor,r.leftBorderRight=e.week.timegridLeft.borderRight||e.common.border,r.leftFontSize=e.week.timegridLeft.fontSize,r.timezoneWidth=e.week.timegridLeft.width,r.additionalTimezoneBackgroundColor=e.week.timegridLeftAdditionalTimezone.backgroundColor||r.leftBackgroundColor,r.displayTimezoneLabelHeight=e.week.timegridLeftTimezoneLabel.height,r.displayTimezoneLabelBackgroundColor="inherit"===e.week.timegridLeft.backgroundColor?"white":e.week.timegridLeft.backgroundColor,r.oneHourHeight=e.week.timegridOneHour.height,r.halfHourHeight=e.week.timegridHalfHour.height,r.quaterHourHeight=parseInt(r.halfHourHeight,10)/2+"px",r.currentTimeColor=e.week.currentTime.color,r.currentTimeFontSize=e.week.currentTime.fontSize,r.currentTimeFontWeight=e.week.currentTime.fontWeight,r.pastTimeColor=e.week.pastTime.color,r.pastTimeFontWeight=e.week.pastTime.fontWeight,r.futureTimeColor=e.week.futureTime.color,r.futureTimeFontWeight=e.week.futureTime.fontWeight,r.currentTimeLeftBorderTop=e.week.currentTimeLinePast.border,r.currentTimeBulletBackgroundColor=e.week.currentTimeLineBullet.backgroundColor,r.currentTimeTodayBorderTop=e.week.currentTimeLineToday.border,r.currentTimeRightBorderTop=e.week.currentTimeLineFuture.border,!a&&i>1&&(n=o.parseUnit(r.leftWidth),r.leftWidth=n[0]*i+n[1])),r},y.prototype._onClickStickyContainer=function(e){var t=s.getEventTarget(e);a.closest(t,i.classname(".timegrid-timezone-close-btn"))&&this.fire("clickTimezonesCollapsedBtn")},e.exports=y},"./src/js/view/week/week.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/view/view.js");function c(e,t,n,c,u){var d;n=o.appendHTMLElement("div",n),l.call(this,n),o.addClass(n,i.classname("week-container")),d=this._getRenderDateRange(new s),this.options=r.extend({scheduleFilter:[function(e){return Boolean(e.isVisible)}],renderStartDate:a.format(d.start,"YYYY-MM-DD"),renderEndDate:a.format(d.end,"YYYY-MM-DD"),narrowWeekend:!1,startDayOfWeek:0,workweek:!1,showTimezoneCollapseButton:!1,timezonesCollapsed:!1,hourStart:0,hourEnd:24},t),this.controller=e,this.panels=c,this.state={timezonesCollapsed:this.options.timezonesCollapsed},"day"===u&&function(e){e.workweek=!1}(this.options)}r.inherit(c,l),c.prototype.render=function(){var e,t,n,i,o,l,c=this,u=this.options,d=u.scheduleFilter,h=u.narrowWeekend,p=u.startDayOfWeek,f=u.workweek,m=this.controller.theme||{},g=this.state;e=new s(u.renderStartDate),t=new s(u.renderEndDate),l=a.range(a.start(e),a.end(t),a.MILLISECONDS_PER_DAY),u.workweek&&a.compare(e,t)&&(e=(l=r.filter(l,(function(e){return!a.isWeekend(e.getDay())})))[0],t=l[l.length-1]),n=this.controller.findByDateRange(a.start(e),a.end(t),this.panels,d,this.options),o=a.getGridLeftAndWidth(l.length,h,p,f),i={schedulesInDateRange:n,renderStartDate:e,renderEndDate:t,grids:o,range:l,theme:m,state:g},this.children.each((function(e){var t,n=r.pick(e.options,"viewName");e.render(i),n&&(t=i.schedulesInDateRange[n],r.isArray(t)?c._invokeAfterRenderSchedule(t):r.forEach(t,(function(e){c._invokeAfterRenderSchedule(e)})))})),this.fire("afterRender")},c.prototype._invokeAfterRenderSchedule=function(e){var t=this;r.forEachArray(e,(function(e){r.forEachArray(e,(function(e){r.forEachArray(e,(function(e){e&&t.fire("afterRenderSchedule",{schedule:e.model})}))}))}))},c.prototype.viewName="week",c.prototype._getRenderDateRange=function(e){var t=a.start(e),n=new s(Number(t)),r=new s(Number(t));return n.setDate(n.getDate()-3),r.setDate(r.getDate()+3),{start:n,end:r}},r.CustomEvents.mixin(c),e.exports=c},"./src/js/view/weekday.js":function(e,t,n){"use strict";var r=n("tui-code-snippet"),i=n("./src/js/config.js"),o=n("./src/js/common/domutil.js"),a=n("./src/js/common/datetime.js"),s=n("./src/js/common/timezone.js").Date,l=n("./src/js/view/view.js");function c(e,t){t=o.appendHTMLElement("div",t,i.classname("weekday")),this.options=r.extend({containerBottomGutter:8,scheduleHeight:18,scheduleGutter:2,narrowWeekend:!1,startDayOfWeek:0,workweek:!1},e),this._cacheParentViewModel=null,l.call(this,t)}r.inherit(c,l),c.prototype.getRenderDateRange=function(){return this._cacheParentViewModel.range},c.prototype.getRenderDateGrids=function(){return this._cacheParentViewModel.grids},c.prototype.getBaseViewModel=function(e){var t=this.options,n=e.range,i=100/n.length,o=e.grids,l=e.exceedDate||{},c=e.theme,u=(new s).toLocalTime();return this._cacheParentViewModel=e,{width:i,scheduleHeight:t.scheduleHeight,scheduleBlockHeight:t.scheduleHeight+t.scheduleGutter,scheduleBlockGutter:t.scheduleGutter,dates:r.map(n,(function(e,t){var n=e.getDay(),r=a.format(new s(e),"YYYYMMDD"),i=a.isSameDate(u,e);return{date:a.format(e,"YYYY-MM-DD"),month:e.getMonth()+1,day:n,isToday:i,ymd:r,hiddenSchedules:l[r]||0,width:o[t]?o[t].width:0,left:o[t]?o[t].left:0,color:this._getDayNameColor(c,n,i),backgroundColor:this._getDayBackgroundColor(c,n)}}),this)}},c.prototype.getExceedDate=function(e,t,n){var i=this._initExceedDate(n);return r.forEach(t,(function(t){r.forEach(t,(function(t){r.forEach(t,(function(t){var n;!t||t.top<e||(t.hidden=!0,n=a.range(t.getStarts(),t.getEnds(),a.MILLISECONDS_PER_DAY),r.forEach(n,(function(e){var t=a.format(e,"YYYYMMDD");i[t]+=1})))}))}))})),i},c.prototype._initExceedDate=function(e){var t={};return r.forEach(e,(function(e){var n=a.format(e,"YYYYMMDD");t[n]=0})),t},c.prototype._getDayNameColor=function(e,t,n,r){var i="";return e&&(i=0===t?r?e.month.holidayExceptThisMonth.color:e.common.holiday.color:6===t?r?e.month.dayExceptThisMonth.color:e.common.saturday.color:n?e.common.today.color:r?e.month.dayExceptThisMonth.color:e.common.dayname.color),i},c.prototype._getDayBackgroundColor=function(e,t){var n="";return e&&(n=0===t||6===t?e.month.weekend.backgroundColor:"inherit"),n},e.exports=c},"tui-code-snippet":function(t,n){t.exports=e},"tui-date-picker":function(e,n){e.exports=t}})},e.exports=r(n(2),n(15))},function(e,t,n){var r;window,r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=34)}([function(e,t,n){"use strict";var r=n(35),i=n(7);e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&r(n,e),t.hasOwnProperty("static")&&(i(n,t.static),delete t.static),i(n.prototype,t),n}},function(e,t,n){"use strict";e.exports={TYPE_DATE:"date",TYPE_MONTH:"month",TYPE_YEAR:"year",TYPE_HOUR:"hour",TYPE_MINUTE:"minute",TYPE_MERIDIEM:"meridiem",MIN_DATE:new Date(1900,0,1),MAX_DATE:new Date(2999,11,31),DEFAULT_LANGUAGE_TYPE:"en",CLASS_NAME_SELECTED:"tui-is-selected",CLASS_NAME_PREV_MONTH_BTN:"tui-calendar-btn-prev-month",CLASS_NAME_PREV_YEAR_BTN:"tui-calendar-btn-prev-year",CLASS_NAME_NEXT_YEAR_BTN:"tui-calendar-btn-next-year",CLASS_NAME_NEXT_MONTH_BTN:"tui-calendar-btn-next-month"}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";var r=n(2),i=n(46),o=n(47),a=0,s={getTarget:function(e){return e.target||e.srcElement},getElement:function(e){return i(e)?e:document.querySelector(e)},getSelector:function(e){var t="";return e.id?t="#"+e.id:e.className&&(t="."+e.className.split(" ")[0]),t},generateId:function(){return a+=1},filter:function(e,t){var n=[];return r(e,(function(e){t(e)&&n.push(e)})),n},sendHostName:function(){o("date-picker","UA-129987462-1")}};e.exports=s},function(e,t,n){"use strict";var r=n(28),i=n(15),o=n(1),a=o.TYPE_DATE,s=o.TYPE_MONTH,l=o.TYPE_YEAR,c={getWeeksCount:function(e,t){var n=c.getFirstDay(e,t),r=c.getLastDayInMonth(e,t);return Math.ceil((n+r)/7)},isValidDate:function(e){return r(e)&&!isNaN(e.getTime())},getFirstDay:function(e,t){return new Date(e,t-1,1).getDay()},getFirstDayTimestamp:function(e,t){return new Date(e,t,1).getTime()},getLastDayInMonth:function(e,t){return new Date(e,t,0).getDate()},prependLeadingZero:function(e){var t="";return e<10&&(t="0"),t+e},getMeridiemHour:function(e){return 0===(e%=12)&&(e=12),e},getSafeNumber:function(e,t){if(isNaN(t)||!i(t))throw Error("The defaultNumber must be a valid number.");return isNaN(e)?t:Number(e)},getDateOfWeek:function(e,t,n,r){var i=new Date(e,t-1).getDay();return new Date(e,t-1,7*n-(i-r-1))},getRangeArr:function(e,t){var n,r=[];if(e>t)for(n=t;n>=e;n-=1)r.push(n);else for(n=e;n<=t;n+=1)r.push(n);return r},cloneWithStartOf:function(e,t){switch(t=t||a,(e=new Date(e)).setHours(0,0,0,0),t){case a:break;case s:e.setDate(1);break;case l:e.setMonth(0,1);break;default:throw Error("Unsupported type: "+t)}return e},cloneWithEndOf:function(e,t){switch(t=t||a,(e=new Date(e)).setHours(23,59,59,999),t){case a:break;case s:e.setMonth(e.getMonth()+1,0);break;case l:e.setMonth(11,31);break;default:throw Error("Unsupported type: "+t)}return e},compare:function(e,t,n){var r,i;return c.isValidDate(e)&&c.isValidDate(t)?(n?(r=c.cloneWithStartOf(e,n).getTime(),i=c.cloneWithStartOf(t,n).getTime()):(r=e.getTime(),i=t.getTime()),r>i?1:r===i?0:-1):NaN},isSame:function(e,t,n){return 0===c.compare(e,t,n)},inRange:function(e,t,n,r){return c.compare(e,n,r)<1&&c.compare(t,n,r)>-1}};e.exports=c},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";var r=n(7),i=n(37),o=n(13),a=n(22),s=n(6),l=n(39),c=n(9),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";var r=n(6),i=n(2),o=n(23);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports={en:{titles:{DD:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],MMM:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],MMMM:["January","February","March","April","May","June","July","August","September","October","November","December"]},titleFormat:"MMMM yyyy",todayFormat:"To\\d\\ay: DD, MMMM d, yyyy",time:"Time",date:"Date"},ko:{titles:{DD:["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"],D:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"],MMM:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"],MMMM:["1\uc6d4","2\uc6d4","3\uc6d4","4\uc6d4","5\uc6d4","6\uc6d4","7\uc6d4","8\uc6d4","9\uc6d4","10\uc6d4","11\uc6d4","12\uc6d4"]},titleFormat:"yyyy.MM",todayFormat:"\uc624\ub298: yyyy.MM.dd (D)",date:"\ub0a0\uc9dc",time:"\uc2dc\uac04"}}},function(e,t,n){"use strict";var r=n(3),i=n(9),o=n(6),a=n(13),s=n(7),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,f=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],o=0,a=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(a,i)),a=i+1)})),r.push(t.slice(a)),{exps:n,sourcesInsideIf:r}}(e,t),o=!1,a="";return i(r.exps,(function(e,t){return(o=b(e,n))&&(a=C(r.sourcesInsideIf[t],n)),!o})),a},each:function(e,t,n){var r=b(e,n),a=o(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[a]=r,l["@this"]=e,s(n,l),c+=C(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),o=e[i+1],a=b(e.slice(0,i),n),l={};return l[o]=a,C(t,s(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i};function _(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:p.test(e)?r=e.replace(f,""):c.test(e)?r=_((n=e.split(u))[0],t)[_(n[1],t)]:d.test(e)?r=_((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function y(e,t,n){for(var r,i=g[e],o=1,s=2,l=t[s];o&&a(l);)0===l.indexOf(e)?o+=1:0===l.indexOf("/"+e)&&(o-=1,r=s),l=t[s+=2];if(o)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=i(t[0].split(" ").slice(1),function(e,t,n){var r=e.splice(t+1,n-t);return r.pop(),r}(t,0,r),n),t}function b(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(_(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function C(e,t){for(var n,r,i,o=1,s=e[o];a(s);)r=(n=s.split(" "))[0],g[r]?(i=y(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=b(n,t),s=e[o+=2];return e.join("")}e.exports=function(e,t){return C(v(e,l),t)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";e.exports=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(9),i=n(3),o=n(17),a=n(24);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var r=n(12);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(17),a=n(24);e.exports=function(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}},function(e,t,n){"use strict";var r=n(31),i=n(33),o={_isMobile:/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(navigator.userAgent),_getEventType:function(e){return this._isMobile&&("mousedown"===e?e="touchstart":"click"===e&&(e="touchend")),e},on:function(e,t,n,i){r(e,this._getEventType(t),n,i)},off:function(e,t,n){i(e,this._getEventType(t),n)}};e.exports=o},function(e,t,n){"use strict";var r=n(0),i=n(14),o=n(10),a=n(1).DEFAULT_LANGUAGE_TYPE,s=r({init:function(e){e=e||a,this._element=null,this._localeText=o[e],this._type="base"},_makeContext:function(){l(this.getType(),"_makeContext")},render:function(){l(this.getType(),"render")},getDateElements:function(){l(this.getType(),"getDateElements")},getType:function(){return this._type},changeLanguage:function(e){this._localeText=o[e]},remove:function(){this._element&&i(this._element),this._element=null}});function l(e,t){throw new Error(e+' layer does not have the "'+t+'" method.')}e.exports=s},function(e,t,n){"use strict";var r=n(3),i=n(2),o=n(0),a=n(8),s=n(16),l=n(25),c=n(26),u=n(27),d=n(18),h=n(14),p=n(7),f=n(6),m=n(28),g=n(15),v=n(22),_=n(43),y=n(29),b=n(56),C=n(1),w=n(10),S=n(5),x=n(4),k=n(19),E=n(58),T=n(59),j=C.DEFAULT_LANGUAGE_TYPE,O=C.TYPE_DATE,P=C.TYPE_MONTH,D=C.TYPE_YEAR,M=C.CLASS_NAME_NEXT_YEAR_BTN,I=C.CLASS_NAME_NEXT_MONTH_BTN,R=C.CLASS_NAME_PREV_YEAR_BTN,L=C.CLASS_NAME_PREV_MONTH_BTN,N=C.CLASS_NAME_SELECTED,A=o({static:{localeTexts:w},init:function(e,t){t=function(e){if((e=p({language:j,calendar:{},input:{element:null,format:null},timePicker:null,date:null,showAlways:!1,type:O,selectableRanges:null,openers:[],autoClose:!0,usageStatistics:!0},e)).selectableRanges=e.selectableRanges||[[C.MIN_DATE,C.MAX_DATE]],!v(e.calendar))throw new Error("Calendar option must be an object");if(!v(e.input))throw new Error("Input option must be an object");if(!f(e.selectableRanges))throw new Error("Selectable-ranges must be a 2d-array");return e.localeText=w[e.language],e.calendar.language=e.language,e.calendar.type=e.type,e.timePicker=e.timePicker||e.timepicker,e}(t),this._language=t.language,this._container=x.getElement(e),this._container.innerHTML=E(p(t,{isTab:t.timePicker&&"tab"===t.timePicker.layoutType})),this._element=this._container.firstChild,this._calendar=new y(this._element.querySelector(".tui-calendar-container"),p(t.calendar,{usageStatistics:t.usageStatistics})),this._timePicker=null,this._datepickerInput=null,this._date=null,this._rangeModel=null,this._openers=[],this._isEnabled=!0,this._id="tui-datepicker-"+x.generateId(),this._type=t.type,this.showAlways=t.showAlways,this.autoClose=t.autoClose,this._initializeDatePicker(t)},_initializeDatePicker:function(e){this.setRanges(e.selectableRanges),this._setEvents(),this._initTimePicker(e.timePicker,e.usageStatistics),this.setInput(e.input.element),this.setDateFormat(e.input.format),this.setDate(e.date),i(e.openers,this.addOpener,this),this.showAlways||this._hide(),this.getType()===O&&s(this._element.querySelector(".tui-datepicker-body"),"tui-datepicker-type-date")},_setEvents:function(){k.on(this._element,"click",this._onClickHandler,this),this._calendar.on("draw",this._onDrawCalendar,this)},_removeEvents:function(){k.off(this._element,"click",this._onClickHandler,this),this._calendar.off()},_setDocumentEvents:function(){k.on(document,"mousedown",this._onMousedownDocument,this)},_removeDocumentEvents:function(){k.off(document,"mousedown",this._onMousedownDocument)},_setOpenerEvents:function(e){k.on(e,"click",this.toggle,this)},_removeOpenerEvents:function(e){k.off(e,"click",this.toggle)},_initTimePicker:function(e,t){var n;e&&(n=e.layoutType||"",v(e)?e.usageStatistics=t:e={usageStatistics:t},this._timePicker=new _(this._element.querySelector(".tui-timepicker-container"),e),"tab"===n.toLowerCase()&&this._timePicker.hide(),this._timePicker.on("change",(function(e){var t;this._date&&(t=new Date(this._date),this.setDate(t.setHours(e.hour,e.minute)))}),this))},_changePicker:function(e){var t=l(e,".tui-datepicker-selector-button");t.querySelector(".tui-ico-date")?(this._calendar.show(),this._timePicker.hide()):(this._calendar.hide(),this._timePicker.show()),d(this._element.querySelector(".tui-is-checked"),"tui-is-checked"),s(t,"tui-is-checked")},_isOpener:function(e){var t=x.getElement(e);return r(t,this._openers)>-1},_setTodayClassName:function(e){this.getCalendarType()===O&&(Number(c(e,"timestamp"))===(new Date).setHours(0,0,0,0)?s(e,"tui-calendar-today"):d(e,"tui-calendar-today"))},_setSelectableClassName:function(e){var t=new Date(Number(c(e,"timestamp")));this._isSelectableOnCalendar(t)?(s(e,"tui-is-selectable"),d(e,"tui-is-blocked")):(d(e,"tui-is-selectable"),s(e,"tui-is-blocked"))},_setSelectedClassName:function(e){var t=new Date(Number(c(e,"timestamp")));this._isSelectedOnCalendar(t)?s(e,N):d(e,N)},_isSelectableOnCalendar:function(e){var t=this.getCalendarType(),n=S.cloneWithStartOf(e,t).getTime(),r=S.cloneWithEndOf(e,t).getTime();return this._rangeModel.hasOverlap(n,r)},_isSelectedOnCalendar:function(e){var t=this.getDate(),n=this.getCalendarType();return t&&S.isSame(t,e,n)},_show:function(){d(this._element,"tui-hidden")},_hide:function(){s(this._element,"tui-hidden")},_syncToInput:function(){this._date&&this._datepickerInput.setDate(this._date)},_syncFromInput:function(e){var t,n=!1;try{t=this._datepickerInput.getDate(),this.isSelectable(t)?(this._timePicker&&this._timePicker.setTime(t.getHours(),t.getMinutes()),this.setDate(t)):n=!0}catch(r){this.fire("error",{type:"ParsingError",message:r.message}),n=!0}finally{n&&(e?this._syncToInput():this.setNull())}},_onMousedownDocument:function(e){var t=x.getTarget(e),n=x.getSelector(t),i=!!n&&this._element.querySelector(n),o=this._datepickerInput.is(t),a=r(t,this._openers)>-1;!(this.showAlways||o||i||a)&&this.close()},_onClickHandler:function(e){var t=x.getTarget(e);l(t,".tui-is-selectable")?this._updateDate(t):l(t,".tui-calendar-title")?this.drawUpperCalendar(this._date):l(t,".tui-datepicker-selector-button")&&this._changePicker(t)},_updateDate:function(e){var t=Number(c(e,"timestamp")),n=new Date(t),r=this._timePicker,i=this._date;this.getCalendarType()!==this.getType()?this.drawLowerCalendar(n):(r?n.setHours(r.getHour(),r.getMinute()):i&&n.setHours(i.getHours(),i.getMinutes()),this.setDate(n),!this.showAlways&&this.autoClose&&this.close())},_onDrawCalendar:function(e){i(e.dateElements,(function(e){this._setTodayClassName(e),this._setSelectableClassName(e),this._setSelectedClassName(e)}),this),this._setDisplayHeadButtons(),this.fire("draw",e)},_setDisplayHeadButtons:function(){var e,t,n,r,i=this._calendar.getNextYearDate(),o=this._calendar.getPrevYearDate(),a=this._rangeModel.getMaximumValue(),s=this._rangeModel.getMinimumValue(),l=this._element.querySelector("."+M),c=this._element.querySelector("."+R);this.getCalendarType()===O?(e=S.cloneWithStartOf(this._calendar.getNextDate(),P),t=S.cloneWithEndOf(this._calendar.getPrevDate(),P),n=this._element.querySelector("."+I),r=this._element.querySelector("."+L),this._setDisplay(n,e.getTime()<=a),this._setDisplay(r,t.getTime()>=s),o.setDate(1),i.setDate(1)):(o.setMonth(12,0),i.setMonth(0,1)),this._setDisplay(l,i.getTime()<=a),this._setDisplay(c,o.getTime()>=s)},_setDisplay:function(e,t){e&&(t?d(e,"tui-hidden"):s(e,"tui-hidden"))},_onChangeInput:function(){this._syncFromInput(!0)},_isChanged:function(e){var t=this.getDate();return!t||e.getTime()!==t.getTime()},_refreshFromRanges:function(){this.isSelectable(this._date)?this._calendar.draw():this.setNull()},getCalendarType:function(){return this._calendar.getType()},getType:function(){return this._type},isSelectable:function(e){var t,n,r=this.getType();return!!S.isValidDate(e)&&(t=S.cloneWithStartOf(e,r).getTime(),n=S.cloneWithEndOf(e,r).getTime(),this._rangeModel.hasOverlap(t,n))},isSelected:function(e){return S.isValidDate(e)&&S.isSame(this._date,e,this.getType())},setRanges:function(e){var t=[];i(e,(function(e){var n=new Date(e[0]).getTime(),r=new Date(e[1]).getTime();t.push([n,r])})),this._rangeModel=new b(t),this._refreshFromRanges()},setType:function(e){this._type=e},addRange:function(e,t){e=new Date(e).getTime(),t=new Date(t).getTime(),this._rangeModel.add(e,t),this._refreshFromRanges()},removeRange:function(e,t,n){e=new Date(e),t=new Date(t),n&&(e=S.cloneWithStartOf(e,n),t=S.cloneWithEndOf(t,n)),this._rangeModel.exclude(e.getTime(),t.getTime()),this._refreshFromRanges()},addOpener:function(e){e=x.getElement(e),this._isOpener(e)||(this._openers.push(e),this._setOpenerEvents(e))},removeOpener:function(e){var t;e=x.getElement(e),(t=r(e,this._openers))>-1&&(this._removeOpenerEvents(e),this._openers.splice(t,1))},removeAllOpeners:function(){i(this._openers,(function(e){this._removeOpenerEvents(e)}),this),this._openers=[]},open:function(){!this.isOpened()&&this._isEnabled&&(this._calendar.draw({date:this._date,type:this._type}),this._show(),this.showAlways||this._setDocumentEvents(),this.fire("open"))},drawUpperCalendar:function(e){var t=this.getCalendarType();t===O?this._calendar.draw({date:e,type:P}):t===P&&this._calendar.draw({date:e,type:D})},drawLowerCalendar:function(e){var t=this.getCalendarType();t===this.getType()||(t===P?this._calendar.draw({date:e,type:O}):t===D&&this._calendar.draw({date:e,type:P}))},close:function(){this.isOpened()&&(this._removeDocumentEvents(),this._hide(),this.fire("close"))},toggle:function(){this.isOpened()?this.close():this.open()},getDate:function(){return this._date?new Date(this._date):null},setDate:function(e){var t,n;null!==e?(t=g(e)||m(e),n=new Date(e),t&&this._isChanged(n)&&this.isSelectable(n)&&(n=new Date(e),this._date=n,this._calendar.draw({date:n}),this._timePicker&&this._timePicker.setTime(n.getHours(),n.getMinutes()),this._syncToInput(),this.fire("change"))):this.setNull()},setNull:function(){var e=this._calendar.getDate(),t=null!==this._date;this._date=null,this._datepickerInput&&this._datepickerInput.clearText(),this._timePicker&&this._timePicker.setTime(0,0),this.isSelectable(e)?this._calendar.draw():this._calendar.draw({date:new Date(this._rangeModel.getMinimumValue())}),t&&this.fire("change")},setDateFormat:function(e){this._datepickerInput.setFormat(e),this._syncToInput()},isOpened:function(){return!u(this._element,"tui-hidden")},getTimePicker:function(){return this._timePicker},getCalendar:function(){return this._calendar},getLocaleText:function(){return w[this._language]||w[j]},setInput:function(e,t){var n,r=this._datepickerInput,i=this.getLocaleText();t=t||{},r&&(n=r.getFormat(),r.destroy()),this._datepickerInput=new T(e,{format:t.format||n,id:this._id,localeText:i}),this._datepickerInput.on({change:this._onChangeInput,click:this.open},this),t.syncFromInput?this._syncFromInput():this._syncToInput()},enable:function(){this._isEnabled||(this._isEnabled=!0,this._datepickerInput.enable(),i(this._openers,(function(e){e.removeAttribute("disabled"),this._setOpenerEvents(e)}),this))},disable:function(){this._isEnabled&&(this._isEnabled=!1,this.close(),this._datepickerInput.disable(),i(this._openers,(function(e){e.setAttribute("disabled",!0),this._removeOpenerEvents(e)}),this))},isDisabled:function(){return!this._isEnabled},addCssClass:function(e){s(this._element,e)},removeCssClass:function(e){d(this._element,e)},getDateElements:function(){return this._calendar.getDateElements()},findOverlappedRange:function(e,t){var n=new Date(e).getTime(),r=new Date(t).getTime(),i=this._rangeModel.findOverlappedRange(n,r);return[new Date(i[0]),new Date(i[1])]},changeLanguage:function(e){this._language=e,this._calendar.changeLanguage(this._language),this._datepickerInput.changeLocaleTitles(this.getLocaleText().titles),this.setDateFormat(this._datepickerInput.getFormat()),this._timePicker&&this._timePicker.changeLanguage(this._language)},destroy:function(){this._removeDocumentEvents(),this._calendar.destroy(),this._timePicker&&this._timePicker.destroy(),this._datepickerInput&&this._datepickerInput.destroy(),this._removeEvents(),h(this._element),this.removeAllOpeners(),this._calendar=this._timePicker=this._datepickerInput=this._container=this._element=this._date=this._rangeModel=this._openers=this._isEnabled=this._id=null}});a.mixin(A),e.exports=A},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(6),i=n(12);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";var r=n(40);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(3),i=n(17);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Date}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(16),a=n(27),s=n(18),l=n(14),c=n(7),u=n(44),d=n(49),h=n(10),p=n(1),f=n(5),m=n(4),g=p.DEFAULT_LANGUAGE_TYPE,v=p.TYPE_DATE,_=p.TYPE_MONTH,y=p.TYPE_YEAR,b=p.CLASS_NAME_PREV_MONTH_BTN,C=p.CLASS_NAME_PREV_YEAR_BTN,w=p.CLASS_NAME_NEXT_YEAR_BTN,S=p.CLASS_NAME_NEXT_MONTH_BTN,x=r({static:{localeTexts:h},init:function(e,t){t=c({language:g,showToday:!0,showJumpButtons:!1,date:new Date,type:v,usageStatistics:!0},t),this._container=m.getElement(e),this._container.innerHTML='<div class="tui-calendar">    <div class="tui-calendar-header"></div>    <div class="tui-calendar-body"></div></div>',this._element=this._container.firstChild,this._date=null,this._type=null,this._header=null,this._body=null,this._initHeader(t),this._initBody(t),this.draw({date:t.date,type:t.type}),t.usageStatistics&&m.sendHostName()},_initHeader:function(e){var t=this._element.querySelector(".tui-calendar-header");this._header=new u(t,e),this._header.on("click",(function(e){var t=m.getTarget(e);a(t,b)?this.drawPrev():a(t,C)?this._onClickPrevYear():a(t,S)?this.drawNext():a(t,w)&&this._onClickNextYear()}),this)},_initBody:function(e){var t=this._element.querySelector(".tui-calendar-body");this._body=new d(t,e)},_onClickPrevYear:function(){this.getType()===v?this.draw({date:this._getRelativeDate(-12)}):this.drawPrev()},_onClickNextYear:function(){this.getType()===v?this.draw({date:this._getRelativeDate(12)}):this.drawNext()},_isValidType:function(e){return e===v||e===_||e===y},_shouldUpdate:function(e,t){var n=this._date;if(!f.isValidDate(e))throw new Error("Invalid date");if(!this._isValidType(t))throw new Error("Invalid layer type");return!n||n.getFullYear()!==e.getFullYear()||n.getMonth()!==e.getMonth()||this.getType()!==t},_render:function(){var e=this._date,t=this.getType();switch(this._header.render(e,t),this._body.render(e,t),s(this._element,"tui-calendar-month","tui-calendar-year"),t){case _:o(this._element,"tui-calendar-month");break;case y:o(this._element,"tui-calendar-year")}},_getRelativeDate:function(e){var t=this._date;return new Date(t.getFullYear(),t.getMonth()+e)},draw:function(e){var t,n;t=(e=e||{}).date||this._date,n=(e.type||this.getType()).toLowerCase(),this._shouldUpdate(t,n)&&(this._date=t,this._type=n,this._render()),this.fire("draw",{date:this._date,type:n,dateElements:this._body.getDateElements()})},show:function(){s(this._element,"tui-hidden")},hide:function(){o(this._element,"tui-hidden")},drawNext:function(){this.draw({date:this.getNextDate()})},drawPrev:function(){this.draw({date:this.getPrevDate()})},getNextDate:function(){return this.getType()===v?this._getRelativeDate(1):this.getNextYearDate()},getPrevDate:function(){return this.getType()===v?this._getRelativeDate(-1):this.getPrevYearDate()},getNextYearDate:function(){switch(this.getType()){case v:case _:return this._getRelativeDate(12);case y:return this._getRelativeDate(108);default:throw new Error("Unknown layer type")}},getPrevYearDate:function(){switch(this.getType()){case v:case _:return this._getRelativeDate(-12);case y:return this._getRelativeDate(-108);default:throw new Error("Unknown layer type")}},changeLanguage:function(e){this._header.changeLanguage(e),this._body.changeLanguage(e),this._render()},getDate:function(){return new Date(this._date)},getType:function(){return this._type},getDateElements:function(){return this._body.getDateElements()},addCssClass:function(e){o(this._element,e)},removeCssClass:function(e){s(this._element,e)},destroy:function(){this._header.destroy(),this._body.destroy(),l(this._element),this._type=this._date=this._container=this._element=this._header=this._body=null}});i.mixin(x),e.exports=x},function(e,t,n){"use strict";var r=n(3),i=n(2),o=n(0),a=n(4),s=n(5),l=n(1),c=n(10),u=/\\?(yyyy|yy|mmmm|mmm|mm|m|dd|d|hh|h|a)/gi,d={yyyy:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},yy:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},y:{expression:"(\\d{4}|\\d{2})",type:l.TYPE_YEAR},M:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MMM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},MMMM:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},mmm:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},mmmm:{expression:"(1[012]|0[1-9]|[1-9])",type:l.TYPE_MONTH},dd:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},d:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},D:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},DD:{expression:"([12]\\d{1}|3[01]|0[1-9]|[1-9])",type:l.TYPE_DATE},h:{expression:"(d{1}|0\\d{1}|1\\d{1}|2[0123])",type:l.TYPE_HOUR},hh:{expression:"(d{1}|[01]\\d{1}|2[0123])",type:l.TYPE_HOUR},H:{expression:"(d{1}|0\\d{1}|1\\d{1}|2[0123])",type:l.TYPE_HOUR},HH:{expression:"(d{1}|[01]\\d{1}|2[0123])",type:l.TYPE_HOUR},m:{expression:"(d{1}|[012345]\\d{1})",type:l.TYPE_MINUTE},mm:{expression:"(d{1}|[012345]\\d{1})",type:l.TYPE_MINUTE},a:{expression:"([ap]m)",type:l.TYPE_MERIDIEM},A:{expression:"([ap]m)",type:l.TYPE_MERIDIEM}},h=o({init:function(e,t){this._rawStr=e,this._keyOrder=null,this._regExp=null,this._titles=t||c.en.titles,this._parseFormat()},_parseFormat:function(){var e="^",t=this._rawStr.match(u),n=[];t=a.filter(t,(function(e){return"\\"!==e[0]})),i(t,(function(t,r){/m/i.test(t)||(t=t.toLowerCase()),e+=d[t].expression+"[\\D\\s]*",n[r]=d[t].type})),e+="$",this._keyOrder=n,this._regExp=new RegExp(e,"gi")},parse:function(e){var t,n={year:0,month:1,date:1,hour:0,minute:0},r=!1,o=!1;if(this._regExp.lastIndex=0,!(t=this._regExp.exec(e)))throw Error('DateTimeFormatter: Not matched - "'+e+'"');return i(this._keyOrder,(function(e,i){var a=t[i+1];if(e===l.TYPE_MERIDIEM&&/[ap]m/i.test(a))r=!0,o=/pm/i.test(a);else{if(0!==(a=Number(a))&&!a)throw Error("DateTimeFormatter: Unknown value - "+t[i+1]);e===l.TYPE_YEAR&&a<100&&(a+=2e3),n[e]=a}})),r&&(o=o||n.hour>12,n.hour%=12,o&&(n.hour+=12)),new Date(n.year,n.month-1,n.date,n.hour,n.minute)},getRawString:function(){return this._rawStr},format:function(e){var t,n=e.getFullYear(),i=e.getMonth()+1,o=e.getDate(),a=e.getDay(),c=e.getHours(),d=e.getMinutes(),h="a";return r(l.TYPE_MERIDIEM,this._keyOrder)>-1&&(h=c>=12?"pm":"am",c=s.getMeridiemHour(c)),t={yyyy:n,yy:String(n).substr(2,2),M:i,MM:s.prependLeadingZero(i),MMM:this._titles.MMM[i-1],MMMM:this._titles.MMMM[i-1],d:o,dd:s.prependLeadingZero(o),D:this._titles.D[a],DD:this._titles.DD[a],hh:s.prependLeadingZero(c),h:c,mm:s.prependLeadingZero(d),m:d,A:h.toUpperCase(),a:h},this._rawStr.replace(u,(function(e){return"\\"===e[0]?e.substr(1):t[e]||t[e.toLowerCase()]||""}))}});e.exports=h},function(e,t,n){"use strict";var r=n(13),i=n(9),o=n(32);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){"use strict";var r=n(13),i=n(9),o=n(32);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";var r=n(21),i=n(60),o=n(29);n(61),r.createCalendar=function(e,t){return new o(e,t)},r.createRangePicker=function(e){return new i(e)},e.exports=r},function(e,t,n){"use strict";var r=n(36);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(12),i=n(38);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(3),i=n(41),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(25),a=n(14),s=n(10),l=n(45),c=n(30),u=n(1),d=n(4),h=n(19),p=u.TYPE_DATE,f=u.TYPE_MONTH,m=u.TYPE_YEAR,g=r({init:function(e,t){this._container=d.getElement(e),this._innerElement=null,this._infoElement=null,this._showToday=t.showToday,this._showJumpButtons=t.showJumpButtons,this._yearMonthTitleFormatter=null,this._yearTitleFormatter=null,this._todayFormatter=null,this._setFormatters(s[t.language]),this._setEvents(t)},_setFormatters:function(e){this._yearMonthTitleFormatter=new c(e.titleFormat,e.titles),this._yearTitleFormatter=new c("yyyy",e.titles),this._todayFormatter=new c(e.todayFormat,e.titles)},_setEvents:function(){h.on(this._container,"click",this._onClickHandler,this)},_removeEvents:function(){this.off(),h.off(this._container,"click",this._onClickHandler)},_onClickHandler:function(e){var t=d.getTarget(e);o(t,".tui-calendar-btn")&&this.fire("click",e)},_getTitleClass:function(e){switch(e){case p:return"tui-calendar-title-month";case f:return"tui-calendar-title-year";case m:return"tui-calendar-title-year-to-year";default:return""}},_getTitleText:function(e,t){var n,r,i;switch(t){case p:return this._yearMonthTitleFormatter.format(e);case f:return this._yearTitleFormatter.format(e);case m:return n=e.getFullYear(),r=new Date(n-4,0,1),i=new Date(n+4,0,1),this._yearTitleFormatter.format(r)+" - "+this._yearTitleFormatter.format(i);default:return""}},changeLanguage:function(e){this._setFormatters(s[e])},render:function(e,t){var n={showToday:this._showToday,showJumpButtons:this._showJumpButtons,todayText:this._todayFormatter.format(new Date),isDateCalendar:t===p,titleClass:this._getTitleClass(t),title:this._getTitleText(e,t)};this._container.innerHTML=l(n).replace(/^\s+|\s+$/g,""),this._innerElement=this._container.querySelector(".tui-calendar-header-inner"),n.showToday&&(this._infoElement=this._container.querySelector(".tui-calendar-header-info"))},destroy:function(){this._removeEvents(),a(this._innerElement),a(this._infoElement),this._container=this._showToday=this._showJumpButtons=this._yearMonthTitleFormatter=this._yearTitleFormatter=this._todayFormatter=this._innerElement=this._infoElement=null}});i.mixin(g),e.exports=g},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return r('{{if isDateCalendar}}  {{if showJumpButtons}}    <div class="tui-calendar-header-inner tui-calendar-has-btns">      <button class="tui-calendar-btn tui-calendar-btn-prev-year">Prev year</button>      <button class="tui-calendar-btn tui-calendar-btn-prev-month">Prev month</button>      <em class="tui-calendar-title {{titleClass}}">{{title}}</em>      <button class="tui-calendar-btn tui-calendar-btn-next-month">Next month</button>      <button class="tui-calendar-btn tui-calendar-btn-next-year">Next year</button>    </div>  {{else}}    <div class="tui-calendar-header-inner">      <button class="tui-calendar-btn tui-calendar-btn-prev-month">Prev month</button>      <em class="tui-calendar-title {{titleClass}}">{{title}}</em>      <button class="tui-calendar-btn tui-calendar-btn-next-month">Next month</button>    </div>  {{/if}}{{else}}  <div class="tui-calendar-header-inner">    <button class="tui-calendar-btn tui-calendar-btn-prev-year">Prev year</button>    <em class="tui-calendar-title {{titleClass}}">{{title}}</em>    <button class="tui-calendar-btn tui-calendar-btn-next-year">Next year</button>  </div>{{/if}}{{if showToday}}  <div class="tui-calendar-header-info">    <p class="tui-calendar-title-today">{{todayText}}</p>  </div>{{/if}}',e)}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)}},function(e,t,n){"use strict";var r=n(12),i=n(48);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(23);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(50),a=n(52),s=n(54),l=n(1),c=l.TYPE_DATE,u=l.TYPE_MONTH,d=l.TYPE_YEAR,h=i({init:function(e,t){var n=t.language;this._container=e,this._dateLayer=new o(n),this._monthLayer=new a(n),this._yearLayer=new s(n),this._currentLayer=this._dateLayer},_getLayer:function(e){switch(e){case c:return this._dateLayer;case u:return this._monthLayer;case d:return this._yearLayer;default:return this._currentLayer}},_eachLayer:function(e){r([this._dateLayer,this._monthLayer,this._yearLayer],e)},changeLanguage:function(e){this._eachLayer((function(t){t.changeLanguage(e)}))},render:function(e,t){var n=this._getLayer(t);this._currentLayer.remove(),n.render(e,this._container),this._currentLayer=n},getDateElements:function(){return this._currentLayer.getDateElements()},destroy:function(){this._eachLayer((function(e){e.remove()})),this._container=this._currentLayer=this._dateLayer=this._monthLayer=this._yearLayer=null}});e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(5),o=n(51),a=n(20),s=n(1).TYPE_DATE,l=r(a,{init:function(e){a.call(this,e)},_type:s,_makeContext:function(e){var t,n,r=this._localeText.titles.D;return t=(e=e||new Date).getFullYear(),n=e.getMonth()+1,{Sun:r[0],Mon:r[1],Tue:r[2],Wed:r[3],Thu:r[4],Fri:r[5],Sat:r[6],year:t,month:n,weeks:this._getWeeks(t,n)}},_getWeeks:function(e,t){for(var n,r,o=0,a=[];o<6;o+=1){for(n=[],r=0;r<7;r+=1)n.push(i.getDateOfWeek(e,t,o,r));a.push(this._getWeek(e,t,n))}return a},_getWeek:function(e,t,n){for(var r,i,o=new Date(e,t-1,1),a=new Date(e,t,0),s=[],l=0,c=n.length;l<c;l+=1)i="tui-calendar-date",(r=n[l])<o&&(i+=" tui-calendar-prev-month"),r>a&&(i+=" tui-calendar-next-month"),0===r.getDay()?i+=" tui-calendar-sun":6===r.getDay()&&(i+=" tui-calendar-sat"),s.push({dayInMonth:r.getDate(),className:i,timestamp:r.getTime()});return s},render:function(e,t){var n=this._makeContext(e);t.innerHTML=o(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-date")}});e.exports=l},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return r('<table class="tui-calendar-body-inner" cellspacing="0" cellpadding="0">  <caption><span>Dates</span></caption>  <thead class="tui-calendar-body-header">    <tr>      <th class="tui-sun" scope="col">{{Sun}}</th>      <th scope="col">{{Mon}}</th>      <th scope="col">{{Tue}}</th>      <th scope="col">{{Wed}}</th>      <th scope="col">{{Thu}}</th>      <th scope="col">{{Fri}}</th>      <th class="tui-sat" scope="col">{{Sat}}</th>    </tr>  </thead>  <tbody>    {{each weeks}}    <tr class="tui-calendar-week">      {{each @this}}      <td class="{{@this["className"]}}" data-timestamp="{{@this["timestamp"]}}">{{@this["dayInMonth"]}}</td>      {{/each}}    </tr>    {{/each}}  </tbody></table>',e)}},function(e,t,n){"use strict";var r=n(0),i=n(53),o=n(20),a=n(1).TYPE_MONTH,s=n(5),l=r(o,{init:function(e){o.call(this,e)},_type:a,_makeContext:function(e){var t=this._localeText.titles.MMM;return{year:e.getFullYear(),Jan:t[0],Feb:t[1],Mar:t[2],Apr:t[3],May:t[4],Jun:t[5],Jul:t[6],Aug:t[7],Sep:t[8],Oct:t[9],Nov:t[10],Dec:t[11],getFirstDayTimestamp:s.getFirstDayTimestamp}},render:function(e,t){var n=this._makeContext(e);t.innerHTML=i(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-month")}});e.exports=l},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return r('<table class="tui-calendar-body-inner">  <caption><span>Months</span></caption>  <tbody>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 0}}>{{Jan}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 1}}>{{Feb}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 2}}>{{Mar}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 3}}>{{Apr}}</td>    </tr>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 4}}>{{May}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 5}}>{{Jun}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 6}}>{{Jul}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 7}}>{{Aug}}</td>    </tr>    <tr class="tui-calendar-month-group">      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 8}}>{{Sep}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 9}}>{{Oct}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 10}}>{{Nov}}</td>      <td class="tui-calendar-month" data-timestamp={{getFirstDayTimestamp year 11}}>{{Dec}}</td>    </tr>  </tbody></table>',e)}},function(e,t,n){"use strict";var r=n(0),i=n(55),o=n(20),a=n(1).TYPE_YEAR,s=n(5),l=r(o,{init:function(e){o.call(this,e)},_type:a,_makeContext:function(e){var t=e.getFullYear();return{yearGroups:[s.getRangeArr(t-4,t-2),s.getRangeArr(t-1,t+1),s.getRangeArr(t+2,t+4)],getFirstDayTimestamp:s.getFirstDayTimestamp}},render:function(e,t){var n=this._makeContext(e);t.innerHTML=i(n),this._element=t.firstChild},getDateElements:function(){return this._element.querySelectorAll(".tui-calendar-year")}});e.exports=l},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return r('<table class="tui-calendar-body-inner">  <caption><span>Years</span></caption>  <tbody>    {{each yearGroups}}    <tr class="tui-calendar-year-group">      {{each @this}}      <td class="tui-calendar-year" data-timestamp={{getFirstDayTimestamp @this 0}}>        {{@this}}      </td>      {{/each}}    </tr>    {{/each}}  </tbody></table>',e)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(15),a=n(57),s=n(4),l=i({init:function(e){e=e||[],this._ranges=[],r(e,(function(e){this.add(e[0],e[1])}),this)},contains:function(e,t){for(var n=0,r=this._ranges.length;n<r;n+=1)if(this._ranges[n].contains(e,t))return!0;return!1},hasOverlap:function(e,t){for(var n=0,r=this._ranges.length;n<r;n+=1)if(this._ranges[n].isOverlapped(e,t))return!0;return!1},add:function(e,t){for(var n,r=!1,i=0,o=this._ranges.length;i<o;i+=1){if(r=(n=this._ranges[i]).isOverlapped(e,t)){n.merge(e,t);break}if(e<n.start)break}r||this._ranges.splice(i,0,new a(e,t))},getMinimumValue:function(){return this._ranges[0].start},getMaximumValue:function(){var e=this._ranges.length;return this._ranges[e-1].end},exclude:function(e,t){o(t)||(t=e),r(this._ranges,(function(n){var r;n.isOverlapped(e,t)&&(r=n.end,n.exclude(e,t),t+1<=r&&this.add(t+1,r))}),this),this._ranges=s.filter(this._ranges,(function(e){return!e.isEmpty()}))},findOverlappedRange:function(e,t){for(var n,r=0,i=this._ranges.length;r<i;r+=1)if((n=this._ranges[r]).isOverlapped(e,t))return[n.start,n.end];return null}});e.exports=l},function(e,t,n){"use strict";var r=n(0),i=n(15),o=r({init:function(e,t){this.setRange(e,t)},setRange:function(e,t){i(t)||(t=e),this.start=Math.min(e,t),this.end=Math.max(e,t)},merge:function(e,t){i(e)&&i(t)&&this.isOverlapped(e,t)&&(this.start=Math.min(e,this.start),this.end=Math.max(t,this.end))},isEmpty:function(){return!i(this.start)||!i(this.end)},setEmpty:function(){this.start=this.end=null},contains:function(e,t){return i(t)||(t=e),this.start<=e&&t<=this.end},isOverlapped:function(e,t){return i(t)||(t=e),this.start<=t&&this.end>=e},exclude:function(e,t){e<=this.start&&t>=this.end?this.setEmpty():this.contains(e)?this.setRange(this.start,e-1):this.contains(t)&&this.setRange(t+1,this.end)}});e.exports=o},function(e,t,n){"use strict";var r=n(11);e.exports=function(e){return r('<div class="tui-datepicker">  {{if timePicker}}    {{if isTab}}      <div class="tui-datepicker-selector">        <button type="button" class="tui-datepicker-selector-button tui-is-checked" aria-label="selected">          <span class="tui-ico-date"></span>{{localeText["date"]}}        </button>        <button type="button" class="tui-datepicker-selector-button">          <span class="tui-ico-time"></span>{{localeText["time"]}}        </button>      </div>      <div class="tui-datepicker-body">        <div class="tui-calendar-container"></div>        <div class="tui-timepicker-container"></div>      </div>    {{else}}      <div class="tui-datepicker-body">        <div class="tui-calendar-container"></div>      </div>      <div class="tui-datepicker-footer">        <div class="tui-timepicker-container"></div>      </div>    {{/if}}  {{else}}    <div class="tui-datepicker-body">      <div class="tui-calendar-container"></div>    </div>  {{/if}}</div>',e)}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(31),a=n(33),s=n(30),l=n(19),c=n(4),u=r({init:function(e,t){t.format=t.format||"yyyy-MM-dd",this._input=c.getElement(e),this._id=t.id,this._titles=t.localeText.titles,this._formatter=new s(t.format,this._titles),this._setEvents()},changeLocaleTitles:function(e){this._titles=e},_setEvents:function(){this._input&&(o(this._input,"change",this._onChangeHandler,this),l.on(this._input,"click",this._onClickHandler,this))},_removeEvents:function(){this.off(),this._input&&(a(this._input,"change",this._onChangeHandler),l.off(this._input,"click",this._onClickHandler))},_onChangeHandler:function(){this.fire("change")},_onClickHandler:function(){this.fire("click")},is:function(e){return this._input===e},enable:function(){this._input&&this._input.removeAttribute("disabled")},disable:function(){this._input&&this._input.setAttribute("disabled",!0)},getFormat:function(){return this._formatter.getRawString()},setFormat:function(e){e&&(this._formatter=new s(e,this._titles))},clearText:function(){this._input&&(this._input.value="")},setDate:function(e){this._input&&(this._input.value=this._formatter.format(e))},getDate:function(){var e="";return this._input&&(e=this._input.value),this._formatter.parse(e)},destroy:function(){this._removeEvents(),this._input=this._id=this._formatter=null}});i.mixin(u),e.exports=u},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(8),a=n(16),s=n(26),l=n(18),c=n(7),u=n(21),d=n(5),h=n(1),p=n(4),f=h.CLASS_NAME_SELECTED,m=i({init:function(e){var t,n;if(t=(e=e||{}).startpicker,n=e.endpicker,!t)throw new Error('The "startpicker" option is required.');if(!n)throw new Error('The "endpicker" option is required.');this._startpicker=null,this._endpicker=null,this._initializePickers(e),this._syncRangesToEndpicker()},_initializePickers:function(e){var t=p.getElement(e.startpicker.container),n=p.getElement(e.endpicker.container),r=p.getElement(e.startpicker.input),i=p.getElement(e.endpicker.input),o=c({},e,{input:{element:r,format:e.format},date:e.startpicker.date}),a=c({},e,{input:{element:i,format:e.format},date:e.endpicker.date});this._startpicker=new u(t,o),this._startpicker.addCssClass("tui-rangepicker"),this._startpicker.on("change",this._onChangeStartpicker,this),this._startpicker.on("draw",this._onDrawPicker,this),this._endpicker=new u(n,a),this._endpicker.addCssClass("tui-rangepicker"),this._endpicker.on("change",this._onChangeEndpicker,this),this._endpicker.on("draw",this._onDrawPicker,this)},_onDrawPicker:function(e){var t=e.type,n=this._startpicker.getDate(),i=this._endpicker.getDate();n&&(i||(i=new Date(NaN)),r(e.dateElements,(function(e){var r=new Date(Number(s(e,"timestamp"))),o=d.inRange(n,i,r,t),a=d.isSame(n,r,t)||d.isSame(i,r,t);this._setRangeClass(e,o),this._setSelectedClass(e,a)}),this))},_setRangeClass:function(e,t){t?a(e,"tui-is-selected-range"):l(e,"tui-is-selected-range")},_setSelectedClass:function(e,t){t?a(e,f):l(e,f)},_syncRangesToEndpicker:function(){var e,t=this._startpicker.getDate();t?(e=this._startpicker.findOverlappedRange(d.cloneWithStartOf(t).getTime(),d.cloneWithEndOf(t).getTime()),this._endpicker.enable(),this._endpicker.setRanges([[t.getTime(),e[1].getTime()]])):(this._endpicker.setNull(),this._endpicker.disable())},_onChangeStartpicker:function(){this._syncRangesToEndpicker(),this.fire("change:start")},_onChangeEndpicker:function(){this.fire("change:end")},getStartpicker:function(){return this._startpicker},getEndpicker:function(){return this._endpicker},setStartDate:function(e){this._startpicker.setDate(e)},getStartDate:function(){return this._startpicker.getDate()},getEndDate:function(){return this._endpicker.getDate()},setEndDate:function(e){this._endpicker.setDate(e)},setRanges:function(e){this._startpicker.setRanges(e),this._syncRangesToEndpicker()},addRange:function(e,t){this._startpicker.addRange(e,t),this._syncRangesToEndpicker()},removeRange:function(e,t,n){this._startpicker.removeRange(e,t,n),this._syncRangesToEndpicker()},changeLanguage:function(e){this._startpicker.changeLanguage(e),this._endpicker.changeLanguage(e)},destroy:function(){this.off(),this._startpicker.destroy(),this._endpicker.destroy(),this._startpicker=this._endpicker=null}});o.mixin(m),e.exports=m},function(e,t,n){}])},e.exports=r(n(16))},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=20)}([function(e,t,n){"use strict";var r=n(2);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";var r=n(2),i=n(3),o=n(16);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";var r=n(0),i=n(4),o=n(2),a=n(6),s=n(1),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,f=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],o=0,a=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(a,i)),a=i+1)})),r.push(t.slice(a)),{exps:n,sourcesInsideIf:r}}(e,t),o=!1,a="";return i(r.exps,(function(e,t){return(o=b(e,n))&&(a=C(r.sourcesInsideIf[t],n)),!o})),a},each:function(e,t,n){var r=b(e,n),a=o(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[a]=r,l["@this"]=e,s(n,l),c+=C(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),o=e[i+1],a=b(e.slice(0,i),n),l={};return l[o]=a,C(t,s(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i};function _(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:p.test(e)?r=e.replace(f,""):c.test(e)?r=_((n=e.split(u))[0],t)[_(n[1],t)]:d.test(e)?r=_((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function y(e,t,n){for(var r,i=g[e],o=1,s=2,l=t[s];o&&a(l);)0===l.indexOf(e)?o+=1:0===l.indexOf("/"+e)&&(o-=1,r=s),l=t[s+=2];if(o)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=i(t[0].split(" ").slice(1),function(e,t,n){var r=e.splice(t+1,n-t);return r.pop(),r}(t,0,r),n),t}function b(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(_(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function C(e,t){for(var n,r,i,o=1,s=e[o];a(s);)r=(n=s.split(" "))[0],g[r]?(i=y(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=b(n,t),s=e[o+=2];return e.join("")}e.exports=function(e,t){return C(v(e,l),t)}},function(e,t,n){"use strict";var r=n(1),i=n(23),o=n(6),a=n(25),s=n(2),l=n(26),c=n(4),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";var r=n(27),i=n(1);e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&r(n,e),t.hasOwnProperty("static")&&(i(n,t.static),delete t.static),i(n.prototype,t),n}},function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(17);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";var r=n(6),i=n(4),o=n(17);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";var r=n(30);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";e.exports=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)}},function(e,t,n){"use strict";var r=n(0),i=n(35),o=0,a={getUniqueId:function(){return o+=1},formatTime:function(e,t){return e=String(e),r(t,["hh","mm"])>=0&&1===e.length?"0"+e:e},getMeridiemHour:function(e){return 0===(e%=12)&&(e=12),e},getRangeArr:function(e,t,n){var r,i=[];if(n=n||1,e>t)for(r=t;r>=e;r-=n)i.push(r);else for(r=e;r<=t;r+=n)i.push(r);return i},getTarget:function(e){return e.target||e.srcElement},sendHostName:function(){i("time-picker","UA-129987462-1")}};e.exports=a},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";var r=n(2),i=n(5);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";n(21),e.exports=n(22)},function(e,t,n){},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(8),a=n(9),s=n(1),l=n(10),c=n(11),u=n(29),d=n(12),h=n(13),p=n(32),f=n(14),m=n(33),g=n(34),v=n(38),_=n(15),y=n(40),b=n(41),C=n(42),w=a({static:{localeTexts:y},init:function(e,t){t=function(e){return s({language:"en",initialHour:0,initialMinute:0,showMeridiem:!0,inputType:"selectbox",hourStep:1,minuteStep:1,meridiemPosition:"right",format:"h:m",disabledHours:[],usageStatistics:!0},e)}(t),this._id=_.getUniqueId(),this._container=f(e)?e:document.querySelector(e),this._element=null,this._meridiemElement=null,this._amEl=null,this._pmEl=null,this._showMeridiem=t.showMeridiem,this._meridiemPosition=t.meridiemPosition,this._hourInput=null,this._minuteInput=null,this._hour=t.initialHour,this._minute=t.initialMinute,this._hourStep=t.hourStep,this._minuteStep=t.minuteStep,this._disabledHours=t.disabledHours,this._inputType=t.inputType,this._localeText=y[t.language],this._format=this._getValidTimeFormat(t.format),this._render(),this._setEvents(),t.usageStatistics&&_.sendHostName()},_setEvents:function(){this._hourInput.on("change",this._onChangeTimeInput,this),this._minuteInput.on("change",this._onChangeTimeInput,this),this._showMeridiem&&("selectbox"===this._inputType?l(this._meridiemElement.querySelector("select"),"change",this._onChangeMeridiem,this):"spinbox"===this._inputType&&l(this._meridiemElement,"click",this._onChangeMeridiem,this))},_removeEvents:function(){this.off(),this._hourInput.destroy(),this._minuteInput.destroy(),this._showMeridiem&&("selectbox"===this._inputType?c(this._meridiemElement.querySelector("select"),"change",this._onChangeMeridiem,this):"spinbox"===this._inputType&&c(this._meridiemElement,"click",this._onChangeMeridiem,this))},_render:function(){var e={showMeridiem:this._showMeridiem,isSpinbox:"spinbox"===this._inputType};this._showMeridiem&&s(e,{meridiemElement:this._makeMeridiemHTML()}),this._element&&h(this._element),this._container.innerHTML=b(e),this._element=this._container.firstChild,this._renderTimeInputs(),this._showMeridiem&&this._setMeridiemElement()},_setMeridiemElement:function(){"left"===this._meridiemPosition&&u(this._element,"tui-has-left"),this._meridiemElement=this._element.querySelector(".tui-timepicker-meridiem"),this._amEl=this._meridiemElement.querySelector('[value="AM"]'),this._pmEl=this._meridiemElement.querySelector('[value="PM"]'),this._syncToMeridiemElements()},_makeMeridiemHTML:function(){var e=this._localeText;return C({am:e.am,pm:e.pm,radioId:this._id,isSpinbox:"spinbox"===this._inputType})},_renderTimeInputs:function(){var e=this._hour,t=this._showMeridiem,n=this._element.querySelector(".tui-timepicker-hour"),r=this._element.querySelector(".tui-timepicker-minute"),i="selectbox"===this._inputType.toLowerCase()?v:g,o=this._format.split(":"),a=this._getHourItems();t&&(e=_.getMeridiemHour(e)),this._hourInput=new i(n,{initialValue:e,items:a,format:o[0],disabledItems:this._makeDisabledStatItems(a)}),this._minuteInput=new i(r,{initialValue:this._minute,items:this._getMinuteItems(),format:o[1]})},_makeDisabledStatItems:function(e){var t=[],n=this._disabledHours.concat();return this._showMeridiem&&(n=this._meridiemableTime(n)),i(e,(function(e){t.push(r(e,n)>=0)})),t},_meridiemableTime:function(e){var t=0,n=0,r=11,o=[];return this._hour>=12&&(t=12,n=12,r=23),i(e,(function(e){e>=n&&e<=r&&o.push(e-t===0?12:e-t)})),o},_getValidTimeFormat:function(e){return e.match(/^[h]{1,2}:[m]{1,2}$/i)?e.toLowerCase():"h:m"},_syncToMeridiemElements:function(){var e=this._hour>=12?this._pmEl:this._amEl,t=e===this._pmEl?this._amEl:this._pmEl;e.setAttribute("selected",!0),e.setAttribute("checked",!0),u(e,"tui-timepicker-meridiem-checked"),t.removeAttribute("selected"),t.removeAttribute("checked"),p(t,"tui-timepicker-meridiem-checked")},_syncToInputs:function(){var e=this._hour,t=this._minute;this._showMeridiem&&(e=_.getMeridiemHour(e)),this._hourInput.setValue(e),this._minuteInput.setValue(t)},_onChangeMeridiem:function(e){var t=this._hour,n=_.getTarget(e);n.value&&d(n,".tui-timepicker-meridiem")&&(t=this._to24Hour("PM"===n.value,t),this.setTime(t,this._minute),this._setDisabledHours())},_onChangeTimeInput:function(){var e=this._hourInput.getValue(),t=this._minuteInput.getValue(),n=this._hour>=12;this._showMeridiem&&(e=this._to24Hour(n,e)),this.setTime(e,t)},_to24Hour:function(e,t){return t%=12,e&&(t+=12),t},_setDisabledHours:function(){var e=this._getHourItems(),t=this._makeDisabledStatItems(e);this._hourInput.setDisabledItems(t)},_getHourItems:function(){var e=this._hourStep;return this._showMeridiem?_.getRangeArr(1,12,e):_.getRangeArr(0,23,e)},_getMinuteItems:function(){return _.getRangeArr(0,59,this._minuteStep)},_validItems:function(e,t){return!(!m(e)||!m(t))&&(this._showMeridiem&&(e=_.getMeridiemHour(e)),r(e,this._getHourItems())>-1&&r(t,this._getMinuteItems())>-1)},setHourStep:function(e){this._hourStep=e,this._hourInput.fire("changeItems",this._getHourItems())},getHourStep:function(){return this._hourStep},setMinuteStep:function(e){this._minuteStep=e,this._minuteInput.fire("changeItems",this._getMinuteItems())},getMinuteStep:function(){return this._minuteStep},show:function(){p(this._element,"tui-hidden")},hide:function(){u(this._element,"tui-hidden")},setHour:function(e){return this.setTime(e,this._minute)},setMinute:function(e){return this.setTime(this._hour,e)},setTime:function(e,t){this._validItems(e,t)&&(this._hour=e,this._minute=t,this._syncToInputs(),this._showMeridiem&&this._syncToMeridiemElements(),this.fire("change",{hour:this._hour,minute:this._minute}))},getHour:function(){return this._hour},getMinute:function(){return this._minute},changeLanguage:function(e){this._localeText=y[e],this._render()},destroy:function(){this._removeEvents(),h(this._element),this._container=this._showMeridiem=this._hourInput=this._minuteInput=this._hour=this._minute=this._inputType=this._element=this._meridiemElement=this._amEl=this._pmEl=null}});o.mixin(w),e.exports=w},function(e,t,n){"use strict";var r=n(5),i=n(24);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(28);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(4),i=n(0),o=n(18),a=n(19);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var r=n(0),i=n(31),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n(18),a=n(19);e.exports=function(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(8),a=n(9),s=n(1),l=n(10),c=n(11),u=n(12),d=n(13),h=n(14),p=n(15),f=n(37),m=a({init:function(e,t){t=s({items:[]},t),this._container=h(e)?e:document.querySelector(e),this._element=null,this._inputElement=null,this._items=t.items,this._disabledItems=t.disabledItems||[],this._selectedIndex=Math.max(0,r(t.initialValue,this._items)),this._format=t.format,this._render(),this._setEvents()},_render:function(){var e,t=r(this.getValue(),this._items);this._disabledItems[t]&&(this._selectedIndex=this._findEnabledIndex()),e={maxLength:this._getMaxLength(),initialValue:this.getValue(),format:this._format,formatTime:p.formatTime},this._container.innerHTML=f(e),this._element=this._container.firstChild,this._inputElement=this._element.querySelector("input")},_findEnabledIndex:function(){return r(!1,this._disabledItems)},_getMaxLength:function(){var e=[];return i(this._items,(function(t){e.push(String(t).length)})),Math.max.apply(null,e)},setDisabledItems:function(e){this._disabledItems=e,this._changeToInputValue()},_setEvents:function(){l(this._container,"click",this._onClickHandler,this),l(this._inputElement,"keydown",this._onKeydownInputElement,this),l(this._inputElement,"change",this._onChangeHandler,this),this.on("changeItems",(function(e){this._items=e,this._render()}),this)},_removeEvents:function(){this.off(),c(this._container,"click",this._onClickHandler,this),c(this._inputElement,"keydown",this._onKeydownInputElement,this),c(this._inputElement,"change",this._onChangeHandler,this)},_onClickHandler:function(e){var t=p.getTarget(e);u(t,".tui-timepicker-btn-down")?this._setNextValue(!0):u(t,".tui-timepicker-btn-up")&&this._setNextValue(!1)},_setNextValue:function(e){var t=this._selectedIndex;t=e?t?t-1:this._items.length-1:t<this._items.length-1?t+1:0,this._disabledItems[t]?(this._selectedIndex=t,this._setNextValue(e)):this.setValue(this._items[t])},_onKeydownInputElement:function(e){var t,n=e.which||e.keyCode;if(u(p.getTarget(e),"input")){switch(n){case 38:t=!1;break;case 40:t=!0;break;default:return}this._setNextValue(t)}},_onChangeHandler:function(e){u(p.getTarget(e),"input")&&this._changeToInputValue()},_changeToInputValue:function(){var e=Number(this._inputElement.value),t=r(e,this._items);if(this._disabledItems[t])t=this._findEnabledIndex(),e=this._items[t];else if(t===this._selectedIndex)return;-1===t?this.setValue(this._items[this._selectedIndex]):(this._selectedIndex=t,this.fire("change",{value:e}))},setValue:function(e){this._inputElement.value=p.formatTime(e,this._format),this._changeToInputValue()},getValue:function(){return this._items[this._selectedIndex]},destroy:function(){this._removeEvents(),d(this._element),this._container=this._element=this._inputElement=this._items=this._selectedIndex=null}});o.mixin(m),e.exports=m},function(e,t,n){"use strict";var r=n(5),i=n(36);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r('<div class="tui-timepicker-btn-area">  <input type="text" class="tui-timepicker-spinbox-input"        maxlength="{{maxLength}}"        size="{{maxLength}}"        value="{{formatTime initialValue format}}"        aria-label="TimePicker spinbox value">  <button type="button" class="tui-timepicker-btn tui-timepicker-btn-up">    <span class="tui-ico-t-btn">Increase</span>  </button>  <button type="button" class="tui-timepicker-btn tui-timepicker-btn-down">    <span class="tui-ico-t-btn">Decrease</span>  </button></div>',e)}},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(9),a=n(1),s=n(10),l=n(11),c=n(12),u=n(13),d=n(14),h=n(15),p=n(39),f=o({init:function(e,t){t=a({items:[]},t),this._container=d(e)?e:document.querySelector(e),this._items=t.items||[],this._disabledItems=t.disabledItems||[],this._selectedIndex=Math.max(0,r(t.initialValue,this._items)),this._format=t.format,this._element=null,this._render(),this._setEvents()},_render:function(){var e;this._changeEnabledIndex(),e={items:this._items,format:this._format,initialValue:this.getValue(),disabledItems:this._disabledItems,formatTime:h.formatTime,equals:function(e,t){return e===t}},this._element&&this._removeElement(),this._container.innerHTML=p(e),this._element=this._container.firstChild,s(this._element,"change",this._onChangeHandler,this)},_changeEnabledIndex:function(){var e=r(this.getValue(),this._items);this._disabledItems[e]&&(this._selectedIndex=r(!1,this._disabledItems))},setDisabledItems:function(e){this._disabledItems=e,this._render()},_setEvents:function(){this.on("changeItems",(function(e){this._items=e,this._render()}),this)},_removeEvents:function(){this.off()},_removeElement:function(){l(this._element,"change",this._onChangeHandler,this),u(this._element)},_onChangeHandler:function(e){c(h.getTarget(e),"select")&&this._setNewValue()},_setNewValue:function(){var e=Number(this._element.value);this._selectedIndex=r(e,this._items),this.fire("change",{value:e})},getValue:function(){return this._items[this._selectedIndex]},setValue:function(e){var t=r(e,this._items);t>-1&&t!==this._selectedIndex&&(this._selectedIndex=t,this._element.value=e,this._setNewValue())},destroy:function(){this._removeEvents(),this._removeElement(),this._container=this._items=this._selectedIndex=this._element=null}});i.mixin(f),e.exports=f},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r('<select class="tui-timepicker-select" aria-label="Time">  {{each items}}    {{if equals initialValue @this}}      <option value="{{@this}}" selected {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>    {{else}}      <option value="{{@this}}" {{if disabledItems[@index]}}disabled{{/if}}>{{formatTime @this format}}</option>    {{/if}}  {{/each}}</select>',e)}},function(e,t,n){"use strict";e.exports={en:{am:"AM",pm:"PM"},ko:{am:"\uc624\uc804",pm:"\uc624\ud6c4"}}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r('<div class="tui-timepicker">  <div class="tui-timepicker-body">    <div class="tui-timepicker-row">      {{if isSpinbox}}        <div class="tui-timepicker-column tui-timepicker-spinbox tui-timepicker-hour"></div>        <span class="tui-timepicker-column tui-timepicker-colon"><span class="tui-ico-colon">:</span></span>        <div class="tui-timepicker-column tui-timepicker-spinbox tui-timepicker-minute"></div>        {{if showMeridiem}}          {{meridiemElement}}        {{/if}}      {{else}}        <div class="tui-timepicker-column tui-timepicker-selectbox tui-timepicker-hour"></div>        <span class="tui-timepicker-column tui-timepicker-colon"><span class="tui-ico-colon">:</span></span>        <div class="tui-timepicker-column tui-timepicker-selectbox tui-timepicker-minute"></div>        {{if showMeridiem}}          {{meridiemElement}}        {{/if}}      {{/if}}    </div>  </div></div>',e)}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e){return r('{{if isSpinbox}}  <div class="tui-timepicker-column tui-timepicker-checkbox tui-timepicker-meridiem">    <div class="tui-timepicker-check-area">      <ul class="tui-timepicker-check-lst">        <li class="tui-timepicker-check">          <div class="tui-timepicker-radio">            <input type="radio"                  name="optionsRadios-{{radioId}}"                  value="AM"                  class="tui-timepicker-radio-am"                  id="tui-timepicker-radio-am-{{radioId}}">            <label for="tui-timepicker-radio-am-{{radioId}}" class="tui-timepicker-radio-label">              <span class="tui-timepicker-input-radio"></span>{{am}}            </label>          </div>        </li>        <li class="tui-timepicker-check">          <div class="tui-timepicker-radio">            <input type="radio"                  name="optionsRadios-{{radioId}}"                  value="PM"                  class="tui-timepicker-radio-pm"                  id="tui-timepicker-radio-pm-{{radioId}}">            <label for="tui-timepicker-radio-pm-{{radioId}}" class="tui-timepicker-radio-label">              <span class="tui-timepicker-input-radio"></span>{{pm}}            </label>          </div>        </li>      </ul>    </div>  </div>{{else}}  <div class="tui-timepicker-column tui-timepicker-selectbox tui-is-add-picker tui-timepicker-meridiem">    <select class="tui-timepicker-select" aria-label="AM/PM">      <option value="AM">{{am}}</option>      <option value="PM">{{pm}}</option>    </select>  </div>{{/if}}',e)}}])},e.exports=r()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(module,exports,__webpack_require__){var factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_fabric__,__WEBPACK_EXTERNAL_MODULE_tui_code_snippet__,__WEBPACK_EXTERNAL_MODULE_tui_color_picker__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s="./src/index.js")}({"./node_modules/core-js/library/es6/promise.js":function node_modulesCoreJsLibraryEs6PromiseJs(module,exports,__webpack_require__){eval('__webpack_require__(/*! ../modules/es6.object.to-string */ "./node_modules/core-js/library/modules/es6.object.to-string.js");\n__webpack_require__(/*! ../modules/es6.string.iterator */ "./node_modules/core-js/library/modules/es6.string.iterator.js");\n__webpack_require__(/*! ../modules/web.dom.iterable */ "./node_modules/core-js/library/modules/web.dom.iterable.js");\n__webpack_require__(/*! ../modules/es6.promise */ "./node_modules/core-js/library/modules/es6.promise.js");\nmodule.exports = __webpack_require__(/*! ../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Promise;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/es6/promise.js?')},"./node_modules/core-js/library/modules/_a-function.js":function node_modulesCoreJsLibraryModules_aFunctionJs(module,exports){eval("module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_a-function.js?")},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function node_modulesCoreJsLibraryModules_addToUnscopablesJs(module,exports){eval("module.exports = function(){ /* empty */ };\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_add-to-unscopables.js?")},"./node_modules/core-js/library/modules/_an-instance.js":function node_modulesCoreJsLibraryModules_anInstanceJs(module,exports){eval("module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_an-instance.js?")},"./node_modules/core-js/library/modules/_an-object.js":function node_modulesCoreJsLibraryModules_anObjectJs(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(/*! ./_is-object */ \"./node_modules/core-js/library/modules/_is-object.js\");\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_an-object.js?")},"./node_modules/core-js/library/modules/_array-includes.js":function node_modulesCoreJsLibraryModules_arrayIncludesJs(module,exports,__webpack_require__){eval('// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js")\n  , toLength  = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js")\n  , toIndex   = __webpack_require__(/*! ./_to-index */ "./node_modules/core-js/library/modules/_to-index.js");\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_array-includes.js?')},"./node_modules/core-js/library/modules/_classof.js":function node_modulesCoreJsLibraryModules_classofJs(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\")\n  , TAG = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_classof.js?")},"./node_modules/core-js/library/modules/_cof.js":function node_modulesCoreJsLibraryModules_cofJs(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_cof.js?")},"./node_modules/core-js/library/modules/_core.js":function node_modulesCoreJsLibraryModules_coreJs(module,exports){eval("var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_core.js?")},"./node_modules/core-js/library/modules/_ctx.js":function node_modulesCoreJsLibraryModules_ctxJs(module,exports,__webpack_require__){eval('// optional / simple context binding\nvar aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_ctx.js?')},"./node_modules/core-js/library/modules/_defined.js":function node_modulesCoreJsLibraryModules_definedJs(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_defined.js?')},"./node_modules/core-js/library/modules/_descriptors.js":function node_modulesCoreJsLibraryModules_descriptorsJs(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(/*! ./_fails */ \"./node_modules/core-js/library/modules/_fails.js\")(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_descriptors.js?")},"./node_modules/core-js/library/modules/_dom-create.js":function node_modulesCoreJsLibraryModules_domCreateJs(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js")\n  , document = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document\n  // in old IE typeof document.createElement is \'object\'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_dom-create.js?')},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function node_modulesCoreJsLibraryModules_enumBugKeysJs(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_enum-bug-keys.js?")},"./node_modules/core-js/library/modules/_export.js":function node_modulesCoreJsLibraryModules_exportJs(module,exports,__webpack_require__){eval('var global    = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , core      = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")\n  , ctx       = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , hide      = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")\n  , PROTOTYPE = \'prototype\';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != \'function\' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == \'function\' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_export.js?')},"./node_modules/core-js/library/modules/_fails.js":function node_modulesCoreJsLibraryModules_failsJs(module,exports){eval("module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_fails.js?")},"./node_modules/core-js/library/modules/_for-of.js":function node_modulesCoreJsLibraryModules_forOfJs(module,exports,__webpack_require__){eval('var ctx         = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , call        = __webpack_require__(/*! ./_iter-call */ "./node_modules/core-js/library/modules/_iter-call.js")\n  , isArrayIter = __webpack_require__(/*! ./_is-array-iter */ "./node_modules/core-js/library/modules/_is-array-iter.js")\n  , anObject    = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , toLength    = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js")\n  , getIterFn   = __webpack_require__(/*! ./core.get-iterator-method */ "./node_modules/core-js/library/modules/core.get-iterator-method.js")\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != \'function\')throw TypeError(iterable + \' is not iterable!\');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_for-of.js?')},"./node_modules/core-js/library/modules/_global.js":function node_modulesCoreJsLibraryModules_globalJs(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_global.js?")},"./node_modules/core-js/library/modules/_has.js":function node_modulesCoreJsLibraryModules_hasJs(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_has.js?")},"./node_modules/core-js/library/modules/_hide.js":function node_modulesCoreJsLibraryModules_hideJs(module,exports,__webpack_require__){eval('var dP         = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , createDesc = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");\nmodule.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_hide.js?')},"./node_modules/core-js/library/modules/_html.js":function node_modulesCoreJsLibraryModules_htmlJs(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document && document.documentElement;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_html.js?')},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function node_modulesCoreJsLibraryModules_ie8DomDefineJs(module,exports,__webpack_require__){eval('module.exports = !__webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") && !__webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js")(function(){\n  return Object.defineProperty(__webpack_require__(/*! ./_dom-create */ "./node_modules/core-js/library/modules/_dom-create.js")(\'div\'), \'a\', {get: function(){ return 7; }}).a != 7;\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_ie8-dom-define.js?')},"./node_modules/core-js/library/modules/_invoke.js":function node_modulesCoreJsLibraryModules_invokeJs(module,exports){eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_invoke.js?")},"./node_modules/core-js/library/modules/_iobject.js":function node_modulesCoreJsLibraryModules_iobjectJs(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\");\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iobject.js?")},"./node_modules/core-js/library/modules/_is-array-iter.js":function node_modulesCoreJsLibraryModules_isArrayIterJs(module,exports,__webpack_require__){eval('// check on default Array iterator\nvar Iterators  = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js")\n  , ITERATOR   = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_is-array-iter.js?')},"./node_modules/core-js/library/modules/_is-object.js":function node_modulesCoreJsLibraryModules_isObjectJs(module,exports){eval("module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_is-object.js?")},"./node_modules/core-js/library/modules/_iter-call.js":function node_modulesCoreJsLibraryModules_iterCallJs(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\");\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-call.js?")},"./node_modules/core-js/library/modules/_iter-create.js":function node_modulesCoreJsLibraryModules_iterCreateJs(module,exports,__webpack_require__){"use strict";eval('\nvar create         = __webpack_require__(/*! ./_object-create */ "./node_modules/core-js/library/modules/_object-create.js")\n  , descriptor     = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js")\n  , setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")(IteratorPrototype, __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + \' Iterator\');\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-create.js?')},"./node_modules/core-js/library/modules/_iter-define.js":function node_modulesCoreJsLibraryModules_iterDefineJs(module,exports,__webpack_require__){"use strict";eval('\nvar LIBRARY        = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js")\n  , $export        = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js")\n  , redefine       = __webpack_require__(/*! ./_redefine */ "./node_modules/core-js/library/modules/_redefine.js")\n  , hide           = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")\n  , has            = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , Iterators      = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js")\n  , $iterCreate    = __webpack_require__(/*! ./_iter-create */ "./node_modules/core-js/library/modules/_iter-create.js")\n  , setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")\n  , getPrototypeOf = __webpack_require__(/*! ./_object-gpo */ "./node_modules/core-js/library/modules/_object-gpo.js")\n  , ITERATOR       = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , BUGGY          = !([].keys && \'next\' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = \'@@iterator\'\n  , KEYS           = \'keys\'\n  , VALUES         = \'values\';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + \' Iterator\'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod(\'entries\') : undefined\n    , $anyNative = NAME == \'Array\' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-define.js?')},"./node_modules/core-js/library/modules/_iter-detect.js":function node_modulesCoreJsLibraryModules_iterDetectJs(module,exports,__webpack_require__){eval("var ITERATOR     = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-detect.js?")},"./node_modules/core-js/library/modules/_iter-step.js":function node_modulesCoreJsLibraryModules_iterStepJs(module,exports){eval("module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-step.js?")},"./node_modules/core-js/library/modules/_iterators.js":function node_modulesCoreJsLibraryModules_iteratorsJs(module,exports){eval("module.exports = {};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iterators.js?")},"./node_modules/core-js/library/modules/_library.js":function node_modulesCoreJsLibraryModules_libraryJs(module,exports){eval("module.exports = true;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_library.js?")},"./node_modules/core-js/library/modules/_microtask.js":function node_modulesCoreJsLibraryModules_microtaskJs(module,exports,__webpack_require__){eval('var global    = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , macrotask = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js")(process) == \'process\';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode(\'\');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_microtask.js?')},"./node_modules/core-js/library/modules/_object-create.js":function node_modulesCoreJsLibraryModules_objectCreateJs(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\")\n  , dPs         = __webpack_require__(/*! ./_object-dps */ \"./node_modules/core-js/library/modules/_object-dps.js\")\n  , enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ \"./node_modules/core-js/library/modules/_enum-bug-keys.js\")\n  , IE_PROTO    = __webpack_require__(/*! ./_shared-key */ \"./node_modules/core-js/library/modules/_shared-key.js\")('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(/*! ./_dom-create */ \"./node_modules/core-js/library/modules/_dom-create.js\")('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(/*! ./_html */ \"./node_modules/core-js/library/modules/_html.js\").appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-create.js?")},"./node_modules/core-js/library/modules/_object-dp.js":function node_modulesCoreJsLibraryModules_objectDpJs(module,exports,__webpack_require__){eval("var anObject       = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\")\n  , IE8_DOM_DEFINE = __webpack_require__(/*! ./_ie8-dom-define */ \"./node_modules/core-js/library/modules/_ie8-dom-define.js\")\n  , toPrimitive    = __webpack_require__(/*! ./_to-primitive */ \"./node_modules/core-js/library/modules/_to-primitive.js\")\n  , dP             = Object.defineProperty;\n\nexports.f = __webpack_require__(/*! ./_descriptors */ \"./node_modules/core-js/library/modules/_descriptors.js\") ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-dp.js?")},"./node_modules/core-js/library/modules/_object-dps.js":function node_modulesCoreJsLibraryModules_objectDpsJs(module,exports,__webpack_require__){eval('var dP       = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , getKeys  = __webpack_require__(/*! ./_object-keys */ "./node_modules/core-js/library/modules/_object-keys.js");\n\nmodule.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-dps.js?')},"./node_modules/core-js/library/modules/_object-gpo.js":function node_modulesCoreJsLibraryModules_objectGpoJs(module,exports,__webpack_require__){eval('// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , toObject    = __webpack_require__(/*! ./_to-object */ "./node_modules/core-js/library/modules/_to-object.js")\n  , IE_PROTO    = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")(\'IE_PROTO\')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == \'function\' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-gpo.js?')},"./node_modules/core-js/library/modules/_object-keys-internal.js":function node_modulesCoreJsLibraryModules_objectKeysInternalJs(module,exports,__webpack_require__){eval('var has          = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , toIObject    = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js")\n  , arrayIndexOf = __webpack_require__(/*! ./_array-includes */ "./node_modules/core-js/library/modules/_array-includes.js")(false)\n  , IE_PROTO     = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")(\'IE_PROTO\');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don\'t enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-keys-internal.js?')},"./node_modules/core-js/library/modules/_object-keys.js":function node_modulesCoreJsLibraryModules_objectKeysJs(module,exports,__webpack_require__){eval('// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = __webpack_require__(/*! ./_object-keys-internal */ "./node_modules/core-js/library/modules/_object-keys-internal.js")\n  , enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ "./node_modules/core-js/library/modules/_enum-bug-keys.js");\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-keys.js?')},"./node_modules/core-js/library/modules/_property-desc.js":function node_modulesCoreJsLibraryModules_propertyDescJs(module,exports){eval("module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_property-desc.js?")},"./node_modules/core-js/library/modules/_redefine-all.js":function node_modulesCoreJsLibraryModules_redefineAllJs(module,exports,__webpack_require__){eval('var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_redefine-all.js?')},"./node_modules/core-js/library/modules/_redefine.js":function node_modulesCoreJsLibraryModules_redefineJs(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_redefine.js?')},"./node_modules/core-js/library/modules/_set-species.js":function node_modulesCoreJsLibraryModules_setSpeciesJs(module,exports,__webpack_require__){"use strict";eval('\nvar global      = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , core        = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")\n  , dP          = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , DESCRIPTORS = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js")\n  , SPECIES     = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == \'function\' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_set-species.js?')},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function node_modulesCoreJsLibraryModules_setToStringTagJs(module,exports,__webpack_require__){eval('var def = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f\n  , has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , TAG = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'toStringTag\');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_set-to-string-tag.js?')},"./node_modules/core-js/library/modules/_shared-key.js":function node_modulesCoreJsLibraryModules_sharedKeyJs(module,exports,__webpack_require__){eval('var shared = __webpack_require__(/*! ./_shared */ "./node_modules/core-js/library/modules/_shared.js")(\'keys\')\n  , uid    = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js");\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_shared-key.js?')},"./node_modules/core-js/library/modules/_shared.js":function node_modulesCoreJsLibraryModules_sharedJs(module,exports,__webpack_require__){eval("var global = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_shared.js?")},"./node_modules/core-js/library/modules/_species-constructor.js":function node_modulesCoreJsLibraryModules_speciesConstructorJs(module,exports,__webpack_require__){eval('// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js")\n  , SPECIES   = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_species-constructor.js?')},"./node_modules/core-js/library/modules/_string-at.js":function node_modulesCoreJsLibraryModules_stringAtJs(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , defined   = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? \'\' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_string-at.js?')},"./node_modules/core-js/library/modules/_task.js":function node_modulesCoreJsLibraryModules_taskJs(module,exports,__webpack_require__){eval("var ctx                = __webpack_require__(/*! ./_ctx */ \"./node_modules/core-js/library/modules/_ctx.js\")\n  , invoke             = __webpack_require__(/*! ./_invoke */ \"./node_modules/core-js/library/modules/_invoke.js\")\n  , html               = __webpack_require__(/*! ./_html */ \"./node_modules/core-js/library/modules/_html.js\")\n  , cel                = __webpack_require__(/*! ./_dom-create */ \"./node_modules/core-js/library/modules/_dom-create.js\")\n  , global             = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(__webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\")(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_task.js?")},"./node_modules/core-js/library/modules/_to-index.js":function node_modulesCoreJsLibraryModules_toIndexJs(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-index.js?')},"./node_modules/core-js/library/modules/_to-integer.js":function node_modulesCoreJsLibraryModules_toIntegerJs(module,exports){eval("// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-integer.js?")},"./node_modules/core-js/library/modules/_to-iobject.js":function node_modulesCoreJsLibraryModules_toIobjectJs(module,exports,__webpack_require__){eval('// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(/*! ./_iobject */ "./node_modules/core-js/library/modules/_iobject.js")\n  , defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-iobject.js?')},"./node_modules/core-js/library/modules/_to-length.js":function node_modulesCoreJsLibraryModules_toLengthJs(module,exports,__webpack_require__){eval('// 7.1.15 ToLength\nvar toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-length.js?')},"./node_modules/core-js/library/modules/_to-object.js":function node_modulesCoreJsLibraryModules_toObjectJs(module,exports,__webpack_require__){eval('// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-object.js?')},"./node_modules/core-js/library/modules/_to-primitive.js":function node_modulesCoreJsLibraryModules_toPrimitiveJs(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(/*! ./_is-object */ \"./node_modules/core-js/library/modules/_is-object.js\");\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-primitive.js?")},"./node_modules/core-js/library/modules/_uid.js":function node_modulesCoreJsLibraryModules_uidJs(module,exports){eval("var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_uid.js?")},"./node_modules/core-js/library/modules/_wks.js":function node_modulesCoreJsLibraryModules_wksJs(module,exports,__webpack_require__){eval("var store      = __webpack_require__(/*! ./_shared */ \"./node_modules/core-js/library/modules/_shared.js\")('wks')\n  , uid        = __webpack_require__(/*! ./_uid */ \"./node_modules/core-js/library/modules/_uid.js\")\n  , Symbol     = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\").Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_wks.js?")},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function node_modulesCoreJsLibraryModulesCoreGetIteratorMethodJs(module,exports,__webpack_require__){eval('var classof   = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js")\n  , ITERATOR  = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");\nmodule.exports = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js").getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it[\'@@iterator\']\n    || Iterators[classof(it)];\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/core.get-iterator-method.js?')},"./node_modules/core-js/library/modules/es6.array.iterator.js":function node_modulesCoreJsLibraryModulesEs6ArrayIteratorJs(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(/*! ./_add-to-unscopables */ \"./node_modules/core-js/library/modules/_add-to-unscopables.js\")\n  , step             = __webpack_require__(/*! ./_iter-step */ \"./node_modules/core-js/library/modules/_iter-step.js\")\n  , Iterators        = __webpack_require__(/*! ./_iterators */ \"./node_modules/core-js/library/modules/_iterators.js\")\n  , toIObject        = __webpack_require__(/*! ./_to-iobject */ \"./node_modules/core-js/library/modules/_to-iobject.js\");\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(/*! ./_iter-define */ \"./node_modules/core-js/library/modules/_iter-define.js\")(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.array.iterator.js?")},"./node_modules/core-js/library/modules/es6.object.to-string.js":function node_modulesCoreJsLibraryModulesEs6ObjectToStringJs(module,exports){eval("\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.object.to-string.js?")},"./node_modules/core-js/library/modules/es6.promise.js":function node_modulesCoreJsLibraryModulesEs6PromiseJs(module,exports,__webpack_require__){"use strict";eval('\nvar LIBRARY            = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js")\n  , global             = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , ctx                = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , classof            = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js")\n  , $export            = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js")\n  , isObject           = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js")\n  , aFunction          = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js")\n  , anInstance         = __webpack_require__(/*! ./_an-instance */ "./node_modules/core-js/library/modules/_an-instance.js")\n  , forOf              = __webpack_require__(/*! ./_for-of */ "./node_modules/core-js/library/modules/_for-of.js")\n  , speciesConstructor = __webpack_require__(/*! ./_species-constructor */ "./node_modules/core-js/library/modules/_species-constructor.js")\n  , task               = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set\n  , microtask          = __webpack_require__(/*! ./_microtask */ "./node_modules/core-js/library/modules/_microtask.js")()\n  , PROMISE            = \'Promise\'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == \'process\'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[__webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == \'function\') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == \'function\' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError(\'Bad Promise constructor\');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError(\'Promise-chain cycle\'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can\'t use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit(\'unhandledRejection\', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error(\'Unhandled promise rejection\', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit(\'rejectionHandled\', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError("Promise can\'t be resolved itself");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, \'_h\');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(/*! ./_redefine-all */ "./node_modules/core-js/library/modules/_redefine-all.js")($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == \'function\' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == \'function\' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    \'catch\': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\n__webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")($Promise, PROMISE);\n__webpack_require__(/*! ./_set-species */ "./node_modules/core-js/library/modules/_set-species.js")(PROMISE);\nWrapper = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(/*! ./_iter-detect */ "./node_modules/core-js/library/modules/_iter-detect.js")(function(iter){\n  $Promise.all(iter)[\'catch\'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.promise.js?')},"./node_modules/core-js/library/modules/es6.string.iterator.js":function node_modulesCoreJsLibraryModulesEs6StringIteratorJs(module,exports,__webpack_require__){"use strict";eval('\nvar $at  = __webpack_require__(/*! ./_string-at */ "./node_modules/core-js/library/modules/_string-at.js")(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(/*! ./_iter-define */ "./node_modules/core-js/library/modules/_iter-define.js")(String, \'String\', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.string.iterator.js?')},"./node_modules/core-js/library/modules/web.dom.iterable.js":function node_modulesCoreJsLibraryModulesWebDomIterableJs(module,exports,__webpack_require__){eval("__webpack_require__(/*! ./es6.array.iterator */ \"./node_modules/core-js/library/modules/es6.array.iterator.js\");\nvar global        = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , hide          = __webpack_require__(/*! ./_hide */ \"./node_modules/core-js/library/modules/_hide.js\")\n  , Iterators     = __webpack_require__(/*! ./_iterators */ \"./node_modules/core-js/library/modules/_iterators.js\")\n  , TO_STRING_TAG = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/web.dom.iterable.js?")},"./src/css/index.styl":function srcCssIndexStyl(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://tui.ImageEditor/./src/css/index.styl?")},"./src/index.js":function srcIndexJs(module,exports,__webpack_require__){"use strict";eval('\n\n__webpack_require__(/*! ./js/polyfill */ "./src/js/polyfill.js");\n\nvar _imageEditor = __webpack_require__(/*! ./js/imageEditor */ "./src/js/imageEditor.js");\n\nvar _imageEditor2 = _interopRequireDefault(_imageEditor);\n\n__webpack_require__(/*! ./css/index.styl */ "./src/css/index.styl");\n\n__webpack_require__(/*! ./js/command/addIcon */ "./src/js/command/addIcon.js");\n\n__webpack_require__(/*! ./js/command/addImageObject */ "./src/js/command/addImageObject.js");\n\n__webpack_require__(/*! ./js/command/addObject */ "./src/js/command/addObject.js");\n\n__webpack_require__(/*! ./js/command/addShape */ "./src/js/command/addShape.js");\n\n__webpack_require__(/*! ./js/command/addText */ "./src/js/command/addText.js");\n\n__webpack_require__(/*! ./js/command/applyFilter */ "./src/js/command/applyFilter.js");\n\n__webpack_require__(/*! ./js/command/changeIconColor */ "./src/js/command/changeIconColor.js");\n\n__webpack_require__(/*! ./js/command/changeShape */ "./src/js/command/changeShape.js");\n\n__webpack_require__(/*! ./js/command/changeText */ "./src/js/command/changeText.js");\n\n__webpack_require__(/*! ./js/command/changeTextStyle */ "./src/js/command/changeTextStyle.js");\n\n__webpack_require__(/*! ./js/command/clearObjects */ "./src/js/command/clearObjects.js");\n\n__webpack_require__(/*! ./js/command/flip */ "./src/js/command/flip.js");\n\n__webpack_require__(/*! ./js/command/loadImage */ "./src/js/command/loadImage.js");\n\n__webpack_require__(/*! ./js/command/removeFilter */ "./src/js/command/removeFilter.js");\n\n__webpack_require__(/*! ./js/command/removeObject */ "./src/js/command/removeObject.js");\n\n__webpack_require__(/*! ./js/command/resizeCanvasDimension */ "./src/js/command/resizeCanvasDimension.js");\n\n__webpack_require__(/*! ./js/command/rotate */ "./src/js/command/rotate.js");\n\n__webpack_require__(/*! ./js/command/setObjectProperties */ "./src/js/command/setObjectProperties.js");\n\n__webpack_require__(/*! ./js/command/setObjectPosition */ "./src/js/command/setObjectPosition.js");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _imageEditor2.default;\n\n// commands\n\n//# sourceURL=webpack://tui.ImageEditor/./src/index.js?')},"./src/js/action.js":function srcJsActionJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _imagetracer = __webpack_require__(/*! ./helper/imagetracer */ \"./src/js/helper/imagetracer.js\");\n\nvar _imagetracer2 = _interopRequireDefault(_imagetracer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    /**\n     * Get ui actions\n     * @returns {Object} actions for ui\n     * @private\n     */\n    getActions: function getActions() {\n        return {\n            main: this._mainAction(),\n            shape: this._shapeAction(),\n            crop: this._cropAction(),\n            flip: this._flipAction(),\n            rotate: this._rotateAction(),\n            text: this._textAction(),\n            mask: this._maskAction(),\n            draw: this._drawAction(),\n            icon: this._iconAction(),\n            filter: this._filterAction()\n        };\n    },\n\n\n    /**\n     * Main Action\n     * @returns {Object} actions for ui main\n     * @private\n     */\n    _mainAction: function _mainAction() {\n        var _this = this;\n\n        var exitCropOnAction = function exitCropOnAction() {\n            if (_this.ui.submenu === 'crop') {\n                _this.stopDrawingMode();\n                _this.ui.changeMenu('crop');\n            }\n        };\n        var setAngleRangeBarOnAction = function setAngleRangeBarOnAction(angle) {\n            if (_this.ui.submenu === 'rotate') {\n                _this.ui.rotate.setRangeBarAngle('setAngle', angle);\n            }\n        };\n        var setFilterStateRangeBarOnAction = function setFilterStateRangeBarOnAction(filterOptions) {\n            if (_this.ui.submenu === 'filter') {\n                _this.ui.filter.setFilterState(filterOptions);\n            }\n        };\n        var onEndUndoRedo = function onEndUndoRedo(result) {\n            setAngleRangeBarOnAction(result);\n            setFilterStateRangeBarOnAction(result);\n\n            return result;\n        };\n\n        return (0, _tuiCodeSnippet.extend)({\n            initLoadImage: function initLoadImage(imagePath, imageName) {\n                return _this.loadImageFromURL(imagePath, imageName).then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.ui.initializeImgUrl = imagePath;\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                    _this.clearUndoStack();\n                });\n            },\n            undo: function undo() {\n                if (!_this.isEmptyUndoStack()) {\n                    exitCropOnAction();\n                    _this.deactivateAll();\n                    _this.undo().then(onEndUndoRedo);\n                }\n            },\n            redo: function redo() {\n                if (!_this.isEmptyRedoStack()) {\n                    exitCropOnAction();\n                    _this.deactivateAll();\n                    _this.redo().then(onEndUndoRedo);\n                }\n            },\n            reset: function reset() {\n                exitCropOnAction();\n                _this.loadImageFromURL(_this.ui.initializeImgUrl, 'resetImage').then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                    _this.clearUndoStack();\n                });\n            },\n            delete: function _delete() {\n                _this.ui.changeHelpButtonEnabled('delete', false);\n                exitCropOnAction();\n                _this.removeActiveObject();\n                _this.activeObjectId = null;\n            },\n            deleteAll: function deleteAll() {\n                exitCropOnAction();\n                _this.clearObjects();\n                _this.ui.changeHelpButtonEnabled('delete', false);\n                _this.ui.changeHelpButtonEnabled('deleteAll', false);\n            },\n            load: function load(file) {\n                if (!_util2.default.isSupportFileApi()) {\n                    alert('This browser does not support file-api');\n                }\n\n                _this.ui.initializeImgUrl = URL.createObjectURL(file);\n                _this.loadImageFromFile(file).then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.clearUndoStack();\n                    _this.ui.activeMenuEvent();\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                })['catch'](function (message) {\n                    return Promise.reject(message);\n                });\n            },\n            download: function download() {\n                var dataURL = _this.toDataURL();\n                var imageName = _this.getImageName();\n                var blob = void 0,\n                    type = void 0,\n                    w = void 0;\n\n                if (_util2.default.isSupportFileApi() && window.saveAs) {\n                    blob = _util2.default.base64ToBlob(dataURL);\n                    type = blob.type.split('/')[1];\n                    if (imageName.split('.').pop() !== type) {\n                        imageName += '.' + type;\n                    }\n                    saveAs(blob, imageName); // eslint-disable-line\n                } else {\n                    w = window.open();\n                    w.document.body.innerHTML = '<img src=\\'' + dataURL + '\\'>';\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Icon Action\n     * @returns {Object} actions for ui icon\n     * @private\n     */\n    _iconAction: function _iconAction() {\n        var _this2 = this;\n\n        var cacheIconType = void 0;\n        var cacheIconColor = void 0;\n        var startX = void 0;\n        var startY = void 0;\n        var iconWidth = void 0;\n        var iconHeight = void 0;\n        var objId = void 0;\n\n        this.on({\n            'iconCreateResize': function iconCreateResize(_ref) {\n                var moveOriginPointer = _ref.moveOriginPointer;\n\n                var scaleX = (moveOriginPointer.x - startX) / iconWidth;\n                var scaleY = (moveOriginPointer.y - startY) / iconHeight;\n\n                _this2.setObjectPropertiesQuietly(objId, {\n                    scaleX: Math.abs(scaleX * 2),\n                    scaleY: Math.abs(scaleY * 2)\n                });\n            },\n            'iconCreateEnd': function iconCreateEnd() {\n                _this2.ui.icon.clearIconType();\n                _this2.changeSelectableAll(true);\n            }\n        });\n\n        var mouseDown = function mouseDown(e, originPointer) {\n            startX = originPointer.x;\n            startY = originPointer.y;\n\n            _this2.addIcon(cacheIconType, {\n                left: originPointer.x,\n                top: originPointer.y,\n                fill: cacheIconColor\n            }).then(function (obj) {\n                objId = obj.id;\n                iconWidth = obj.width;\n                iconHeight = obj.height;\n            });\n        };\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeColor: function changeColor(color) {\n                if (_this2.activeObjectId) {\n                    _this2.changeIconColor(_this2.activeObjectId, color);\n                }\n            },\n            addIcon: function addIcon(iconType, iconColor) {\n                cacheIconType = iconType;\n                cacheIconColor = iconColor;\n                // this.readyAddIcon();\n                _this2.changeCursor('crosshair');\n                _this2.off('mousedown');\n                _this2.once('mousedown', mouseDown.bind(_this2));\n            },\n            cancelAddIcon: function cancelAddIcon() {\n                _this2.off('mousedown');\n                _this2.ui.icon.clearIconType();\n                _this2.changeSelectableAll(true);\n                _this2.changeCursor('default');\n            },\n            registDefalutIcons: function registDefalutIcons(type, path) {\n                var iconObj = {};\n                iconObj[type] = path;\n                _this2.registerIcons(iconObj);\n            },\n            registCustomIcon: function registCustomIcon(imgUrl, file) {\n                var imagetracer = new _imagetracer2.default();\n                imagetracer.imageToSVG(imgUrl, function (svgstr) {\n                    var _svgstr$match = svgstr.match(/path[^>]*d=\"([^\"]*)\"/),\n                        svgPath = _svgstr$match[1];\n\n                    var iconObj = {};\n                    iconObj[file.name] = svgPath;\n                    _this2.registerIcons(iconObj);\n                    _this2.addIcon(file.name, {\n                        left: 100,\n                        top: 100\n                    });\n                }, _imagetracer2.default.tracerDefaultOption());\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Draw Action\n     * @returns {Object} actions for ui draw\n     * @private\n     */\n    _drawAction: function _drawAction() {\n        var _this3 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            setDrawMode: function setDrawMode(type, settings) {\n                _this3.stopDrawingMode();\n                if (type === 'free') {\n                    _this3.startDrawingMode('FREE_DRAWING', settings);\n                } else {\n                    _this3.startDrawingMode('LINE_DRAWING', settings);\n                }\n            },\n            setColor: function setColor(color) {\n                _this3.setBrush({\n                    color: color\n                });\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Mask Action\n     * @returns {Object} actions for ui mask\n     * @private\n     */\n    _maskAction: function _maskAction() {\n        var _this4 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            loadImageFromURL: function loadImageFromURL(imgUrl, file) {\n                return _this4.loadImageFromURL(_this4.toDataURL(), 'FilterImage').then(function () {\n                    _this4.addImageObject(imgUrl).then(function () {\n                        URL.revokeObjectURL(file);\n                    });\n                });\n            },\n            applyFilter: function applyFilter() {\n                _this4.applyFilter('mask', {\n                    maskObjId: _this4.activeObjectId\n                });\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Text Action\n     * @returns {Object} actions for ui text\n     * @private\n     */\n    _textAction: function _textAction() {\n        var _this5 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeTextStyle: function changeTextStyle(styleObj, isSilent) {\n                if (_this5.activeObjectId) {\n                    _this5.changeTextStyle(_this5.activeObjectId, styleObj, isSilent);\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Rotate Action\n     * @returns {Object} actions for ui rotate\n     * @private\n     */\n    _rotateAction: function _rotateAction() {\n        var _this6 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            rotate: function rotate(angle, isSilent) {\n                _this6.rotate(angle, isSilent);\n                _this6.ui.resizeEditor();\n                _this6.ui.rotate.setRangeBarAngle('rotate', angle);\n            },\n            setAngle: function setAngle(angle, isSilent) {\n                _this6.setAngle(angle, isSilent);\n                _this6.ui.resizeEditor();\n                _this6.ui.rotate.setRangeBarAngle('setAngle', angle);\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Shape Action\n     * @returns {Object} actions for ui shape\n     * @private\n     */\n    _shapeAction: function _shapeAction() {\n        var _this7 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeShape: function changeShape(changeShapeObject, isSilent) {\n                if (_this7.activeObjectId) {\n                    _this7.changeShape(_this7.activeObjectId, changeShapeObject, isSilent);\n                }\n            },\n            setDrawingShape: function setDrawingShape(shapeType) {\n                _this7.setDrawingShape(shapeType);\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Crop Action\n     * @returns {Object} actions for ui crop\n     * @private\n     */\n    _cropAction: function _cropAction() {\n        var _this8 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            crop: function crop() {\n                var cropRect = _this8.getCropzoneRect();\n                if (cropRect) {\n                    _this8.crop(cropRect).then(function () {\n                        _this8.stopDrawingMode();\n                        _this8.ui.resizeEditor();\n                        _this8.ui.changeMenu('crop');\n                    })['catch'](function (message) {\n                        return Promise.reject(message);\n                    });\n                }\n            },\n            cancel: function cancel() {\n                _this8.stopDrawingMode();\n                _this8.ui.changeMenu('crop');\n            },\n            /* eslint-disable */\n            preset: function preset(presetType) {\n                switch (presetType) {\n                    case 'preset-square':\n                        _this8.setCropzoneRect(1 / 1);\n                        break;\n                    case 'preset-3-2':\n                        _this8.setCropzoneRect(3 / 2);\n                        break;\n                    case 'preset-4-3':\n                        _this8.setCropzoneRect(4 / 3);\n                        break;\n                    case 'preset-5-4':\n                        _this8.setCropzoneRect(5 / 4);\n                        break;\n                    case 'preset-7-5':\n                        _this8.setCropzoneRect(7 / 5);\n                        break;\n                    case 'preset-16-9':\n                        _this8.setCropzoneRect(16 / 9);\n                        break;\n                    default:\n                        _this8.setCropzoneRect();\n                        _this8.ui.crop.changeApplyButtonStatus(false);\n                        break;\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Flip Action\n     * @returns {Object} actions for ui flip\n     * @private\n     */\n    _flipAction: function _flipAction() {\n        var _this9 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            flip: function flip(flipType) {\n                return _this9[flipType]();\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Filter Action\n     * @returns {Object} actions for ui filter\n     * @private\n     */\n    _filterAction: function _filterAction() {\n        var _this10 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            applyFilter: function applyFilter(applying, type, options, isSilent) {\n\n                if (applying) {\n                    _this10.applyFilter(type, options, isSilent);\n                } else if (_this10.hasFilter(type)) {\n                    _this10.removeFilter(type);\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Image Editor Event Observer\n     */\n    setReAction: function setReAction() {\n        var _this11 = this;\n\n        this.on({\n            undoStackChanged: function undoStackChanged(length) {\n                if (length) {\n                    _this11.ui.changeHelpButtonEnabled('undo', true);\n                    _this11.ui.changeHelpButtonEnabled('reset', true);\n                } else {\n                    _this11.ui.changeHelpButtonEnabled('undo', false);\n                    _this11.ui.changeHelpButtonEnabled('reset', false);\n                }\n                _this11.ui.resizeEditor();\n            },\n            redoStackChanged: function redoStackChanged(length) {\n                if (length) {\n                    _this11.ui.changeHelpButtonEnabled('redo', true);\n                } else {\n                    _this11.ui.changeHelpButtonEnabled('redo', false);\n                }\n                _this11.ui.resizeEditor();\n            },\n            /* eslint-disable complexity */\n            objectActivated: function objectActivated(obj) {\n                _this11.activeObjectId = obj.id;\n\n                _this11.ui.changeHelpButtonEnabled('delete', true);\n                _this11.ui.changeHelpButtonEnabled('deleteAll', true);\n\n                if (obj.type === 'cropzone') {\n                    _this11.ui.crop.changeApplyButtonStatus(true);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                    _this11.stopDrawingMode();\n                    if (_this11.ui.submenu !== 'shape') {\n                        _this11.ui.changeMenu('shape', false, false);\n                    }\n                    _this11.ui.shape.setShapeStatus({\n                        strokeColor: obj.stroke,\n                        strokeWidth: obj.strokeWidth,\n                        fillColor: obj.fill\n                    });\n\n                    _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n                } else if (obj.type === 'path' || obj.type === 'line') {\n                    if (_this11.ui.submenu !== 'draw') {\n                        _this11.ui.changeMenu('draw', false, false);\n                        _this11.ui.draw.changeStandbyMode();\n                    }\n                } else if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                    if (_this11.ui.submenu !== 'text') {\n                        _this11.ui.changeMenu('text', false, false);\n                    }\n\n                    _this11.ui.text.setTextStyleStateOnAction(obj);\n                } else if (obj.type === 'icon') {\n                    _this11.stopDrawingMode();\n                    if (_this11.ui.submenu !== 'icon') {\n                        _this11.ui.changeMenu('icon', false, false);\n                    }\n                    _this11.ui.icon.setIconPickerColor(obj.fill);\n                }\n            },\n            /* eslint-enable complexity */\n            addText: function addText(pos) {\n                var _ui$text = _this11.ui.text,\n                    fill = _ui$text.textColor,\n                    fontSize = _ui$text.fontSize,\n                    fontStyle = _ui$text.fontStyle,\n                    fontWeight = _ui$text.fontWeight,\n                    underline = _ui$text.underline;\n\n                var fontFamily = 'Noto Sans';\n\n                _this11.addText('Double Click', {\n                    position: pos.originPosition,\n                    styles: { fill: fill, fontSize: fontSize, fontFamily: fontFamily, fontStyle: fontStyle, fontWeight: fontWeight, underline: underline }\n                }).then(function () {\n                    _this11.changeCursor('default');\n                });\n            },\n            addObjectAfter: function addObjectAfter(obj) {\n                if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                    _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n                    _this11.ui.shape.changeStandbyMode();\n                }\n            },\n            objectScaled: function objectScaled(obj) {\n                if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                    _this11.ui.text.fontSize = _util2.default.toInteger(obj.fontSize);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) >= 0) {\n                    var width = obj.width,\n                        height = obj.height;\n\n                    var strokeValue = _this11.ui.shape.getStrokeValue();\n\n                    if (width < strokeValue) {\n                        _this11.ui.shape.setStrokeValue(width);\n                    }\n                    if (height < strokeValue) {\n                        _this11.ui.shape.setStrokeValue(height);\n                    }\n                }\n            },\n            selectionCleared: function selectionCleared() {\n                _this11.activeObjectId = null;\n                if (_this11.ui.submenu === 'text') {\n                    _this11.changeCursor('text');\n                } else if (_this11.ui.submenu !== 'draw' && _this11.ui.submenu !== 'crop') {\n                    _this11.stopDrawingMode();\n                }\n            }\n        });\n    },\n\n\n    /**\n     * Common Action\n     * @returns {Object} common actions for ui\n     * @private\n     */\n    _commonAction: function _commonAction() {\n        var _this12 = this;\n\n        return {\n            modeChange: function modeChange(menu) {\n                switch (menu) {\n                    case 'text':\n                        _this12._changeActivateMode('TEXT');\n                        break;\n                    case 'crop':\n                        _this12.startDrawingMode('CROPPER');\n                        break;\n                    case 'shape':\n                        _this12._changeActivateMode('SHAPE');\n                        _this12.setDrawingShape(_this12.ui.shape.type, _this12.ui.shape.options);\n                        break;\n                    default:\n                        break;\n                }\n            },\n            deactivateAll: this.deactivateAll.bind(this),\n            changeSelectableAll: this.changeSelectableAll.bind(this),\n            discardSelection: this.discardSelection.bind(this),\n            stopDrawingMode: this.stopDrawingMode.bind(this)\n        };\n    },\n\n\n    /**\n     * Mixin\n     * @param {ImageEditor} ImageEditor instance\n     */\n    mixin: function mixin(ImageEditor) {\n        (0, _tuiCodeSnippet.extend)(ImageEditor.prototype, this);\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/action.js?")},"./src/js/command/addIcon.js":function srcJsCommandAddIconJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add an icon\n                                                   */\n\nvar ICON = componentNames.ICON;\n\n\nvar command = {\n    name: commandNames.ADD_ICON,\n\n    /**\n     * Add an icon\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Icon type (\'arrow\', \'cancel\', custom icon name)\n     * @param {Object} options - Icon options\n     *      @param {string} [options.fill] - Icon foreground color\n     *      @param {string} [options.left] - Icon x position\n     *      @param {string} [options.top] - Icon y position\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options) {\n        var _this = this;\n\n        var iconComp = graphics.getComponent(ICON);\n\n        return iconComp.add(type, options).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addIcon.js?')},"./src/js/command/addImageObject.js":function srcJsCommandAddImageObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add an image object\n                                                   */\n\nvar command = {\n    name: commandNames.ADD_IMAGE_OBJECT,\n\n    /**\n     * Add an image object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} imgUrl - Image url to make object\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, imgUrl) {\n        var _this = this;\n\n        return graphics.addImageObject(imgUrl).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addImageObject.js?')},"./src/js/command/addObject.js":function srcJsCommandAddObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Add an object\n                                                       */\n\nvar command = {\n    name: commandNames.ADD_OBJECT,\n\n    /**\n     * Add an object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {Object} object - Fabric object\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, object) {\n        return new _promise2.default(function (resolve, reject) {\n            if (!graphics.contains(object)) {\n                graphics.add(object);\n                resolve(object);\n            } else {\n                reject(rejectMessages.addedObject);\n            }\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {Object} object - Fabric object\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, object) {\n        return new _promise2.default(function (resolve, reject) {\n            if (graphics.contains(object)) {\n                graphics.remove(object);\n                resolve(object);\n            } else {\n                reject(rejectMessages.noObject);\n            }\n        });\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addObject.js?')},"./src/js/command/addShape.js":function srcJsCommandAddShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add a shape\n                                                   */\n\nvar SHAPE = componentNames.SHAPE;\n\n\nvar command = {\n    name: commandNames.ADD_SHAPE,\n\n    /**\n     * Add a shape\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n     * @param {Object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.left] - Shape x position\n     *      @param {number} [options.top] - Shape y position\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options) {\n        var _this = this;\n\n        var shapeComp = graphics.getComponent(SHAPE);\n\n        return shapeComp.add(type, options).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addShape.js?")},"./src/js/command/addText.js":function srcJsCommandAddTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Add a text object\n                                                       */\n\nvar TEXT = componentNames.TEXT;\n\n\nvar command = {\n    name: commandNames.ADD_TEXT,\n\n    /**\n     * Add a text object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} text - Initial input text\n     * @param {Object} [options] Options for text styles\n     *     @param {Object} [options.styles] Initial styles\n     *         @param {string} [options.styles.fill] Color\n     *         @param {string} [options.styles.fontFamily] Font type for text\n     *         @param {number} [options.styles.fontSize] Size\n     *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n     *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n     *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n     *     @param {{x: number, y: number}} [options.position] - Initial position\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, text, options) {\n        var _this = this;\n\n        var textComp = graphics.getComponent(TEXT);\n\n        if (this.undoData.object) {\n            var undoObject = this.undoData.object;\n\n            return new _promise2.default(function (resolve, reject) {\n                if (!graphics.contains(undoObject)) {\n                    graphics.add(undoObject);\n                    resolve(undoObject);\n                } else {\n                    reject(rejectMessages.redo);\n                }\n            });\n        }\n\n        return textComp.add(text, options).then(function (objectProps) {\n            var id = objectProps.id;\n\n            var textObject = graphics.getObject(id);\n\n            _this.undoData.object = textObject;\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addText.js?')},"./src/js/command/applyFilter.js":function srcJsCommandApplyFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Apply a filter into an image\n                                                   */\n\nvar FILTER = componentNames.FILTER;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {string} type - Filter type \n * @param {Object} prevfilterOption - prev Filter options\n * @param {Object} options - Filter options\n * @returns {object} - undo data\n */\nfunction makeUndoData(type, prevfilterOption, options) {\n    var undoData = {};\n\n    if (type === 'mask') {\n        undoData.object = options.mask;\n    }\n\n    undoData.options = prevfilterOption;\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.APPLY_FILTER,\n\n    /**\n     * Apply a filter into an image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Filter type\n     * @param {Object} options - Filter options\n     *  @param {number} options.maskObjId - masking image object id\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options, isSilent) {\n        var filterComp = graphics.getComponent(FILTER);\n\n        if (type === 'mask') {\n            var maskObj = graphics.getObject(options.maskObjId);\n\n            if (!(maskObj && maskObj.isType('image'))) {\n                return Promise.reject(rejectMessages.invalidParameters);\n            }\n\n            _tuiCodeSnippet2.default.extend(options, { mask: maskObj });\n            graphics.remove(options.mask);\n        }\n        if (!this.isRedo) {\n            var prevfilterOption = filterComp.getOptions(type);\n            var undoData = makeUndoData(type, prevfilterOption, options);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return filterComp.add(type, options);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Filter type\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, type) {\n        var filterComp = graphics.getComponent(FILTER);\n\n        if (type === 'mask') {\n            var mask = this.undoData.object;\n            graphics.add(mask);\n            graphics.setActiveObject(mask);\n\n            return filterComp.remove(type);\n        }\n\n        // options changed case\n        if (this.undoData.options) {\n            return filterComp.add(type, this.undoData.options);\n        }\n\n        // filter added case\n        return filterComp.remove(type);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/applyFilter.js?")},"./src/js/command/changeIconColor.js":function srcJsCommandChangeIconColorJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Change icon color\n                                                   */\n\nvar ICON = componentNames.ICON;\n\n\nvar command = {\n    name: commandNames.CHANGE_ICON_COLOR,\n\n    /**\n     * Change icon color\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {string} color - Color for icon\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, color) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve, reject) {\n            var iconComp = graphics.getComponent(ICON);\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n                reject(rejectMessages.noObject);\n            }\n\n            _this.undoData.object = targetObj;\n            _this.undoData.color = iconComp.getColor(targetObj);\n            iconComp.setColor(color, targetObj);\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var iconComp = graphics.getComponent(ICON);\n        var _undoData$object = this.undoData.object,\n            icon = _undoData$object.object,\n            color = _undoData$object.color;\n\n\n        iconComp.setColor(color, icon);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeIconColor.js?')},"./src/js/command/changeShape.js":function srcJsCommandChangeShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview change a shape\n */\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames;\nvar SHAPE = componentNames.SHAPE;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} options - shape options\n * @param {Component} targetObj - shape component\n * @returns {object} - undo data\n */\nfunction makeUndoData(options, targetObj) {\n    var undoData = {\n        object: targetObj,\n        options: {}\n    };\n\n    _tuiCodeSnippet2.default.forEachOwnProperties(options, function (value, key) {\n        undoData.options[key] = targetObj[key];\n    });\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.CHANGE_SHAPE,\n\n    /**\n     * Change a shape\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.left] - Shape x position\n     *      @param {number} [options.top] - Shape y position\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, options, isSilent) {\n        var shapeComp = graphics.getComponent(SHAPE);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        if (!this.isRedo) {\n            var undoData = makeUndoData(options, targetObj);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return shapeComp.change(targetObj, options);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var shapeComp = graphics.getComponent(SHAPE);\n        var _undoData = this.undoData,\n            shape = _undoData.object,\n            options = _undoData.options;\n\n\n        return shapeComp.change(shape, options);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeShape.js?")},"./src/js/command/changeText.js":function srcJsCommandChangeTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Change a text\n                                                   */\n\nvar TEXT = componentNames.TEXT;\n\n\nvar command = {\n    name: commandNames.CHANGE_TEXT,\n\n    /**\n     * Change a text\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {string} text - Changing text\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, text) {\n        var textComp = graphics.getComponent(TEXT);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.object = targetObj;\n        this.undoData.text = textComp.getText(targetObj);\n\n        return textComp.change(targetObj, text);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var textComp = graphics.getComponent(TEXT);\n        var _undoData = this.undoData,\n            textObj = _undoData.object,\n            text = _undoData.text;\n\n\n        return textComp.change(textObj, text);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeText.js?')},"./src/js/command/changeTextStyle.js":function srcJsCommandChangeTextStyleJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Change text styles\n */\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames;\nvar TEXT = componentNames.TEXT;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} styles - text styles\n * @param {Component} targetObj - text component\n * @returns {object} - undo data\n */\nfunction makeUndoData(styles, targetObj) {\n    var undoData = {\n        object: targetObj,\n        styles: {}\n    };\n    _tuiCodeSnippet2.default.forEachOwnProperties(styles, function (value, key) {\n        var undoValue = targetObj[key];\n        undoData.styles[key] = undoValue;\n    });\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.CHANGE_TEXT_STYLE,\n\n    /**\n     * Change text styles\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} styles - text styles\n     *     @param {string} [styles.fill] Color\n     *     @param {string} [styles.fontFamily] Font type for text\n     *     @param {number} [styles.fontSize] Size\n     *     @param {string} [styles.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [styles.textAlign] Type of text align (left / center / right)\n     *     @param {string} [styles.textDecoration] Type of line (underline / line-through / overline)\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, styles, isSilent) {\n        var textComp = graphics.getComponent(TEXT);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n        if (!this.isRedo) {\n            var undoData = makeUndoData(styles, targetObj);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return textComp.setStyle(targetObj, styles);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var textComp = graphics.getComponent(TEXT);\n        var _undoData = this.undoData,\n            textObj = _undoData.object,\n            styles = _undoData.styles;\n\n\n        return textComp.setStyle(textObj, styles);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeTextStyle.js?')},"./src/js/command/clearObjects.js":function srcJsCommandClearObjectsJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Clear all objects\n                                                   */\n\nvar command = {\n    name: commandNames.CLEAR_OBJECTS,\n\n    /**\n     * Clear all objects without background (main) image\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    execute: function execute(graphics) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve) {\n            _this.undoData.objects = graphics.removeAll();\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     * @ignore\n     */\n    undo: function undo(graphics) {\n        graphics.add(this.undoData.objects);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/clearObjects.js?')},"./src/js/command/flip.js":function srcJsCommandFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Flip an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar FLIP = componentNames.FLIP;\n\n\nvar command = {\n  name: commandNames.FLIP_IMAGE,\n\n  /**\n   * flip an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - 'flipX' or 'flipY' or 'reset'\n   * @returns {Promise}\n   */\n  execute: function execute(graphics, type) {\n    var flipComp = graphics.getComponent(FLIP);\n\n    this.undoData.setting = flipComp.getCurrentSetting();\n\n    return flipComp[type]();\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo: function undo(graphics) {\n    var flipComp = graphics.getComponent(FLIP);\n\n    return flipComp.set(this.undoData.setting);\n  }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/flip.js?")},"./src/js/command/loadImage.js":function srcJsCommandLoadImageJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Load a background (main) image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar IMAGE_LOADER = componentNames.IMAGE_LOADER;\n\n\nvar command = {\n    name: commandNames.LOAD_IMAGE,\n\n    /**\n     * Load a background (main) image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} imageName - Image name\n     * @param {string} imgUrl - Image Url\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, imageName, imgUrl) {\n        var loader = graphics.getComponent(IMAGE_LOADER);\n        var prevImage = loader.getCanvasImage();\n        var prevImageWidth = prevImage ? prevImage.width : 0;\n        var prevImageHeight = prevImage ? prevImage.height : 0;\n        var objects = graphics.removeAll(true).filter(function (objectItem) {\n            return objectItem.type !== \'cropzone\';\n        });\n\n        objects.forEach(function (objectItem) {\n            objectItem.evented = true;\n        });\n\n        this.undoData = {\n            name: loader.getImageName(),\n            image: prevImage,\n            objects: objects\n        };\n\n        return loader.load(imageName, imgUrl).then(function (newImage) {\n            return {\n                oldWidth: prevImageWidth,\n                oldHeight: prevImageHeight,\n                newWidth: newImage.width,\n                newHeight: newImage.height\n            };\n        });\n    },\n\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var loader = graphics.getComponent(IMAGE_LOADER);\n        var _undoData = this.undoData,\n            objects = _undoData.objects,\n            name = _undoData.name,\n            image = _undoData.image;\n\n\n        graphics.removeAll(true);\n        graphics.add(objects);\n\n        return loader.load(name, image);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/loadImage.js?')},"./src/js/command/removeFilter.js":function srcJsCommandRemoveFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Remove a filter from an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar FILTER = componentNames.FILTER;\n\n\nvar command = {\n  name: commandNames.REMOVE_FILTER,\n\n  /**\n   * Remove a filter from an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  execute: function execute(graphics, type) {\n    var filterComp = graphics.getComponent(FILTER);\n\n    this.undoData.options = filterComp.getOptions(type);\n\n    return filterComp.remove(type);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  undo: function undo(graphics, type) {\n    var filterComp = graphics.getComponent(FILTER);\n    var options = this.undoData.options;\n\n\n    return filterComp.add(type, options);\n  }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/removeFilter.js?')},"./src/js/command/removeObject.js":function srcJsCommandRemoveObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Remove an object\n                                                       */\n\nvar command = {\n    name: commandNames.REMOVE_OBJECT,\n\n    /**\n     * Remove an object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve, reject) {\n            _this.undoData.objects = graphics.removeObjectById(id);\n            if (_this.undoData.objects.length) {\n                resolve();\n            } else {\n                reject(rejectMessages.noObject);\n            }\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.add(this.undoData.objects);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/removeObject.js?')},"./src/js/command/resizeCanvasDimension.js":function srcJsCommandResizeCanvasDimensionJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Resize a canvas\n                                                   */\n\nvar command = {\n    name: commandNames.RESIZE_CANVAS_DIMENSION,\n\n    /**\n     * resize the canvas with given dimension\n     * @param {Graphics} graphics - Graphics instance\n     * @param {{width: number, height: number}} dimension - Max width & height\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, dimension) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve) {\n            _this.undoData.size = {\n                width: graphics.cssMaxWidth,\n                height: graphics.cssMaxHeight\n            };\n\n            graphics.setCssMaxDimension(dimension);\n            graphics.adjustCanvasDimension();\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.setCssMaxDimension(this.undoData.size);\n        graphics.adjustCanvasDimension();\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/resizeCanvasDimension.js?')},"./src/js/command/rotate.js":function srcJsCommandRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Rotate an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar ROTATION = componentNames.ROTATION;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undo data\n * @param {Component} rotationComp - rotation component\n * @returns {object} - undodata\n */\nfunction makeUndoData(rotationComp) {\n    return {\n        angle: rotationComp.getCurrentAngle()\n    };\n}\n\nvar command = {\n    name: commandNames.ROTATE_IMAGE,\n\n    /**\n     * Rotate an image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - 'rotate' or 'setAngle'\n     * @param {number} angle - angle value (degree)\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, angle, isSilent) {\n        var rotationComp = graphics.getComponent(ROTATION);\n\n        if (!this.isRedo) {\n            var undoData = makeUndoData(rotationComp);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return rotationComp[type](angle);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var rotationComp = graphics.getComponent(ROTATION);\n        var _args = this.args,\n            type = _args[1],\n            angle = _args[2];\n\n\n        if (type === 'setAngle') {\n            return rotationComp[type](this.undoData.angle);\n        }\n\n        return rotationComp.rotate(-angle);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/rotate.js?")},"./src/js/command/setObjectPosition.js":function srcJsCommandSetObjectPositionJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Set object properties\n                                                       */\n\nvar command = {\n    name: commandNames.SET_OBJECT_POSITION,\n\n    /**\n     * Set object properties\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} posInfo - position object\n     *  @param {number} posInfo.x - x position\n     *  @param {number} posInfo.y - y position\n     *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n     *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, posInfo) {\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.objectId = id;\n        this.undoData.props = graphics.getObjectProperties(id, ['left', 'top']);\n\n        graphics.setObjectPosition(id, posInfo);\n        graphics.renderAll();\n\n        return _promise2.default.resolve();\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var _undoData = this.undoData,\n            objectId = _undoData.objectId,\n            props = _undoData.props;\n\n\n        graphics.setObjectProperties(objectId, props);\n        graphics.renderAll();\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/setObjectPosition.js?")},"./src/js/command/setObjectProperties.js":function srcJsCommandSetObjectPropertiesJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Set object properties\n */\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\n\nvar command = {\n    name: commandNames.SET_OBJECT_PROPERTIES,\n\n    /**\n     * Set object properties\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} props - properties\n     *     @param {string} [props.fill] Color\n     *     @param {string} [props.fontFamily] Font type for text\n     *     @param {number} [props.fontSize] Size\n     *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [props.textAlign] Type of text align (left / center / right)\n     *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, props) {\n        var _this = this;\n\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.props = {};\n        _tuiCodeSnippet2.default.forEachOwnProperties(props, function (value, key) {\n            _this.undoData.props[key] = targetObj[key];\n        });\n\n        graphics.setObjectProperties(id, props);\n\n        return _promise2.default.resolve();\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, id) {\n        var props = this.undoData.props;\n\n\n        graphics.setObjectProperties(id, props);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/setObjectProperties.js?')},"./src/js/component/cropper.js":function srcJsComponentCropperJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _cropzone = __webpack_require__(/*! ../extension/cropzone */ \"./src/js/extension/cropzone.js\");\n\nvar _cropzone2 = _interopRequireDefault(_cropzone);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image crop module (start cropping, end cropping)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar MOUSE_MOVE_THRESHOLD = 10;\nvar DEFAULT_OPTION = {\n    presetRatio: null,\n    top: -10,\n    left: -10,\n    height: 1,\n    width: 1\n};\n\n/**\n * Cropper components\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @class Cropper\n * @ignore\n */\n\nvar Cropper = function (_Component) {\n    _inherits(Cropper, _Component);\n\n    function Cropper(graphics) {\n        _classCallCheck(this, Cropper);\n\n        /**\n         * Cropzone\n         * @type {Cropzone}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, _consts.componentNames.CROPPER, graphics));\n\n        _this._cropzone = null;\n\n        /**\n         * StartX of Cropzone\n         * @type {number}\n         * @private\n         */\n        _this._startX = null;\n\n        /**\n         * StartY of Cropzone\n         * @type {number}\n         * @private\n         */\n        _this._startY = null;\n\n        /**\n         * State whether shortcut key is pressed or not\n         * @type {boolean}\n         * @private\n         */\n        _this._withShiftKey = false;\n\n        /**\n         * Listeners\n         * @type {object.<string, function>}\n         * @private\n         */\n        _this._listeners = {\n            keydown: _this._onKeyDown.bind(_this),\n            keyup: _this._onKeyUp.bind(_this),\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start cropping\n     */\n\n\n    _createClass(Cropper, [{\n        key: 'start',\n        value: function start() {\n            if (this._cropzone) {\n                return;\n            }\n            var canvas = this.getCanvas();\n\n            canvas.forEachObject(function (obj) {\n                // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n                obj.evented = false;\n            });\n\n            this._cropzone = new _cropzone2.default(canvas, _tuiCodeSnippet2.default.extend({\n                left: 0,\n                top: 0,\n                width: 0.5,\n                height: 0.5,\n                strokeWidth: 0, // {@link https://github.com/kangax/fabric.js/issues/2860}\n                cornerSize: 10,\n                cornerColor: 'black',\n                fill: 'transparent'\n            }, _consts.CROPZONE_DEFAULT_OPTIONS, this.graphics.cropSelectionStyle));\n\n            canvas.discardActiveObject();\n            canvas.add(this._cropzone);\n            canvas.on('mouse:down', this._listeners.mousedown);\n            canvas.selection = false;\n            canvas.defaultCursor = 'crosshair';\n\n            _fabric2.default.util.addListener(document, 'keydown', this._listeners.keydown);\n            _fabric2.default.util.addListener(document, 'keyup', this._listeners.keyup);\n        }\n\n        /**\n         * End cropping\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n            var cropzone = this._cropzone;\n\n            if (!cropzone) {\n                return;\n            }\n            canvas.remove(cropzone);\n            canvas.selection = true;\n            canvas.defaultCursor = 'default';\n            canvas.off('mouse:down', this._listeners.mousedown);\n            canvas.forEachObject(function (obj) {\n                obj.evented = true;\n            });\n\n            this._cropzone = null;\n\n            _fabric2.default.util.removeListener(document, 'keydown', this._listeners.keydown);\n            _fabric2.default.util.removeListener(document, 'keyup', this._listeners.keyup);\n        }\n\n        /**\n         * Change cropzone visible\n         * @param {boolean} visible - cropzone visible state\n         */\n\n    }, {\n        key: 'changeVisibility',\n        value: function changeVisibility(visible) {\n            if (this._cropzone) {\n                this._cropzone.set({ visible: visible });\n            }\n        }\n\n        /**\n         * onMousedown handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var canvas = this.getCanvas();\n\n            if (fEvent.target) {\n                return;\n            }\n\n            canvas.selection = false;\n            var coord = canvas.getPointer(fEvent.e);\n\n            this._startX = coord.x;\n            this._startY = coord.y;\n\n            canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n\n        /**\n         * onMousemove handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var x = pointer.x,\n                y = pointer.y;\n\n            var cropzone = this._cropzone;\n\n            if (Math.abs(x - this._startX) + Math.abs(y - this._startY) > MOUSE_MOVE_THRESHOLD) {\n                canvas.remove(cropzone);\n                cropzone.set(this._calcRectDimensionFromPoint(x, y));\n\n                canvas.add(cropzone);\n                canvas.setActiveObject(cropzone);\n            }\n        }\n\n        /**\n         * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n         * @param {number} x - Canvas-Mouse-Position x\n         * @param {number} y - Canvas-Mouse-Position Y\n         * @returns {{left: number, top: number, width: number, height: number}}\n         * @private\n         */\n\n    }, {\n        key: '_calcRectDimensionFromPoint',\n        value: function _calcRectDimensionFromPoint(x, y) {\n            var canvas = this.getCanvas();\n            var canvasWidth = canvas.getWidth();\n            var canvasHeight = canvas.getHeight();\n            var startX = this._startX;\n            var startY = this._startY;\n            var left = (0, _util.clamp)(x, 0, startX);\n            var top = (0, _util.clamp)(y, 0, startY);\n            var width = (0, _util.clamp)(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n            var height = (0, _util.clamp)(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n            if (this._withShiftKey) {\n                // make fixed ratio cropzone\n                if (width > height) {\n                    height = width;\n                } else if (height > width) {\n                    width = height;\n                }\n\n                if (startX >= x) {\n                    left = startX - width;\n                }\n\n                if (startY >= y) {\n                    top = startY - height;\n                }\n            }\n\n            return {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * onMouseup handler in fabric canvas\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var cropzone = this._cropzone;\n            var listeners = this._listeners;\n            var canvas = this.getCanvas();\n\n            canvas.setActiveObject(cropzone);\n            canvas.off({\n                'mouse:move': listeners.mousemove,\n                'mouse:up': listeners.mouseup\n            });\n        }\n\n        /**\n         * Get cropped image data\n         * @param {Object} cropRect cropzone rect\n         *  @param {Number} cropRect.left left position\n         *  @param {Number} cropRect.top top position\n         *  @param {Number} cropRect.width width\n         *  @param {Number} cropRect.height height\n         * @returns {?{imageName: string, url: string}} cropped Image data\n         */\n\n    }, {\n        key: 'getCroppedImageData',\n        value: function getCroppedImageData(cropRect) {\n            var canvas = this.getCanvas();\n            var containsCropzone = canvas.contains(this._cropzone);\n            if (!cropRect) {\n                return null;\n            }\n\n            if (containsCropzone) {\n                canvas.remove(this._cropzone);\n            }\n\n            var imageData = {\n                imageName: this.getImageName(),\n                url: canvas.toDataURL(cropRect)\n            };\n\n            if (containsCropzone) {\n                canvas.add(this._cropzone);\n            }\n\n            return imageData;\n        }\n\n        /**\n         * Get cropped rect\n         * @returns {Object} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            var cropzone = this._cropzone;\n\n            if (!cropzone.isValid()) {\n                return null;\n            }\n\n            return {\n                left: cropzone.left,\n                top: cropzone.top,\n                width: cropzone.width,\n                height: cropzone.height\n            };\n        }\n\n        /**\n         * Set a cropzone square\n         * @param {number} [presetRatio] - preset ratio\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(presetRatio) {\n            var canvas = this.getCanvas();\n            var cropzone = this._cropzone;\n\n            canvas.discardActiveObject();\n            canvas.selection = false;\n            canvas.remove(cropzone);\n\n            cropzone.set(presetRatio ? this._getPresetPropertiesForCropSize(presetRatio) : DEFAULT_OPTION);\n\n            canvas.add(cropzone);\n            canvas.selection = true;\n\n            if (presetRatio) {\n                canvas.setActiveObject(cropzone);\n            }\n        }\n\n        /**\n         * get a cropzone square info\n         * @param {number} presetRatio - preset ratio\n         * @returns {{presetRatio: number, left: number, top: number, width: number, height: number}}\n         * @private\n         */\n\n    }, {\n        key: '_getPresetPropertiesForCropSize',\n        value: function _getPresetPropertiesForCropSize(presetRatio) {\n            var canvas = this.getCanvas();\n            var originalWidth = canvas.getWidth();\n            var originalHeight = canvas.getHeight();\n\n            var standardSize = originalWidth >= originalHeight ? originalWidth : originalHeight;\n            var getScale = function getScale(value, orignalValue) {\n                return value > orignalValue ? orignalValue / value : 1;\n            };\n\n            var width = standardSize * presetRatio;\n            var height = standardSize;\n\n            var scaleWidth = getScale(width, originalWidth);\n\n            var _snippet$map = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return sizeValue * scaleWidth;\n            });\n\n            width = _snippet$map[0];\n            height = _snippet$map[1];\n\n\n            var scaleHeight = getScale(height, originalHeight);\n\n            var _snippet$map2 = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return (0, _util.fixFloatingPoint)(sizeValue * scaleHeight);\n            });\n\n            width = _snippet$map2[0];\n            height = _snippet$map2[1];\n\n\n            return {\n                presetRatio: presetRatio,\n                top: (originalHeight - height) / 2,\n                left: (originalWidth - width) / 2,\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * Keydown event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = true;\n            }\n        }\n\n        /**\n         * Keyup event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyUp',\n        value: function _onKeyUp(e) {\n            if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = false;\n            }\n        }\n    }]);\n\n    return Cropper;\n}(_component2.default);\n\nmodule.exports = Cropper;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/cropper.js?")},"./src/js/component/filter.js":function srcJsComponentFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _mask = __webpack_require__(/*! ../extension/mask */ "./src/js/extension/mask.js");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _blur = __webpack_require__(/*! ../extension/blur */ "./src/js/extension/blur.js");\n\nvar _blur2 = _interopRequireDefault(_blur);\n\nvar _sharpen = __webpack_require__(/*! ../extension/sharpen */ "./src/js/extension/sharpen.js");\n\nvar _sharpen2 = _interopRequireDefault(_sharpen);\n\nvar _emboss = __webpack_require__(/*! ../extension/emboss */ "./src/js/extension/emboss.js");\n\nvar _emboss2 = _interopRequireDefault(_emboss);\n\nvar _colorFilter = __webpack_require__(/*! ../extension/colorFilter */ "./src/js/extension/colorFilter.js");\n\nvar _colorFilter2 = _interopRequireDefault(_colorFilter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Add filter module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar rejectMessages = _consts2.default.rejectMessages;\nvar filters = _fabric2.default.Image.filters;\n\nfilters.Mask = _mask2.default;\nfilters.Blur = _blur2.default;\nfilters.Sharpen = _sharpen2.default;\nfilters.Emboss = _emboss2.default;\nfilters.ColorFilter = _colorFilter2.default;\n\n/**\n * Filter\n * @class Filter\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Filter = function (_Component) {\n    _inherits(Filter, _Component);\n\n    function Filter(graphics) {\n        _classCallCheck(this, Filter);\n\n        return _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, _consts2.default.componentNames.FILTER, graphics));\n    }\n\n    /**\n     * Add filter to source image (a specific filter is added on fabric.js)\n     * @param {string} type - Filter type\n     * @param {Object} [options] - Options of filter\n     * @returns {Promise}\n     */\n\n\n    _createClass(Filter, [{\n        key: \'add\',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var sourceImg = _this2._getSourceImage();\n                var canvas = _this2.getCanvas();\n                var imgFilter = _this2._getFilter(sourceImg, type);\n                if (!imgFilter) {\n                    imgFilter = _this2._createFilter(sourceImg, type, options);\n                }\n\n                if (!imgFilter) {\n                    reject(rejectMessages.invalidParameters);\n                }\n\n                _this2._changeFilterValues(imgFilter, options);\n\n                _this2._apply(sourceImg, function () {\n                    canvas.renderAll();\n                    resolve({\n                        type: type,\n                        action: \'add\',\n                        options: options\n                    });\n                });\n            });\n        }\n\n        /**\n         * Remove filter to source image\n         * @param {string} type - Filter type\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'remove\',\n        value: function remove(type) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var sourceImg = _this3._getSourceImage();\n                var canvas = _this3.getCanvas();\n                var options = _this3.getOptions(type);\n\n                if (!sourceImg.filters.length) {\n                    reject(rejectMessages.unsupportedOperation);\n                }\n\n                _this3._removeFilter(sourceImg, type);\n\n                _this3._apply(sourceImg, function () {\n                    canvas.renderAll();\n                    resolve({\n                        type: type,\n                        action: \'remove\',\n                        options: options\n                    });\n                });\n            });\n        }\n\n        /**\n         * Whether this has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: \'hasFilter\',\n        value: function hasFilter(type) {\n            return !!this._getFilter(this._getSourceImage(), type);\n        }\n\n        /**\n         * Get a filter options\n         * @param {string} type - Filter type\n         * @returns {Object} filter options or null if there is no that filter\n         */\n\n    }, {\n        key: \'getOptions\',\n        value: function getOptions(type) {\n            var sourceImg = this._getSourceImage();\n            var imgFilter = this._getFilter(sourceImg, type);\n            if (!imgFilter) {\n                return null;\n            }\n\n            return (0, _tuiCodeSnippet.extend)({}, imgFilter.options);\n        }\n\n        /**\n         * Change filter values\n         * @param {Object} imgFilter object of filter\n         * @param {Object} options object\n         * @private\n         */\n\n    }, {\n        key: \'_changeFilterValues\',\n        value: function _changeFilterValues(imgFilter, options) {\n            (0, _tuiCodeSnippet.forEach)(options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(imgFilter[key])) {\n                    imgFilter[key] = value;\n                }\n            });\n            (0, _tuiCodeSnippet.forEach)(imgFilter.options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(options[key])) {\n                    imgFilter.options[key] = options[key];\n                }\n            });\n        }\n\n        /**\n         * Apply filter\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {function} callback - Executed function after applying filter\n         * @private\n         */\n\n    }, {\n        key: \'_apply\',\n        value: function _apply(sourceImg, callback) {\n            sourceImg.filters.push();\n            var result = sourceImg.applyFilters();\n            if (result) {\n                callback();\n            }\n        }\n\n        /**\n         * Get source image on canvas\n         * @returns {fabric.Image} Current source image on canvas\n         * @private\n         */\n\n    }, {\n        key: \'_getSourceImage\',\n        value: function _getSourceImage() {\n            return this.getCanvasImage();\n        }\n\n        /**\n         * Create filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @param {Object} [options] - Options of filter\n         * @returns {Object} Fabric object of filter\n         * @private\n         */\n\n    }, {\n        key: \'_createFilter\',\n        value: function _createFilter(sourceImg, type, options) {\n            var filterObj = void 0;\n            // capitalize first letter for matching with fabric image filter name\n            var fabricType = this._getFabricFilterType(type);\n            var ImageFilter = _fabric2.default.Image.filters[fabricType];\n            if (ImageFilter) {\n                filterObj = new ImageFilter(options);\n                filterObj.options = options;\n                sourceImg.filters.push(filterObj);\n            }\n\n            return filterObj;\n        }\n\n        /**\n         * Get applied filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @returns {Object} Fabric object of filter\n         * @private\n         */\n\n    }, {\n        key: \'_getFilter\',\n        value: function _getFilter(sourceImg, type) {\n            var imgFilter = null;\n\n            if (sourceImg) {\n                var fabricType = this._getFabricFilterType(type);\n                var length = sourceImg.filters.length;\n\n                var item = void 0,\n                    i = void 0;\n\n                for (i = 0; i < length; i += 1) {\n                    item = sourceImg.filters[i];\n                    if (item.type === fabricType) {\n                        imgFilter = item;\n                        break;\n                    }\n                }\n            }\n\n            return imgFilter;\n        }\n\n        /**\n         * Remove applied filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @private\n         */\n\n    }, {\n        key: \'_removeFilter\',\n        value: function _removeFilter(sourceImg, type) {\n            var fabricType = this._getFabricFilterType(type);\n            sourceImg.filters = (0, _tuiCodeSnippet.filter)(sourceImg.filters, function (value) {\n                return value.type !== fabricType;\n            });\n        }\n\n        /**\n         * Change filter class name to fabric\'s, especially capitalizing first letter\n         * @param {string} type - Filter type\n         * @example\n         * \'grayscale\' -> \'Grayscale\'\n         * @returns {string} Fabric filter class name\n         */\n\n    }, {\n        key: \'_getFabricFilterType\',\n        value: function _getFabricFilterType(type) {\n            return type.charAt(0).toUpperCase() + type.slice(1);\n        }\n    }]);\n\n    return Filter;\n}(_component2.default);\n\nmodule.exports = Filter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/filter.js?')},"./src/js/component/flip.js":function srcJsComponentFlipJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image flip module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\n/**\n * Flip\n * @class Flip\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Flip = function (_Component) {\n    _inherits(Flip, _Component);\n\n    function Flip(graphics) {\n        _classCallCheck(this, Flip);\n\n        return _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, componentNames.FLIP, graphics));\n    }\n\n    /**\n     * Get current flip settings\n     * @returns {{flipX: Boolean, flipY: Boolean}}\n     */\n\n\n    _createClass(Flip, [{\n        key: \'getCurrentSetting\',\n        value: function getCurrentSetting() {\n            var canvasImage = this.getCanvasImage();\n\n            return {\n                flipX: canvasImage.flipX,\n                flipY: canvasImage.flipY\n            };\n        }\n\n        /**\n         * Set flipX, flipY\n         * @param {{flipX: Boolean, flipY: Boolean}} newSetting - Flip setting\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'set\',\n        value: function set(newSetting) {\n            var setting = this.getCurrentSetting();\n            var isChangingFlipX = setting.flipX !== newSetting.flipX;\n            var isChangingFlipY = setting.flipY !== newSetting.flipY;\n\n            if (!isChangingFlipX && !isChangingFlipY) {\n                return _promise2.default.reject(rejectMessages.flip);\n            }\n\n            _tuiCodeSnippet2.default.extend(setting, newSetting);\n            this.setImageProperties(setting, true);\n            this._invertAngle(isChangingFlipX, isChangingFlipY);\n            this._flipObjects(isChangingFlipX, isChangingFlipY);\n\n            return _promise2.default.resolve({\n                flipX: setting.flipX,\n                flipY: setting.flipY,\n                angle: this.getCanvasImage().angle\n            });\n        }\n\n        /**\n         * Invert image angle for flip\n         * @param {boolean} isChangingFlipX - Change flipX\n         * @param {boolean} isChangingFlipY - Change flipY\n         */\n\n    }, {\n        key: \'_invertAngle\',\n        value: function _invertAngle(isChangingFlipX, isChangingFlipY) {\n            var canvasImage = this.getCanvasImage();\n            var angle = canvasImage.angle;\n\n\n            if (isChangingFlipX) {\n                angle *= -1;\n            }\n            if (isChangingFlipY) {\n                angle *= -1;\n            }\n            canvasImage.rotate(parseFloat(angle)).setCoords(); // parseFloat for -0 to 0\n        }\n\n        /**\n         * Flip objects\n         * @param {boolean} isChangingFlipX - Change flipX\n         * @param {boolean} isChangingFlipY - Change flipY\n         * @private\n         */\n\n    }, {\n        key: \'_flipObjects\',\n        value: function _flipObjects(isChangingFlipX, isChangingFlipY) {\n            var canvas = this.getCanvas();\n\n            if (isChangingFlipX) {\n                canvas.forEachObject(function (obj) {\n                    obj.set({\n                        angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n                        flipX: !obj.flipX,\n                        left: canvas.width - obj.left\n                    }).setCoords();\n                });\n            }\n            if (isChangingFlipY) {\n                canvas.forEachObject(function (obj) {\n                    obj.set({\n                        angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n                        flipY: !obj.flipY,\n                        top: canvas.height - obj.top\n                    }).setCoords();\n                });\n            }\n            canvas.renderAll();\n        }\n\n        /**\n         * Reset flip settings\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'reset\',\n        value: function reset() {\n            return this.set({\n                flipX: false,\n                flipY: false\n            });\n        }\n\n        /**\n         * Flip x\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'flipX\',\n        value: function flipX() {\n            var current = this.getCurrentSetting();\n\n            return this.set({\n                flipX: !current.flipX,\n                flipY: current.flipY\n            });\n        }\n\n        /**\n         * Flip y\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'flipY\',\n        value: function flipY() {\n            var current = this.getCurrentSetting();\n\n            return this.set({\n                flipX: current.flipX,\n                flipY: !current.flipY\n            });\n        }\n    }]);\n\n    return Flip;\n}(_component2.default);\n\nmodule.exports = Flip;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/flip.js?')},"./src/js/component/freeDrawing.js":function srcJsComponentFreeDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Free drawing module, Set brush\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\n/**\n * FreeDrawing\n * @class FreeDrawing\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nvar FreeDrawing = function (_Component) {\n  _inherits(FreeDrawing, _Component);\n\n  function FreeDrawing(graphics) {\n    _classCallCheck(this, FreeDrawing);\n\n    /**\n     * Brush width\n     * @type {number}\n     */\n    var _this = _possibleConstructorReturn(this, (FreeDrawing.__proto__ || Object.getPrototypeOf(FreeDrawing)).call(this, _consts2.default.componentNames.FREE_DRAWING, graphics));\n\n    _this.width = 12;\n\n    /**\n     * fabric.Color instance for brush color\n     * @type {fabric.Color}\n     */\n    _this.oColor = new _fabric2.default.Color(\'rgba(0, 0, 0, 0.5)\');\n    return _this;\n  }\n\n  /**\n   * Start free drawing mode\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n\n\n  _createClass(FreeDrawing, [{\n    key: \'start\',\n    value: function start(setting) {\n      var canvas = this.getCanvas();\n\n      canvas.isDrawingMode = true;\n      this.setBrush(setting);\n    }\n\n    /**\n     * Set brush\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n\n  }, {\n    key: \'setBrush\',\n    value: function setBrush(setting) {\n      var brush = this.getCanvas().freeDrawingBrush;\n\n      setting = setting || {};\n      this.width = setting.width || this.width;\n      if (setting.color) {\n        this.oColor = new _fabric2.default.Color(setting.color);\n      }\n      brush.width = this.width;\n      brush.color = this.oColor.toRgba();\n    }\n\n    /**\n     * End free drawing mode\n     */\n\n  }, {\n    key: \'end\',\n    value: function end() {\n      var canvas = this.getCanvas();\n\n      canvas.isDrawingMode = false;\n    }\n  }]);\n\n  return FreeDrawing;\n}(_component2.default);\n\nmodule.exports = FreeDrawing;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/freeDrawing.js?')},"./src/js/component/icon.js":function srcJsComponentIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Add icon module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar events = _consts2.default.eventNames;\nvar rejectMessages = _consts2.default.rejectMessages;\n\n\nvar pathMap = {\n    arrow: 'M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z',\n    cancel: 'M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 ' + 'L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z'\n};\n\n/**\n * Icon\n * @class Icon\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Icon = function (_Component) {\n    _inherits(Icon, _Component);\n\n    function Icon(graphics) {\n        _classCallCheck(this, Icon);\n\n        /**\n         * Default icon color\n         * @type {string}\n         */\n        var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, _consts2.default.componentNames.ICON, graphics));\n\n        _this._oColor = '#000000';\n\n        /**\n         * Path value of each icon type\n         * @type {Object}\n         */\n        _this._pathMap = pathMap;\n\n        /**\n         * Option to add icon to drag.\n         * @type {boolean}\n         */\n        _this.useDragAddIcon = graphics.useDragAddIcon;\n        return _this;\n    }\n\n    /**\n     * Add icon\n     * @param {string} type - Icon type\n     * @param {Object} options - Icon options\n     *      @param {string} [options.fill] - Icon foreground color\n     *      @param {string} [options.left] - Icon x position\n     *      @param {string} [options.top] - Icon y position\n     * @returns {Promise}\n     */\n\n\n    _createClass(Icon, [{\n        key: 'add',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var canvas = _this2.getCanvas();\n                var path = _this2._pathMap[type];\n                var selectionStyle = _consts2.default.fObjectOptions.SELECTION_STYLE;\n                var registerdIcon = Object.keys(_consts2.default.defaultIconPath).indexOf(type) >= 0;\n                var useDragAddIcon = _this2.useDragAddIcon && registerdIcon;\n                var icon = path ? _this2._createIcon(path) : null;\n\n                if (!icon) {\n                    reject(rejectMessages.invalidParameters);\n                }\n\n                icon.set(_tuiCodeSnippet2.default.extend({\n                    type: 'icon',\n                    fill: _this2._oColor\n                }, selectionStyle, options, _this2.graphics.controlStyle));\n\n                canvas.add(icon).setActiveObject(icon);\n\n                if (useDragAddIcon) {\n                    _this2._addWithDragEvent(canvas);\n                }\n\n                resolve(_this2.graphics.createObjectProperties(icon));\n            });\n        }\n\n        /**\n         * Added icon drag event\n         * @param {fabric.Canvas} canvas - Canvas instance\n         * @private\n         */\n\n    }, {\n        key: '_addWithDragEvent',\n        value: function _addWithDragEvent(canvas) {\n            var _this3 = this;\n\n            canvas.on({\n                'mouse:move': function mouseMove(fEvent) {\n                    canvas.selection = false;\n\n                    _this3.fire(events.ICON_CREATE_RESIZE, {\n                        moveOriginPointer: canvas.getPointer(fEvent.e)\n                    });\n                },\n                'mouse:up': function mouseUp(fEvent) {\n                    _this3.fire(events.ICON_CREATE_END, {\n                        moveOriginPointer: canvas.getPointer(fEvent.e)\n                    });\n\n                    canvas.defaultCursor = 'default';\n                    canvas.off('mouse:up');\n                    canvas.off('mouse:move');\n                    canvas.selection = true;\n                }\n            });\n        }\n\n        /**\n         * Register icon paths\n         * @param {{key: string, value: string}} pathInfos - Path infos\n         */\n\n    }, {\n        key: 'registerPaths',\n        value: function registerPaths(pathInfos) {\n            var _this4 = this;\n\n            _tuiCodeSnippet2.default.forEach(pathInfos, function (path, type) {\n                _this4._pathMap[type] = path;\n            }, this);\n        }\n\n        /**\n         * Set icon object color\n         * @param {string} color - Color to set\n         * @param {fabric.Path}[obj] - Current activated path object\n         */\n\n    }, {\n        key: 'setColor',\n        value: function setColor(color, obj) {\n            this._oColor = color;\n\n            if (obj && obj.get('type') === 'icon') {\n                obj.set({ fill: this._oColor });\n                this.getCanvas().renderAll();\n            }\n        }\n\n        /**\n         * Get icon color\n         * @param {fabric.Path}[obj] - Current activated path object\n         * @returns {string} color\n         */\n\n    }, {\n        key: 'getColor',\n        value: function getColor(obj) {\n            return obj.fill;\n        }\n\n        /**\n         * Create icon object\n         * @param {string} path - Path value to create icon\n         * @returns {fabric.Path} Path object\n         */\n\n    }, {\n        key: '_createIcon',\n        value: function _createIcon(path) {\n            return new _fabric2.default.Path(path);\n        }\n    }]);\n\n    return Icon;\n}(_component2.default);\n\nmodule.exports = Icon;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/icon.js?")},"./src/js/component/imageLoader.js":function srcJsComponentImageLoaderJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image loader\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\nvar imageOption = {\n    padding: 0,\n    crossOrigin: \'Anonymous\'\n};\n\n/**\n * ImageLoader components\n * @extends {Component}\n * @class ImageLoader\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\n\nvar ImageLoader = function (_Component) {\n    _inherits(ImageLoader, _Component);\n\n    function ImageLoader(graphics) {\n        _classCallCheck(this, ImageLoader);\n\n        return _possibleConstructorReturn(this, (ImageLoader.__proto__ || Object.getPrototypeOf(ImageLoader)).call(this, componentNames.IMAGE_LOADER, graphics));\n    }\n\n    /**\n     * Load image from url\n     * @param {?string} imageName - File name\n     * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n     * @returns {Promise}\n     */\n\n\n    _createClass(ImageLoader, [{\n        key: \'load\',\n        value: function load(imageName, img) {\n            var _this2 = this;\n\n            var promise = void 0;\n\n            if (!imageName && !img) {\n                // Back to the initial state, not error.\n                var canvas = this.getCanvas();\n\n                canvas.backgroundImage = null;\n                canvas.renderAll();\n\n                promise = new _promise2.default(function (resolve) {\n                    _this2.setCanvasImage(\'\', null);\n                    resolve();\n                });\n            } else {\n                promise = this._setBackgroundImage(img).then(function (oImage) {\n                    _this2.setCanvasImage(imageName, oImage);\n                    _this2.adjustCanvasDimension();\n\n                    return oImage;\n                });\n            }\n\n            return promise;\n        }\n\n        /**\n         * Set background image\n         * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: \'_setBackgroundImage\',\n        value: function _setBackgroundImage(img) {\n            var _this3 = this;\n\n            if (!img) {\n                return _promise2.default.reject(rejectMessages.loadImage);\n            }\n\n            return new _promise2.default(function (resolve, reject) {\n                var canvas = _this3.getCanvas();\n\n                canvas.setBackgroundImage(img, function () {\n                    var oImage = canvas.backgroundImage;\n\n                    if (oImage && oImage.getElement()) {\n                        resolve(oImage);\n                    } else {\n                        reject(rejectMessages.loadingImageFailed);\n                    }\n                }, imageOption);\n            });\n        }\n    }]);\n\n    return ImageLoader;\n}(_component2.default);\n\nmodule.exports = ImageLoader;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/imageLoader.js?')},"./src/js/component/line.js":function srcJsComponentLineJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Free drawing module, Set brush\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar eventNames = _consts2.default.eventNames;\n\n/**\n * Line\n * @class Line\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Line = function (_Component) {\n    _inherits(Line, _Component);\n\n    function Line(graphics) {\n        _classCallCheck(this, Line);\n\n        /**\n         * Brush width\n         * @type {number}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Line.__proto__ || Object.getPrototypeOf(Line)).call(this, _consts2.default.componentNames.LINE, graphics));\n\n        _this._width = 12;\n\n        /**\n         * fabric.Color instance for brush color\n         * @type {fabric.Color}\n         * @private\n         */\n        _this._oColor = new _fabric2.default.Color('rgba(0, 0, 0, 0.5)');\n\n        /**\n         * Listeners\n         * @type {object.<string, function>}\n         * @private\n         */\n        _this._listeners = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start drawing line mode\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n\n\n    _createClass(Line, [{\n        key: 'start',\n        value: function start(setting) {\n            var canvas = this.getCanvas();\n\n            canvas.defaultCursor = 'crosshair';\n            canvas.selection = false;\n\n            this.setBrush(setting);\n\n            canvas.forEachObject(function (obj) {\n                obj.set({\n                    evented: false\n                });\n            });\n\n            canvas.on({\n                'mouse:down': this._listeners.mousedown\n            });\n        }\n\n        /**\n         * Set brush\n         * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(setting) {\n            var brush = this.getCanvas().freeDrawingBrush;\n\n            setting = setting || {};\n            this._width = setting.width || this._width;\n\n            if (setting.color) {\n                this._oColor = new _fabric2.default.Color(setting.color);\n            }\n            brush.width = this._width;\n            brush.color = this._oColor.toRgba();\n        }\n\n        /**\n         * End drawing line mode\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            canvas.defaultCursor = 'default';\n            canvas.selection = true;\n\n            canvas.forEachObject(function (obj) {\n                obj.set({\n                    evented: true\n                });\n            });\n\n            canvas.off('mouse:down', this._listeners.mousedown);\n        }\n\n        /**\n         * Mousedown event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var points = [pointer.x, pointer.y, pointer.x, pointer.y];\n\n            this._line = new _fabric2.default.Line(points, {\n                stroke: this._oColor.toRgba(),\n                strokeWidth: this._width,\n                evented: false\n            });\n\n            this._line.set(_consts2.default.fObjectOptions.SELECTION_STYLE);\n\n            canvas.add(this._line);\n\n            canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n\n        /**\n         * Mousemove event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n\n            this._line.set({\n                x2: pointer.x,\n                y2: pointer.y\n            });\n\n            this._line.setCoords();\n\n            canvas.renderAll();\n        }\n\n        /**\n         * Mouseup event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var canvas = this.getCanvas();\n            var params = this.graphics.createObjectProperties(this._line);\n\n            this.fire(eventNames.ADD_OBJECT, params);\n\n            this._line = null;\n\n            canvas.off({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n    }]);\n\n    return Line;\n}(_component2.default);\n\nmodule.exports = Line;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/line.js?")},"./src/js/component/rotation.js":function srcJsComponentRotationJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image rotation module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames;\n\n/**\n * Image Rotation component\n * @class Rotation\n * @extends {Component}\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\n\nvar Rotation = function (_Component) {\n    _inherits(Rotation, _Component);\n\n    function Rotation(graphics) {\n        _classCallCheck(this, Rotation);\n\n        return _possibleConstructorReturn(this, (Rotation.__proto__ || Object.getPrototypeOf(Rotation)).call(this, componentNames.ROTATION, graphics));\n    }\n\n    /**\n     * Get current angle\n     * @returns {Number}\n     */\n\n\n    _createClass(Rotation, [{\n        key: \'getCurrentAngle\',\n        value: function getCurrentAngle() {\n            return this.getCanvasImage().angle;\n        }\n\n        /**\n         * Set angle of the image\n         *\n         *  Do not call "this.setImageProperties" for setting angle directly.\n         *  Before setting angle, The originX,Y of image should be set to center.\n         *      See "http://fabricjs.com/docs/fabric.Object.html#setAngle"\n         *\n         * @param {number} angle - Angle value\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'setAngle\',\n        value: function setAngle(angle) {\n            var oldAngle = this.getCurrentAngle() % 360; // The angle is lower than 2*PI(===360 degrees)\n\n            angle %= 360;\n\n            var canvasImage = this.getCanvasImage();\n            var oldImageCenter = canvasImage.getCenterPoint();\n            canvasImage.set({ angle: angle }).setCoords();\n            this.adjustCanvasDimension();\n            var newImageCenter = canvasImage.getCenterPoint();\n            this._rotateForEachObject(oldImageCenter, newImageCenter, angle - oldAngle);\n\n            return _promise2.default.resolve(angle);\n        }\n\n        /**\n         * Rotate for each object\n         * @param {fabric.Point} oldImageCenter - Image center point before rotation\n         * @param {fabric.Point} newImageCenter - Image center point after rotation\n         * @param {number} angleDiff - Image angle difference after rotation\n         * @private\n         */\n\n    }, {\n        key: \'_rotateForEachObject\',\n        value: function _rotateForEachObject(oldImageCenter, newImageCenter, angleDiff) {\n            var canvas = this.getCanvas();\n            var centerDiff = {\n                x: oldImageCenter.x - newImageCenter.x,\n                y: oldImageCenter.y - newImageCenter.y\n            };\n\n            canvas.forEachObject(function (obj) {\n                var objCenter = obj.getCenterPoint();\n                var radian = _fabric2.default.util.degreesToRadians(angleDiff);\n                var newObjCenter = _fabric2.default.util.rotatePoint(objCenter, oldImageCenter, radian);\n\n                obj.set({\n                    left: newObjCenter.x - centerDiff.x,\n                    top: newObjCenter.y - centerDiff.y,\n                    angle: (obj.angle + angleDiff) % 360\n                });\n                obj.setCoords();\n            });\n            canvas.renderAll();\n        }\n\n        /**\n         * Rotate the image\n         * @param {number} additionalAngle - Additional angle\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'rotate\',\n        value: function rotate(additionalAngle) {\n            var current = this.getCurrentAngle();\n\n            return this.setAngle(current + additionalAngle);\n        }\n    }]);\n\n    return Rotation;\n}(_component2.default);\n\nmodule.exports = Rotation;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/rotation.js?')},"./src/js/component/shape.js":function srcJsComponentShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _shapeResizeHelper = __webpack_require__(/*! ../helper/shapeResizeHelper */ \"./src/js/helper/shapeResizeHelper.js\");\n\nvar _shapeResizeHelper2 = _interopRequireDefault(_shapeResizeHelper);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Shape component\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar rejectMessages = _consts2.default.rejectMessages,\n    eventNames = _consts2.default.eventNames,\n    SHAPE_DEFAULT_OPTIONS = _consts2.default.SHAPE_DEFAULT_OPTIONS;\n\nvar KEY_CODES = _consts2.default.keyCodes;\nvar SHAPE_INIT_OPTIONS = (0, _tuiCodeSnippet.extend)({\n    strokeWidth: 1,\n    stroke: '#000000',\n    fill: '#ffffff',\n    width: 1,\n    height: 1,\n    rx: 0,\n    ry: 0\n}, SHAPE_DEFAULT_OPTIONS);\nvar DEFAULT_TYPE = 'rect';\nvar DEFAULT_WIDTH = 20;\nvar DEFAULT_HEIGHT = 20;\n\nvar shapeType = ['rect', 'circle', 'triangle'];\n\n/**\n * Shape\n * @class Shape\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Shape = function (_Component) {\n    _inherits(Shape, _Component);\n\n    function Shape(graphics) {\n        _classCallCheck(this, Shape);\n\n        /**\n         * Object of The drawing shape\n         * @type {fabric.Object}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, _consts2.default.componentNames.SHAPE, graphics));\n\n        _this._shapeObj = null;\n\n        /**\n         * Type of the drawing shape\n         * @type {string}\n         * @private\n         */\n        _this._type = DEFAULT_TYPE;\n\n        /**\n         * Options to draw the shape\n         * @type {Object}\n         * @private\n         */\n        _this._options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS);\n\n        /**\n         * Whether the shape object is selected or not\n         * @type {boolean}\n         * @private\n         */\n        _this._isSelected = false;\n\n        /**\n         * Pointer for drawing shape (x, y)\n         * @type {Object}\n         * @private\n         */\n        _this._startPoint = {};\n\n        /**\n         * Using shortcut on drawing shape\n         * @type {boolean}\n         * @private\n         */\n        _this._withShiftKey = false;\n\n        /**\n         * Event handler list\n         * @type {Object}\n         * @private\n         */\n        _this._handlers = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this),\n            keydown: _this._onKeyDown.bind(_this),\n            keyup: _this._onKeyUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start to draw the shape on canvas\n     * @ignore\n     */\n\n\n    _createClass(Shape, [{\n        key: 'start',\n        value: function start() {\n            var canvas = this.getCanvas();\n\n            this._isSelected = false;\n\n            canvas.defaultCursor = 'crosshair';\n            canvas.selection = false;\n            canvas.uniScaleTransform = true;\n            canvas.on({\n                'mouse:down': this._handlers.mousedown\n            });\n\n            _fabric2.default.util.addListener(document, 'keydown', this._handlers.keydown);\n            _fabric2.default.util.addListener(document, 'keyup', this._handlers.keyup);\n        }\n\n        /**\n         * End to draw the shape on canvas\n         * @ignore\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            this._isSelected = false;\n\n            canvas.defaultCursor = 'default';\n\n            canvas.selection = true;\n            canvas.uniScaleTransform = false;\n            canvas.off({\n                'mouse:down': this._handlers.mousedown\n            });\n\n            _fabric2.default.util.removeListener(document, 'keydown', this._handlers.keydown);\n            _fabric2.default.util.removeListener(document, 'keyup', this._handlers.keyup);\n        }\n\n        /**\n         * Set states of the current drawing shape\n         * @ignore\n         * @param {string} type - Shape type (ex: 'rect', 'circle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         */\n\n    }, {\n        key: 'setStates',\n        value: function setStates(type, options) {\n            this._type = type;\n\n            if (options) {\n                this._options = (0, _tuiCodeSnippet.extend)(this._options, options);\n            }\n        }\n\n        /**\n         * Add the shape\n         * @ignore\n         * @param {string} type - Shape type (ex: 'rect', 'circle')\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'add',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve) {\n                var canvas = _this2.getCanvas();\n                options = _this2._extendOptions(options);\n\n                var shapeObj = _this2._createInstance(type, options);\n\n                _this2._bindEventOnShape(shapeObj);\n\n                canvas.add(shapeObj).setActiveObject(shapeObj);\n\n                var objectProperties = _this2.graphics.createObjectProperties(shapeObj);\n\n                resolve(objectProperties);\n            });\n        }\n\n        /**\n         * Change the shape\n         * @ignore\n         * @param {fabric.Object} shapeObj - Selected shape object on canvas\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'change',\n        value: function change(shapeObj, options) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                if ((0, _tuiCodeSnippet.inArray)(shapeObj.get('type'), shapeType) < 0) {\n                    reject(rejectMessages.unsupportedType);\n                }\n\n                shapeObj.set(options);\n                _this3.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Create the instance of shape\n         * @param {string} type - Shape type\n         * @param {Object} options - Options to creat the shape\n         * @returns {fabric.Object} Shape instance\n         * @private\n         */\n\n    }, {\n        key: '_createInstance',\n        value: function _createInstance(type, options) {\n            var instance = void 0;\n\n            switch (type) {\n                case 'rect':\n                    instance = new _fabric2.default.Rect(options);\n                    break;\n                case 'circle':\n                    instance = new _fabric2.default.Ellipse((0, _tuiCodeSnippet.extend)({\n                        type: 'circle'\n                    }, options));\n                    break;\n                case 'triangle':\n                    instance = new _fabric2.default.Triangle(options);\n                    break;\n                default:\n                    instance = {};\n            }\n\n            return instance;\n        }\n\n        /**\n         * Get the options to create the shape\n         * @param {Object} options - Options to creat the shape\n         * @returns {Object} Shape options\n         * @private\n         */\n\n    }, {\n        key: '_extendOptions',\n        value: function _extendOptions(options) {\n            var selectionStyles = _consts2.default.fObjectOptions.SELECTION_STYLE;\n\n            options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS, this._options, selectionStyles, options);\n\n            if (options.isRegular) {\n                options.lockUniScaling = true;\n            }\n\n            return options;\n        }\n\n        /**\n         * Bind fabric events on the creating shape object\n         * @param {fabric.Object} shapeObj - Shape object\n         * @private\n         */\n\n    }, {\n        key: '_bindEventOnShape',\n        value: function _bindEventOnShape(shapeObj) {\n            var self = this;\n            var canvas = this.getCanvas();\n\n            shapeObj.on({\n                added: function added() {\n                    self._shapeObj = this;\n                    _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                selected: function selected() {\n                    self._isSelected = true;\n                    self._shapeObj = this;\n                    canvas.uniScaleTransform = true;\n                    canvas.defaultCursor = 'default';\n                    _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                deselected: function deselected() {\n                    self._isSelected = false;\n                    self._shapeObj = null;\n                    canvas.defaultCursor = 'crosshair';\n                    canvas.uniScaleTransform = false;\n                },\n                modified: function modified() {\n                    var currentObj = self._shapeObj;\n\n                    _shapeResizeHelper2.default.adjustOriginToCenter(currentObj);\n                    _shapeResizeHelper2.default.setOrigins(currentObj);\n                },\n                scaling: function scaling(fEvent) {\n                    var pointer = canvas.getPointer(fEvent.e);\n                    var currentObj = self._shapeObj;\n\n                    canvas.setCursor('crosshair');\n                    _shapeResizeHelper2.default.resize(currentObj, pointer, true);\n                }\n            });\n        }\n\n        /**\n         * MouseDown event handler on canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            if (!fEvent.target) {\n                this._isSelected = false;\n                this._shapeObj = false;\n            }\n\n            if (!this._isSelected && !this._shapeObj) {\n                var canvas = this.getCanvas();\n                this._startPoint = canvas.getPointer(fEvent.e);\n\n                canvas.on({\n                    'mouse:move': this._handlers.mousemove,\n                    'mouse:up': this._handlers.mouseup\n                });\n            }\n        }\n\n        /**\n         * MouseDown event handler on canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var _this4 = this;\n\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var startPointX = this._startPoint.x;\n            var startPointY = this._startPoint.y;\n            var width = startPointX - pointer.x;\n            var height = startPointY - pointer.y;\n            var shape = this._shapeObj;\n\n            if (!shape) {\n                this.add(this._type, {\n                    left: startPointX,\n                    top: startPointY,\n                    width: width,\n                    height: height\n                }).then(function (objectProps) {\n                    _this4.fire(eventNames.ADD_OBJECT, objectProps);\n                });\n            } else {\n                this._shapeObj.set({\n                    isRegular: this._withShiftKey\n                });\n\n                _shapeResizeHelper2.default.resize(shape, pointer);\n                canvas.renderAll();\n            }\n        }\n\n        /**\n         * MouseUp event handler on canvas\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var _this5 = this;\n\n            var canvas = this.getCanvas();\n            var startPointX = this._startPoint.x;\n            var startPointY = this._startPoint.y;\n            var shape = this._shapeObj;\n\n            if (!shape) {\n                this.add(this._type, {\n                    left: startPointX,\n                    top: startPointY,\n                    width: DEFAULT_WIDTH,\n                    height: DEFAULT_HEIGHT\n                }).then(function (objectProps) {\n                    _this5.fire(eventNames.ADD_OBJECT, objectProps);\n                });\n            } else if (shape) {\n                _shapeResizeHelper2.default.adjustOriginToCenter(shape);\n                this.fire(eventNames.ADD_OBJECT_AFTER, this.graphics.createObjectProperties(shape));\n            }\n\n            canvas.off({\n                'mouse:move': this._handlers.mousemove,\n                'mouse:up': this._handlers.mouseup\n            });\n        }\n\n        /**\n         * Keydown event handler on document\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            if (e.keyCode === KEY_CODES.SHIFT) {\n                this._withShiftKey = true;\n\n                if (this._shapeObj) {\n                    this._shapeObj.isRegular = true;\n                }\n            }\n        }\n\n        /**\n         * Keyup event handler on document\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyUp',\n        value: function _onKeyUp(e) {\n            if (e.keyCode === KEY_CODES.SHIFT) {\n                this._withShiftKey = false;\n\n                if (this._shapeObj) {\n                    this._shapeObj.isRegular = false;\n                }\n            }\n        }\n    }]);\n\n    return Shape;\n}(_component2.default);\n\nmodule.exports = Shape;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/shape.js?")},"./src/js/component/text.js":function srcJsComponentTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Text module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar events = _consts2.default.eventNames;\n\nvar defaultStyles = {\n    fill: '#000000',\n    left: 0,\n    top: 0\n};\nvar resetStyles = {\n    fill: '#000000',\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    textAlign: 'left',\n    underline: false\n};\nvar browser = _tuiCodeSnippet2.default.browser;\n\n\nvar TEXTAREA_CLASSNAME = 'tui-image-eidtor-textarea';\nvar TEXTAREA_STYLES = _util2.default.makeStyleText({\n    position: 'absolute',\n    padding: 0,\n    display: 'none',\n    border: '1px dotted red',\n    overflow: 'hidden',\n    resize: 'none',\n    outline: 'none',\n    'border-radius': 0,\n    'background-color': 'transparent',\n    '-webkit-appearance': 'none',\n    'z-index': 9999,\n    'white-space': 'pre'\n});\nvar EXTRA_PIXEL_LINEHEIGHT = 0.1;\nvar DBCLICK_TIME = 500;\n\n/**\n * Text\n * @class Text\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Text = function (_Component) {\n    _inherits(Text, _Component);\n\n    function Text(graphics) {\n        _classCallCheck(this, Text);\n\n        /**\n         * Default text style\n         * @type {Object}\n         */\n        var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, _consts2.default.componentNames.TEXT, graphics));\n\n        _this._defaultStyles = defaultStyles;\n\n        /**\n         * Selected state\n         * @type {boolean}\n         */\n        _this._isSelected = false;\n\n        /**\n         * Selected text object\n         * @type {Object}\n         */\n        _this._selectedObj = {};\n\n        /**\n         * Editing text object\n         * @type {Object}\n         */\n        _this._editingObj = {};\n\n        /**\n         * Listeners for fabric event\n         * @type {Object}\n         */\n        _this._listeners = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            select: _this._onFabricSelect.bind(_this),\n            selectClear: _this._onFabricSelectClear.bind(_this),\n            scaling: _this._onFabricScaling.bind(_this)\n        };\n\n        /**\n         * Textarea element for editing\n         * @type {HTMLElement}\n         */\n        _this._textarea = null;\n\n        /**\n         * Ratio of current canvas\n         * @type {number}\n         */\n        _this._ratio = 1;\n\n        /**\n         * Last click time\n         * @type {Date}\n         */\n        _this._lastClickTime = new Date().getTime();\n\n        /**\n         * Text object infos before editing\n         * @type {Object}\n         */\n        _this._editingObjInfos = {};\n\n        /**\n         * Previous state of editing\n         * @type {boolean}\n         */\n        _this.isPrevEditing = false;\n\n        /**\n         * use itext\n         * @type {boolean}\n         */\n        _this.useItext = graphics.useItext;\n        return _this;\n    }\n\n    /**\n     * Start input text mode\n     */\n\n\n    _createClass(Text, [{\n        key: 'start',\n        value: function start() {\n            var canvas = this.getCanvas();\n\n            canvas.selection = false;\n            canvas.defaultCursor = 'text';\n            canvas.on({\n                'mouse:down': this._listeners.mousedown,\n                'object:selected': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:scaling': this._listeners.scaling,\n                'text:editing': this._listeners.modify\n            });\n\n            if (this.useItext) {\n                canvas.forEachObject(function (obj) {\n                    if (obj.type === 'i-text') {\n                        obj.set({\n                            left: obj.left - obj.width / 2,\n                            top: obj.top - obj.height / 2,\n                            originX: 'left',\n                            originY: 'top'\n                        });\n                    }\n                });\n            } else {\n                this._createTextarea();\n            }\n\n            this.setCanvasRatio();\n        }\n\n        /**\n         * End input text mode\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            canvas.selection = true;\n            canvas.defaultCursor = 'default';\n\n            if (this.useItext) {\n                canvas.forEachObject(function (obj) {\n                    if (obj.type === 'i-text') {\n                        if (obj.text === '') {\n                            canvas.remove(obj);\n                        } else {\n                            obj.set({\n                                left: obj.left + obj.width / 2,\n                                top: obj.top + obj.height / 2,\n                                originX: 'center',\n                                originY: 'center'\n                            });\n                        }\n                    }\n                });\n            } else {\n                canvas.discardActiveObject();\n                this._removeTextarea();\n            }\n\n            canvas.off({\n                'mouse:down': this._listeners.mousedown,\n                'object:selected': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:scaling': this._listeners.scaling,\n                'text:editing': this._listeners.modify\n            });\n        }\n\n        /**\n         * Add new text on canvas image\n         * @param {string} text - Initial input text\n         * @param {Object} options - Options for generating text\n         *     @param {Object} [options.styles] Initial styles\n         *         @param {string} [options.styles.fill] Color\n         *         @param {string} [options.styles.fontFamily] Font type for text\n         *         @param {number} [options.styles.fontSize] Size\n         *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n         *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n         *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n         *     @param {{x: number, y: number}} [options.position] - Initial position\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'add',\n        value: function add(text, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve) {\n                var canvas = _this2.getCanvas();\n                var newText = null;\n                var selectionStyle = _consts2.default.fObjectOptions.SELECTION_STYLE;\n                var styles = _this2._defaultStyles;\n\n                _this2._setInitPos(options.position);\n\n                if (options.styles) {\n                    styles = _tuiCodeSnippet2.default.extend(styles, options.styles);\n                }\n\n                if (_this2.useItext) {\n                    newText = new _fabric2.default.IText(text, styles);\n                    selectionStyle = _tuiCodeSnippet2.default.extend({}, selectionStyle, {\n                        originX: 'left',\n                        originY: 'top'\n                    });\n                } else {\n                    newText = new _fabric2.default.Text(text, styles);\n                }\n\n                newText.set(selectionStyle);\n                newText.on({\n                    mouseup: _this2._onFabricMouseUp.bind(_this2)\n                });\n\n                canvas.add(newText);\n\n                if (!canvas.getActiveObject()) {\n                    canvas.setActiveObject(newText);\n                }\n\n                _this2.isPrevEditing = true;\n                resolve(_this2.graphics.createObjectProperties(newText));\n            });\n        }\n\n        /**\n         * Change text of activate object on canvas image\n         * @param {Object} activeObj - Current selected text object\n         * @param {string} text - Changed text\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'change',\n        value: function change(activeObj, text) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve) {\n                activeObj.set('text', text);\n\n                _this3.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Set style\n         * @param {Object} activeObj - Current selected text object\n         * @param {Object} styleObj - Initial styles\n         *     @param {string} [styleObj.fill] Color\n         *     @param {string} [styleObj.fontFamily] Font type for text\n         *     @param {number} [styleObj.fontSize] Size\n         *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n         *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'setStyle',\n        value: function setStyle(activeObj, styleObj) {\n            var _this4 = this;\n\n            return new _promise2.default(function (resolve) {\n                _tuiCodeSnippet2.default.forEach(styleObj, function (val, key) {\n                    if (activeObj[key] === val && key !== 'fontSize') {\n                        styleObj[key] = resetStyles[key] || '';\n                    }\n                }, _this4);\n\n                if ('textDecoration' in styleObj) {\n                    _tuiCodeSnippet2.default.extend(styleObj, _this4._getTextDecorationAdaptObject(styleObj.textDecoration));\n                }\n\n                activeObj.set(styleObj);\n\n                _this4.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Get the text\n         * @param {Object} activeObj - Current selected text object\n         * @returns {String} text\n         */\n\n    }, {\n        key: 'getText',\n        value: function getText(activeObj) {\n            return activeObj.text;\n        }\n\n        /**\n         * Set infos of the current selected object\n         * @param {fabric.Text} obj - Current selected text object\n         * @param {boolean} state - State of selecting\n         */\n\n    }, {\n        key: 'setSelectedInfo',\n        value: function setSelectedInfo(obj, state) {\n            this._selectedObj = obj;\n            this._isSelected = state;\n        }\n\n        /**\n         * Whether object is selected or not\n         * @returns {boolean} State of selecting\n         */\n\n    }, {\n        key: 'isSelected',\n        value: function isSelected() {\n            return this._isSelected;\n        }\n\n        /**\n         * Get current selected text object\n         * @returns {fabric.Text} Current selected text object\n         */\n\n    }, {\n        key: 'getSelectedObj',\n        value: function getSelectedObj() {\n            return this._selectedObj;\n        }\n\n        /**\n         * Set ratio value of canvas\n         */\n\n    }, {\n        key: 'setCanvasRatio',\n        value: function setCanvasRatio() {\n            var canvasElement = this.getCanvasElement();\n            var cssWidth = parseInt(canvasElement.style.maxWidth, 10);\n            var originWidth = canvasElement.width;\n            var ratio = originWidth / cssWidth;\n\n            this._ratio = ratio;\n        }\n\n        /**\n         * Get ratio value of canvas\n         * @returns {number} Ratio value\n         */\n\n    }, {\n        key: 'getCanvasRatio',\n        value: function getCanvasRatio() {\n            return this._ratio;\n        }\n\n        /**\n         * Get text decoration adapt object\n         * @param {string} textDecoration - text decoration option string\n         * @returns {object} adapt object for override\n         */\n\n    }, {\n        key: '_getTextDecorationAdaptObject',\n        value: function _getTextDecorationAdaptObject(textDecoration) {\n            return {\n                underline: textDecoration === 'underline',\n                linetrought: textDecoration === 'line-through',\n                overline: textDecoration === 'overline'\n            };\n        }\n\n        /**\n         * Set initial position on canvas image\n         * @param {{x: number, y: number}} [position] - Selected position\n         * @private\n         */\n\n    }, {\n        key: '_setInitPos',\n        value: function _setInitPos(position) {\n            position = position || this.getCanvasImage().getCenterPoint();\n\n            this._defaultStyles.left = position.x;\n            this._defaultStyles.top = position.y;\n        }\n\n        /**\n         * Create textarea element on canvas container\n         * @private\n         */\n\n    }, {\n        key: '_createTextarea',\n        value: function _createTextarea() {\n            var container = this.getCanvasElement().parentNode;\n            var textarea = document.createElement('textarea');\n\n            textarea.className = TEXTAREA_CLASSNAME;\n            textarea.setAttribute('style', TEXTAREA_STYLES);\n            textarea.setAttribute('wrap', 'off');\n\n            container.appendChild(textarea);\n\n            this._textarea = textarea;\n\n            this._listeners = _tuiCodeSnippet2.default.extend(this._listeners, {\n                input: this._onInput.bind(this),\n                keydown: this._onKeyDown.bind(this),\n                blur: this._onBlur.bind(this),\n                scroll: this._onScroll.bind(this)\n            });\n\n            if (browser.msie && browser.version === 9) {\n                _fabric2.default.util.addListener(textarea, 'keydown', this._listeners.keydown);\n            } else {\n                _fabric2.default.util.addListener(textarea, 'input', this._listeners.input);\n            }\n            _fabric2.default.util.addListener(textarea, 'blur', this._listeners.blur);\n            _fabric2.default.util.addListener(textarea, 'scroll', this._listeners.scroll);\n        }\n\n        /**\n         * Remove textarea element on canvas container\n         * @private\n         */\n\n    }, {\n        key: '_removeTextarea',\n        value: function _removeTextarea() {\n            var container = this.getCanvasElement().parentNode;\n            var textarea = container.querySelector('textarea');\n\n            container.removeChild(textarea);\n\n            this._textarea = null;\n\n            if (browser.msie && browser.version < 10) {\n                _fabric2.default.util.removeListener(textarea, 'keydown', this._listeners.keydown);\n            } else {\n                _fabric2.default.util.removeListener(textarea, 'input', this._listeners.input);\n            }\n            _fabric2.default.util.removeListener(textarea, 'blur', this._listeners.blur);\n            _fabric2.default.util.removeListener(textarea, 'scroll', this._listeners.scroll);\n        }\n\n        /**\n         * Input event handler\n         * @private\n         */\n\n    }, {\n        key: '_onInput',\n        value: function _onInput() {\n            var ratio = this.getCanvasRatio();\n            var obj = this._editingObj;\n            var textareaStyle = this._textarea.style;\n\n            textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n            textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n        }\n\n        /**\n         * Keydown event handler\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown() {\n            var _this5 = this;\n\n            var ratio = this.getCanvasRatio();\n            var obj = this._editingObj;\n            var textareaStyle = this._textarea.style;\n\n            setTimeout(function () {\n                obj.text(_this5._textarea.value);\n\n                textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n                textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n            }, 0);\n        }\n\n        /**\n         * Blur event handler\n         * @private\n         */\n\n    }, {\n        key: '_onBlur',\n        value: function _onBlur() {\n            var ratio = this.getCanvasRatio();\n            var editingObj = this._editingObj;\n            var editingObjInfos = this._editingObjInfos;\n            var textContent = this._textarea.value;\n            var transWidth = editingObj.width / ratio - editingObjInfos.width / ratio;\n            var transHeight = editingObj.height / ratio - editingObjInfos.height / ratio;\n\n            if (ratio === 1) {\n                transWidth /= 2;\n                transHeight /= 2;\n            }\n\n            this._textarea.style.display = 'none';\n\n            editingObj.set({\n                left: editingObjInfos.left + transWidth,\n                top: editingObjInfos.top + transHeight\n            });\n\n            if (textContent.length) {\n                this.getCanvas().add(editingObj);\n\n                var params = {\n                    id: _tuiCodeSnippet2.default.stamp(editingObj),\n                    type: editingObj.type,\n                    text: textContent\n                };\n\n                this.fire(events.TEXT_CHANGED, params);\n            }\n        }\n\n        /**\n         * Scroll event handler\n         * @private\n         */\n\n    }, {\n        key: '_onScroll',\n        value: function _onScroll() {\n            this._textarea.scrollLeft = 0;\n            this._textarea.scrollTop = 0;\n        }\n\n        /**\n         * Fabric scaling event handler\n         * @param {fabric.Event} fEvent - Current scaling event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricScaling',\n        value: function _onFabricScaling(fEvent) {\n            var obj = fEvent.target;\n            var scalingSize = obj.fontSize * obj.scaleY;\n\n            obj.fontSize = scalingSize;\n            obj.scaleX = 1;\n            obj.scaleY = 1;\n        }\n\n        /**\n         * onSelectClear handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricSelectClear',\n        value: function _onFabricSelectClear(fEvent) {\n            var obj = this.getSelectedObj();\n\n            this.isPrevEditing = true;\n\n            this.setSelectedInfo(fEvent.target, false);\n\n            if (obj) {\n                // obj is empty object at initial time, will be set fabric object\n                if (obj.text === '') {\n                    this.getCanvas().remove(obj);\n                }\n            }\n        }\n\n        /**\n         * onSelect handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricSelect',\n        value: function _onFabricSelect(fEvent) {\n            this.isPrevEditing = true;\n\n            this.setSelectedInfo(fEvent.target, true);\n        }\n\n        /**\n         * Fabric 'mousedown' event handler\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var obj = fEvent.target;\n\n            if (obj && !obj.isType('text')) {\n                return;\n            }\n\n            if (this.isPrevEditing) {\n                this.isPrevEditing = false;\n\n                return;\n            }\n\n            this._fireAddText(fEvent);\n        }\n\n        /**\n         * Fire 'addText' event if object is not selected.\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_fireAddText',\n        value: function _fireAddText(fEvent) {\n            var obj = fEvent.target;\n            var e = fEvent.e || {};\n            var originPointer = this.getCanvas().getPointer(e);\n\n            if (!obj) {\n                this.fire(events.ADD_TEXT, {\n                    originPosition: {\n                        x: originPointer.x,\n                        y: originPointer.y\n                    },\n                    clientPosition: {\n                        x: e.clientX || 0,\n                        y: e.clientY || 0\n                    }\n                });\n            }\n        }\n\n        /**\n         * Fabric mouseup event handler\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp(fEvent) {\n            var target = fEvent.target;\n\n            var newClickTime = new Date().getTime();\n\n            if (target.isEditing || this._isDoubleClick(newClickTime)) {\n                if (!this.useItext) {\n                    this._changeToEditingMode(target);\n                }\n                this.fire(events.TEXT_EDITING); // fire editing text event\n            }\n\n            this._lastClickTime = newClickTime;\n        }\n\n        /**\n         * Get state of firing double click event\n         * @param {Date} newClickTime - Current clicked time\n         * @returns {boolean} Whether double clicked or not\n         * @private\n         */\n\n    }, {\n        key: '_isDoubleClick',\n        value: function _isDoubleClick(newClickTime) {\n            return newClickTime - this._lastClickTime < DBCLICK_TIME;\n        }\n\n        /**\n         * Change state of text object for editing\n         * @param {fabric.Text} obj - Text object fired event\n         * @private\n         */\n\n    }, {\n        key: '_changeToEditingMode',\n        value: function _changeToEditingMode(obj) {\n            var ratio = this.getCanvasRatio();\n            var textareaStyle = this._textarea.style;\n            var canvas = this.getCanvas();\n\n            this.isPrevEditing = true;\n\n            canvas.remove(obj);\n            canvas.discardActiveObject();\n\n            this._editingObj = obj;\n            this._textarea.value = obj.text;\n\n            this._editingObjInfos = {\n                left: obj.left,\n                top: obj.top,\n                width: obj.width,\n                height: obj.height\n            };\n\n            textareaStyle.display = 'block';\n            textareaStyle.left = obj.oCoords.tl.x / ratio + 'px';\n            textareaStyle.top = obj.oCoords.tl.y / ratio + 'px';\n            textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n            textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n            textareaStyle.transform = 'rotate(' + obj.angle + 'deg)';\n            textareaStyle.color = obj.fill;\n\n            textareaStyle['font-size'] = obj.fontSize / ratio + 'px';\n            textareaStyle['font-family'] = obj.fontFamily;\n            textareaStyle['font-style'] = obj.fontStyle;\n            textareaStyle['font-weight'] = obj.fontWeight;\n            textareaStyle['text-align'] = obj.textAlign;\n            textareaStyle['line-height'] = obj.lineHeight + EXTRA_PIXEL_LINEHEIGHT;\n            textareaStyle['transform-origin'] = 'left top';\n\n            this._textarea.focus();\n        }\n    }]);\n\n    return Text;\n}(_component2.default);\n\nmodule.exports = Text;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/text.js?")},"./src/js/consts.js":function srcJsConstsJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n    /**\n     * Editor help features\n     * @type {Array.<string>}\n     */\n    HELP_MENUS: ['undo', 'redo', 'reset', 'delete', 'deleteAll'],\n\n    /**\n     * Shape default option\n     * @type {Object}\n     */\n    SHAPE_DEFAULT_OPTIONS: {\n        lockSkewingX: true,\n        lockSkewingY: true,\n        lockUniScaling: false,\n        bringForward: true,\n        isRegular: false\n    },\n\n    /**\n     * Cropzone default option\n     * @type {Object}\n     */\n    CROPZONE_DEFAULT_OPTIONS: {\n        hasRotatingPoint: false,\n        hasBorders: false,\n        lockScalingFlip: true,\n        lockRotation: true,\n        lockSkewingX: true,\n        lockSkewingY: true\n    },\n\n    /**\n     * Component names\n     * @type {Object.<string, string>}\n     */\n    componentNames: _util2.default.keyMirror('IMAGE_LOADER', 'CROPPER', 'FLIP', 'ROTATION', 'FREE_DRAWING', 'LINE', 'TEXT', 'ICON', 'FILTER', 'SHAPE'),\n\n    /**\n     * Command names\n     * @type {Object.<string, string>}\n     */\n    commandNames: {\n        'CLEAR_OBJECTS': 'clearObjects',\n        'LOAD_IMAGE': 'loadImage',\n        'FLIP_IMAGE': 'flip',\n        'ROTATE_IMAGE': 'rotate',\n        'ADD_OBJECT': 'addObject',\n        'REMOVE_OBJECT': 'removeObject',\n        'APPLY_FILTER': 'applyFilter',\n        'REMOVE_FILTER': 'removeFilter',\n        'ADD_ICON': 'addIcon',\n        'CHANGE_ICON_COLOR': 'changeIconColor',\n        'ADD_SHAPE': 'addShape',\n        'CHANGE_SHAPE': 'changeShape',\n        'ADD_TEXT': 'addText',\n        'CHANGE_TEXT': 'changeText',\n        'CHANGE_TEXT_STYLE': 'changeTextStyle',\n        'ADD_IMAGE_OBJECT': 'addImageObject',\n        'RESIZE_CANVAS_DIMENSION': 'resizeCanvasDimension',\n        'SET_OBJECT_PROPERTIES': 'setObjectProperties',\n        'SET_OBJECT_POSITION': 'setObjectPosition'\n    },\n\n    /**\n     * Event names\n     * @type {Object.<string, string>}\n     */\n    eventNames: {\n        OBJECT_ACTIVATED: 'objectActivated',\n        OBJECT_MOVED: 'objectMoved',\n        OBJECT_SCALED: 'objectScaled',\n        OBJECT_CREATED: 'objectCreated',\n        OBJECT_ROTATED: 'objectRotated',\n        TEXT_EDITING: 'textEditing',\n        TEXT_CHANGED: 'textChanged',\n        ICON_CREATE_RESIZE: 'iconCreateResize',\n        ICON_CREATE_END: 'iconCreateEnd',\n        ADD_TEXT: 'addText',\n        ADD_OBJECT: 'addObject',\n        ADD_OBJECT_AFTER: 'addObjectAfter',\n        MOUSE_DOWN: 'mousedown',\n        MOUSE_UP: 'mouseup',\n        MOUSE_MOVE: 'mousemove',\n        // UNDO/REDO Events\n        REDO_STACK_CHANGED: 'redoStackChanged',\n        UNDO_STACK_CHANGED: 'undoStackChanged',\n        SELECTION_CLEARED: 'selectionCleared',\n        SELECTION_CREATED: 'selectionCreated'\n    },\n\n    /**\n     * Editor states\n     * @type {Object.<string, string>}\n     */\n    drawingModes: _util2.default.keyMirror('NORMAL', 'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'),\n\n    /**\n     * Shortcut key values\n     * @type {Object.<string, number>}\n     */\n    keyCodes: {\n        Z: 90,\n        Y: 89,\n        C: 67,\n        V: 86,\n        SHIFT: 16,\n        BACKSPACE: 8,\n        DEL: 46,\n        ARROW_DOWN: 40,\n        ARROW_UP: 38\n    },\n\n    /**\n     * Fabric object options\n     * @type {Object.<string, Object>}\n     */\n    fObjectOptions: {\n        SELECTION_STYLE: {\n            borderColor: 'red',\n            cornerColor: 'green',\n            cornerSize: 10,\n            originX: 'center',\n            originY: 'center',\n            transparentCorners: false\n        }\n    },\n\n    /**\n     * Promise reject messages\n     * @type {Object.<string, string>}\n     */\n    rejectMessages: {\n        addedObject: 'The object is already added.',\n        flip: 'The flipX and flipY setting values are not changed.',\n        invalidDrawingMode: 'This operation is not supported in the drawing mode.',\n        invalidParameters: 'Invalid parameters.',\n        isLock: 'The executing command state is locked.',\n        loadImage: 'The background image is empty.',\n        loadingImageFailed: 'Invalid image loaded.',\n        noActiveObject: 'There is no active object.',\n        noObject: 'The object is not in canvas.',\n        redo: 'The promise of redo command is reject.',\n        rotation: 'The current angle is same the old angle.',\n        undo: 'The promise of undo command is reject.',\n        unsupportedOperation: 'Unsupported operation.',\n        unsupportedType: 'Unsupported object type.'\n    },\n\n    /**\n     * Default icon menu svg path\n     * @type {Object.<string, string>}\n     */\n    defaultIconPath: {\n        'icon-arrow': 'M40 12V0l24 24-24 24V36H0V12h40z',\n        'icon-arrow-2': 'M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ',\n        'icon-arrow-3': 'M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ',\n        'icon-star': 'M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ',\n        'icon-star-2': 'M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ',\n        'icon-polygon': 'M3,31 L19,3 h32 l16,28 l-16,28 H19  z ',\n        'icon-location': 'M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z',\n        'icon-heart': 'M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ',\n        'icon-bubble': 'M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z'\n    },\n\n    defaultRotateRangeValus: {\n        realTimeEvent: true,\n        min: -360,\n        max: 360,\n        value: 0\n    },\n\n    defaultDrawRangeValus: {\n        min: 5,\n        max: 30,\n        value: 12\n    },\n\n    defaultShapeStrokeValus: {\n        realTimeEvent: true,\n        min: 2,\n        max: 300,\n        value: 3\n    },\n\n    defaultTextRangeValus: {\n        realTimeEvent: true,\n        min: 10,\n        max: 100,\n        value: 50\n    },\n\n    defaultFilterRangeValus: {\n        tintOpacityRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.7,\n            useDecimal: true\n        },\n        removewhiteDistanceRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n        },\n        brightnessRange: {\n            realTimeEvent: true,\n            min: -1,\n            max: 1,\n            value: 0,\n            useDecimal: true\n        },\n        noiseRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1000,\n            value: 100\n        },\n        pixelateRange: {\n            realTimeEvent: true,\n            min: 2,\n            max: 20,\n            value: 4\n        },\n        colorfilterThresholeRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n        }\n    }\n}; /**\n    * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n    * @fileoverview Constants\n    */\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/consts.js?")},"./src/js/drawingMode/cropper.js":function srcJsDrawingModeCropperJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview CropperDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * CropperDrawingMode class\n * @class\n * @ignore\n */\n\nvar CropperDrawingMode = function (_DrawingMode) {\n    _inherits(CropperDrawingMode, _DrawingMode);\n\n    function CropperDrawingMode() {\n        _classCallCheck(this, CropperDrawingMode);\n\n        return _possibleConstructorReturn(this, (CropperDrawingMode.__proto__ || Object.getPrototypeOf(CropperDrawingMode)).call(this, drawingModes.CROPPER));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(CropperDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var cropper = graphics.getComponent(components.CROPPER);\n            cropper.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var cropper = graphics.getComponent(components.CROPPER);\n            cropper.end();\n        }\n    }]);\n\n    return CropperDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = CropperDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/cropper.js?')},"./src/js/drawingMode/freeDrawing.js":function srcJsDrawingModeFreeDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview FreeDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * FreeDrawingMode class\n * @class\n * @ignore\n */\n\nvar FreeDrawingMode = function (_DrawingMode) {\n    _inherits(FreeDrawingMode, _DrawingMode);\n\n    function FreeDrawingMode() {\n        _classCallCheck(this, FreeDrawingMode);\n\n        return _possibleConstructorReturn(this, (FreeDrawingMode.__proto__ || Object.getPrototypeOf(FreeDrawingMode)).call(this, drawingModes.FREE_DRAWING));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n    * @override\n    */\n\n\n    _createClass(FreeDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics, options) {\n            var freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n            freeDrawing.start(options);\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n            freeDrawing.end();\n        }\n    }]);\n\n    return FreeDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = FreeDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/freeDrawing.js?')},"./src/js/drawingMode/lineDrawing.js":function srcJsDrawingModeLineDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview LineDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * LineDrawingMode class\n * @class\n * @ignore\n */\n\nvar LineDrawingMode = function (_DrawingMode) {\n    _inherits(LineDrawingMode, _DrawingMode);\n\n    function LineDrawingMode() {\n        _classCallCheck(this, LineDrawingMode);\n\n        return _possibleConstructorReturn(this, (LineDrawingMode.__proto__ || Object.getPrototypeOf(LineDrawingMode)).call(this, drawingModes.LINE_DRAWING));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n    * @override\n    */\n\n\n    _createClass(LineDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics, options) {\n            var lineDrawing = graphics.getComponent(components.LINE);\n            lineDrawing.start(options);\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var lineDrawing = graphics.getComponent(components.LINE);\n            lineDrawing.end();\n        }\n    }]);\n\n    return LineDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = LineDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/lineDrawing.js?')},"./src/js/drawingMode/shape.js":function srcJsDrawingModeShapeJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview ShapeDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * ShapeDrawingMode class\n * @class\n * @ignore\n */\n\nvar ShapeDrawingMode = function (_DrawingMode) {\n    _inherits(ShapeDrawingMode, _DrawingMode);\n\n    function ShapeDrawingMode() {\n        _classCallCheck(this, ShapeDrawingMode);\n\n        return _possibleConstructorReturn(this, (ShapeDrawingMode.__proto__ || Object.getPrototypeOf(ShapeDrawingMode)).call(this, drawingModes.SHAPE));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(ShapeDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var shape = graphics.getComponent(components.SHAPE);\n            shape.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var shape = graphics.getComponent(components.SHAPE);\n            shape.end();\n        }\n    }]);\n\n    return ShapeDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = ShapeDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/shape.js?')},"./src/js/drawingMode/text.js":function srcJsDrawingModeTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview TextDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * TextDrawingMode class\n * @class\n * @ignore\n */\n\nvar TextDrawingMode = function (_DrawingMode) {\n    _inherits(TextDrawingMode, _DrawingMode);\n\n    function TextDrawingMode() {\n        _classCallCheck(this, TextDrawingMode);\n\n        return _possibleConstructorReturn(this, (TextDrawingMode.__proto__ || Object.getPrototypeOf(TextDrawingMode)).call(this, drawingModes.TEXT));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(TextDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var text = graphics.getComponent(components.TEXT);\n            text.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var text = graphics.getComponent(components.TEXT);\n            text.end();\n        }\n    }]);\n\n    return TextDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = TextDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/text.js?')},"./src/js/extension/blur.js":function srcJsExtensionBlurJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Blur object\n * @class Blur\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Blur = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Blur',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Blur extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Blur;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/blur.js?")},"./src/js/extension/colorFilter.js":function srcJsExtensionColorFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * ColorFilter object\n * @class ColorFilter\n * @extends {fabric.Image.filters.BaseFilter}\n * @ignore\n */\nvar ColorFilter = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BaseFilter, /** @lends BaseFilter.prototype */{\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'ColorFilter',\n\n    /**\n     * Constructor\n     * @member fabric.Image.filters.ColorFilter.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.color='#FFFFFF'] Value of color (0...255)\n     * @param {Number} [options.threshold=45] Value of threshold (0...255)\n     * @override\n     */\n    initialize: function initialize(options) {\n        if (!options) {\n            options = {};\n        }\n        this.color = options.color || '#FFFFFF';\n        this.threshold = options.threshold || 45;\n        this.x = options.x || null;\n        this.y = options.y || null;\n    },\n\n\n    /**\n     * Applies filter to canvas element\n     * @param {Object} canvas Canvas object passed by fabric\n     */\n    applyTo: function applyTo(canvas) {\n        // eslint-disable-line\n        var canvasEl = canvas.canvasEl;\n\n        var context = canvasEl.getContext('2d');\n        var imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height);\n        var data = imageData.data;\n        var threshold = this.threshold;\n\n        var filterColor = _fabric2.default.Color.sourceFromHex(this.color);\n        var i = void 0,\n            len = void 0;\n\n        if (this.x && this.y) {\n            filterColor = this._getColor(imageData, this.x, this.y);\n        }\n\n        for (i = 0, len = data.length; i < len; i += 4) {\n            if (this._isOutsideThreshold(data[i], filterColor[0], threshold) || this._isOutsideThreshold(data[i + 1], filterColor[1], threshold) || this._isOutsideThreshold(data[i + 2], filterColor[2], threshold)) {\n                continue;\n            }\n            data[i] = data[i + 1] = data[i + 2] = data[i + 3] = 0;\n        }\n        context.putImageData(imageData, 0, 0);\n    },\n\n\n    /**\n     * Check color if it is within threshold\n     * @param {Number} color1 source color\n     * @param {Number} color2 filtering color\n     * @param {Number} threshold threshold\n     * @returns {boolean} true if within threshold or false\n     */\n    _isOutsideThreshold: function _isOutsideThreshold(color1, color2, threshold) {\n        var diff = color1 - color2;\n\n        return Math.abs(diff) > threshold;\n    },\n\n\n    /**\n     * Get color at (x, y)\n     * @param {Object} imageData of canvas\n     * @param {Number} x left position\n     * @param {Number} y top position\n     * @returns {Array} color array\n     */\n    _getColor: function _getColor(imageData, x, y) {\n        var color = [0, 0, 0, 0];\n        var data = imageData.data,\n            width = imageData.width;\n\n        var bytes = 4;\n        var position = (width * y + x) * bytes;\n\n        color[0] = data[position];\n        color[1] = data[position + 1];\n        color[2] = data[position + 2];\n        color[3] = data[position + 3];\n\n        return color;\n    }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview ColorFilter extending fabric.Image.filters.BaseFilter\n     */\n\n\nmodule.exports = ColorFilter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/colorFilter.js?")},"./src/js/extension/cropzone.js":function srcJsExtensionCropzoneJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                   * @fileoverview Cropzone extending fabric.Rect\n                                                                                                                                                                                                                   */\n\n\nvar CORNER_TYPE_TOP_LEFT = 'tl';\nvar CORNER_TYPE_TOP_RIGHT = 'tr';\nvar CORNER_TYPE_MIDDLE_TOP = 'mt';\nvar CORNER_TYPE_MIDDLE_LEFT = 'ml';\nvar CORNER_TYPE_MIDDLE_RIGHT = 'mr';\nvar CORNER_TYPE_MIDDLE_BOTTOM = 'mb';\nvar CORNER_TYPE_BOTTOM_LEFT = 'bl';\nvar CORNER_TYPE_BOTTOM_RIGHT = 'br';\nvar CORNER_TYPE_LIST = [CORNER_TYPE_TOP_LEFT, CORNER_TYPE_TOP_RIGHT, CORNER_TYPE_MIDDLE_TOP, CORNER_TYPE_MIDDLE_LEFT, CORNER_TYPE_MIDDLE_RIGHT, CORNER_TYPE_MIDDLE_BOTTOM, CORNER_TYPE_BOTTOM_LEFT, CORNER_TYPE_BOTTOM_RIGHT];\nvar NOOP_FUNCTION = function NOOP_FUNCTION() {};\n\n/**\n * Align with cropzone ratio\n * @param {string} selectedCorner - selected corner type\n * @returns {{width: number, height: number}}\n * @private\n */\nfunction cornerTypeValid(selectedCorner) {\n    return CORNER_TYPE_LIST.indexOf(selectedCorner) >= 0;\n}\n\n/**\n * return scale basis type\n * @param {number} diffX - X distance of the cursor and corner.\n * @param {number} diffY - Y distance of the cursor and corner.\n * @returns {string}\n * @private\n */\nfunction getScaleBasis(diffX, diffY) {\n    return diffX > diffY ? 'width' : 'height';\n}\n\n/**\n * Cropzone object\n * Issue: IE7, 8(with excanvas)\n *  - Cropzone is a black zone without transparency.\n * @class Cropzone\n * @extends {fabric.Rect}\n * @ignore\n */\nvar Cropzone = _fabric2.default.util.createClass(_fabric2.default.Rect, /** @lends Cropzone.prototype */{\n    /**\n     * Constructor\n     * @param {Object} canvas canvas\n     * @param {Object} options Options object\n     * @param {Object} extendsOptions object for extends \"options\" \n     * @override\n     */\n    initialize: function initialize(canvas, options, extendsOptions) {\n        options = _tuiCodeSnippet2.default.extend(options, extendsOptions);\n        options.type = 'cropzone';\n\n        this.callSuper('initialize', options);\n        this._addEventHandler();\n\n        this.canvas = canvas;\n        this.options = options;\n    },\n    canvasEventDelegation: function canvasEventDelegation(eventName) {\n        var delegationState = 'unregisted';\n        var isRegisted = this.canvasEventTrigger[eventName] !== NOOP_FUNCTION;\n        if (isRegisted) {\n            delegationState = 'registed';\n        } else if ([_consts.eventNames.OBJECT_MOVED, _consts.eventNames.OBJECT_SCALED].indexOf(eventName) < 0) {\n            delegationState = 'none';\n        }\n\n        return delegationState;\n    },\n    canvasEventRegister: function canvasEventRegister(eventName, eventTrigger) {\n        this.canvasEventTrigger[eventName] = eventTrigger;\n    },\n    _addEventHandler: function _addEventHandler() {\n        var _canvasEventTrigger;\n\n        this.canvasEventTrigger = (_canvasEventTrigger = {}, _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_MOVED, NOOP_FUNCTION), _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_SCALED, NOOP_FUNCTION), _canvasEventTrigger);\n        this.on({\n            'moving': this._onMoving.bind(this),\n            'scaling': this._onScaling.bind(this)\n        });\n    },\n    _renderCropzone: function _renderCropzone(ctx) {\n        var cropzoneDashLineWidth = 7;\n        var cropzoneDashLineOffset = 7;\n\n        // Calc original scale\n        var originalFlipX = this.flipX ? -1 : 1;\n        var originalFlipY = this.flipY ? -1 : 1;\n        var originalScaleX = originalFlipX / this.scaleX;\n        var originalScaleY = originalFlipY / this.scaleY;\n\n        // Set original scale\n        ctx.scale(originalScaleX, originalScaleY);\n\n        // Render outer rect\n        this._fillOuterRect(ctx, 'rgba(0, 0, 0, 0.5)');\n\n        if (this.options.lineWidth) {\n            this._fillInnerRect(ctx);\n            this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineWidth: this.options.lineWidth\n            });\n        } else {\n            // Black dash line\n            this._strokeBorder(ctx, 'rgb(0, 0, 0)', {\n                lineDashWidth: cropzoneDashLineWidth\n            });\n\n            // White dash line\n            this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineDashWidth: cropzoneDashLineWidth,\n                lineDashOffset: cropzoneDashLineOffset\n            });\n        }\n\n        // Reset scale\n        ctx.scale(1 / originalScaleX, 1 / originalScaleY);\n    },\n\n\n    /**\n     * Render Crop-zone\n     * @private\n     * @override\n     */\n    _render: function _render(ctx) {\n        this.callSuper('_render', ctx);\n\n        this._renderCropzone(ctx);\n    },\n\n\n    /**\n     * Cropzone-coordinates with outer rectangle\n     *\n     *     x0     x1         x2      x3\n     *  y0 +--------------------------+\n     *     |///////|//////////|///////|    // <--- \"Outer-rectangle\"\n     *     |///////|//////////|///////|\n     *  y1 +-------+----------+-------+\n     *     |///////| Cropzone |///////|    Cropzone is the \"Inner-rectangle\"\n     *     |///////|  (0, 0)  |///////|    Center point (0, 0)\n     *  y2 +-------+----------+-------+\n     *     |///////|//////////|///////|\n     *     |///////|//////////|///////|\n     *  y3 +--------------------------+\n     *\n     * @typedef {{x: Array<number>, y: Array<number>}} cropzoneCoordinates\n     * @ignore\n     */\n\n    /**\n     * Fill outer rectangle\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} fillStyle - Fill-style\n     * @private\n     */\n    _fillOuterRect: function _fillOuterRect(ctx, fillStyle) {\n        var _getCoordinates = this._getCoordinates(),\n            x = _getCoordinates.x,\n            y = _getCoordinates.y;\n\n        ctx.save();\n        ctx.fillStyle = fillStyle;\n        ctx.beginPath();\n\n        // Outer rectangle\n        // Numbers are +/-1 so that overlay edges don't get blurry.\n        ctx.moveTo(x[0] - 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[3] + 1);\n        ctx.lineTo(x[0] - 1, y[3] + 1);\n        ctx.lineTo(x[0] - 1, y[0] - 1);\n        ctx.closePath();\n\n        // Inner rectangle\n        ctx.moveTo(x[1], y[1]);\n        ctx.lineTo(x[1], y[2]);\n        ctx.lineTo(x[2], y[2]);\n        ctx.lineTo(x[2], y[1]);\n        ctx.lineTo(x[1], y[1]);\n        ctx.closePath();\n\n        ctx.fill();\n        ctx.restore();\n    },\n\n\n    /**\n     * Draw Inner grid line\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @private\n     */\n    _fillInnerRect: function _fillInnerRect(ctx) {\n        var _getCoordinates2 = this._getCoordinates(),\n            outerX = _getCoordinates2.x,\n            outerY = _getCoordinates2.y;\n\n        var x = this._caculateInnerPosition(outerX, (outerX[2] - outerX[1]) / 3);\n        var y = this._caculateInnerPosition(outerY, (outerY[2] - outerY[1]) / 3);\n\n        ctx.save();\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';\n        ctx.lineWidth = this.options.lineWidth;\n        ctx.beginPath();\n\n        ctx.moveTo(x[0], y[1]);\n        ctx.lineTo(x[3], y[1]);\n\n        ctx.moveTo(x[0], y[2]);\n        ctx.lineTo(x[3], y[2]);\n\n        ctx.moveTo(x[1], y[0]);\n        ctx.lineTo(x[1], y[3]);\n\n        ctx.moveTo(x[2], y[0]);\n        ctx.lineTo(x[2], y[3]);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.restore();\n    },\n\n\n    /**\n     * Calculate Inner Position\n     * @param {Array} outer - outer position\n     * @param {number} size - interval for calculate\n     * @returns {Array} - inner position\n     * @private\n     */\n    _caculateInnerPosition: function _caculateInnerPosition(outer, size) {\n        var position = [];\n        position[0] = outer[1];\n        position[1] = outer[1] + size;\n        position[2] = outer[1] + size * 2;\n        position[3] = outer[2];\n\n        return position;\n    },\n\n\n    /**\n     * Get coordinates\n     * @returns {cropzoneCoordinates} - {@link cropzoneCoordinates}\n     * @private\n     */\n    _getCoordinates: function _getCoordinates() {\n        var canvas = this.canvas,\n            width = this.width,\n            height = this.height,\n            left = this.left,\n            top = this.top;\n\n        var halfWidth = width / 2;\n        var halfHeight = height / 2;\n        var canvasHeight = canvas.getHeight(); // fabric object\n        var canvasWidth = canvas.getWidth(); // fabric object\n\n        return {\n            x: _tuiCodeSnippet2.default.map([-(halfWidth + left), // x0\n            -halfWidth, // x1\n            halfWidth, // x2\n            halfWidth + (canvasWidth - left - width) // x3\n            ], Math.ceil),\n            y: _tuiCodeSnippet2.default.map([-(halfHeight + top), // y0\n            -halfHeight, // y1\n            halfHeight, // y2\n            halfHeight + (canvasHeight - top - height) // y3\n            ], Math.ceil)\n        };\n    },\n\n\n    /**\n     * Stroke border\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} strokeStyle - Stroke-style\n     * @param {number} lineDashWidth - Dash width\n     * @param {number} [lineDashOffset] - Dash offset\n     * @param {number} [lineWidth] - line width\n     * @private\n     */\n    _strokeBorder: function _strokeBorder(ctx, strokeStyle, _ref) {\n        var lineDashWidth = _ref.lineDashWidth,\n            lineDashOffset = _ref.lineDashOffset,\n            lineWidth = _ref.lineWidth;\n\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n\n        ctx.save();\n        ctx.strokeStyle = strokeStyle;\n\n        if (ctx.setLineDash) {\n            ctx.setLineDash([lineDashWidth, lineDashWidth]);\n        }\n        if (lineDashOffset) {\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (lineWidth) {\n            ctx.lineWidth = lineWidth;\n        }\n\n        ctx.beginPath();\n        ctx.moveTo(-halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, -halfHeight);\n        ctx.stroke();\n\n        ctx.restore();\n    },\n\n\n    /**\n     * onMoving event listener\n     * @private\n     */\n    _onMoving: function _onMoving() {\n        var height = this.height,\n            width = this.width,\n            left = this.left,\n            top = this.top;\n\n        var maxLeft = this.canvas.getWidth() - width;\n        var maxTop = this.canvas.getHeight() - height;\n\n        this.left = (0, _util.clamp)(left, 0, maxLeft);\n        this.top = (0, _util.clamp)(top, 0, maxTop);\n\n        this.canvasEventTrigger[_consts.eventNames.OBJECT_MOVED](this);\n    },\n\n\n    /**\n     * onScaling event listener\n     * @param {{e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onScaling: function _onScaling(fEvent) {\n        var selectedCorner = fEvent.transform.corner;\n        var pointer = this.canvas.getPointer(fEvent.e);\n        var settings = this._calcScalingSizeFromPointer(pointer, selectedCorner);\n\n        // On scaling cropzone,\n        // change real width and height and fix scaleFactor to 1\n        this.scale(1).set(settings);\n\n        this.canvasEventTrigger[_consts.eventNames.OBJECT_SCALED](this);\n    },\n\n\n    /**\n     * Calc scaled size from mouse pointer with selected corner\n     * @param {{x: number, y: number}} pointer - Mouse position\n     * @param {string} selectedCorner - selected corner type\n     * @returns {Object} Having left or(and) top or(and) width or(and) height.\n     * @private\n     */\n    _calcScalingSizeFromPointer: function _calcScalingSizeFromPointer(pointer, selectedCorner) {\n        var isCornerTypeValid = cornerTypeValid(selectedCorner);\n\n        return isCornerTypeValid && this._resizeCropZone(pointer, selectedCorner);\n    },\n\n\n    /**\n     * Align with cropzone ratio\n     * @param {number} width - cropzone width\n     * @param {number} height - cropzone height\n     * @param {number} maxWidth - limit max width\n     * @param {number} maxHeight - limit max height\n     * @param {number} scaleTo - cropzone ratio\n     * @returns {{width: number, height: number}}\n     * @private\n     */\n    adjustRatioCropzoneSize: function adjustRatioCropzoneSize(_ref2) {\n        var width = _ref2.width,\n            height = _ref2.height,\n            leftMaker = _ref2.leftMaker,\n            topMaker = _ref2.topMaker,\n            maxWidth = _ref2.maxWidth,\n            maxHeight = _ref2.maxHeight,\n            scaleTo = _ref2.scaleTo;\n\n        width = maxWidth ? (0, _util.clamp)(width, 1, maxWidth) : width;\n        height = maxHeight ? (0, _util.clamp)(height, 1, maxHeight) : height;\n\n        if (!this.presetRatio) {\n            return {\n                width: width,\n                height: height,\n                left: leftMaker(width),\n                top: topMaker(height)\n            };\n        }\n\n        if (scaleTo === 'width') {\n            height = width / this.presetRatio;\n        } else {\n            width = height * this.presetRatio;\n        }\n\n        var maxScaleFactor = Math.min(maxWidth / width, maxHeight / height);\n        if (maxScaleFactor <= 1) {\n            var _map = [width, height].map(function (v) {\n                return v * maxScaleFactor;\n            });\n\n            width = _map[0];\n            height = _map[1];\n        }\n\n        return {\n            width: width,\n            height: height,\n            left: leftMaker(width),\n            top: topMaker(height)\n        };\n    },\n\n\n    /**\n     * Get dimension last state cropzone\n     * @returns {{rectTop: number, rectLeft: number, rectWidth: number, rectHeight: number}}\n     * @private\n     */\n    _getCropzoneRectInfo: function _getCropzoneRectInfo() {\n        var _canvas = this.canvas,\n            canvasWidth = _canvas.width,\n            canvasHeight = _canvas.height;\n\n        var _getBoundingRect = this.getBoundingRect(false, true),\n            rectTop = _getBoundingRect.top,\n            rectLeft = _getBoundingRect.left,\n            rectWidth = _getBoundingRect.width,\n            rectHeight = _getBoundingRect.height;\n\n        return {\n            rectTop: rectTop,\n            rectLeft: rectLeft,\n            rectWidth: rectWidth,\n            rectHeight: rectHeight,\n            rectRight: rectLeft + rectWidth,\n            rectBottom: rectTop + rectHeight,\n            canvasWidth: canvasWidth,\n            canvasHeight: canvasHeight\n        };\n    },\n\n\n    /**\n     * Calc scaling dimension\n     * @param {Object} position - Mouse position\n     * @param {string} corner - corner type\n     * @returns {{left: number, top: number, width: number, height: number}}\n     * @private\n     */\n    _resizeCropZone: function _resizeCropZone(_ref3, corner) {\n        var x = _ref3.x,\n            y = _ref3.y;\n\n        var _getCropzoneRectInfo2 = this._getCropzoneRectInfo(),\n            rectWidth = _getCropzoneRectInfo2.rectWidth,\n            rectHeight = _getCropzoneRectInfo2.rectHeight,\n            rectTop = _getCropzoneRectInfo2.rectTop,\n            rectLeft = _getCropzoneRectInfo2.rectLeft,\n            rectBottom = _getCropzoneRectInfo2.rectBottom,\n            rectRight = _getCropzoneRectInfo2.rectRight,\n            canvasWidth = _getCropzoneRectInfo2.canvasWidth,\n            canvasHeight = _getCropzoneRectInfo2.canvasHeight;\n\n        var resizeInfoMap = {\n            tl: {\n                width: rectRight - x,\n                height: rectBottom - y,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: rectRight,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(rectLeft - x, rectTop - y)\n            },\n            tr: {\n                width: x - rectLeft,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(x - rectRight, rectTop - y)\n            },\n            mt: {\n                width: rectWidth,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: 'height'\n            },\n            ml: {\n                width: rectRight - x,\n                height: rectHeight,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n            },\n            mr: {\n                width: x - rectLeft,\n                height: rectHeight,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n            },\n            mb: {\n                width: rectWidth,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'height'\n            },\n            bl: {\n                width: rectRight - x,\n                height: y - rectTop,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(rectLeft - x, y - rectBottom)\n            },\n            br: {\n                width: x - rectLeft,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(x - rectRight, y - rectBottom)\n            }\n        };\n\n        return this.adjustRatioCropzoneSize(resizeInfoMap[corner]);\n    },\n\n\n    /**\n     * Return the whether this cropzone is valid\n     * @returns {boolean}\n     */\n    isValid: function isValid() {\n        return this.left >= 0 && this.top >= 0 && this.width > 0 && this.height > 0;\n    }\n});\n\nmodule.exports = Cropzone;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/cropzone.js?")},"./src/js/extension/emboss.js":function srcJsExtensionEmbossJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Emboss object\n * @class Emboss\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Emboss = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Emboss',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Emboss extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Emboss;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/emboss.js?")},"./src/js/extension/mask.js":function srcJsExtensionMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Mask object\n * @class Mask\n * @extends {fabric.Image.filters.BlendImage}\n * @ignore\n */\nvar Mask = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BlendImage, /** @lends Mask.prototype */{\n    /**\n     * Apply filter to canvas element\n     * @param {Object} pipelineState - Canvas element to apply filter\n     * @override\n     */\n    applyTo: function applyTo(pipelineState) {\n        if (!this.mask) {\n            return;\n        }\n\n        var canvas = pipelineState.canvasEl;\n        var width = canvas.width,\n            height = canvas.height;\n\n        var maskCanvasEl = this._createCanvasOfMask(width, height);\n        var ctx = canvas.getContext('2d');\n        var maskCtx = maskCanvasEl.getContext('2d');\n        var imageData = ctx.getImageData(0, 0, width, height);\n\n        this._drawMask(maskCtx, canvas, ctx);\n        this._mapData(maskCtx, imageData, width, height);\n\n        pipelineState.imageData = imageData;\n    },\n\n\n    /**\n     * Create canvas of mask image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @returns {HTMLElement} Canvas element\n     * @private\n     */\n    _createCanvasOfMask: function _createCanvasOfMask(width, height) {\n        var maskCanvasEl = _fabric2.default.util.createCanvasElement();\n\n        maskCanvasEl.width = width;\n        maskCanvasEl.height = height;\n\n        return maskCanvasEl;\n    },\n\n\n    /**\n     * Draw mask image on canvas element\n     * @param {Object} maskCtx - Context of mask canvas\n     * @private\n     */\n    _drawMask: function _drawMask(maskCtx) {\n        var mask = this.mask;\n\n        var maskImg = mask.getElement();\n        var angle = mask.angle,\n            left = mask.left,\n            scaleX = mask.scaleX,\n            scaleY = mask.scaleY,\n            top = mask.top;\n\n\n        maskCtx.save();\n        maskCtx.translate(left, top);\n        maskCtx.rotate(angle * Math.PI / 180);\n        maskCtx.scale(scaleX, scaleY);\n        maskCtx.drawImage(maskImg, -maskImg.width / 2, -maskImg.height / 2);\n        maskCtx.restore();\n    },\n\n\n    /**\n     * Map mask image data to source image data\n     * @param {Object} maskCtx - Context of mask canvas\n     * @param {Object} imageData - Data of source image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @private\n     */\n    _mapData: function _mapData(maskCtx, imageData, width, height) {\n        var data = imageData.data,\n            imgHeight = imageData.height,\n            imgWidth = imageData.width;\n\n        var sourceData = data;\n        var len = imgWidth * imgHeight * 4;\n        var maskData = maskCtx.getImageData(0, 0, width, height).data;\n\n        for (var i = 0; i < len; i += 4) {\n            sourceData[i + 3] = maskData[i]; // adjust value of alpha data\n        }\n    }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Mask extending fabric.Image.filters.Mask\n     */\n\n\nmodule.exports = Mask;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/mask.js?")},"./src/js/extension/sharpen.js":function srcJsExtensionSharpenJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Sharpen object\n * @class Sharpen\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Sharpen = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Sharpen',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Sharpen extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Sharpen;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/sharpen.js?")},"./src/js/factory/command.js":function srcJsFactoryCommandJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../interface/command */ "./src/js/interface/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commands = {};\n\n/**\n * Create a command\n * @param {string} name - Command name\n * @param {...*} args - Arguments for creating command\n * @returns {Command}\n * @ignore\n */\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Command factory\n */\nfunction create(name) {\n    var actions = commands[name];\n    if (actions) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        return new _command2.default(actions, args);\n    }\n\n    return null;\n}\n\n/**\n * Register a command with name as a key\n * @param {Object} command - {name:{string}, execute: {function}, undo: {function}}\n * @param {string} command.name - command name\n * @param {function} command.execute - executable function\n * @param {function} command.undo - undo function\n * @ignore\n */\nfunction register(command) {\n    commands[command.name] = command;\n}\n\nmodule.exports = {\n    create: create,\n    register: register\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/factory/command.js?')},"./src/js/factory/errorMessage.js":function srcJsFactoryErrorMessageJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Error-message factory\n */\nvar types = (0, _util.keyMirror)('UN_IMPLEMENTATION', 'NO_COMPONENT_NAME');\nvar messages = {\n    UN_IMPLEMENTATION: 'Should implement a method: ',\n    NO_COMPONENT_NAME: 'Should set a component name'\n};\nvar map = {\n    UN_IMPLEMENTATION: function UN_IMPLEMENTATION(methodName) {\n        return messages.UN_IMPLEMENTATION + methodName;\n    },\n    NO_COMPONENT_NAME: function NO_COMPONENT_NAME() {\n        return messages.NO_COMPONENT_NAME;\n    }\n};\n\nmodule.exports = {\n    types: _tuiCodeSnippet2.default.extend({}, types),\n\n    create: function create(type) {\n        type = type.toLowerCase();\n        var func = map[type];\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        return func.apply(undefined, args);\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/factory/errorMessage.js?")},"./src/js/graphics.js":function srcJsGraphicsJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Graphics module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _imageLoader = __webpack_require__(/*! ./component/imageLoader */ \"./src/js/component/imageLoader.js\");\n\nvar _imageLoader2 = _interopRequireDefault(_imageLoader);\n\nvar _cropper = __webpack_require__(/*! ./component/cropper */ \"./src/js/component/cropper.js\");\n\nvar _cropper2 = _interopRequireDefault(_cropper);\n\nvar _flip = __webpack_require__(/*! ./component/flip */ \"./src/js/component/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nvar _rotation = __webpack_require__(/*! ./component/rotation */ \"./src/js/component/rotation.js\");\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nvar _freeDrawing = __webpack_require__(/*! ./component/freeDrawing */ \"./src/js/component/freeDrawing.js\");\n\nvar _freeDrawing2 = _interopRequireDefault(_freeDrawing);\n\nvar _line = __webpack_require__(/*! ./component/line */ \"./src/js/component/line.js\");\n\nvar _line2 = _interopRequireDefault(_line);\n\nvar _text = __webpack_require__(/*! ./component/text */ \"./src/js/component/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _icon = __webpack_require__(/*! ./component/icon */ \"./src/js/component/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _filter = __webpack_require__(/*! ./component/filter */ \"./src/js/component/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _shape = __webpack_require__(/*! ./component/shape */ \"./src/js/component/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _cropper3 = __webpack_require__(/*! ./drawingMode/cropper */ \"./src/js/drawingMode/cropper.js\");\n\nvar _cropper4 = _interopRequireDefault(_cropper3);\n\nvar _freeDrawing3 = __webpack_require__(/*! ./drawingMode/freeDrawing */ \"./src/js/drawingMode/freeDrawing.js\");\n\nvar _freeDrawing4 = _interopRequireDefault(_freeDrawing3);\n\nvar _lineDrawing = __webpack_require__(/*! ./drawingMode/lineDrawing */ \"./src/js/drawingMode/lineDrawing.js\");\n\nvar _lineDrawing2 = _interopRequireDefault(_lineDrawing);\n\nvar _shape3 = __webpack_require__(/*! ./drawingMode/shape */ \"./src/js/drawingMode/shape.js\");\n\nvar _shape4 = _interopRequireDefault(_shape3);\n\nvar _text3 = __webpack_require__(/*! ./drawingMode/text */ \"./src/js/drawingMode/text.js\");\n\nvar _text4 = _interopRequireDefault(_text3);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar components = _consts2.default.componentNames,\n    events = _consts2.default.eventNames;\nvar drawingModes = _consts2.default.drawingModes,\n    fObjectOptions = _consts2.default.fObjectOptions;\nvar extend = _tuiCodeSnippet2.default.extend,\n    stamp = _tuiCodeSnippet2.default.stamp,\n    isArray = _tuiCodeSnippet2.default.isArray,\n    isString = _tuiCodeSnippet2.default.isString,\n    forEachArray = _tuiCodeSnippet2.default.forEachArray,\n    forEachOwnProperties = _tuiCodeSnippet2.default.forEachOwnProperties,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n\n\nvar DEFAULT_CSS_MAX_WIDTH = 1000;\nvar DEFAULT_CSS_MAX_HEIGHT = 800;\nvar EXTRA_PX_FOR_PASTE = 10;\n\nvar cssOnly = {\n    cssOnly: true\n};\nvar backstoreOnly = {\n    backstoreOnly: true\n};\n\n/**\n * Graphics class\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [option] - Canvas max width & height of css\n *  @param {number} option.cssMaxWidth - Canvas css-max-width\n *  @param {number} option.cssMaxHeight - Canvas css-max-height\n *  @param {boolean} option.useItext - Use IText in text mode\n *  @param {boolean} option.useDragAddIcon - Use dragable add in icon mode\n * @ignore\n */\n\nvar Graphics = function () {\n    function Graphics(element) {\n        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n            cssMaxWidth = _ref.cssMaxWidth,\n            cssMaxHeight = _ref.cssMaxHeight,\n            _ref$useItext = _ref.useItext,\n            useItext = _ref$useItext === undefined ? false : _ref$useItext,\n            _ref$useDragAddIcon = _ref.useDragAddIcon,\n            useDragAddIcon = _ref$useDragAddIcon === undefined ? false : _ref$useDragAddIcon;\n\n        _classCallCheck(this, Graphics);\n\n        /**\n         * Fabric image instance\n         * @type {fabric.Image}\n         */\n        this.canvasImage = null;\n\n        /**\n         * Max width of canvas elements\n         * @type {number}\n         */\n        this.cssMaxWidth = cssMaxWidth || DEFAULT_CSS_MAX_WIDTH;\n\n        /**\n         * Max height of canvas elements\n         * @type {number}\n         */\n        this.cssMaxHeight = cssMaxHeight || DEFAULT_CSS_MAX_HEIGHT;\n\n        /**\n         * Use Itext mode for text component\n         * @type {boolean}\n         */\n        this.useItext = useItext;\n\n        /**\n         * Use add drag icon mode for icon component\n         * @type {boolean}\n         */\n        this.useDragAddIcon = useDragAddIcon;\n\n        /**\n         * cropper Selection Style\n         * @type {Object}\n         */\n        this.cropSelectionStyle = {};\n\n        /**\n         * target fabric object for copy paste feature\n         * @type {fabric.Object}\n         * @private\n         */\n        this.targetObjectForCopyPaste = null;\n\n        /**\n         * Image name\n         * @type {string}\n         */\n        this.imageName = '';\n\n        /**\n         * Object Map\n         * @type {Object}\n         * @private\n         */\n        this._objects = {};\n\n        /**\n         * Fabric-Canvas instance\n         * @type {fabric.Canvas}\n         * @private\n         */\n        this._canvas = null;\n\n        /**\n         * Drawing mode\n         * @type {string}\n         * @private\n         */\n        this._drawingMode = drawingModes.NORMAL;\n\n        /**\n         * DrawingMode map\n         * @type {Object.<string, DrawingMode>}\n         * @private\n         */\n        this._drawingModeMap = {};\n\n        /**\n         * Component map\n         * @type {Object.<string, Component>}\n         * @private\n         */\n        this._componentMap = {};\n\n        /**\n         * fabric event handlers\n         * @type {Object.<string, function>}\n         * @private\n         */\n        this._handler = {\n            onMouseDown: this._onMouseDown.bind(this),\n            onObjectAdded: this._onObjectAdded.bind(this),\n            onObjectRemoved: this._onObjectRemoved.bind(this),\n            onObjectMoved: this._onObjectMoved.bind(this),\n            onObjectScaled: this._onObjectScaled.bind(this),\n            onObjectRotated: this._onObjectRotated.bind(this),\n            onObjectSelected: this._onObjectSelected.bind(this),\n            onPathCreated: this._onPathCreated.bind(this),\n            onSelectionCleared: this._onSelectionCleared.bind(this),\n            onSelectionCreated: this._onSelectionCreated.bind(this)\n        };\n\n        this._setObjectCachingToFalse();\n        this._setCanvasElement(element);\n        this._createDrawingModeInstances();\n        this._createComponents();\n        this._attachCanvasEvents();\n    }\n\n    /**\n     * Destroy canvas element\n     */\n\n\n    _createClass(Graphics, [{\n        key: 'destroy',\n        value: function destroy() {\n            var wrapperEl = this._canvas.wrapperEl;\n\n\n            this._canvas.clear();\n\n            wrapperEl.parentNode.removeChild(wrapperEl);\n        }\n\n        /**\n         * Deactivates all objects on canvas\n         * @returns {Graphics} this\n         */\n\n    }, {\n        key: 'deactivateAll',\n        value: function deactivateAll() {\n            this._canvas.discardActiveObject();\n\n            return this;\n        }\n\n        /**\n         * Renders all objects on canvas\n         * @returns {Graphics} this\n         */\n\n    }, {\n        key: 'renderAll',\n        value: function renderAll() {\n            this._canvas.renderAll();\n\n            return this;\n        }\n\n        /**\n         * Adds objects on canvas\n         * @param {Object|Array} objects - objects\n         */\n\n    }, {\n        key: 'add',\n        value: function add(objects) {\n            var _canvas;\n\n            var theArgs = [];\n            if (isArray(objects)) {\n                theArgs = objects;\n            } else {\n                theArgs.push(objects);\n            }\n\n            (_canvas = this._canvas).add.apply(_canvas, theArgs);\n        }\n\n        /**\n         * Removes the object or group\n         * @param {Object} target - graphics object or group\n         * @returns {boolean} true if contains or false\n         */\n\n    }, {\n        key: 'contains',\n        value: function contains(target) {\n            return this._canvas.contains(target);\n        }\n\n        /**\n         * Gets all objects or group\n         * @returns {Array} all objects, shallow copy\n         */\n\n    }, {\n        key: 'getObjects',\n        value: function getObjects() {\n            return this._canvas.getObjects().slice();\n        }\n\n        /**\n         * Get an object by id\n         * @param {number} id - object id\n         * @returns {fabric.Object} object corresponding id\n         */\n\n    }, {\n        key: 'getObject',\n        value: function getObject(id) {\n            return this._objects[id];\n        }\n\n        /**\n         * Removes the object or group\n         * @param {Object} target - graphics object or group\n         */\n\n    }, {\n        key: 'remove',\n        value: function remove(target) {\n            this._canvas.remove(target);\n        }\n\n        /**\n         * Removes all object or group\n         * @param {boolean} includesBackground - remove the background image or not\n         * @returns {Array} all objects array which is removed\n         */\n\n    }, {\n        key: 'removeAll',\n        value: function removeAll(includesBackground) {\n            var canvas = this._canvas;\n            var objects = canvas.getObjects().slice();\n            canvas.remove.apply(canvas, this._canvas.getObjects());\n\n            if (includesBackground) {\n                canvas.clear();\n            }\n\n            return objects;\n        }\n\n        /**\n         * Removes an object or group by id\n         * @param {number} id - object id\n         * @returns {Array} removed objects\n         */\n\n    }, {\n        key: 'removeObjectById',\n        value: function removeObjectById(id) {\n            var objects = [];\n            var canvas = this._canvas;\n            var target = this.getObject(id);\n            var isValidGroup = target && target.isType('group') && !target.isEmpty();\n\n            if (isValidGroup) {\n                canvas.discardActiveObject(); // restore states for each objects\n                target.forEachObject(function (obj) {\n                    objects.push(obj);\n                    canvas.remove(obj);\n                });\n            } else if (canvas.contains(target)) {\n                objects.push(target);\n                canvas.remove(target);\n            }\n\n            return objects;\n        }\n\n        /**\n         * Get an id by object instance\n         * @param {fabric.Object} object object\n         * @returns {number} object id if it exists or null\n         */\n\n    }, {\n        key: 'getObjectId',\n        value: function getObjectId(object) {\n            var key = null;\n            for (key in this._objects) {\n                if (this._objects.hasOwnProperty(key)) {\n                    if (object === this._objects[key]) {\n                        return key;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n        /**\n         * Gets an active object or group\n         * @returns {Object} active object or group instance\n         */\n\n    }, {\n        key: 'getActiveObject',\n        value: function getActiveObject() {\n            return this._canvas._activeObject;\n        }\n\n        /**\n         * Returns the object ID to delete the object.\n         * @returns {number} object id for remove\n         */\n\n    }, {\n        key: 'getActiveObjectIdForRemove',\n        value: function getActiveObjectIdForRemove() {\n            var activeObject = this.getActiveObject();\n            var isSelection = activeObject.type === 'activeSelection';\n\n            if (isSelection) {\n                var group = new _fabric2.default.Group();\n                group.add.apply(group, activeObject.getObjects());\n\n                return this._addFabricObject(group);\n            }\n\n            return this.getObjectId(activeObject);\n        }\n\n        /**\n         * Verify that you are ready to erase the object.\n         * @returns {boolean} ready for object remove\n         */\n\n    }, {\n        key: 'isReadyRemoveObject',\n        value: function isReadyRemoveObject() {\n            var activeObject = this.getActiveObject();\n\n            return activeObject && !activeObject.isEditing;\n        }\n\n        /**\n         * Gets an active group object\n         * @returns {Object} active group object instance\n         */\n\n    }, {\n        key: 'getActiveObjects',\n        value: function getActiveObjects() {\n            var activeObject = this._canvas._activeObject;\n\n            return activeObject && activeObject.type === 'activeSelection' ? activeObject : null;\n        }\n\n        /**\n         * Get Active object Selection from object ids\n         * @param {Array.<Object>} objects - fabric objects\n         * @returns {Object} target - target object group\n         */\n\n    }, {\n        key: 'getActiveSelectionFromObjects',\n        value: function getActiveSelectionFromObjects(objects) {\n            var canvas = this.getCanvas();\n\n            return new _fabric2.default.ActiveSelection(objects, { canvas: canvas });\n        }\n\n        /**\n         * Activates an object or group\n         * @param {Object} target - target object or group\n         */\n\n    }, {\n        key: 'setActiveObject',\n        value: function setActiveObject(target) {\n            this._canvas.setActiveObject(target);\n        }\n\n        /**\n         * Set Crop selection style\n         * @param {Object} style - Selection styles\n         */\n\n    }, {\n        key: 'setCropSelectionStyle',\n        value: function setCropSelectionStyle(style) {\n            this.cropSelectionStyle = style;\n        }\n\n        /**\n         * Get component\n         * @param {string} name - Component name\n         * @returns {Component}\n         */\n\n    }, {\n        key: 'getComponent',\n        value: function getComponent(name) {\n            return this._componentMap[name];\n        }\n\n        /**\n         * Get current drawing mode\n         * @returns {string}\n         */\n\n    }, {\n        key: 'getDrawingMode',\n        value: function getDrawingMode() {\n            return this._drawingMode;\n        }\n\n        /**\n         * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n         * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE', 'TEXT', 'SHAPE'</I>\n         * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n         *  @param {Number} [option.width] brush width\n         *  @param {String} [option.color] brush color\n         * @returns {boolean} true if success or false\n         */\n\n    }, {\n        key: 'startDrawingMode',\n        value: function startDrawingMode(mode, option) {\n            if (this._isSameDrawingMode(mode)) {\n                return true;\n            }\n\n            // If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n            this.stopDrawingMode();\n\n            var drawingModeInstance = this._getDrawingModeInstance(mode);\n            if (drawingModeInstance && drawingModeInstance.start) {\n                drawingModeInstance.start(this, option);\n\n                this._drawingMode = mode;\n            }\n\n            return !!drawingModeInstance;\n        }\n\n        /**\n         * Stop the current drawing mode and back to the 'NORMAL' mode\n         */\n\n    }, {\n        key: 'stopDrawingMode',\n        value: function stopDrawingMode() {\n            if (this._isSameDrawingMode(drawingModes.NORMAL)) {\n                return;\n            }\n\n            var drawingModeInstance = this._getDrawingModeInstance(this.getDrawingMode());\n            if (drawingModeInstance && drawingModeInstance.end) {\n                drawingModeInstance.end(this);\n            }\n            this._drawingMode = drawingModes.NORMAL;\n        }\n\n        /**\n         * To data url from canvas\n         * @param {Object} options - options for toDataURL\n         *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n         *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n         *   @param {Number} [options.multiplier=1] Multiplier to scale by\n         *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n         *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n         * @returns {string} A DOMString containing the requested data URI.\n         */\n\n    }, {\n        key: 'toDataURL',\n        value: function toDataURL(options) {\n            var cropper = this.getComponent(components.CROPPER);\n            cropper.changeVisibility(false);\n\n            var dataUrl = this._canvas && this._canvas.toDataURL(options);\n            cropper.changeVisibility(true);\n\n            return dataUrl;\n        }\n\n        /**\n         * Save image(background) of canvas\n         * @param {string} name - Name of image\n         * @param {?fabric.Image} canvasImage - Fabric image instance\n         */\n\n    }, {\n        key: 'setCanvasImage',\n        value: function setCanvasImage(name, canvasImage) {\n            if (canvasImage) {\n                stamp(canvasImage);\n            }\n            this.imageName = name;\n            this.canvasImage = canvasImage;\n        }\n\n        /**\n         * Set css max dimension\n         * @param {{width: number, height: number}} maxDimension - Max width & Max height\n         */\n\n    }, {\n        key: 'setCssMaxDimension',\n        value: function setCssMaxDimension(maxDimension) {\n            this.cssMaxWidth = maxDimension.width || this.cssMaxWidth;\n            this.cssMaxHeight = maxDimension.height || this.cssMaxHeight;\n        }\n\n        /**\n         * Adjust canvas dimension with scaling image\n         */\n\n    }, {\n        key: 'adjustCanvasDimension',\n        value: function adjustCanvasDimension() {\n            var canvasImage = this.canvasImage.scale(1);\n\n            var _canvasImage$getBound = canvasImage.getBoundingRect(),\n                width = _canvasImage$getBound.width,\n                height = _canvasImage$getBound.height;\n\n            var maxDimension = this._calcMaxDimension(width, height);\n\n            this.setCanvasCssDimension({\n                width: '100%',\n                height: '100%', // Set height '' for IE9\n                'max-width': maxDimension.width + 'px',\n                'max-height': maxDimension.height + 'px'\n            });\n\n            this.setCanvasBackstoreDimension({\n                width: width,\n                height: height\n            });\n            this._canvas.centerObject(canvasImage);\n        }\n\n        /**\n         * Set canvas dimension - css only\n         *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n         * @param {Object} dimension - Canvas css dimension\n         */\n\n    }, {\n        key: 'setCanvasCssDimension',\n        value: function setCanvasCssDimension(dimension) {\n            this._canvas.setDimensions(dimension, cssOnly);\n        }\n\n        /**\n         * Set canvas dimension - backstore only\n         *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n         * @param {Object} dimension - Canvas backstore dimension\n         */\n\n    }, {\n        key: 'setCanvasBackstoreDimension',\n        value: function setCanvasBackstoreDimension(dimension) {\n            this._canvas.setDimensions(dimension, backstoreOnly);\n        }\n\n        /**\n         * Set image properties\n         * {@link http://fabricjs.com/docs/fabric.Image.html#set}\n         * @param {Object} setting - Image properties\n         * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n         */\n\n    }, {\n        key: 'setImageProperties',\n        value: function setImageProperties(setting, withRendering) {\n            var canvasImage = this.canvasImage;\n\n\n            if (!canvasImage) {\n                return;\n            }\n\n            canvasImage.set(setting).setCoords();\n            if (withRendering) {\n                this._canvas.renderAll();\n            }\n        }\n\n        /**\n         * Returns canvas element of fabric.Canvas[[lower-canvas]]\n         * @returns {HTMLCanvasElement}\n         */\n\n    }, {\n        key: 'getCanvasElement',\n        value: function getCanvasElement() {\n            return this._canvas.getElement();\n        }\n\n        /**\n         * Get fabric.Canvas instance\n         * @returns {fabric.Canvas}\n         * @private\n         */\n\n    }, {\n        key: 'getCanvas',\n        value: function getCanvas() {\n            return this._canvas;\n        }\n\n        /**\n         * Get canvasImage (fabric.Image instance)\n         * @returns {fabric.Image}\n         */\n\n    }, {\n        key: 'getCanvasImage',\n        value: function getCanvasImage() {\n            return this.canvasImage;\n        }\n\n        /**\n         * Get image name\n         * @returns {string}\n         */\n\n    }, {\n        key: 'getImageName',\n        value: function getImageName() {\n            return this.imageName;\n        }\n\n        /**\n         * Add image object on canvas\n         * @param {string} imgUrl - Image url to make object\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'addImageObject',\n        value: function addImageObject(imgUrl) {\n            var _this = this;\n\n            var callback = this._callbackAfterLoadingImageObject.bind(this);\n\n            return new _promise2.default(function (resolve) {\n                _fabric2.default.Image.fromURL(imgUrl, function (image) {\n                    callback(image);\n                    resolve(_this.createObjectProperties(image));\n                }, {\n                    crossOrigin: 'Anonymous'\n                });\n            });\n        }\n\n        /**\n         * Get center position of canvas\n         * @returns {Object} {left, top}\n         */\n\n    }, {\n        key: 'getCenter',\n        value: function getCenter() {\n            return this._canvas.getCenter();\n        }\n\n        /**\n         * Get cropped rect\n         * @returns {Object} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            return this.getComponent(components.CROPPER).getCropzoneRect();\n        }\n\n        /**\n         * Get cropped rect\n         * @param {number} [mode] cropzone rect mode\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(mode) {\n            this.getComponent(components.CROPPER).setCropzoneRect(mode);\n        }\n\n        /**\n         * Get cropped image data\n         * @param {Object} cropRect cropzone rect\n         *  @param {Number} cropRect.left left position\n         *  @param {Number} cropRect.top top position\n         *  @param {Number} cropRect.width width\n         *  @param {Number} cropRect.height height\n         * @returns {?{imageName: string, url: string}} cropped Image data\n         */\n\n    }, {\n        key: 'getCroppedImageData',\n        value: function getCroppedImageData(cropRect) {\n            return this.getComponent(components.CROPPER).getCroppedImageData(cropRect);\n        }\n\n        /**\n         * Set brush option\n         * @param {Object} option brush option\n         *  @param {Number} option.width width\n         *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(option) {\n            var drawingMode = this._drawingMode;\n            var compName = components.FREE_DRAWING;\n\n            if (drawingMode === drawingModes.LINE) {\n                compName = drawingModes.LINE;\n            }\n\n            this.getComponent(compName).setBrush(option);\n        }\n\n        /**\n         * Set states of current drawing shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         */\n\n    }, {\n        key: 'setDrawingShape',\n        value: function setDrawingShape(type, options) {\n            this.getComponent(components.SHAPE).setStates(type, options);\n        }\n\n        /**\n         * Register icon paths\n         * @param {Object} pathInfos - Path infos\n         *  @param {string} pathInfos.key - key\n         *  @param {string} pathInfos.value - value\n         */\n\n    }, {\n        key: 'registerPaths',\n        value: function registerPaths(pathInfos) {\n            this.getComponent(components.ICON).registerPaths(pathInfos);\n        }\n\n        /**\n         * Change cursor style\n         * @param {string} cursorType - cursor type\n         */\n\n    }, {\n        key: 'changeCursor',\n        value: function changeCursor(cursorType) {\n            var canvas = this.getCanvas();\n            canvas.defaultCursor = cursorType;\n            canvas.renderAll();\n        }\n\n        /**\n         * Whether it has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: 'hasFilter',\n        value: function hasFilter(type) {\n            return this.getComponent(components.FILTER).hasFilter(type);\n        }\n\n        /**\n         * Set selection style of fabric object by init option\n         * @param {Object} styles - Selection styles\n         */\n\n    }, {\n        key: 'setSelectionStyle',\n        value: function setSelectionStyle(styles) {\n            extend(fObjectOptions.SELECTION_STYLE, styles);\n        }\n\n        /**\n         * Set object properties\n         * @param {number} id - object id\n         * @param {Object} props - props\n         *     @param {string} [props.fill] Color\n         *     @param {string} [props.fontFamily] Font type for text\n         *     @param {number} [props.fontSize] Size\n         *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [props.textAlign] Type of text align (left / center / right)\n         *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n         * @returns {Object} applied properties\n         */\n\n    }, {\n        key: 'setObjectProperties',\n        value: function setObjectProperties(id, props) {\n            var object = this.getObject(id);\n            var clone = extend({}, props);\n\n            object.set(clone);\n\n            object.setCoords();\n\n            this.getCanvas().renderAll();\n\n            return clone;\n        }\n\n        /**\n         * Get object properties corresponding key\n         * @param {number} id - object id\n         * @param {Array<string>|ObjectProps|string} keys - property's key\n         * @returns {Object} properties\n         */\n\n    }, {\n        key: 'getObjectProperties',\n        value: function getObjectProperties(id, keys) {\n            var object = this.getObject(id);\n            var props = {};\n\n            if (isString(keys)) {\n                props[keys] = object[keys];\n            } else if (isArray(keys)) {\n                forEachArray(keys, function (value) {\n                    props[value] = object[value];\n                });\n            } else {\n                forEachOwnProperties(keys, function (value, key) {\n                    props[key] = object[key];\n                });\n            }\n\n            return props;\n        }\n\n        /**\n         * Get object position by originX, originY\n         * @param {number} id - object id\n         * @param {string} originX - can be 'left', 'center', 'right'\n         * @param {string} originY - can be 'top', 'center', 'bottom'\n         * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n         */\n\n    }, {\n        key: 'getObjectPosition',\n        value: function getObjectPosition(id, originX, originY) {\n            var targetObj = this.getObject(id);\n            if (!targetObj) {\n                return null;\n            }\n\n            return targetObj.getPointByOrigin(originX, originY);\n        }\n\n        /**\n         * Set object position  by originX, originY\n         * @param {number} id - object id\n         * @param {Object} posInfo - position object\n         *  @param {number} posInfo.x - x position\n         *  @param {number} posInfo.y - y position\n         *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n         *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n         * @returns {boolean} true if target id is valid or false\n         */\n\n    }, {\n        key: 'setObjectPosition',\n        value: function setObjectPosition(id, posInfo) {\n            var targetObj = this.getObject(id);\n            var x = posInfo.x,\n                y = posInfo.y,\n                originX = posInfo.originX,\n                originY = posInfo.originY;\n\n            if (!targetObj) {\n                return false;\n            }\n\n            var targetOrigin = targetObj.getPointByOrigin(originX, originY);\n            var centerOrigin = targetObj.getPointByOrigin('center', 'center');\n            var diffX = centerOrigin.x - targetOrigin.x;\n            var diffY = centerOrigin.y - targetOrigin.y;\n\n            targetObj.set({\n                left: x + diffX,\n                top: y + diffY\n            });\n\n            targetObj.setCoords();\n\n            return true;\n        }\n\n        /**\n         * Get the canvas size\n         * @returns {Object} {{width: number, height: number}} image size\n         */\n\n    }, {\n        key: 'getCanvasSize',\n        value: function getCanvasSize() {\n            var image = this.getCanvasImage();\n\n            return {\n                width: image ? image.width : 0,\n                height: image ? image.height : 0\n            };\n        }\n\n        /**\n         * Get a DrawingMode instance\n         * @param {string} modeName - DrawingMode Class Name\n         * @returns {DrawingMode} DrawingMode instance\n         * @private\n         */\n\n    }, {\n        key: '_getDrawingModeInstance',\n        value: function _getDrawingModeInstance(modeName) {\n            return this._drawingModeMap[modeName];\n        }\n\n        /**\n         * Set object caching to false. This brought many bugs when draw Shape & cropzone\n         * @see http://fabricjs.com/fabric-object-caching\n         * @private\n         */\n\n    }, {\n        key: '_setObjectCachingToFalse',\n        value: function _setObjectCachingToFalse() {\n            _fabric2.default.Object.prototype.objectCaching = false;\n        }\n\n        /**\n         * Set canvas element to fabric.Canvas\n         * @param {Element|string} element - Wrapper or canvas element or selector\n         * @private\n         */\n\n    }, {\n        key: '_setCanvasElement',\n        value: function _setCanvasElement(element) {\n            var selectedElement = void 0;\n            var canvasElement = void 0;\n\n            if (element.nodeType) {\n                selectedElement = element;\n            } else {\n                selectedElement = document.querySelector(element);\n            }\n\n            if (selectedElement.nodeName.toUpperCase() !== 'CANVAS') {\n                canvasElement = document.createElement('canvas');\n                selectedElement.appendChild(canvasElement);\n            }\n\n            this._canvas = new _fabric2.default.Canvas(canvasElement, {\n                containerClass: 'tui-image-editor-canvas-container',\n                enableRetinaScaling: false\n            });\n        }\n\n        /**\n         * Creates DrawingMode instances\n         * @private\n         */\n\n    }, {\n        key: '_createDrawingModeInstances',\n        value: function _createDrawingModeInstances() {\n            this._register(this._drawingModeMap, new _cropper4.default());\n            this._register(this._drawingModeMap, new _freeDrawing4.default());\n            this._register(this._drawingModeMap, new _lineDrawing2.default());\n            this._register(this._drawingModeMap, new _shape4.default());\n            this._register(this._drawingModeMap, new _text4.default());\n        }\n\n        /**\n         * Create components\n         * @private\n         */\n\n    }, {\n        key: '_createComponents',\n        value: function _createComponents() {\n            this._register(this._componentMap, new _imageLoader2.default(this));\n            this._register(this._componentMap, new _cropper2.default(this));\n            this._register(this._componentMap, new _flip2.default(this));\n            this._register(this._componentMap, new _rotation2.default(this));\n            this._register(this._componentMap, new _freeDrawing2.default(this));\n            this._register(this._componentMap, new _line2.default(this));\n            this._register(this._componentMap, new _text2.default(this));\n            this._register(this._componentMap, new _icon2.default(this));\n            this._register(this._componentMap, new _filter2.default(this));\n            this._register(this._componentMap, new _shape2.default(this));\n        }\n\n        /**\n         * Register component\n         * @param {Object} map - map object\n         * @param {Object} module - module which has getName method\n         * @private\n         */\n\n    }, {\n        key: '_register',\n        value: function _register(map, module) {\n            map[module.getName()] = module;\n        }\n\n        /**\n         * Get the current drawing mode is same with given mode\n         * @param {string} mode drawing mode\n         * @returns {boolean} true if same or false\n         */\n\n    }, {\n        key: '_isSameDrawingMode',\n        value: function _isSameDrawingMode(mode) {\n            return this.getDrawingMode() === mode;\n        }\n\n        /**\n         * Calculate max dimension of canvas\n         * The css-max dimension is dynamically decided with maintaining image ratio\n         * The css-max dimension is lower than canvas dimension (attribute of canvas, not css)\n         * @param {number} width - Canvas width\n         * @param {number} height - Canvas height\n         * @returns {{width: number, height: number}} - Max width & Max height\n         * @private\n         */\n\n    }, {\n        key: '_calcMaxDimension',\n        value: function _calcMaxDimension(width, height) {\n            var wScaleFactor = this.cssMaxWidth / width;\n            var hScaleFactor = this.cssMaxHeight / height;\n            var cssMaxWidth = Math.min(width, this.cssMaxWidth);\n            var cssMaxHeight = Math.min(height, this.cssMaxHeight);\n\n            if (wScaleFactor < 1 && wScaleFactor < hScaleFactor) {\n                cssMaxWidth = width * wScaleFactor;\n                cssMaxHeight = height * wScaleFactor;\n            } else if (hScaleFactor < 1 && hScaleFactor < wScaleFactor) {\n                cssMaxWidth = width * hScaleFactor;\n                cssMaxHeight = height * hScaleFactor;\n            }\n\n            return {\n                width: Math.floor(cssMaxWidth),\n                height: Math.floor(cssMaxHeight)\n            };\n        }\n\n        /**\n         * Callback function after loading image\n         * @param {fabric.Image} obj - Fabric image object\n         * @private\n         */\n\n    }, {\n        key: '_callbackAfterLoadingImageObject',\n        value: function _callbackAfterLoadingImageObject(obj) {\n            var centerPos = this.getCanvasImage().getCenterPoint();\n\n            obj.set(_consts2.default.fObjectOptions.SELECTION_STYLE);\n            obj.set({\n                left: centerPos.x,\n                top: centerPos.y,\n                crossOrigin: 'Anonymous'\n            });\n\n            this.getCanvas().add(obj).setActiveObject(obj);\n        }\n\n        /**\n         * Attach canvas's events\n         */\n\n    }, {\n        key: '_attachCanvasEvents',\n        value: function _attachCanvasEvents() {\n            var canvas = this._canvas;\n            var handler = this._handler;\n            canvas.on({\n                'mouse:down': handler.onMouseDown,\n                'object:added': handler.onObjectAdded,\n                'object:removed': handler.onObjectRemoved,\n                'object:moving': handler.onObjectMoved,\n                'object:scaling': handler.onObjectScaled,\n                'object:rotating': handler.onObjectRotated,\n                'object:selected': handler.onObjectSelected,\n                'path:created': handler.onPathCreated,\n                'selection:cleared': handler.onSelectionCleared,\n                'selection:created': handler.onSelectionCreated,\n                'selection:updated': handler.onObjectSelected\n            });\n        }\n\n        /**\n         * \"mouse:down\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onMouseDown',\n        value: function _onMouseDown(fEvent) {\n            var originPointer = this._canvas.getPointer(fEvent.e);\n            this.fire(events.MOUSE_DOWN, fEvent.e, originPointer);\n        }\n\n        /**\n         * \"object:added\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectAdded',\n        value: function _onObjectAdded(fEvent) {\n            var obj = fEvent.target;\n            if (obj.isType('cropzone')) {\n                return;\n            }\n\n            this._addFabricObject(obj);\n        }\n\n        /**\n         * \"object:removed\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRemoved',\n        value: function _onObjectRemoved(fEvent) {\n            var obj = fEvent.target;\n\n            this._removeFabricObject(stamp(obj));\n        }\n\n        /**\n         * \"object:moving\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectMoved',\n        value: function _onObjectMoved(fEvent) {\n            var _this2 = this;\n\n            this._lazyFire(events.OBJECT_MOVED, function (object) {\n                return _this2.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * \"object:scaling\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectScaled',\n        value: function _onObjectScaled(fEvent) {\n            var _this3 = this;\n\n            this._lazyFire(events.OBJECT_SCALED, function (object) {\n                return _this3.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * \"object:rotating\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRotated',\n        value: function _onObjectRotated(fEvent) {\n            var _this4 = this;\n\n            this._lazyFire(events.OBJECT_ROTATED, function (object) {\n                return _this4.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * Lazy event emitter\n         * @param {string} eventName - event name\n         * @param {Function} paramsMaker - make param function\n         * @param {Object} [target] - Object of the event owner.\n         * @private\n         */\n\n    }, {\n        key: '_lazyFire',\n        value: function _lazyFire(eventName, paramsMaker, target) {\n            var _this5 = this;\n\n            var existEventDelegation = target && target.canvasEventDelegation;\n            var delegationState = existEventDelegation ? target.canvasEventDelegation(eventName) : 'none';\n\n            if (delegationState === 'unregisted') {\n                target.canvasEventRegister(eventName, function (object) {\n                    _this5.fire(eventName, paramsMaker(object));\n                });\n            }\n\n            if (delegationState === 'none') {\n                this.fire(eventName, paramsMaker(target));\n            }\n        }\n\n        /**\n         * \"object:selected\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectSelected',\n        value: function _onObjectSelected(fEvent) {\n            var target = fEvent.target;\n\n            var params = this.createObjectProperties(target);\n\n            this.fire(events.OBJECT_ACTIVATED, params);\n        }\n\n        /**\n         * \"path:created\" canvas event handler\n         * @param {{path: fabric.Path}} obj - Path object\n         * @private\n         */\n\n    }, {\n        key: '_onPathCreated',\n        value: function _onPathCreated(obj) {\n            var _obj$path$getCenterPo = obj.path.getCenterPoint(),\n                left = _obj$path$getCenterPo.x,\n                top = _obj$path$getCenterPo.y;\n\n            obj.path.set(extend({\n                left: left,\n                top: top\n            }, _consts2.default.fObjectOptions.SELECTION_STYLE));\n\n            var params = this.createObjectProperties(obj.path);\n\n            this.fire(events.ADD_OBJECT, params);\n        }\n\n        /**\n         * \"selction:cleared\" canvas event handler\n         * @private\n         */\n\n    }, {\n        key: '_onSelectionCleared',\n        value: function _onSelectionCleared() {\n            this.fire(events.SELECTION_CLEARED);\n        }\n\n        /**\n         * \"selction:created\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onSelectionCreated',\n        value: function _onSelectionCreated(fEvent) {\n            this.fire(events.SELECTION_CREATED, fEvent.target);\n        }\n\n        /**\n         * Canvas discard selection all\n         */\n\n    }, {\n        key: 'discardSelection',\n        value: function discardSelection() {\n            this._canvas.discardActiveObject();\n            this._canvas.renderAll();\n        }\n\n        /**\n         * Canvas Selectable status change\n         * @param {boolean} selectable - expect status\n         */\n\n    }, {\n        key: 'changeSelectableAll',\n        value: function changeSelectableAll(selectable) {\n            this._canvas.forEachObject(function (obj) {\n                obj.selectable = selectable;\n                obj.hoverCursor = selectable ? 'move' : 'crosshair';\n            });\n        }\n\n        /**\n         * Return object's properties\n         * @param {fabric.Object} obj - fabric object\n         * @returns {Object} properties object\n         */\n\n    }, {\n        key: 'createObjectProperties',\n        value: function createObjectProperties(obj) {\n            var predefinedKeys = ['left', 'top', 'width', 'height', 'fill', 'stroke', 'strokeWidth', 'opacity', 'angle'];\n            var props = {\n                id: stamp(obj),\n                type: obj.type\n            };\n\n            extend(props, _util2.default.getProperties(obj, predefinedKeys));\n\n            if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                extend(props, this._createTextProperties(obj, props));\n            }\n\n            return props;\n        }\n\n        /**\n         * Get text object's properties\n         * @param {fabric.Object} obj - fabric text object\n         * @param {Object} props - properties\n         * @returns {Object} properties object\n         */\n\n    }, {\n        key: '_createTextProperties',\n        value: function _createTextProperties(obj) {\n            var predefinedKeys = ['text', 'fontFamily', 'fontSize', 'fontStyle', 'textAlign', 'textDecoration', 'fontWeight'];\n            var props = {};\n            extend(props, _util2.default.getProperties(obj, predefinedKeys));\n\n            return props;\n        }\n\n        /**\n         * Add object array by id\n         * @param {fabric.Object} obj - fabric object\n         * @returns {number} object id\n         */\n\n    }, {\n        key: '_addFabricObject',\n        value: function _addFabricObject(obj) {\n            var id = stamp(obj);\n            this._objects[id] = obj;\n\n            return id;\n        }\n\n        /**\n         * Remove an object in array yb id\n         * @param {number} id - object id\n         */\n\n    }, {\n        key: '_removeFabricObject',\n        value: function _removeFabricObject(id) {\n            delete this._objects[id];\n        }\n\n        /**\n         * Reset targetObjectForCopyPaste value from activeObject\n         */\n\n    }, {\n        key: 'resetTargetObjectForCopyPaste',\n        value: function resetTargetObjectForCopyPaste() {\n            var activeObject = this.getActiveObject();\n\n            if (activeObject) {\n                this.targetObjectForCopyPaste = activeObject;\n            }\n        }\n\n        /**\n         * Paste fabric object\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'pasteObject',\n        value: function pasteObject() {\n            var _this6 = this;\n\n            if (!this.targetObjectForCopyPaste) {\n                return _promise2.default.resolve([]);\n            }\n\n            var targetObject = this.targetObjectForCopyPaste;\n            var isGroupSelect = targetObject.type === 'activeSelection';\n            var targetObjects = isGroupSelect ? targetObject.getObjects() : [targetObject];\n            var newTargetObject = null;\n\n            this.discardSelection();\n\n            return this._cloneObject(targetObjects).then(function (addedObjects) {\n                if (addedObjects.length > 1) {\n                    newTargetObject = _this6.getActiveSelectionFromObjects(addedObjects);\n                } else {\n                    newTargetObject = addedObjects[0];\n                }\n                _this6.targetObjectForCopyPaste = newTargetObject;\n                _this6.setActiveObject(newTargetObject);\n            });\n        }\n\n        /**\n         * Clone object\n         * @param {fabric.Object} targetObjects - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_cloneObject',\n        value: function _cloneObject(targetObjects) {\n            var _this7 = this;\n\n            var addedObjects = _tuiCodeSnippet2.default.map(targetObjects, function (targetObject) {\n                return _this7._cloneObjectItem(targetObject);\n            });\n\n            return _promise2.default.all(addedObjects);\n        }\n\n        /**\n         * Clone object one item\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_cloneObjectItem',\n        value: function _cloneObjectItem(targetObject) {\n            var _this8 = this;\n\n            return this._copyFabricObjectForPaste(targetObject).then(function (clonedObject) {\n                var objectProperties = _this8.createObjectProperties(clonedObject);\n                _this8.add(clonedObject);\n\n                _this8.fire(events.ADD_OBJECT, objectProperties);\n\n                return clonedObject;\n            });\n        }\n\n        /**\n         * Copy fabric object with Changed position for copy and paste\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_copyFabricObjectForPaste',\n        value: function _copyFabricObjectForPaste(targetObject) {\n            var _this9 = this;\n\n            var addExtraPx = function addExtraPx(value, isReverse) {\n                return isReverse ? value - EXTRA_PX_FOR_PASTE : value + EXTRA_PX_FOR_PASTE;\n            };\n\n            return this._copyFabricObject(targetObject).then(function (clonedObject) {\n                var left = clonedObject.left,\n                    top = clonedObject.top,\n                    width = clonedObject.width,\n                    height = clonedObject.height;\n\n                var _getCanvasSize = _this9.getCanvasSize(),\n                    canvasWidth = _getCanvasSize.width,\n                    canvasHeight = _getCanvasSize.height;\n\n                var rightEdge = left + width / 2;\n                var bottomEdge = top + height / 2;\n\n                clonedObject.set(_tuiCodeSnippet2.default.extend({\n                    left: addExtraPx(left, rightEdge + EXTRA_PX_FOR_PASTE > canvasWidth),\n                    top: addExtraPx(top, bottomEdge + EXTRA_PX_FOR_PASTE > canvasHeight)\n                }, _consts2.default.fObjectOptions.SELECTION_STYLE));\n\n                return clonedObject;\n            });\n        }\n\n        /**\n         * Copy fabric object\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_copyFabricObject',\n        value: function _copyFabricObject(targetObject) {\n            return new _promise2.default(function (resolve) {\n                targetObject.clone(function (cloned) {\n                    resolve(cloned);\n                });\n            });\n        }\n    }]);\n\n    return Graphics;\n}();\n\nCustomEvents.mixin(Graphics);\nmodule.exports = Graphics;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/graphics.js?")},"./src/js/helper/imagetracer.js":function srcJsHelperImagetracerJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n  imagetracer.js version 1.2.4\n  Simple raster image tracer and vectorizer written in JavaScript.\n  andras@jankovics.net\n*/\n\n/*\n  The Unlicense / PUBLIC DOMAIN\n  This is free and unencumbered software released into the public domain.\n  Anyone is free to copy, modify, publish, use, compile, sell, or\n  distribute this software, either in source code form or as a compiled\n  binary, for any purpose, commercial or non-commercial, and by any\n  means.\n  In jurisdictions that recognize copyright laws, the author or authors\n  of this software dedicate any and all copyright interest in the\n  software to the public domain. We make this dedication for the benefit\n  of the public at large and to the detriment of our heirs and\n  successors. We intend this dedication to be an overt act of\n  relinquishment in perpetuity of all present and future rights to this\n  software under copyright law.\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n  IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n  OTHER DEALINGS IN THE SOFTWARE.\n  For more information, please refer to http://unlicense.org/\n*/\nvar ImageTracer = function () {\n    _createClass(ImageTracer, null, [{\n        key: 'tracerDefaultOption',\n        value: function tracerDefaultOption() {\n            return {\n                pathomit: 100,\n                ltres: 0.1,\n                qtres: 1,\n\n                scale: 1,\n                strokewidth: 5,\n                viewbox: false,\n                linefilter: true,\n                desc: false,\n                rightangleenhance: false,\n                pal: [{\n                    r: 0,\n                    g: 0,\n                    b: 0,\n                    a: 255\n                }, {\n                    r: 255,\n                    g: 255,\n                    b: 255,\n                    a: 255\n                }]\n            };\n        }\n        /* eslint-disable */\n\n    }]);\n\n    function ImageTracer() {\n        _classCallCheck(this, ImageTracer);\n\n        this.versionnumber = '1.2.4';\n        this.optionpresets = {\n            default: {\n                corsenabled: false,\n                ltres: 1,\n                qtres: 1,\n                pathomit: 8,\n                rightangleenhance: true,\n                colorsampling: 2,\n                numberofcolors: 16,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                layering: 0,\n                strokewidth: 1,\n                linefilter: false,\n                scale: 1,\n                roundcoords: 1,\n                viewbox: false,\n                desc: false,\n                lcpr: 0,\n                qcpr: 0,\n                blurradius: 0,\n                blurdelta: 20\n            },\n            'posterized1': {\n                colorsampling: 0,\n                numberofcolors: 2\n            },\n            'posterized2': {\n                numberofcolors: 4,\n                blurradius: 5\n            },\n            'curvy': {\n                ltres: 0.01,\n                linefilter: true,\n                rightangleenhance: false },\n            'sharp': { qtres: 0.01,\n                linefilter: false },\n            'detailed': { pathomit: 0,\n                roundcoords: 2,\n                ltres: 0.5,\n                qtres: 0.5,\n                numberofcolors: 64 },\n            'smoothed': { blurradius: 5,\n                blurdelta: 64 },\n            'grayscale': { colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 7 },\n            'fixedpalette': { colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 27 },\n            'randomsampling1': { colorsampling: 1,\n                numberofcolors: 8 },\n            'randomsampling2': { colorsampling: 1,\n                numberofcolors: 64 },\n            'artistic1': { colorsampling: 0,\n                colorquantcycles: 1,\n                pathomit: 0,\n                blurradius: 5,\n                blurdelta: 64,\n                ltres: 0.01,\n                linefilter: true,\n                numberofcolors: 16,\n                strokewidth: 2 },\n            'artistic2': { qtres: 0.01,\n                colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 4,\n                strokewidth: 0 },\n            'artistic3': { qtres: 10,\n                ltres: 10,\n                numberofcolors: 8 },\n            'artistic4': { qtres: 10,\n                ltres: 10,\n                numberofcolors: 64,\n                blurradius: 5,\n                blurdelta: 256,\n                strokewidth: 2 },\n            'posterized3': { ltres: 1,\n                qtres: 1,\n                pathomit: 20,\n                rightangleenhance: true,\n                colorsampling: 0,\n                numberofcolors: 3,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                blurradius: 3,\n                blurdelta: 20,\n                strokewidth: 0,\n                linefilter: false,\n                roundcoords: 1,\n                pal: [{ r: 0,\n                    g: 0,\n                    b: 100,\n                    a: 255 }, { r: 255,\n                    g: 255,\n                    b: 255,\n                    a: 255 }] }\n        };\n\n        this.pathscan_combined_lookup = [[[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[13, 3, 0, 1], [13, 2, -1, 0], [7, 1, 0, -1], [7, 0, 1, 0]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[11, 1, 0, -1], [14, 0, 1, 0], [14, 3, 0, 1], [11, 2, -1, 0]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]]];\n\n        this.gks = [[0.27901, 0.44198, 0.27901], [0.135336, 0.228569, 0.272192, 0.228569, 0.135336], [0.086776, 0.136394, 0.178908, 0.195843, 0.178908, 0.136394, 0.086776], [0.063327, 0.093095, 0.122589, 0.144599, 0.152781, 0.144599, 0.122589, 0.093095, 0.063327], [0.049692, 0.069304, 0.089767, 0.107988, 0.120651, 0.125194, 0.120651, 0.107988, 0.089767, 0.069304, 0.049692]];\n\n        this.specpalette = [{ r: 0, g: 0, b: 0, a: 255 }, { r: 128, g: 128, b: 128, a: 255 }, { r: 0, g: 0, b: 128, a: 255 }, { r: 64, g: 64, b: 128, a: 255 }, { r: 192, g: 192, b: 192, a: 255 }, { r: 255, g: 255, b: 255, a: 255 }, { r: 128, g: 128, b: 192, a: 255 }, { r: 0, g: 0, b: 192, a: 255 }, { r: 128, g: 0, b: 0, a: 255 }, { r: 128, g: 64, b: 64, a: 255 }, { r: 128, g: 0, b: 128, a: 255 }, { r: 168, g: 168, b: 168, a: 255 }, { r: 192, g: 128, b: 128, a: 255 }, { r: 192, g: 0, b: 0, a: 255 }, { r: 255, g: 255, b: 255, a: 255 }, { r: 0, g: 128, b: 0, a: 255 }];\n    }\n\n    _createClass(ImageTracer, [{\n        key: 'imageToSVG',\n        value: function imageToSVG(url, callback, options) {\n            var _this = this;\n\n            options = this.checkoptions(options);\n            this.loadImage(url, function (canvas) {\n                callback(_this.imagedataToSVG(_this.getImgdata(canvas), options));\n            }, options);\n        }\n    }, {\n        key: 'imagedataToSVG',\n        value: function imagedataToSVG(imgd, options) {\n            options = this.checkoptions(options);\n            var td = this.imagedataToTracedata(imgd, options);\n\n            return this.getsvgstring(td, options);\n        }\n    }, {\n        key: 'imageToTracedata',\n        value: function imageToTracedata(url, callback, options) {\n            var _this2 = this;\n\n            options = this.checkoptions(options);\n            this.loadImage(url, function (canvas) {\n                callback(_this2.imagedataToTracedata(_this2.getImgdata(canvas), options));\n            }, options);\n        }\n    }, {\n        key: 'imagedataToTracedata',\n        value: function imagedataToTracedata(imgd, options) {\n            options = this.checkoptions(options);\n            var ii = this.colorquantization(imgd, options);\n            var tracedata = void 0;\n            if (options.layering === 0) {\n                tracedata = {\n                    layers: [],\n                    palette: ii.palette,\n                    width: ii.array[0].length - 2,\n                    height: ii.array.length - 2\n                };\n\n                for (var colornum = 0; colornum < ii.palette.length; colornum += 1) {\n                    var tracedlayer = this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(ii, colornum), options.pathomit), options), options.ltres, options.qtres);\n                    tracedata.layers.push(tracedlayer);\n                }\n            } else {\n                var ls = this.layering(ii);\n                if (options.layercontainerid) {\n                    this.drawLayers(ls, this.specpalette, options.scale, options.layercontainerid);\n                }\n                var bps = this.batchpathscan(ls, options.pathomit);\n                var bis = this.batchinternodes(bps, options);\n                tracedata = {\n                    layers: this.batchtracelayers(bis, options.ltres, options.qtres),\n                    palette: ii.palette,\n                    width: imgd.width,\n                    height: imgd.height\n                };\n            }\n\n            return tracedata;\n        }\n    }, {\n        key: 'checkoptions',\n        value: function checkoptions(options) {\n            options = options || {};\n            if (typeof options === 'string') {\n                options = options.toLowerCase();\n                if (this.optionpresets[options]) {\n                    options = this.optionpresets[options];\n                } else {\n                    options = {};\n                }\n            }\n            var ok = Object.keys(this.optionpresets['default']);\n            for (var k = 0; k < ok.length; k += 1) {\n                if (!options.hasOwnProperty(ok[k])) {\n                    options[ok[k]] = this.optionpresets['default'][ok[k]];\n                }\n            }\n\n            return options;\n        }\n    }, {\n        key: 'colorquantization',\n        value: function colorquantization(imgd, options) {\n            var arr = [];\n            var idx = 0;\n            var cd = void 0;\n            var cdl = void 0;\n            var ci = void 0;\n            var paletteacc = [];\n            var pixelnum = imgd.width * imgd.height;\n            var i = void 0;\n            var j = void 0;\n            var k = void 0;\n            var cnt = void 0;\n            var palette = void 0;\n\n            for (j = 0; j < imgd.height + 2; j += 1) {\n                arr[j] = [];\n                for (i = 0; i < imgd.width + 2; i += 1) {\n                    arr[j][i] = -1;\n                }\n            }\n            if (options.pal) {\n                palette = options.pal;\n            } else if (options.colorsampling === 0) {\n                palette = this.generatepalette(options.numberofcolors);\n            } else if (options.colorsampling === 1) {\n                palette = this.samplepalette(options.numberofcolors, imgd);\n            } else {\n                palette = this.samplepalette2(options.numberofcolors, imgd);\n            }\n            if (options.blurradius > 0) {\n                imgd = this.blur(imgd, options.blurradius, options.blurdelta);\n            }\n            for (cnt = 0; cnt < options.colorquantcycles; cnt += 1) {\n                if (cnt > 0) {\n                    for (k = 0; k < palette.length; k += 1) {\n                        if (paletteacc[k].n > 0) {\n                            palette[k] = { r: Math.floor(paletteacc[k].r / paletteacc[k].n),\n                                g: Math.floor(paletteacc[k].g / paletteacc[k].n),\n                                b: Math.floor(paletteacc[k].b / paletteacc[k].n),\n                                a: Math.floor(paletteacc[k].a / paletteacc[k].n) };\n                        }\n\n                        if (paletteacc[k].n / pixelnum < options.mincolorratio && cnt < options.colorquantcycles - 1) {\n                            palette[k] = { r: Math.floor(Math.random() * 255),\n                                g: Math.floor(Math.random() * 255),\n                                b: Math.floor(Math.random() * 255),\n                                a: Math.floor(Math.random() * 255) };\n                        }\n                    }\n                }\n\n                for (i = 0; i < palette.length; i += 1) {\n                    paletteacc[i] = { r: 0,\n                        g: 0,\n                        b: 0,\n                        a: 0,\n                        n: 0 };\n                }\n\n                for (j = 0; j < imgd.height; j += 1) {\n                    for (i = 0; i < imgd.width; i += 1) {\n                        idx = (j * imgd.width + i) * 4;\n\n                        ci = 0;\n                        cdl = 1024;\n                        for (k = 0; k < palette.length; k += 1) {\n                            cd = Math.abs(palette[k].r - imgd.data[idx]) + Math.abs(palette[k].g - imgd.data[idx + 1]) + Math.abs(palette[k].b - imgd.data[idx + 2]) + Math.abs(palette[k].a - imgd.data[idx + 3]);\n\n                            if (cd < cdl) {\n                                cdl = cd;\n                                ci = k;\n                            }\n                        }\n\n                        paletteacc[ci].r += imgd.data[idx];\n                        paletteacc[ci].g += imgd.data[idx + 1];\n                        paletteacc[ci].b += imgd.data[idx + 2];\n                        paletteacc[ci].a += imgd.data[idx + 3];\n                        paletteacc[ci].n += 1;\n\n                        arr[j + 1][i + 1] = ci;\n                    }\n                }\n            }\n\n            return { array: arr,\n                palette: palette };\n        }\n    }, {\n        key: 'samplepalette',\n        value: function samplepalette(numberofcolors, imgd) {\n            var idx = void 0;\n            var palette = [];\n            for (var i = 0; i < numberofcolors; i += 1) {\n                idx = Math.floor(Math.random() * imgd.data.length / 4) * 4;\n                palette.push({ r: imgd.data[idx],\n                    g: imgd.data[idx + 1],\n                    b: imgd.data[idx + 2],\n                    a: imgd.data[idx + 3] });\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'samplepalette2',\n        value: function samplepalette2(numberofcolors, imgd) {\n            var idx = void 0;\n            var palette = [];\n            var ni = Math.ceil(Math.sqrt(numberofcolors));\n            var nj = Math.ceil(numberofcolors / ni);\n            var vx = imgd.width / (ni + 1);\n            var vy = imgd.height / (nj + 1);\n            for (var j = 0; j < nj; j += 1) {\n                for (var i = 0; i < ni; i += 1) {\n                    if (palette.length === numberofcolors) {\n                        break;\n                    } else {\n                        idx = Math.floor((j + 1) * vy * imgd.width + (i + 1) * vx) * 4;\n                        palette.push({ r: imgd.data[idx],\n                            g: imgd.data[idx + 1],\n                            b: imgd.data[idx + 2],\n                            a: imgd.data[idx + 3] });\n                    }\n                }\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'generatepalette',\n        value: function generatepalette(numberofcolors) {\n            var palette = [];\n            var rcnt = void 0;\n            var gcnt = void 0;\n            var bcnt = void 0;\n            if (numberofcolors < 8) {\n                var graystep = Math.floor(255 / (numberofcolors - 1));\n                for (var i = 0; i < numberofcolors; i += 1) {\n                    palette.push({ r: i * graystep,\n                        g: i * graystep,\n                        b: i * graystep,\n                        a: 255 });\n                }\n            } else {\n                var colorqnum = Math.floor(Math.pow(numberofcolors, 1 / 3));\n                var colorstep = Math.floor(255 / (colorqnum - 1));\n                var rndnum = numberofcolors - colorqnum * colorqnum * colorqnum;\n                for (rcnt = 0; rcnt < colorqnum; rcnt += 1) {\n                    for (gcnt = 0; gcnt < colorqnum; gcnt += 1) {\n                        for (bcnt = 0; bcnt < colorqnum; bcnt += 1) {\n                            palette.push({ r: rcnt * colorstep,\n                                g: gcnt * colorstep,\n                                b: bcnt * colorstep,\n                                a: 255 });\n                        }\n                    }\n                }\n                for (rcnt = 0; rcnt < rndnum; rcnt += 1) {\n                    palette.push({ r: Math.floor(Math.random() * 255),\n                        g: Math.floor(Math.random() * 255),\n                        b: Math.floor(Math.random() * 255),\n                        a: Math.floor(Math.random() * 255) });\n                }\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'layering',\n        value: function layering(ii) {\n            var layers = [];\n            var val = 0;\n            var ah = ii.array.length;\n            var aw = ii.array[0].length;\n            var n1 = void 0;\n            var n2 = void 0;\n            var n3 = void 0;\n            var n4 = void 0;\n            var n5 = void 0;\n            var n6 = void 0;\n            var n7 = void 0;\n            var n8 = void 0;\n            var i = void 0;\n            var j = void 0;\n            var k = void 0;\n            for (k = 0; k < ii.palette.length; k += 1) {\n                layers[k] = [];\n                for (j = 0; j < ah; j += 1) {\n                    layers[k][j] = [];\n                    for (i = 0; i < aw; i += 1) {\n                        layers[k][j][i] = 0;\n                    }\n                }\n            }\n            for (j = 1; j < ah - 1; j += 1) {\n                for (i = 1; i < aw - 1; i += 1) {\n                    val = ii.array[j][i];\n\n                    n1 = ii.array[j - 1][i - 1] === val ? 1 : 0;\n                    n2 = ii.array[j - 1][i] === val ? 1 : 0;\n                    n3 = ii.array[j - 1][i + 1] === val ? 1 : 0;\n                    n4 = ii.array[j][i - 1] === val ? 1 : 0;\n                    n5 = ii.array[j][i + 1] === val ? 1 : 0;\n                    n6 = ii.array[j + 1][i - 1] === val ? 1 : 0;\n                    n7 = ii.array[j + 1][i] === val ? 1 : 0;\n                    n8 = ii.array[j + 1][i + 1] === val ? 1 : 0;\n\n                    layers[val][j + 1][i + 1] = 1 + n5 * 2 + n8 * 4 + n7 * 8;\n                    if (!n4) {\n                        layers[val][j + 1][i] = 0 + 2 + n7 * 4 + n6 * 8;\n                    }\n                    if (!n2) {\n                        layers[val][j][i + 1] = 0 + n3 * 2 + n5 * 4 + 8;\n                    }\n                    if (!n1) {\n                        layers[val][j][i] = 0 + n2 * 2 + 4 + n4 * 8;\n                    }\n                }\n            }\n\n            return layers;\n        }\n    }, {\n        key: 'layeringstep',\n        value: function layeringstep(ii, cnum) {\n            var layer = [];\n            var ah = ii.array.length;\n            var aw = ii.array[0].length;\n            var i = void 0;\n            var j = void 0;\n            for (j = 0; j < ah; j += 1) {\n                layer[j] = [];\n                for (i = 0; i < aw; i += 1) {\n                    layer[j][i] = 0;\n                }\n            }\n            for (j = 1; j < ah; j += 1) {\n                for (i = 1; i < aw; i += 1) {\n                    layer[j][i] = (ii.array[j - 1][i - 1] === cnum ? 1 : 0) + (ii.array[j - 1][i] === cnum ? 2 : 0) + (ii.array[j][i - 1] === cnum ? 8 : 0) + (ii.array[j][i] === cnum ? 4 : 0);\n                }\n            }\n\n            return layer;\n        }\n    }, {\n        key: 'pathscan',\n        value: function pathscan(arr, pathomit) {\n            var paths = [];\n            var pacnt = 0;\n            var pcnt = 0;\n            var px = 0;\n            var py = 0;\n            var w = arr[0].length;\n            var h = arr.length;\n            var dir = 0;\n            var pathfinished = true;\n            var holepath = false;\n            var lookuprow = void 0;\n            for (var j = 0; j < h; j += 1) {\n                for (var i = 0; i < w; i += 1) {\n                    if (arr[j][i] === 4 || arr[j][i] === 11) {\n                        px = i;\n                        py = j;\n                        paths[pacnt] = {};\n                        paths[pacnt].points = [];\n                        paths[pacnt].boundingbox = [px, py, px, py];\n                        paths[pacnt].holechildren = [];\n                        pathfinished = false;\n                        pcnt = 0;\n                        holepath = arr[j][i] === 11;\n                        dir = 1;\n\n                        while (!pathfinished) {\n                            paths[pacnt].points[pcnt] = {};\n                            paths[pacnt].points[pcnt].x = px - 1;\n                            paths[pacnt].points[pcnt].y = py - 1;\n                            paths[pacnt].points[pcnt].t = arr[py][px];\n\n                            if (px - 1 < paths[pacnt].boundingbox[0]) {\n                                paths[pacnt].boundingbox[0] = px - 1;\n                            }\n                            if (px - 1 > paths[pacnt].boundingbox[2]) {\n                                paths[pacnt].boundingbox[2] = px - 1;\n                            }\n                            if (py - 1 < paths[pacnt].boundingbox[1]) {\n                                paths[pacnt].boundingbox[1] = py - 1;\n                            }\n                            if (py - 1 > paths[pacnt].boundingbox[3]) {\n                                paths[pacnt].boundingbox[3] = py - 1;\n                            }\n\n                            lookuprow = this.pathscan_combined_lookup[arr[py][px]][dir];\n                            arr[py][px] = lookuprow[0];dir = lookuprow[1];px += lookuprow[2];py += lookuprow[3];\n\n                            if (px - 1 === paths[pacnt].points[0].x && py - 1 === paths[pacnt].points[0].y) {\n                                pathfinished = true;\n\n                                if (paths[pacnt].points.length < pathomit) {\n                                    paths.pop();\n                                } else {\n                                    paths[pacnt].isholepath = !!holepath;\n\n                                    if (holepath) {\n                                        var parentidx = 0,\n                                            parentbbox = [-1, -1, w + 1, h + 1];\n                                        for (var parentcnt = 0; parentcnt < pacnt; parentcnt++) {\n                                            if (!paths[parentcnt].isholepath && this.boundingboxincludes(paths[parentcnt].boundingbox, paths[pacnt].boundingbox) && this.boundingboxincludes(parentbbox, paths[parentcnt].boundingbox)) {\n                                                parentidx = parentcnt;\n                                                parentbbox = paths[parentcnt].boundingbox;\n                                            }\n                                        }\n                                        paths[parentidx].holechildren.push(pacnt);\n                                    }\n                                    pacnt += 1;\n                                }\n                            }\n                            pcnt += 1;\n                        }\n                    }\n                }\n            }\n\n            return paths;\n        }\n    }, {\n        key: 'boundingboxincludes',\n        value: function boundingboxincludes(parentbbox, childbbox) {\n            return parentbbox[0] < childbbox[0] && parentbbox[1] < childbbox[1] && parentbbox[2] > childbbox[2] && parentbbox[3] > childbbox[3];\n        }\n    }, {\n        key: 'batchpathscan',\n        value: function batchpathscan(layers, pathomit) {\n            var bpaths = [];\n            for (var k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                    continue;\n                }\n                bpaths[k] = this.pathscan(layers[k], pathomit);\n            }\n\n            return bpaths;\n        }\n    }, {\n        key: 'internodes',\n        value: function internodes(paths, options) {\n            var ins = [];\n            var palen = 0;\n            var nextidx = 0;\n            var nextidx2 = 0;\n            var previdx = 0;\n            var previdx2 = 0;\n            var pacnt = void 0;\n            var pcnt = void 0;\n            for (pacnt = 0; pacnt < paths.length; pacnt += 1) {\n                ins[pacnt] = {};\n                ins[pacnt].points = [];\n                ins[pacnt].boundingbox = paths[pacnt].boundingbox;\n                ins[pacnt].holechildren = paths[pacnt].holechildren;\n                ins[pacnt].isholepath = paths[pacnt].isholepath;\n                palen = paths[pacnt].points.length;\n\n                for (pcnt = 0; pcnt < palen; pcnt += 1) {\n                    nextidx = (pcnt + 1) % palen;nextidx2 = (pcnt + 2) % palen;previdx = (pcnt - 1 + palen) % palen;previdx2 = (pcnt - 2 + palen) % palen;\n\n                    if (options.rightangleenhance && this.testrightangle(paths[pacnt], previdx2, previdx, pcnt, nextidx, nextidx2)) {\n                        if (ins[pacnt].points.length > 0) {\n                            ins[pacnt].points[ins[pacnt].points.length - 1].linesegment = this.getdirection(ins[pacnt].points[ins[pacnt].points.length - 1].x, ins[pacnt].points[ins[pacnt].points.length - 1].y, paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y);\n                        }\n\n                        ins[pacnt].points.push({\n                            x: paths[pacnt].points[pcnt].x,\n                            y: paths[pacnt].points[pcnt].y,\n                            linesegment: this.getdirection(paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y, (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2)\n                        });\n                    }\n\n                    ins[pacnt].points.push({\n                        x: (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n                        y: (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2,\n                        linesegment: this.getdirection((paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2, (paths[pacnt].points[nextidx].x + paths[pacnt].points[nextidx2].x) / 2, (paths[pacnt].points[nextidx].y + paths[pacnt].points[nextidx2].y) / 2)\n                    });\n                }\n            }\n\n            return ins;\n        }\n    }, {\n        key: 'testrightangle',\n        value: function testrightangle(path, idx1, idx2, idx3, idx4, idx5) {\n            return path.points[idx3].x === path.points[idx1].x && path.points[idx3].x === path.points[idx2].x && path.points[idx3].y === path.points[idx4].y && path.points[idx3].y === path.points[idx5].y || path.points[idx3].y === path.points[idx1].y && path.points[idx3].y === path.points[idx2].y && path.points[idx3].x === path.points[idx4].x && path.points[idx3].x === path.points[idx5].x;\n        }\n    }, {\n        key: 'getdirection',\n        value: function getdirection(x1, y1, x2, y2) {\n            var val = 8;\n            if (x1 < x2) {\n                if (y1 < y2) {\n                    val = 1;\n                } else if (y1 > y2) {\n                    val = 7;\n                } else {\n                    val = 0;\n                }\n            } else if (x1 > x2) {\n                if (y1 < y2) {\n                    val = 3;\n                } else if (y1 > y2) {\n                    val = 5;\n                } else {\n                    val = 4;\n                }\n            } else if (y1 < y2) {\n                val = 2;\n            } else if (y1 > y2) {\n                val = 6;\n            } else {\n                val = 8;\n            }\n\n            return val;\n        }\n    }, {\n        key: 'batchinternodes',\n        value: function batchinternodes(bpaths, options) {\n            var binternodes = [];\n            for (var k in bpaths) {\n                if (!bpaths.hasOwnProperty(k)) {\n                    continue;\n                }\n                binternodes[k] = this.internodes(bpaths[k], options);\n            }\n\n            return binternodes;\n        }\n    }, {\n        key: 'tracepath',\n        value: function tracepath(path, ltres, qtres) {\n            var pcnt = 0;\n            var segtype1 = void 0;\n            var segtype2 = void 0;\n            var seqend = void 0;\n            var smp = {};\n            smp.segments = [];\n            smp.boundingbox = path.boundingbox;\n            smp.holechildren = path.holechildren;\n            smp.isholepath = path.isholepath;\n\n            while (pcnt < path.points.length) {\n                segtype1 = path.points[pcnt].linesegment;\n                segtype2 = -1;\n                seqend = pcnt + 1;\n                while ((path.points[seqend].linesegment === segtype1 || path.points[seqend].linesegment === segtype2 || segtype2 === -1) && seqend < path.points.length - 1) {\n                    if (path.points[seqend].linesegment !== segtype1 && segtype2 === -1) {\n                        segtype2 = path.points[seqend].linesegment;\n                    }\n                    seqend += 1;\n                }\n                if (seqend === path.points.length - 1) {\n                    seqend = 0;\n                }\n\n                smp.segments = smp.segments.concat(this.fitseq(path, ltres, qtres, pcnt, seqend));\n\n                if (seqend > 0) {\n                    pcnt = seqend;\n                } else {\n                    pcnt = path.points.length;\n                }\n            }\n\n            return smp;\n        }\n    }, {\n        key: 'fitseq',\n        value: function fitseq(path, ltres, qtres, seqstart, seqend) {\n            if (seqend > path.points.length || seqend < 0) {\n                return [];\n            }\n            var errorpoint = seqstart,\n                errorval = 0,\n                curvepass = true,\n                px = void 0,\n                py = void 0,\n                dist2 = void 0;\n            var tl = seqend - seqstart;if (tl < 0) {\n                tl += path.points.length;\n            }\n            var vx = (path.points[seqend].x - path.points[seqstart].x) / tl,\n                vy = (path.points[seqend].y - path.points[seqstart].y) / tl;\n            var pcnt = (seqstart + 1) % path.points.length,\n                pl = void 0;\n            while (pcnt != seqend) {\n                pl = pcnt - seqstart;if (pl < 0) {\n                    pl += path.points.length;\n                }\n                px = path.points[seqstart].x + vx * pl;py = path.points[seqstart].y + vy * pl;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n                if (dist2 > ltres) {\n                    curvepass = false;\n                }\n                if (dist2 > errorval) {\n                    errorpoint = pcnt;errorval = dist2;\n                }\n                pcnt = (pcnt + 1) % path.points.length;\n            }\n            if (curvepass) {\n                return [{ type: 'L',\n                    x1: path.points[seqstart].x,\n                    y1: path.points[seqstart].y,\n                    x2: path.points[seqend].x,\n                    y2: path.points[seqend].y }];\n            }\n            var fitpoint = errorpoint;curvepass = true;errorval = 0;\n            var t = (fitpoint - seqstart) / tl,\n                t1 = (1 - t) * (1 - t),\n                t2 = 2 * (1 - t) * t,\n                t3 = t * t;\n            var cpx = (t1 * path.points[seqstart].x + t3 * path.points[seqend].x - path.points[fitpoint].x) / -t2,\n                cpy = (t1 * path.points[seqstart].y + t3 * path.points[seqend].y - path.points[fitpoint].y) / -t2;\n            pcnt = seqstart + 1;\n            while (pcnt != seqend) {\n                t = (pcnt - seqstart) / tl;t1 = (1 - t) * (1 - t);t2 = 2 * (1 - t) * t;t3 = t * t;\n                px = t1 * path.points[seqstart].x + t2 * cpx + t3 * path.points[seqend].x;\n                py = t1 * path.points[seqstart].y + t2 * cpy + t3 * path.points[seqend].y;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n                if (dist2 > qtres) {\n                    curvepass = false;\n                }\n                if (dist2 > errorval) {\n                    errorpoint = pcnt;errorval = dist2;\n                }\n                pcnt = (pcnt + 1) % path.points.length;\n            }\n            if (curvepass) {\n                return [{ type: 'Q',\n                    x1: path.points[seqstart].x,\n                    y1: path.points[seqstart].y,\n                    x2: cpx,\n                    y2: cpy,\n                    x3: path.points[seqend].x,\n                    y3: path.points[seqend].y }];\n            }\n            var splitpoint = fitpoint;\n\n            return this.fitseq(path, ltres, qtres, seqstart, splitpoint).concat(this.fitseq(path, ltres, qtres, splitpoint, seqend));\n        }\n    }, {\n        key: 'batchtracepaths',\n        value: function batchtracepaths(internodepaths, ltres, qtres) {\n            var btracedpaths = [];\n            for (var k in internodepaths) {\n                if (!internodepaths.hasOwnProperty(k)) {\n                    continue;\n                }\n                btracedpaths.push(this.tracepath(internodepaths[k], ltres, qtres));\n            }\n\n            return btracedpaths;\n        }\n    }, {\n        key: 'batchtracelayers',\n        value: function batchtracelayers(binternodes, ltres, qtres) {\n            var btbis = [];\n            for (var k in binternodes) {\n                if (!binternodes.hasOwnProperty(k)) {\n                    continue;\n                }\n                btbis[k] = this.batchtracepaths(binternodes[k], ltres, qtres);\n            }\n\n            return btbis;\n        }\n    }, {\n        key: 'roundtodec',\n        value: function roundtodec(val, places) {\n            return Number(val.toFixed(places));\n        }\n    }, {\n        key: 'svgpathstring',\n        value: function svgpathstring(tracedata, lnum, pathnum, options) {\n            var layer = tracedata.layers[lnum],\n                smp = layer[pathnum],\n                str = '',\n                pcnt = void 0;\n            if (options.linefilter && smp.segments.length < 3) {\n                return str;\n            }\n            str = '<path ' + (options.desc ? 'desc=\"l ' + lnum + ' p ' + pathnum + '\" ' : '') + this.tosvgcolorstr(tracedata.palette[lnum], options) + 'd=\"';\n            if (options.roundcoords === -1) {\n                str += 'M ' + smp.segments[0].x1 * options.scale + ' ' + smp.segments[0].y1 * options.scale + ' ';\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    str += smp.segments[pcnt].type + ' ' + smp.segments[pcnt].x2 * options.scale + ' ' + smp.segments[pcnt].y2 * options.scale + ' ';\n                    if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                        str += smp.segments[pcnt].x3 * options.scale + ' ' + smp.segments[pcnt].y3 * options.scale + ' ';\n                    }\n                }\n                str += 'Z ';\n            } else {\n                str += 'M ' + this.roundtodec(smp.segments[0].x1 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[0].y1 * options.scale, options.roundcoords) + ' ';\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    str += smp.segments[pcnt].type + ' ' + this.roundtodec(smp.segments[pcnt].x2 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y2 * options.scale, options.roundcoords) + ' ';\n                    if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                        str += this.roundtodec(smp.segments[pcnt].x3 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y3 * options.scale, options.roundcoords) + ' ';\n                    }\n                }\n                str += 'Z ';\n            }\n            for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                var hsmp = layer[smp.holechildren[hcnt]];\n\n                if (options.roundcoords === -1) {\n                    if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                        str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x3 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y3 * options.scale + ' ';\n                    } else {\n                        str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x2 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y2 * options.scale + ' ';\n                    }\n                    for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                        str += hsmp.segments[pcnt].type + ' ';\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                            str += hsmp.segments[pcnt].x2 * options.scale + ' ' + hsmp.segments[pcnt].y2 * options.scale + ' ';\n                        }\n                        str += hsmp.segments[pcnt].x1 * options.scale + ' ' + hsmp.segments[pcnt].y1 * options.scale + ' ';\n                    }\n                } else {\n                    if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                        str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x3 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y3 * options.scale) + ' ';\n                    } else {\n                        str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y2 * options.scale) + ' ';\n                    }\n                    for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                        str += hsmp.segments[pcnt].type + ' ';\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                            str += this.roundtodec(hsmp.segments[pcnt].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y2 * options.scale) + ' ';\n                        }\n                        str += this.roundtodec(hsmp.segments[pcnt].x1 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y1 * options.scale) + ' ';\n                    }\n                }\n                str += 'Z ';\n            }\n            str += '\" />';\n            if (options.lcpr || options.qcpr) {\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    if (smp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                        str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                        str += '<circle cx=\"' + smp.segments[pcnt].x3 * options.scale + '\" cy=\"' + smp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                        str += '<line x1=\"' + smp.segments[pcnt].x1 * options.scale + '\" y1=\"' + smp.segments[pcnt].y1 * options.scale + '\" x2=\"' + smp.segments[pcnt].x2 * options.scale + '\" y2=\"' + smp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                        str += '<line x1=\"' + smp.segments[pcnt].x2 * options.scale + '\" y1=\"' + smp.segments[pcnt].y2 * options.scale + '\" x2=\"' + smp.segments[pcnt].x3 * options.scale + '\" y2=\"' + smp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                    }\n                    if (!smp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                        str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                    }\n                }\n\n                for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                    var hsmp = layer[smp.holechildren[hcnt]];\n                    for (pcnt = 0; pcnt < hsmp.segments.length; pcnt++) {\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                            str += '<line x1=\"' + hsmp.segments[pcnt].x1 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y1 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                            str += '<line x1=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                        }\n                        if (!hsmp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                        }\n                    }\n                }\n            }\n\n            return str;\n        }\n    }, {\n        key: 'getsvgstring',\n        value: function getsvgstring(tracedata, options) {\n            options = this.checkoptions(options);\n            var w = tracedata.width * options.scale;\n            var h = tracedata.height * options.scale;\n\n            var svgstr = '<svg ' + (options.viewbox ? 'viewBox=\"0 0 ' + w + ' ' + h + '\" ' : 'width=\"' + w + '\" height=\"' + h + '\" ') + 'version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" desc=\"Created with imagetracer.js version ' + this.versionnumber + '\" >';\n            for (var lcnt = 0; lcnt < tracedata.layers.length; lcnt += 1) {\n                for (var pcnt = 0; pcnt < tracedata.layers[lcnt].length; pcnt += 1) {\n                    if (!tracedata.layers[lcnt][pcnt].isholepath) {\n                        svgstr += this.svgpathstring(tracedata, lcnt, pcnt, options);\n                    }\n                }\n            }\n            svgstr += '</svg>';\n\n            return svgstr;\n        }\n    }, {\n        key: 'compareNumbers',\n        value: function compareNumbers(a, b) {\n            return a - b;\n        }\n    }, {\n        key: 'torgbastr',\n        value: function torgbastr(c) {\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n        }\n    }, {\n        key: 'tosvgcolorstr',\n        value: function tosvgcolorstr(c, options) {\n            return 'fill=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke-width=\"' + options.strokewidth + '\" opacity=\"' + c.a / 255.0 + '\" ';\n        }\n    }, {\n        key: 'appendSVGString',\n        value: function appendSVGString(svgstr, parentid) {\n            var div = void 0;\n            if (parentid) {\n                div = document.getElementById(parentid);\n                if (!div) {\n                    div = document.createElement('div');\n                    div.id = parentid;\n                    document.body.appendChild(div);\n                }\n            } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n            }\n            div.innerHTML += svgstr;\n        }\n    }, {\n        key: 'blur',\n        value: function blur(imgd, radius, delta) {\n            var i = void 0,\n                j = void 0,\n                k = void 0,\n                d = void 0,\n                idx = void 0,\n                racc = void 0,\n                gacc = void 0,\n                bacc = void 0,\n                aacc = void 0,\n                wacc = void 0;\n            var imgd2 = { width: imgd.width,\n                height: imgd.height,\n                data: [] };\n            radius = Math.floor(radius);if (radius < 1) {\n                return imgd;\n            }if (radius > 5) {\n                radius = 5;\n            }delta = Math.abs(delta);if (delta > 1024) {\n                delta = 1024;\n            }\n            var thisgk = this.gks[radius - 1];\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    racc = 0;gacc = 0;bacc = 0;aacc = 0;wacc = 0;\n\n                    for (k = -radius; k < radius + 1; k++) {\n                        if (i + k > 0 && i + k < imgd.width) {\n                            idx = (j * imgd.width + i + k) * 4;\n                            racc += imgd.data[idx] * thisgk[k + radius];\n                            gacc += imgd.data[idx + 1] * thisgk[k + radius];\n                            bacc += imgd.data[idx + 2] * thisgk[k + radius];\n                            aacc += imgd.data[idx + 3] * thisgk[k + radius];\n                            wacc += thisgk[k + radius];\n                        }\n                    }\n\n                    idx = (j * imgd.width + i) * 4;\n                    imgd2.data[idx] = Math.floor(racc / wacc);\n                    imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                    imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                    imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n            }\n            var himgd = new Uint8ClampedArray(imgd2.data);\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    racc = 0;gacc = 0;bacc = 0;aacc = 0;wacc = 0;\n\n                    for (k = -radius; k < radius + 1; k++) {\n                        if (j + k > 0 && j + k < imgd.height) {\n                            idx = ((j + k) * imgd.width + i) * 4;\n                            racc += himgd[idx] * thisgk[k + radius];\n                            gacc += himgd[idx + 1] * thisgk[k + radius];\n                            bacc += himgd[idx + 2] * thisgk[k + radius];\n                            aacc += himgd[idx + 3] * thisgk[k + radius];\n                            wacc += thisgk[k + radius];\n                        }\n                    }\n\n                    idx = (j * imgd.width + i) * 4;\n                    imgd2.data[idx] = Math.floor(racc / wacc);\n                    imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                    imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                    imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n            }\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    idx = (j * imgd.width + i) * 4;\n\n                    d = Math.abs(imgd2.data[idx] - imgd.data[idx]) + Math.abs(imgd2.data[idx + 1] - imgd.data[idx + 1]) + Math.abs(imgd2.data[idx + 2] - imgd.data[idx + 2]) + Math.abs(imgd2.data[idx + 3] - imgd.data[idx + 3]);\n\n                    if (d > delta) {\n                        imgd2.data[idx] = imgd.data[idx];\n                        imgd2.data[idx + 1] = imgd.data[idx + 1];\n                        imgd2.data[idx + 2] = imgd.data[idx + 2];\n                        imgd2.data[idx + 3] = imgd.data[idx + 3];\n                    }\n                }\n            }\n\n            return imgd2;\n        }\n    }, {\n        key: 'loadImage',\n        value: function loadImage(url, callback, options) {\n            var img = new Image();\n            if (options && options.corsenabled) {\n                img.crossOrigin = 'Anonymous';\n            }\n            img.src = url;\n            img.onload = function () {\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var context = canvas.getContext('2d');\n                context.drawImage(img, 0, 0);\n                callback(canvas);\n            };\n        }\n    }, {\n        key: 'getImgdata',\n        value: function getImgdata(canvas) {\n            var context = canvas.getContext('2d');\n\n            return context.getImageData(0, 0, canvas.width, canvas.height);\n        }\n    }, {\n        key: 'drawLayers',\n        value: function drawLayers(layers, palette, scale, parentid) {\n            scale = scale || 1;\n            var w = void 0,\n                h = void 0,\n                i = void 0,\n                j = void 0,\n                k = void 0;\n            var div = void 0;\n            if (parentid) {\n                div = document.getElementById(parentid);\n                if (!div) {\n                    div = document.createElement('div');\n                    div.id = parentid;\n                    document.body.appendChild(div);\n                }\n            } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n            }\n            for (k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                    continue;\n                }\n\n                w = layers[k][0].length;\n                h = layers[k].length;\n\n                var canvas = document.createElement('canvas');\n                canvas.width = w * scale;\n                canvas.height = h * scale;\n                var context = canvas.getContext('2d');\n\n                for (j = 0; j < h; j += 1) {\n                    for (i = 0; i < w; i += 1) {\n                        context.fillStyle = this.torgbastr(palette[layers[k][j][i] % palette.length]);\n                        context.fillRect(i * scale, j * scale, scale, scale);\n                    }\n                }\n\n                div.appendChild(canvas);\n            }\n        }\n    }]);\n\n    return ImageTracer;\n}();\n\nexports.default = ImageTracer;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/helper/imagetracer.js?")},"./src/js/helper/shapeResizeHelper.js":function srcJsHelperShapeResizeHelperJs(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Shape resize helper\n */\nvar DIVISOR = {\n    rect: 1,\n    circle: 2,\n    triangle: 1\n};\nvar DIMENSION_KEYS = {\n    rect: {\n        w: 'width',\n        h: 'height'\n    },\n    circle: {\n        w: 'rx',\n        h: 'ry'\n    },\n    triangle: {\n        w: 'width',\n        h: 'height'\n    }\n};\n\n/**\n * Set the start point value to the shape object\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction setStartPoint(shape) {\n    var originX = shape.originX,\n        originY = shape.originY;\n\n    var originKey = originX.substring(0, 1) + originY.substring(0, 1);\n\n    shape.startPoint = shape.origins[originKey];\n}\n\n/**\n * Get the positions of ratated origin by the pointer value\n * @param {{x: number, y: number}} origin - Origin value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {number} angle - Rotating angle\n * @returns {Object} Postions of origin\n * @ignore\n */\nfunction getPositionsOfRotatedOrigin(origin, pointer, angle) {\n    var sx = origin.x;\n    var sy = origin.y;\n    var px = pointer.x;\n    var py = pointer.y;\n    var r = angle * Math.PI / 180;\n    var rx = (px - sx) * Math.cos(r) - (py - sy) * Math.sin(r) + sx;\n    var ry = (px - sx) * Math.sin(r) + (py - sy) * Math.cos(r) + sy;\n\n    return {\n        originX: sx > rx ? 'right' : 'left',\n        originY: sy > ry ? 'bottom' : 'top'\n    };\n}\n\n/**\n * Whether the shape has the center origin or not\n * @param {fabric.Object} shape - Shape object\n * @returns {boolean} State\n * @ignore\n */\nfunction hasCenterOrigin(shape) {\n    return shape.originX === 'center' && shape.originY === 'center';\n}\n\n/**\n * Adjust the origin of shape by the start point\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByStartPoint(pointer, shape) {\n    var centerPoint = shape.getPointByOrigin('center', 'center');\n    var angle = -shape.angle;\n    var originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\n    var originX = originPositions.originX,\n        originY = originPositions.originY;\n\n    var origin = shape.getPointByOrigin(originX, originY);\n    var left = shape.left - (centerPoint.x - origin.x);\n    var top = shape.top - (centerPoint.y - origin.y);\n\n    shape.set({\n        originX: originX,\n        originY: originY,\n        left: left,\n        top: top\n    });\n\n    shape.setCoords();\n}\n\n/**\n * Adjust the origin of shape by the moving pointer value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByMovingPointer(pointer, shape) {\n    var origin = shape.startPoint;\n    var angle = -shape.angle;\n    var originPositions = getPositionsOfRotatedOrigin(origin, pointer, angle);\n    var originX = originPositions.originX,\n        originY = originPositions.originY;\n\n\n    shape.setPositionByOrigin(origin, originX, originY);\n    shape.setCoords();\n}\n\n/**\n * Adjust the dimension of shape on firing scaling event\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnScaling(shape) {\n    var type = shape.type,\n        scaleX = shape.scaleX,\n        scaleY = shape.scaleY;\n\n    var dimensionKeys = DIMENSION_KEYS[type];\n    var width = shape[dimensionKeys.w] * scaleX;\n    var height = shape[dimensionKeys.h] * scaleY;\n\n    if (shape.isRegular) {\n        var maxScale = Math.max(scaleX, scaleY);\n\n        width = shape[dimensionKeys.w] * maxScale;\n        height = shape[dimensionKeys.h] * maxScale;\n    }\n\n    var options = {\n        hasControls: false,\n        hasBorders: false,\n        scaleX: 1,\n        scaleY: 1\n    };\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\n/**\n * Adjust the dimension of shape on firing mouse move event\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnMouseMove(pointer, shape) {\n    var type = shape.type,\n        strokeWidth = shape.strokeWidth,\n        origin = shape.startPoint;\n\n    var divisor = DIVISOR[type];\n    var dimensionKeys = DIMENSION_KEYS[type];\n    var isTriangle = !!(shape.type === 'triangle');\n    var options = {};\n    var width = Math.abs(origin.x - pointer.x) / divisor;\n    var height = Math.abs(origin.y - pointer.y) / divisor;\n\n    if (width > strokeWidth) {\n        width -= strokeWidth / divisor;\n    }\n\n    if (height > strokeWidth) {\n        height -= strokeWidth / divisor;\n    }\n\n    if (shape.isRegular) {\n        width = height = Math.max(width, height);\n\n        if (isTriangle) {\n            height = Math.sqrt(3) / 2 * width;\n        }\n    }\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\nmodule.exports = {\n    /**\n     * Set each origin value to shape\n     * @param {fabric.Object} shape - Shape object\n     */\n    setOrigins: function setOrigins(shape) {\n        var leftTopPoint = shape.getPointByOrigin('left', 'top');\n        var rightTopPoint = shape.getPointByOrigin('right', 'top');\n        var rightBottomPoint = shape.getPointByOrigin('right', 'bottom');\n        var leftBottomPoint = shape.getPointByOrigin('left', 'bottom');\n\n        shape.origins = {\n            lt: leftTopPoint,\n            rt: rightTopPoint,\n            rb: rightBottomPoint,\n            lb: leftBottomPoint\n        };\n    },\n\n\n    /**\n     * Resize the shape\n     * @param {fabric.Object} shape - Shape object\n     * @param {{x: number, y: number}} pointer - Mouse pointer values on canvas\n     * @param {boolean} isScaling - Whether the resizing action is scaling or not\n     */\n    resize: function resize(shape, pointer, isScaling) {\n        if (hasCenterOrigin(shape)) {\n            adjustOriginByStartPoint(pointer, shape);\n            setStartPoint(shape);\n        }\n\n        if (isScaling) {\n            adjustDimensionOnScaling(shape, pointer);\n        } else {\n            adjustDimensionOnMouseMove(pointer, shape);\n        }\n\n        adjustOriginByMovingPointer(pointer, shape);\n    },\n\n\n    /**\n     * Adjust the origin position of shape to center\n     * @param {fabric.Object} shape - Shape object\n     */\n    adjustOriginToCenter: function adjustOriginToCenter(shape) {\n        var centerPoint = shape.getPointByOrigin('center', 'center');\n        var originX = shape.originX,\n            originY = shape.originY;\n\n        var origin = shape.getPointByOrigin(originX, originY);\n        var left = shape.left + (centerPoint.x - origin.x);\n        var top = shape.top + (centerPoint.y - origin.y);\n\n        shape.set({\n            hasControls: true,\n            hasBorders: true,\n            originX: 'center',\n            originY: 'center',\n            left: left,\n            top: top\n        });\n\n        shape.setCoords(); // For left, top properties\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/helper/shapeResizeHelper.js?")},"./src/js/imageEditor.js":function srcJsImageEditorJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Image-editor application class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _invoker3 = __webpack_require__(/*! ./invoker */ \"./src/js/invoker.js\");\n\nvar _invoker4 = _interopRequireDefault(_invoker3);\n\nvar _ui = __webpack_require__(/*! ./ui */ \"./src/js/ui.js\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _action = __webpack_require__(/*! ./action */ \"./src/js/action.js\");\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _command = __webpack_require__(/*! ./factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _graphics = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.js\");\n\nvar _graphics2 = _interopRequireDefault(_graphics);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar events = _consts2.default.eventNames;\nvar commands = _consts2.default.commandNames;\nvar keyCodes = _consts2.default.keyCodes,\n    rejectMessages = _consts2.default.rejectMessages;\nvar isUndefined = _tuiCodeSnippet2.default.isUndefined,\n    forEach = _tuiCodeSnippet2.default.forEach,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\nvar MOUSE_DOWN = events.MOUSE_DOWN,\n    OBJECT_MOVED = events.OBJECT_MOVED,\n    OBJECT_SCALED = events.OBJECT_SCALED,\n    OBJECT_ACTIVATED = events.OBJECT_ACTIVATED,\n    OBJECT_ROTATED = events.OBJECT_ROTATED,\n    ADD_TEXT = events.ADD_TEXT,\n    ADD_OBJECT = events.ADD_OBJECT,\n    TEXT_EDITING = events.TEXT_EDITING,\n    TEXT_CHANGED = events.TEXT_CHANGED,\n    ICON_CREATE_RESIZE = events.ICON_CREATE_RESIZE,\n    ICON_CREATE_END = events.ICON_CREATE_END,\n    SELECTION_CLEARED = events.SELECTION_CLEARED,\n    SELECTION_CREATED = events.SELECTION_CREATED,\n    ADD_OBJECT_AFTER = events.ADD_OBJECT_AFTER;\n\n/**\n * Image filter result\n * @typedef {object} FilterResult\n * @property {string} type - filter type like 'mask', 'Grayscale' and so on\n * @property {string} action - action type like 'add', 'remove'\n */\n\n/**\n * Flip status\n * @typedef {object} FlipStatus\n * @property {boolean} flipX - x axis\n * @property {boolean} flipY - y axis\n * @property {Number} angle - angle\n */\n/**\n * Rotation status\n * @typedef {Number} RotateStatus\n * @property {Number} angle - angle\n */\n\n/**\n * Old and new Size\n * @typedef {object} SizeChange\n * @property {Number} oldWidth - old width\n * @property {Number} oldHeight - old height\n * @property {Number} newWidth - new width\n * @property {Number} newHeight - new height\n */\n\n/**\n * @typedef {string} ErrorMsg - {string} error message\n */\n\n/**\n * @typedef {object} ObjectProps - graphics object properties\n * @property {number} id - object id\n * @property {string} type - object type\n * @property {string} text - text content\n * @property {(string | number)} left - Left\n * @property {(string | number)} top - Top\n * @property {(string | number)} width - Width\n * @property {(string | number)} height - Height\n * @property {string} fill - Color\n * @property {string} stroke - Stroke\n * @property {(string | number)} strokeWidth - StrokeWidth\n * @property {string} fontFamily - Font type for text\n * @property {number} fontSize - Font Size\n * @property {string} fontStyle - Type of inclination (normal / italic)\n * @property {string} fontWeight - Type of thicker or thinner looking (normal / bold)\n * @property {string} textAlign - Type of text align (left / center / right)\n * @property {string} textDecoration - Type of line (underline / line-through / overline)\n */\n\n/**\n * Image editor\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [options] - Canvas max width & height of css\n *  @param {number} [options.includeUI] - Use the provided UI\n *    @param {Object} [options.includeUI.loadImage] - Basic editing image\n *      @param {string} options.includeUI.loadImage.path - image path\n *      @param {string} options.includeUI.loadImage.name - image name\n *    @param {Object} [options.includeUI.theme] - Theme object\n *    @param {Array} [options.includeUI.menu] - It can be selected when only specific menu is used, Default values are \\['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'\\].\n *    @param {string} [options.includeUI.initMenu] - The first menu to be selected and started.\n *    @param {Object} [options.includeUI.uiSize] - ui size of editor\n *      @param {string} options.includeUI.uiSize.width - width of ui\n *      @param {string} options.includeUI.uiSize.height - height of ui\n *    @param {string} [options.includeUI.menuBarPosition=bottom] - Menu bar position('top', 'bottom', 'left', 'right')\n *  @param {number} options.cssMaxWidth - Canvas css-max-width\n *  @param {number} options.cssMaxHeight - Canvas css-max-height\n *  @param {Object} [options.selectionStyle] - selection style\n *  @param {string} [options.selectionStyle.cornerStyle] - selection corner style\n *  @param {number} [options.selectionStyle.cornerSize] - selection corner size\n *  @param {string} [options.selectionStyle.cornerColor] - selection corner color\n *  @param {string} [options.selectionStyle.cornerStrokeColor] = selection corner stroke color\n *  @param {boolean} [options.selectionStyle.transparentCorners] - selection corner transparent\n *  @param {number} [options.selectionStyle.lineWidth] - selection line width\n *  @param {string} [options.selectionStyle.borderColor] - selection border color\n *  @param {number} [options.selectionStyle.rotatingPointOffset] - selection rotating point length\n *  @param {Boolean} [options.usageStatistics=true] - Let us know the hostname. If you don't want to send the hostname, please set to false.\n * @example\n * var ImageEditor = require('tui-image-editor');\n * var blackTheme = require('./js/theme/black-theme.js');\n * var instance = new ImageEditor(document.querySelector('#tui-image-editor'), {\n *   includeUI: {\n *     loadImage: {\n *       path: 'img/sampleImage.jpg',\n *       name: 'SampleImage'\n *     },\n *     theme: blackTheme, // or whiteTheme\n *     menu: ['shape', 'filter'],\n *     initMenu: 'filter',\n *     uiSize: {\n *         width: '1000px',\n *         height: '700px'\n *     },\n *     menuBarPosition: 'bottom'\n *   },\n *   cssMaxWidth: 700,\n *   cssMaxHeight: 500,\n *   selectionStyle: {\n *     cornerSize: 20,\n *     rotatingPointOffset: 70\n *   }\n * });\n */\n\nvar ImageEditor = function () {\n    function ImageEditor(wrapper, options) {\n        _classCallCheck(this, ImageEditor);\n\n        options = _tuiCodeSnippet2.default.extend({\n            includeUI: false,\n            usageStatistics: true\n        }, options);\n\n        this.mode = null;\n\n        this.activeObjectId = null;\n\n        /**\n         * UI instance\n         * @type {Ui}\n         */\n        if (options.includeUI) {\n            var UIOption = options.includeUI;\n            UIOption.usageStatistics = options.usageStatistics;\n\n            this.ui = new _ui2.default(wrapper, UIOption, this.getActions());\n            options = this.ui.setUiDefaultSelectionStyle(options);\n        }\n\n        /**\n         * Invoker\n         * @type {Invoker}\n         * @private\n         */\n        this._invoker = new _invoker4.default();\n\n        /**\n         * Graphics instance\n         * @type {Graphics}\n         * @private\n         */\n        this._graphics = new _graphics2.default(this.ui ? this.ui.getEditorArea() : wrapper, {\n            cssMaxWidth: options.cssMaxWidth,\n            cssMaxHeight: options.cssMaxHeight,\n            useItext: !!this.ui,\n            useDragAddIcon: !!this.ui\n        });\n\n        /**\n         * Event handler list\n         * @type {Object}\n         * @private\n         */\n        this._handlers = {\n            keydown: this._onKeyDown.bind(this),\n            mousedown: this._onMouseDown.bind(this),\n            objectActivated: this._onObjectActivated.bind(this),\n            objectMoved: this._onObjectMoved.bind(this),\n            objectScaled: this._onObjectScaled.bind(this),\n            objectRotated: this._onObjectRotated.bind(this),\n            createdPath: this._onCreatedPath,\n            addText: this._onAddText.bind(this),\n            addObject: this._onAddObject.bind(this),\n            addObjectAfter: this._onAddObjectAfter.bind(this),\n            textEditing: this._onTextEditing.bind(this),\n            textChanged: this._onTextChanged.bind(this),\n            iconCreateResize: this._onIconCreateResize.bind(this),\n            iconCreateEnd: this._onIconCreateEnd.bind(this),\n            selectionCleared: this._selectionCleared.bind(this),\n            selectionCreated: this._selectionCreated.bind(this)\n        };\n\n        this._attachInvokerEvents();\n        this._attachGraphicsEvents();\n        this._attachDomEvents();\n        this._setSelectionStyle(options.selectionStyle, {\n            applyCropSelectionStyle: options.applyCropSelectionStyle,\n            applyGroupSelectionStyle: options.applyGroupSelectionStyle\n        });\n\n        if (options.usageStatistics) {\n            (0, _util.sendHostName)();\n        }\n\n        if (this.ui) {\n            this.ui.initCanvas();\n            this.setReAction();\n        }\n        fabric.enableGLFiltering = false;\n    }\n\n    /**\n     * Set selection style by init option\n     * @param {Object} selectionStyle - Selection styles\n     * @param {Object} applyTargets - Selection apply targets\n     *   @param {boolean} applyCropSelectionStyle - whether apply with crop selection style or not\n     *   @param {boolean} applyGroupSelectionStyle - whether apply with group selection style or not\n     * @private\n     */\n\n\n    _createClass(ImageEditor, [{\n        key: '_setSelectionStyle',\n        value: function _setSelectionStyle(selectionStyle, _ref) {\n            var applyCropSelectionStyle = _ref.applyCropSelectionStyle,\n                applyGroupSelectionStyle = _ref.applyGroupSelectionStyle;\n\n            if (selectionStyle) {\n                this._graphics.setSelectionStyle(selectionStyle);\n            }\n\n            if (applyCropSelectionStyle) {\n                this._graphics.setCropSelectionStyle(selectionStyle);\n            }\n\n            if (applyGroupSelectionStyle) {\n                this.on('selectionCreated', function (eventTarget) {\n                    if (eventTarget.type === 'activeSelection') {\n                        eventTarget.set(selectionStyle);\n                    }\n                });\n            }\n        }\n\n        /**\n         * Attach invoker events\n         * @private\n         */\n\n    }, {\n        key: '_attachInvokerEvents',\n        value: function _attachInvokerEvents() {\n            var UNDO_STACK_CHANGED = events.UNDO_STACK_CHANGED,\n                REDO_STACK_CHANGED = events.REDO_STACK_CHANGED;\n\n            /**\n             * Undo stack changed event\n             * @event ImageEditor#undoStackChanged\n             * @param {Number} length - undo stack length\n             * @example\n             * imageEditor.on('undoStackChanged', function(length) {\n             *     console.log(length);\n             * });\n             */\n\n            this._invoker.on(UNDO_STACK_CHANGED, this.fire.bind(this, UNDO_STACK_CHANGED));\n            /**\n             * Redo stack changed event\n             * @event ImageEditor#redoStackChanged\n             * @param {Number} length - redo stack length\n             * @example\n             * imageEditor.on('redoStackChanged', function(length) {\n             *     console.log(length);\n             * });\n             */\n            this._invoker.on(REDO_STACK_CHANGED, this.fire.bind(this, REDO_STACK_CHANGED));\n        }\n\n        /**\n         * Attach canvas events\n         * @private\n         */\n\n    }, {\n        key: '_attachGraphicsEvents',\n        value: function _attachGraphicsEvents() {\n            var _graphics$on;\n\n            this._graphics.on((_graphics$on = {}, _defineProperty(_graphics$on, MOUSE_DOWN, this._handlers.mousedown), _defineProperty(_graphics$on, OBJECT_MOVED, this._handlers.objectMoved), _defineProperty(_graphics$on, OBJECT_SCALED, this._handlers.objectScaled), _defineProperty(_graphics$on, OBJECT_ROTATED, this._handlers.objectRotated), _defineProperty(_graphics$on, OBJECT_ACTIVATED, this._handlers.objectActivated), _defineProperty(_graphics$on, ADD_TEXT, this._handlers.addText), _defineProperty(_graphics$on, ADD_OBJECT, this._handlers.addObject), _defineProperty(_graphics$on, TEXT_EDITING, this._handlers.textEditing), _defineProperty(_graphics$on, TEXT_CHANGED, this._handlers.textChanged), _defineProperty(_graphics$on, ICON_CREATE_RESIZE, this._handlers.iconCreateResize), _defineProperty(_graphics$on, ICON_CREATE_END, this._handlers.iconCreateEnd), _defineProperty(_graphics$on, SELECTION_CLEARED, this._handlers.selectionCleared), _defineProperty(_graphics$on, SELECTION_CREATED, this._handlers.selectionCreated), _defineProperty(_graphics$on, ADD_OBJECT_AFTER, this._handlers.addObjectAfter), _graphics$on));\n        }\n\n        /**\n         * Attach dom events\n         * @private\n         */\n\n    }, {\n        key: '_attachDomEvents',\n        value: function _attachDomEvents() {\n            // ImageEditor supports IE 9 higher\n            document.addEventListener('keydown', this._handlers.keydown);\n        }\n\n        /**\n         * Detach dom events\n         * @private\n         */\n\n    }, {\n        key: '_detachDomEvents',\n        value: function _detachDomEvents() {\n            // ImageEditor supports IE 9 higher\n            document.removeEventListener('keydown', this._handlers.keydown);\n        }\n\n        /**\n         * Keydown event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n        /* eslint-disable complexity */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            var ctrlKey = e.ctrlKey,\n                keyCode = e.keyCode,\n                metaKey = e.metaKey;\n\n            var isModifierKey = ctrlKey || metaKey;\n\n            if (isModifierKey) {\n                if (keyCode === keyCodes.C) {\n                    this._graphics.resetTargetObjectForCopyPaste();\n                } else if (keyCode === keyCodes.V) {\n                    this._graphics.pasteObject();\n                    this.clearRedoStack();\n                } else if (keyCode === keyCodes.Z) {\n                    // There is no error message on shortcut when it's empty\n                    this.undo()['catch'](function () {});\n                } else if (keyCode === keyCodes.Y) {\n                    // There is no error message on shortcut when it's empty\n                    this.redo()['catch'](function () {});\n                }\n            }\n\n            var isDeleteKey = keyCode === keyCodes.BACKSPACE || keyCode === keyCodes.DEL;\n            var isRemoveReady = this._graphics.isReadyRemoveObject();\n\n            if (isRemoveReady && isDeleteKey) {\n                e.preventDefault();\n                this.removeActiveObject();\n            }\n        }\n\n        /**\n         * Remove Active Object\n         */\n\n    }, {\n        key: 'removeActiveObject',\n        value: function removeActiveObject() {\n            var activeObjectId = this._graphics.getActiveObjectIdForRemove();\n\n            this.removeObject(activeObjectId);\n        }\n\n        /**\n         * mouse down event handler\n         * @param {Event} event mouse down event\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onMouseDown',\n        value: function _onMouseDown(event, originPointer) {\n            /**\n             * The mouse down event with position x, y on canvas\n             * @event ImageEditor#mousedown\n             * @param {Object} event - browser mouse event object\n             * @param {Object} originPointer origin pointer\n             *  @param {Number} originPointer.x x position\n             *  @param {Number} originPointer.y y position\n             * @example\n             * imageEditor.on('mousedown', function(event, originPointer) {\n             *     console.log(event);\n             *     console.log(originPointer);\n             *     if (imageEditor.hasFilter('colorFilter')) {\n             *         imageEditor.applyFilter('colorFilter', {\n             *             x: parseInt(originPointer.x, 10),\n             *             y: parseInt(originPointer.y, 10)\n             *         });\n             *     }\n             * });\n             */\n            this.fire(events.MOUSE_DOWN, event, originPointer);\n        }\n\n        /**\n         * Add a 'addObject' command\n         * @param {Object} obj - Fabric object\n         * @private\n         */\n\n    }, {\n        key: '_pushAddObjectCommand',\n        value: function _pushAddObjectCommand(obj) {\n            var command = _command2.default.create(commands.ADD_OBJECT, this._graphics, obj);\n            this._invoker.pushUndoStack(command);\n        }\n\n        /**\n         * 'objectActivated' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectActivated',\n        value: function _onObjectActivated(props) {\n            /**\n             * The event when object is selected(aka activated).\n             * @event ImageEditor#objectActivated\n             * @param {ObjectProps} objectProps - object properties\n             * @example\n             * imageEditor.on('objectActivated', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             *     console.log(props.id);\n             * });\n             */\n            this.fire(events.OBJECT_ACTIVATED, props);\n        }\n\n        /**\n         * 'objectMoved' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectMoved',\n        value: function _onObjectMoved(props) {\n            /**\n             * The event when object is moved\n             * @event ImageEditor#objectMoved\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectMoved', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_MOVED, props);\n        }\n\n        /**\n         * 'objectScaled' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectScaled',\n        value: function _onObjectScaled(props) {\n            /**\n             * The event when scale factor is changed\n             * @event ImageEditor#objectScaled\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectScaled', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_SCALED, props);\n        }\n\n        /**\n         * 'objectRotated' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRotated',\n        value: function _onObjectRotated(props) {\n            /**\n             * The event when object angle is changed\n             * @event ImageEditor#objectRotated\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectRotated', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_ROTATED, props);\n        }\n\n        /**\n         * Get current drawing mode\n         * @returns {string}\n         * @example\n         * // Image editor drawing mode\n         * //\n         * //    NORMAL: 'NORMAL'\n         * //    CROPPER: 'CROPPER'\n         * //    FREE_DRAWING: 'FREE_DRAWING'\n         * //    LINE_DRAWING: 'LINE_DRAWING'\n         * //    TEXT: 'TEXT'\n         * //\n         * if (imageEditor.getDrawingMode() === 'FREE_DRAWING') {\n         *     imageEditor.stopDrawingMode();\n         * }\n         */\n\n    }, {\n        key: 'getDrawingMode',\n        value: function getDrawingMode() {\n            return this._graphics.getDrawingMode();\n        }\n\n        /**\n         * Clear all objects\n         * @returns {Promise}\n         * @example\n         * imageEditor.clearObjects();\n         */\n\n    }, {\n        key: 'clearObjects',\n        value: function clearObjects() {\n            return this.execute(commands.CLEAR_OBJECTS);\n        }\n\n        /**\n         * Deactivate all objects\n         * @example\n         * imageEditor.deactivateAll();\n         */\n\n    }, {\n        key: 'deactivateAll',\n        value: function deactivateAll() {\n            this._graphics.deactivateAll();\n            this._graphics.renderAll();\n        }\n\n        /**\n         * discard selction\n         * @example\n         * imageEditor.discardSelection();\n         */\n\n    }, {\n        key: 'discardSelection',\n        value: function discardSelection() {\n            this._graphics.discardSelection();\n        }\n\n        /**\n         * selectable status change\n         * @param {boolean} selectable - selctable status\n         * @example\n         * imageEditor.changeSelectableAll(false); // or true\n         */\n\n    }, {\n        key: 'changeSelectableAll',\n        value: function changeSelectableAll(selectable) {\n            this._graphics.changeSelectableAll(selectable);\n        }\n\n        /**\n         * Invoke command\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: 'execute',\n        value: function execute(commandName) {\n            var _invoker;\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            // Inject an Graphics instance as first parameter\n            var theArgs = [this._graphics].concat(args);\n\n            return (_invoker = this._invoker).execute.apply(_invoker, [commandName].concat(theArgs));\n        }\n\n        /**\n         * Invoke command\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: 'executeSilent',\n        value: function executeSilent(commandName) {\n            var _invoker2;\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                args[_key2 - 1] = arguments[_key2];\n            }\n\n            // Inject an Graphics instance as first parameter\n            var theArgs = [this._graphics].concat(args);\n\n            return (_invoker2 = this._invoker).executeSilent.apply(_invoker2, [commandName].concat(theArgs));\n        }\n\n        /**\n         * Undo\n         * @returns {Promise}\n         * @example\n         * imageEditor.undo();\n         */\n\n    }, {\n        key: 'undo',\n        value: function undo() {\n            return this._invoker.undo();\n        }\n\n        /**\n         * Redo\n         * @returns {Promise}\n         * @example\n         * imageEditor.redo();\n         */\n\n    }, {\n        key: 'redo',\n        value: function redo() {\n            return this._invoker.redo();\n        }\n\n        /**\n         * Load image from file\n         * @param {File} imgFile - Image file\n         * @param {string} [imageName] - imageName\n         * @returns {Promise<SizeChange, ErrorMsg>}\n         * @example\n         * imageEditor.loadImageFromFile(file).then(result => {\n         *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n         *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n         * });\n         */\n\n    }, {\n        key: 'loadImageFromFile',\n        value: function loadImageFromFile(imgFile, imageName) {\n            if (!imgFile) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            var imgUrl = URL.createObjectURL(imgFile);\n            imageName = imageName || imgFile.name;\n\n            return this.loadImageFromURL(imgUrl, imageName).then(function (value) {\n                URL.revokeObjectURL(imgFile);\n\n                return value;\n            });\n        }\n\n        /**\n         * Load image from url\n         * @param {string} url - File url\n         * @param {string} imageName - imageName\n         * @returns {Promise<SizeChange, ErrorMsg>}\n         * @example\n         * imageEditor.loadImageFromURL('http://url/testImage.png', 'lena').then(result => {\n         *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n         *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n         * });\n         */\n\n    }, {\n        key: 'loadImageFromURL',\n        value: function loadImageFromURL(url, imageName) {\n            if (!imageName || !url) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.LOAD_IMAGE, imageName, url);\n        }\n\n        /**\n         * Add image object on canvas\n         * @param {string} imgUrl - Image url to make object\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addImageObject('path/fileName.jpg').then(objectProps => {\n         *     console.log(ojectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addImageObject',\n        value: function addImageObject(imgUrl) {\n            if (!imgUrl) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.ADD_IMAGE_OBJECT, imgUrl);\n        }\n\n        /**\n         * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n         * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'</I>\n         * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n         *  @param {Number} [option.width] brush width\n         *  @param {String} [option.color] brush color\n         * @returns {boolean} true if success or false\n         * @example\n         * imageEditor.startDrawingMode('FREE_DRAWING', {\n         *      width: 10,\n         *      color: 'rgba(255,0,0,0.5)'\n         * });\n         */\n\n    }, {\n        key: 'startDrawingMode',\n        value: function startDrawingMode(mode, option) {\n            return this._graphics.startDrawingMode(mode, option);\n        }\n\n        /**\n         * Stop the current drawing mode and back to the 'NORMAL' mode\n         * @example\n         * imageEditor.stopDrawingMode();\n         */\n\n    }, {\n        key: 'stopDrawingMode',\n        value: function stopDrawingMode() {\n            this._graphics.stopDrawingMode();\n        }\n\n        /**\n         * Crop this image with rect\n         * @param {Object} rect crop rect\n         *  @param {Number} rect.left left position\n         *  @param {Number} rect.top top position\n         *  @param {Number} rect.width width\n         *  @param {Number} rect.height height\n         * @returns {Promise}\n         * @example\n         * imageEditor.crop(imageEditor.getCropzoneRect());\n         */\n\n    }, {\n        key: 'crop',\n        value: function crop(rect) {\n            var data = this._graphics.getCroppedImageData(rect);\n            if (!data) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.loadImageFromURL(data.url, data.imageName);\n        }\n\n        /**\n         * Get the cropping rect\n         * @returns {Object}  {{left: number, top: number, width: number, height: number}} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            return this._graphics.getCropzoneRect();\n        }\n\n        /**\n         * Set the cropping rect\n         * @param {number} [mode] crop rect mode [1, 1.5, 1.3333333333333333, 1.25, 1.7777777777777777]\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(mode) {\n            this._graphics.setCropzoneRect(mode);\n        }\n\n        /**\n         * Flip\n         * @returns {Promise}\n         * @param {string} type - 'flipX' or 'flipY' or 'reset'\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @private\n         */\n\n    }, {\n        key: '_flip',\n        value: function _flip(type) {\n            return this.execute(commands.FLIP_IMAGE, type);\n        }\n\n        /**\n         * Flip x\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.flipX().then((status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'flipX',\n        value: function flipX() {\n            return this._flip('flipX');\n        }\n\n        /**\n         * Flip y\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.flipY().then(status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'flipY',\n        value: function flipY() {\n            return this._flip('flipY');\n        }\n\n        /**\n         * Reset flip\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.resetFlip().then(status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });;\n         */\n\n    }, {\n        key: 'resetFlip',\n        value: function resetFlip() {\n            return this._flip('reset');\n        }\n\n        /**\n         * @param {string} type - 'rotate' or 'setAngle'\n         * @param {number} angle - angle value (degree)\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @private\n         */\n\n    }, {\n        key: '_rotate',\n        value: function _rotate(type, angle, isSilent) {\n            var result = null;\n            if (isSilent) {\n                result = this.executeSilent(commands.ROTATE_IMAGE, type, angle);\n            } else {\n                result = this.execute(commands.ROTATE_IMAGE, type, angle);\n            }\n\n            return result;\n        }\n\n        /**\n         * Rotate image\n         * @returns {Promise}\n         * @param {number} angle - Additional angle to rotate image\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @example\n         * imageEditor.rotate(10); // angle = 10\n         * imageEditor.rotate(10); // angle = 20\n         * imageEidtor.rotate(5); // angle = 5\n         * imageEidtor.rotate(-95); // angle = -90\n         * imageEditor.rotate(10).then(status => {\n         *     console.log('angle: ', status.angle);\n         * })).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'rotate',\n        value: function rotate(angle, isSilent) {\n            return this._rotate('rotate', angle, isSilent);\n        }\n\n        /**\n         * Set angle\n         * @param {number} angle - Angle of image\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @example\n         * imageEditor.setAngle(10); // angle = 10\n         * imageEditor.rotate(10); // angle = 20\n         * imageEidtor.setAngle(5); // angle = 5\n         * imageEidtor.rotate(50); // angle = 55\n         * imageEidtor.setAngle(-40); // angle = -40\n         * imageEditor.setAngle(10).then(status => {\n         *     console.log('angle: ', status.angle);\n         * })).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'setAngle',\n        value: function setAngle(angle, isSilent) {\n            return this._rotate('setAngle', angle, isSilent);\n        }\n\n        /**\n         * Set drawing brush\n         * @param {Object} option brush option\n         *  @param {Number} option.width width\n         *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n         * @example\n         * imageEditor.startDrawingMode('FREE_DRAWING');\n         * imageEditor.setBrush({\n         *     width: 12,\n         *     color: 'rgba(0, 0, 0, 0.5)'\n         * });\n         * imageEditor.setBrush({\n         *     width: 8,\n         *     color: 'FFFFFF'\n         * });\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(option) {\n            this._graphics.setBrush(option);\n        }\n\n        /**\n         * Set states of current drawing shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @example\n         * imageEditor.setDrawingShape('rect', {\n         *     fill: 'red',\n         *     width: 100,\n         *     height: 200\n         * });\n         * @example\n         * imageEditor.setDrawingShape('circle', {\n         *     fill: 'transparent',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100\n         * });\n         * @example\n         * imageEditor.setDrawingShape('triangle', { // When resizing, the shape keep the 1:1 ratio\n         *     width: 1,\n         *     height: 1,\n         *     isRegular: true\n         * });\n         * @example\n         * imageEditor.setDrawingShape('circle', { // When resizing, the shape keep the 1:1 ratio\n         *     rx: 10,\n         *     ry: 10,\n         *     isRegular: true\n         * });\n         */\n\n    }, {\n        key: 'setDrawingShape',\n        value: function setDrawingShape(type, options) {\n            this._graphics.setDrawingShape(type, options);\n        }\n\n        /**\n         * Add shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.left] - Shape x position\n         *      @param {number} [options.top] - Shape y position\n         *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addShape('rect', {\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     width: 100,\n         *     height: 200,\n         *     left: 10,\n         *     top: 10,\n         *     isRegular: true\n         * });\n         * @example\n         * imageEditor.addShape('circle', {\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100,\n         *     isRegular: false\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addShape',\n        value: function addShape(type, options) {\n            options = options || {};\n\n            this._setPositions(options);\n\n            return this.execute(commands.ADD_SHAPE, type, options);\n        }\n\n        /**\n         * Change shape\n         * @param {number} id - object id\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise}\n         * @example\n         * // call after selecting shape object on canvas\n         * imageEditor.changeShape(id, { // change rectagle or triangle\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     width: 100,\n         *     height: 200\n         * });\n         * @example\n         * // call after selecting shape object on canvas\n         * imageEditor.changeShape(id, { // change circle\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100\n         * });\n         */\n\n    }, {\n        key: 'changeShape',\n        value: function changeShape(id, options, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.CHANGE_SHAPE, id, options);\n        }\n\n        /**\n         * Add text on image\n         * @param {string} text - Initial input text\n         * @param {Object} [options] Options for generating text\n         *     @param {Object} [options.styles] Initial styles\n         *         @param {string} [options.styles.fill] Color\n         *         @param {string} [options.styles.fontFamily] Font type for text\n         *         @param {number} [options.styles.fontSize] Size\n         *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n         *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n         *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n         *     @param {{x: number, y: number}} [options.position] - Initial position\n         * @returns {Promise}\n         * @example\n         * imageEditor.addText('init text');\n         * @example\n         * imageEditor.addText('init text', {\n         *     styles: {\n         *         fill: '#000',\n         *         fontSize: 20,\n         *         fontWeight: 'bold'\n         *     },\n         *     position: {\n         *         x: 10,\n         *         y: 10\n         *     }\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addText',\n        value: function addText(text, options) {\n            text = text || '';\n            options = options || {};\n\n            return this.execute(commands.ADD_TEXT, text, options);\n        }\n\n        /**\n         * Change contents of selected text object on image\n         * @param {number} id - object id\n         * @param {string} text - Changing text\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.changeText(id, 'change text');\n         */\n\n    }, {\n        key: 'changeText',\n        value: function changeText(id, text) {\n            text = text || '';\n\n            return this.execute(commands.CHANGE_TEXT, id, text);\n        }\n\n        /**\n         * Set style\n         * @param {number} id - object id\n         * @param {Object} styleObj - text styles\n         *     @param {string} [styleObj.fill] Color\n         *     @param {string} [styleObj.fontFamily] Font type for text\n         *     @param {number} [styleObj.fontSize] Size\n         *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n         *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise}\n         * @example\n         * imageEditor.changeTextStyle(id, {\n         *     fontStyle: 'italic'\n         * });\n         */\n\n    }, {\n        key: 'changeTextStyle',\n        value: function changeTextStyle(id, styleObj, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.CHANGE_TEXT_STYLE, id, styleObj);\n        }\n\n        /**\n         * change text mode\n         * @param {string} type - change type\n         * @private\n         */\n\n    }, {\n        key: '_changeActivateMode',\n        value: function _changeActivateMode(type) {\n            if (type !== 'ICON' && this.getDrawingMode() !== type) {\n                this.startDrawingMode(type);\n            }\n        }\n\n        /**\n         * 'textChanged' event handler\n         * @param {Object} objectProps changed object properties\n         * @private\n         */\n\n    }, {\n        key: '_onTextChanged',\n        value: function _onTextChanged(objectProps) {\n            this.changeText(objectProps.id, objectProps.text);\n        }\n\n        /**\n         * 'iconCreateResize' event handler\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onIconCreateResize',\n        value: function _onIconCreateResize(originPointer) {\n            this.fire(events.ICON_CREATE_RESIZE, originPointer);\n        }\n\n        /**\n         * 'iconCreateEnd' event handler\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onIconCreateEnd',\n        value: function _onIconCreateEnd(originPointer) {\n            this.fire(events.ICON_CREATE_END, originPointer);\n        }\n\n        /**\n         * 'textEditing' event handler\n         * @private\n         */\n\n    }, {\n        key: '_onTextEditing',\n        value: function _onTextEditing() {\n            /**\n             * The event which starts to edit text object\n             * @event ImageEditor#textEditing\n             * @example\n             * imageEditor.on('textEditing', function() {\n             *     console.log('text editing');\n             * });\n             */\n            this.fire(events.TEXT_EDITING);\n        }\n\n        /**\n         * Mousedown event handler in case of 'TEXT' drawing mode\n         * @param {fabric.Event} event - Current mousedown event object\n         * @private\n         */\n\n    }, {\n        key: '_onAddText',\n        value: function _onAddText(event) {\n            /**\n             * The event when 'TEXT' drawing mode is enabled and click non-object area.\n             * @event ImageEditor#addText\n             * @param {Object} pos\n             *  @param {Object} pos.originPosition - Current position on origin canvas\n             *      @param {Number} pos.originPosition.x - x\n             *      @param {Number} pos.originPosition.y - y\n             *  @param {Object} pos.clientPosition - Current position on client area\n             *      @param {Number} pos.clientPosition.x - x\n             *      @param {Number} pos.clientPosition.y - y\n             * @example\n             * imageEditor.on('addText', function(pos) {\n             *     console.log('text position on canvas: ' + pos.originPosition);\n             *     console.log('text position on brwoser: ' + pos.clientPosition);\n             * });\n             */\n            this.fire(events.ADD_TEXT, {\n                originPosition: event.originPosition,\n                clientPosition: event.clientPosition\n            });\n        }\n\n        /**\n         * 'addObject' event handler\n         * @param {Object} objectProps added object properties\n         * @private\n         */\n\n    }, {\n        key: '_onAddObject',\n        value: function _onAddObject(objectProps) {\n            var obj = this._graphics.getObject(objectProps.id);\n            this._pushAddObjectCommand(obj);\n        }\n\n        /**\n         * 'addObjectAfter' event handler\n         * @param {Object} objectProps added object properties\n         * @private\n         */\n\n    }, {\n        key: '_onAddObjectAfter',\n        value: function _onAddObjectAfter(objectProps) {\n            this.fire(events.ADD_OBJECT_AFTER, objectProps);\n        }\n\n        /**\n         * 'selectionCleared' event handler\n         * @private\n         */\n\n    }, {\n        key: '_selectionCleared',\n        value: function _selectionCleared() {\n            this.fire(events.SELECTION_CLEARED);\n        }\n\n        /**\n         * 'selectionCreated' event handler\n         * @param {Object} eventTarget - Fabric object\n         * @private\n         */\n\n    }, {\n        key: '_selectionCreated',\n        value: function _selectionCreated(eventTarget) {\n            this.fire(events.SELECTION_CREATED, eventTarget);\n        }\n\n        /**\n         * Register custom icons\n         * @param {{iconType: string, pathValue: string}} infos - Infos to register icons\n         * @example\n         * imageEditor.registerIcons({\n         *     customIcon: 'M 0 0 L 20 20 L 10 10 Z',\n         *     customArrow: 'M 60 0 L 120 60 H 90 L 75 45 V 180 H 45 V 45 L 30 60 H 0 Z'\n         * });\n         */\n\n    }, {\n        key: 'registerIcons',\n        value: function registerIcons(infos) {\n            this._graphics.registerPaths(infos);\n        }\n\n        /**\n         * Change canvas cursor type\n         * @param {string} cursorType - cursor type\n         * @example\n         * imageEditor.changeCursor('crosshair');\n         */\n\n    }, {\n        key: 'changeCursor',\n        value: function changeCursor(cursorType) {\n            this._graphics.changeCursor(cursorType);\n        }\n\n        /**\n         * Add icon on canvas\n         * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n         * @param {Object} options - Icon options\n         *      @param {string} [options.fill] - Icon foreground color\n         *      @param {number} [options.left] - Icon x position\n         *      @param {number} [options.top] - Icon y position\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addIcon('arrow'); // The position is center on canvas\n         * @example\n         * imageEditor.addIcon('arrow', {\n         *     left: 100,\n         *     top: 100\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addIcon',\n        value: function addIcon(type, options) {\n            options = options || {};\n\n            this._setPositions(options);\n\n            return this.execute(commands.ADD_ICON, type, options);\n        }\n\n        /**\n         * Change icon color\n         * @param {number} id - object id\n         * @param {string} color - Color for icon\n         * @returns {Promise}\n         * @example\n         * imageEditor.changeIconColor(id, '#000000');\n         */\n\n    }, {\n        key: 'changeIconColor',\n        value: function changeIconColor(id, color) {\n            return this.execute(commands.CHANGE_ICON_COLOR, id, color);\n        }\n\n        /**\n         * Remove an object or group by id\n         * @param {number} id - object id\n         * @returns {Promise}\n         * @example\n         * imageEditor.removeObject(id);\n         */\n\n    }, {\n        key: 'removeObject',\n        value: function removeObject(id) {\n            return this.execute(commands.REMOVE_OBJECT, id);\n        }\n\n        /**\n         * Whether it has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: 'hasFilter',\n        value: function hasFilter(type) {\n            return this._graphics.hasFilter(type);\n        }\n\n        /**\n         * Remove filter on canvas image\n         * @param {string} type - Filter type\n         * @returns {Promise<FilterResult, ErrorMsg>}\n         * @example\n         * imageEditor.removeFilter('Grayscale').then(obj => {\n         *     console.log('filterType: ', obj.type);\n         *     console.log('actType: ', obj.action);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'removeFilter',\n        value: function removeFilter(type) {\n            return this.execute(commands.REMOVE_FILTER, type);\n        }\n\n        /**\n         * Apply filter on canvas image\n         * @param {string} type - Filter type\n         * @param {Object} options - Options to apply filter\n         *  @param {number} options.maskObjId - masking image object id\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<FilterResult, ErrorMsg>}\n         * @example\n         * imageEditor.applyFilter('Grayscale');\n         * @example\n         * imageEditor.applyFilter('mask', {maskObjId: id}).then(obj => {\n         *     console.log('filterType: ', obj.type);\n         *     console.log('actType: ', obj.action);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });;\n         */\n\n    }, {\n        key: 'applyFilter',\n        value: function applyFilter(type, options, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.APPLY_FILTER, type, options);\n        }\n\n        /**\n         * Get data url\n         * @param {Object} options - options for toDataURL\n         *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n         *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n         *   @param {Number} [options.multiplier=1] Multiplier to scale by\n         *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n         *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n         * @returns {string} A DOMString containing the requested data URI\n         * @example\n         * imgEl.src = imageEditor.toDataURL();\n         *\n         * imageEditor.loadImageFromURL(imageEditor.toDataURL(), 'FilterImage').then(() => {\n         *      imageEditor.addImageObject(imgUrl);\n         * });\n         */\n\n    }, {\n        key: 'toDataURL',\n        value: function toDataURL(options) {\n            return this._graphics.toDataURL(options);\n        }\n\n        /**\n         * Get image name\n         * @returns {string} image name\n         * @example\n         * console.log(imageEditor.getImageName());\n         */\n\n    }, {\n        key: 'getImageName',\n        value: function getImageName() {\n            return this._graphics.getImageName();\n        }\n\n        /**\n         * Clear undoStack\n         * @example\n         * imageEditor.clearUndoStack();\n         */\n\n    }, {\n        key: 'clearUndoStack',\n        value: function clearUndoStack() {\n            this._invoker.clearUndoStack();\n        }\n\n        /**\n         * Clear redoStack\n         * @example\n         * imageEditor.clearRedoStack();\n         */\n\n    }, {\n        key: 'clearRedoStack',\n        value: function clearRedoStack() {\n            this._invoker.clearRedoStack();\n        }\n\n        /**\n         * Whehter the undo stack is empty or not\n         * @returns {boolean}\n         * imageEditor.isEmptyUndoStack();\n         */\n\n    }, {\n        key: 'isEmptyUndoStack',\n        value: function isEmptyUndoStack() {\n            return this._invoker.isEmptyUndoStack();\n        }\n\n        /**\n         * Whehter the redo stack is empty or not\n         * @returns {boolean}\n         * imageEditor.isEmptyRedoStack();\n         */\n\n    }, {\n        key: 'isEmptyRedoStack',\n        value: function isEmptyRedoStack() {\n            return this._invoker.isEmptyRedoStack();\n        }\n\n        /**\n         * Resize canvas dimension\n         * @param {{width: number, height: number}} dimension - Max width & height\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'resizeCanvasDimension',\n        value: function resizeCanvasDimension(dimension) {\n            if (!dimension) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.RESIZE_CANVAS_DIMENSION, dimension);\n        }\n\n        /**\n         * Destroy\n         */\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this.stopDrawingMode();\n            this._detachDomEvents();\n            this._graphics.destroy();\n            this._graphics = null;\n\n            if (this.ui) {\n                this.ui.destroy();\n            }\n\n            forEach(this, function (value, key) {\n                _this[key] = null;\n            }, this);\n        }\n\n        /**\n         * Set position\n         * @param {Object} options - Position options (left or top)\n         * @private\n         */\n\n    }, {\n        key: '_setPositions',\n        value: function _setPositions(options) {\n            var centerPosition = this._graphics.getCenter();\n\n            if (isUndefined(options.left)) {\n                options.left = centerPosition.left;\n            }\n\n            if (isUndefined(options.top)) {\n                options.top = centerPosition.top;\n            }\n        }\n\n        /**\n         * Set properties of active object\n         * @param {number} id - object id\n         * @param {Object} keyValue - key & value\n         * @returns {Promise}\n         * @example\n         * imageEditor.setObjectProperties(id, {\n         *     left:100,\n         *     top:100,\n         *     width: 200,\n         *     height: 200,\n         *     opacity: 0.5\n         * });\n         */\n\n    }, {\n        key: 'setObjectProperties',\n        value: function setObjectProperties(id, keyValue) {\n            return this.execute(commands.SET_OBJECT_PROPERTIES, id, keyValue);\n        }\n\n        /**\n         * Set properties of active object, Do not leave an invoke history.\n         * @param {number} id - object id\n         * @param {Object} keyValue - key & value\n         * @example\n         * imageEditor.setObjectPropertiesQuietly(id, {\n         *     left:100,\n         *     top:100,\n         *     width: 200,\n         *     height: 200,\n         *     opacity: 0.5\n         * });\n         */\n\n    }, {\n        key: 'setObjectPropertiesQuietly',\n        value: function setObjectPropertiesQuietly(id, keyValue) {\n            this._graphics.setObjectProperties(id, keyValue);\n        }\n\n        /**\n         * Get properties of active object corresponding key\n         * @param {number} id - object id\n         * @param {Array<string>|ObjectProps|string} keys - property's key\n         * @returns {ObjectProps} properties if id is valid or null\n         * @example\n         * var props = imageEditor.getObjectProperties(id, 'left');\n         * console.log(props);\n         * @example\n         * var props = imageEditor.getObjectProperties(id, ['left', 'top', 'width', 'height']);\n         * console.log(props);\n         * @example\n         * var props = imageEditor.getObjectProperties(id, {\n         *     left: null,\n         *     top: null,\n         *     width: null,\n         *     height: null,\n         *     opacity: null\n         * });\n         * console.log(props);\n         */\n\n    }, {\n        key: 'getObjectProperties',\n        value: function getObjectProperties(id, keys) {\n            var object = this._graphics.getObject(id);\n            if (!object) {\n                return null;\n            }\n\n            return this._graphics.getObjectProperties(id, keys);\n        }\n\n        /**\n         * Get the canvas size\n         * @returns {Object} {{width: number, height: number}} canvas size\n         * @example\n         * var canvasSize = imageEditor.getCanvasSize();\n         * console.log(canvasSize.width);\n         * console.height(canvasSize.height);\n         */\n\n    }, {\n        key: 'getCanvasSize',\n        value: function getCanvasSize() {\n            return this._graphics.getCanvasSize();\n        }\n\n        /**\n         * Get object position by originX, originY\n         * @param {number} id - object id\n         * @param {string} originX - can be 'left', 'center', 'right'\n         * @param {string} originY - can be 'top', 'center', 'bottom'\n         * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n         * @example\n         * var position = imageEditor.getObjectPosition(id, 'left', 'top');\n         * console.log(position);\n         */\n\n    }, {\n        key: 'getObjectPosition',\n        value: function getObjectPosition(id, originX, originY) {\n            return this._graphics.getObjectPosition(id, originX, originY);\n        }\n\n        /**\n         * Set object position  by originX, originY\n         * @param {number} id - object id\n         * @param {Object} posInfo - position object\n         *  @param {number} posInfo.x - x position\n         *  @param {number} posInfo.y - y position\n         *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n         *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n         * @returns {Promise}\n         * @example\n         * // align the object to 'left', 'top'\n         * imageEditor.setObjectPosition(id, {\n         *     x: 0,\n         *     y: 0,\n         *     originX: 'left',\n         *     originY: 'top'\n         * });\n         * @example\n         * // align the object to 'right', 'top'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: canvasSize.width,\n         *     y: 0,\n         *     originX: 'right',\n         *     originY: 'top'\n         * });\n         * @example\n         * // align the object to 'left', 'bottom'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: 0,\n         *     y: canvasSize.height,\n         *     originX: 'left',\n         *     originY: 'bottom'\n         * });\n         * @example\n         * // align the object to 'right', 'bottom'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: canvasSize.width,\n         *     y: canvasSize.height,\n         *     originX: 'right',\n         *     originY: 'bottom'\n         * });\n         */\n\n    }, {\n        key: 'setObjectPosition',\n        value: function setObjectPosition(id, posInfo) {\n            return this.execute(commands.SET_OBJECT_POSITION, id, posInfo);\n        }\n    }]);\n\n    return ImageEditor;\n}();\n\n_action2.default.mixin(ImageEditor);\nCustomEvents.mixin(ImageEditor);\n\nmodule.exports = ImageEditor;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/imageEditor.js?")},"./src/js/interface/command.js":function srcJsInterfaceCommandJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Command interface\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _errorMessage = __webpack_require__(/*! ../factory/errorMessage */ \"./src/js/factory/errorMessage.js\");\n\nvar _errorMessage2 = _interopRequireDefault(_errorMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar createMessage = _errorMessage2.default.create;\nvar errorTypes = _errorMessage2.default.types;\n\n/**\n * Command class\n * @class\n * @param {{name:function, execute: function, undo: function,\n *          executeCallback: function, undoCallback: function}} actions - Command actions\n * @param {Array} args - passing arguments on execute, undo\n * @ignore\n */\n\nvar Command = function () {\n  function Command(actions, args) {\n    _classCallCheck(this, Command);\n\n    /**\n     * command name\n     * @type {string}\n     */\n    this.name = actions.name;\n\n    /**\n     * arguments\n     * @type {Array}\n     */\n    this.args = args;\n\n    /**\n     * Execute function\n     * @type {function}\n     */\n    this.execute = actions.execute;\n\n    /**\n     * Undo function\n     * @type {function}\n     */\n    this.undo = actions.undo;\n\n    /**\n     * executeCallback\n     * @type {function}\n     */\n    this.executeCallback = actions.executeCallback || null;\n\n    /**\n     * undoCallback\n     * @type {function}\n     */\n    this.undoCallback = actions.undoCallback || null;\n\n    /**\n     * data for undo\n     * @type {Object}\n     */\n    this.undoData = {};\n  }\n\n  /**\n   * Execute action\n   * @param {Object.<string, Component>} compMap - Components injection\n   * @abstract\n   */\n\n\n  _createClass(Command, [{\n    key: 'execute',\n    value: function execute() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'execute'));\n    }\n\n    /**\n     * Undo action\n     * @param {Object.<string, Component>} compMap - Components injection\n     * @abstract\n     */\n\n  }, {\n    key: 'undo',\n    value: function undo() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'undo'));\n    }\n\n    /**\n     * command for redo if undoData exists\n     * @returns {boolean} isRedo\n     */\n\n  }, {\n    key: 'setUndoData',\n\n\n    /**\n     * Set undoData action\n     * @param {Object} undoData - maked undo data\n     * @param {Object} cachedUndoDataForSilent - cached undo data\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Object} cachedUndoDataForSilent\n     */\n    value: function setUndoData(undoData, cachedUndoDataForSilent, isSilent) {\n      if (cachedUndoDataForSilent) {\n        undoData = cachedUndoDataForSilent;\n      }\n\n      if (!isSilent) {\n        _tuiCodeSnippet2.default.extend(this.undoData, undoData);\n        cachedUndoDataForSilent = null;\n      } else if (!cachedUndoDataForSilent) {\n        cachedUndoDataForSilent = undoData;\n      }\n\n      return cachedUndoDataForSilent;\n    }\n\n    /**\n     * Attach execute callabck\n     * @param {function} callback - Callback after execution\n     * @returns {Command} this\n     */\n\n  }, {\n    key: 'setExecuteCallback',\n    value: function setExecuteCallback(callback) {\n      this.executeCallback = callback;\n\n      return this;\n    }\n\n    /**\n     * Attach undo callback\n     * @param {function} callback - Callback after undo\n     * @returns {Command} this\n     */\n\n  }, {\n    key: 'setUndoCallback',\n    value: function setUndoCallback(callback) {\n      this.undoCallback = callback;\n\n      return this;\n    }\n  }, {\n    key: 'isRedo',\n    get: function get() {\n      return Object.keys(this.undoData).length;\n    }\n  }]);\n\n  return Command;\n}();\n\nmodule.exports = Command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/command.js?")},"./src/js/interface/component.js":function srcJsInterfaceComponentJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Component interface\n */\n\n/**\n * Component interface\n * @class\n * @param {string} name - component name\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\nvar Component = function () {\n  function Component(name, graphics) {\n    _classCallCheck(this, Component);\n\n    /**\n     * Component name\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * Graphics instance\n     * @type {Graphics}\n     */\n    this.graphics = graphics;\n  }\n\n  /**\n   * Fire Graphics event\n   * @returns {Object} return value\n   */\n\n\n  _createClass(Component, [{\n    key: "fire",\n    value: function fire() {\n      var context = this.graphics;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.graphics.fire.apply(context, args);\n    }\n\n    /**\n     * Save image(background) of canvas\n     * @param {string} name - Name of image\n     * @param {fabric.Image} oImage - Fabric image instance\n     */\n\n  }, {\n    key: "setCanvasImage",\n    value: function setCanvasImage(name, oImage) {\n      this.graphics.setCanvasImage(name, oImage);\n    }\n\n    /**\n     * Returns canvas element of fabric.Canvas[[lower-canvas]]\n     * @returns {HTMLCanvasElement}\n     */\n\n  }, {\n    key: "getCanvasElement",\n    value: function getCanvasElement() {\n      return this.graphics.getCanvasElement();\n    }\n\n    /**\n     * Get fabric.Canvas instance\n     * @returns {fabric.Canvas}\n     */\n\n  }, {\n    key: "getCanvas",\n    value: function getCanvas() {\n      return this.graphics.getCanvas();\n    }\n\n    /**\n     * Get canvasImage (fabric.Image instance)\n     * @returns {fabric.Image}\n     */\n\n  }, {\n    key: "getCanvasImage",\n    value: function getCanvasImage() {\n      return this.graphics.getCanvasImage();\n    }\n\n    /**\n     * Get image name\n     * @returns {string}\n     */\n\n  }, {\n    key: "getImageName",\n    value: function getImageName() {\n      return this.graphics.getImageName();\n    }\n\n    /**\n     * Get image editor\n     * @returns {ImageEditor}\n     */\n\n  }, {\n    key: "getEditor",\n    value: function getEditor() {\n      return this.graphics.getEditor();\n    }\n\n    /**\n     * Return component name\n     * @returns {string}\n     */\n\n  }, {\n    key: "getName",\n    value: function getName() {\n      return this.name;\n    }\n\n    /**\n     * Set image properties\n     * @param {Object} setting - Image properties\n     * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n     */\n\n  }, {\n    key: "setImageProperties",\n    value: function setImageProperties(setting, withRendering) {\n      this.graphics.setImageProperties(setting, withRendering);\n    }\n\n    /**\n     * Set canvas dimension - css only\n     * @param {Object} dimension - Canvas css dimension\n     */\n\n  }, {\n    key: "setCanvasCssDimension",\n    value: function setCanvasCssDimension(dimension) {\n      this.graphics.setCanvasCssDimension(dimension);\n    }\n\n    /**\n     * Set canvas dimension - css only\n     * @param {Object} dimension - Canvas backstore dimension\n     */\n\n  }, {\n    key: "setCanvasBackstoreDimension",\n    value: function setCanvasBackstoreDimension(dimension) {\n      this.graphics.setCanvasBackstoreDimension(dimension);\n    }\n\n    /**\n     * Adjust canvas dimension with scaling image\n     */\n\n  }, {\n    key: "adjustCanvasDimension",\n    value: function adjustCanvasDimension() {\n      this.graphics.adjustCanvasDimension();\n    }\n  }]);\n\n  return Component;\n}();\n\nmodule.exports = Component;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/component.js?')},"./src/js/interface/drawingMode.js":function srcJsInterfaceDrawingModeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview DrawingMode interface\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _errorMessage = __webpack_require__(/*! ../factory/errorMessage */ \"./src/js/factory/errorMessage.js\");\n\nvar _errorMessage2 = _interopRequireDefault(_errorMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar createMessage = _errorMessage2.default.create;\nvar errorTypes = _errorMessage2.default.types;\n\n/**\n * DrawingMode interface\n * @class\n * @param {string} name - drawing mode name\n * @ignore\n */\n\nvar DrawingMode = function () {\n  function DrawingMode(name) {\n    _classCallCheck(this, DrawingMode);\n\n    /**\n     * the name of drawing mode\n     * @type {string}\n     */\n    this.name = name;\n  }\n\n  /**\n   * Get this drawing mode name;\n   * @returns {string} drawing mode name\n   */\n\n\n  _createClass(DrawingMode, [{\n    key: 'getName',\n    value: function getName() {\n      return this.name;\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Object} options - drawing mode options\n    * @abstract\n    */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'start'));\n    }\n\n    /**\n     * stop this drawing mode\n     * @abstract\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'stop'));\n    }\n  }]);\n\n  return DrawingMode;\n}();\n\nmodule.exports = DrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/drawingMode.js?")},"./src/js/invoker.js":function srcJsInvokerJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Invoker - invoke commands\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _command = __webpack_require__(/*! ./factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar eventNames = _consts2.default.eventNames,\n    rejectMessages = _consts2.default.rejectMessages;\nvar isFunction = _tuiCodeSnippet2.default.isFunction,\n    isString = _tuiCodeSnippet2.default.isString,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n\n/**\n * Invoker\n * @class\n * @ignore\n */\n\nvar Invoker = function () {\n    function Invoker() {\n        _classCallCheck(this, Invoker);\n\n        /**\n         * Undo stack\n         * @type {Array.<Command>}\n         * @private\n         */\n        this._undoStack = [];\n\n        /**\n         * Redo stack\n         * @type {Array.<Command>}\n         * @private\n         */\n        this._redoStack = [];\n\n        /**\n         * Lock-flag for executing command\n         * @type {boolean}\n         * @private\n         */\n        this._isLocked = false;\n\n        this._isSilent = false;\n    }\n\n    /**\n     * Invoke command execution\n     * @param {Command} command - Command\n     * @returns {Promise}\n     * @private\n     */\n\n\n    _createClass(Invoker, [{\n        key: '_invokeExecution',\n        value: function _invokeExecution(command) {\n            var _this = this;\n\n            this.lock();\n\n            var args = command.args;\n\n            if (!args) {\n                args = [];\n            }\n\n            return command.execute.apply(command, args).then(function (value) {\n                if (!_this._isSilent) {\n                    _this.pushUndoStack(command);\n                }\n                _this.unlock();\n                if (isFunction(command.executeCallback)) {\n                    command.executeCallback(value);\n                }\n\n                return value;\n            })['catch'](function (message) {\n                _this.unlock();\n\n                return _promise2.default.reject(message);\n            });\n        }\n\n        /**\n         * Invoke command undo\n         * @param {Command} command - Command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_invokeUndo',\n        value: function _invokeUndo(command) {\n            var _this2 = this;\n\n            this.lock();\n\n            var args = command.args;\n\n            if (!args) {\n                args = [];\n            }\n\n            return command.undo.apply(command, args).then(function (value) {\n                _this2.pushRedoStack(command);\n                _this2.unlock();\n                if (isFunction(command.undoCallback)) {\n                    command.undoCallback(value);\n                }\n\n                return value;\n            })['catch'](function (message) {\n                _this2.unlock();\n\n                return _promise2.default.reject(message);\n            });\n        }\n\n        /**\n         * fire REDO_STACK_CHANGED event\n         * @private\n         */\n\n    }, {\n        key: '_fireRedoStackChanged',\n        value: function _fireRedoStackChanged() {\n            this.fire(eventNames.REDO_STACK_CHANGED, this._redoStack.length);\n        }\n\n        /**\n         * fire UNDO_STACK_CHANGED event\n         * @private\n         */\n\n    }, {\n        key: '_fireUndoStackChanged',\n        value: function _fireUndoStackChanged() {\n            this.fire(eventNames.UNDO_STACK_CHANGED, this._undoStack.length);\n        }\n\n        /**\n         * Lock this invoker\n         */\n\n    }, {\n        key: 'lock',\n        value: function lock() {\n            this._isLocked = true;\n        }\n\n        /**\n         * Unlock this invoker\n         */\n\n    }, {\n        key: 'unlock',\n        value: function unlock() {\n            this._isLocked = false;\n        }\n    }, {\n        key: 'executeSilent',\n        value: function executeSilent() {\n            var _this3 = this;\n\n            this._isSilent = true;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return this.execute.apply(this, args.concat([this._isSilent])).then(function () {\n                _this3._isSilent = false;\n            });\n        }\n\n        /**\n         * Invoke command\n         * Store the command to the undoStack\n         * Clear the redoStack\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'execute',\n        value: function execute() {\n            var _this4 = this;\n\n            if (this._isLocked) {\n                return _promise2.default.reject(rejectMessages.isLock);\n            }\n\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            var command = args[0];\n\n            if (isString(command)) {\n                command = _command2.default.create.apply(_command2.default, args);\n            }\n\n            return this._invokeExecution(command).then(function (value) {\n                _this4.clearRedoStack();\n\n                return value;\n            });\n        }\n\n        /**\n         * Undo command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'undo',\n        value: function undo() {\n            var command = this._undoStack.pop();\n            var promise = void 0;\n            var message = '';\n\n            if (command && this._isLocked) {\n                this.pushUndoStack(command, true);\n                command = null;\n            }\n            if (command) {\n                if (this.isEmptyUndoStack()) {\n                    this._fireUndoStackChanged();\n                }\n                promise = this._invokeUndo(command);\n            } else {\n                message = rejectMessages.undo;\n                if (this._isLocked) {\n                    message = message + ' Because ' + rejectMessages.isLock;\n                }\n                promise = _promise2.default.reject(message);\n            }\n\n            return promise;\n        }\n\n        /**\n         * Redo command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'redo',\n        value: function redo() {\n            var command = this._redoStack.pop();\n            var promise = void 0;\n            var message = '';\n\n            if (command && this._isLocked) {\n                this.pushRedoStack(command, true);\n                command = null;\n            }\n            if (command) {\n                if (this.isEmptyRedoStack()) {\n                    this._fireRedoStackChanged();\n                }\n                promise = this._invokeExecution(command);\n            } else {\n                message = rejectMessages.redo;\n                if (this._isLocked) {\n                    message = message + ' Because ' + rejectMessages.isLock;\n                }\n                promise = _promise2.default.reject(message);\n            }\n\n            return promise;\n        }\n\n        /**\n         * Push undo stack\n         * @param {Command} command - command\n         * @param {boolean} [isSilent] - Fire event or not\n         */\n\n    }, {\n        key: 'pushUndoStack',\n        value: function pushUndoStack(command, isSilent) {\n            this._undoStack.push(command);\n            if (!isSilent) {\n                this._fireUndoStackChanged();\n            }\n        }\n\n        /**\n         * Push redo stack\n         * @param {Command} command - command\n         * @param {boolean} [isSilent] - Fire event or not\n         */\n\n    }, {\n        key: 'pushRedoStack',\n        value: function pushRedoStack(command, isSilent) {\n            this._redoStack.push(command);\n            if (!isSilent) {\n                this._fireRedoStackChanged();\n            }\n        }\n\n        /**\n         * Return whether the redoStack is empty\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isEmptyRedoStack',\n        value: function isEmptyRedoStack() {\n            return this._redoStack.length === 0;\n        }\n\n        /**\n         * Return whether the undoStack is empty\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isEmptyUndoStack',\n        value: function isEmptyUndoStack() {\n            return this._undoStack.length === 0;\n        }\n\n        /**\n         * Clear undoStack\n         */\n\n    }, {\n        key: 'clearUndoStack',\n        value: function clearUndoStack() {\n            if (!this.isEmptyUndoStack()) {\n                this._undoStack = [];\n                this._fireUndoStackChanged();\n            }\n        }\n\n        /**\n         * Clear redoStack\n         */\n\n    }, {\n        key: 'clearRedoStack',\n        value: function clearRedoStack() {\n            if (!this.isEmptyRedoStack()) {\n                this._redoStack = [];\n                this._fireRedoStackChanged();\n            }\n        }\n    }]);\n\n    return Invoker;\n}();\n\nCustomEvents.mixin(Invoker);\nmodule.exports = Invoker;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/invoker.js?")},"./src/js/polyfill.js":function srcJsPolyfillJs(module,exports,__webpack_require__){"use strict";eval('\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n// Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/if (!Element.prototype.matches)\nElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nif (!Element.prototype.closest) Element.prototype.closest = function (s) {\n    var el = this;\n    if (!document.documentElement.contains(el)) return null;\n    do {\n        if (el.matches(s)) return el;\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n};\n\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif ("document" in window.self) {\n\n    // Full polyfill for browsers with no classList support\n    // Including IE < Edge missing SVGElement.classList\n    if (!("classList" in document.createElement("_")) || document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg", "g"))) {\n\n        (function (view) {\n\n            "use strict";\n\n            if (!(\'Element\' in view)) return;\n\n            var classListProp = "classList",\n                protoProp = "prototype",\n                elemCtrProto = view.Element[protoProp],\n                objCtr = Object,\n                strTrim = String[protoProp].trim || function () {\n                return this.replace(/^\\s+|\\s+$/g, "");\n            },\n                arrIndexOf = Array[protoProp].indexOf || function (item) {\n                var i = 0,\n                    len = this.length;\n                for (; i < len; i++) {\n                    if (i in this && this[i] === item) {\n                        return i;\n                    }\n                }\n                return -1;\n            }\n            // Vendors: please allow content code to instantiate DOMExceptions\n            ,\n                DOMEx = function DOMEx(type, message) {\n                this.name = type;\n                this.code = DOMException[type];\n                this.message = message;\n            },\n                checkTokenAndGetIndex = function checkTokenAndGetIndex(classList, token) {\n                if (token === "") {\n                    throw new DOMEx("SYNTAX_ERR", "An invalid or illegal string was specified");\n                }\n                if (/\\s/.test(token)) {\n                    throw new DOMEx("INVALID_CHARACTER_ERR", "String contains an invalid character");\n                }\n                return arrIndexOf.call(classList, token);\n            },\n                ClassList = function ClassList(elem) {\n                var trimmedClasses = strTrim.call(elem.getAttribute("class") || ""),\n                    classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n                    i = 0,\n                    len = classes.length;\n                for (; i < len; i++) {\n                    this.push(classes[i]);\n                }\n                this._updateClassName = function () {\n                    elem.setAttribute("class", this.toString());\n                };\n            },\n                classListProto = ClassList[protoProp] = [],\n                classListGetter = function classListGetter() {\n                return new ClassList(this);\n            };\n            // Most DOMException implementations don\'t allow calling DOMException\'s toString()\n            // on non-DOMExceptions. Error\'s toString() is sufficient here.\n            DOMEx[protoProp] = Error[protoProp];\n            classListProto.item = function (i) {\n                return this[i] || null;\n            };\n            classListProto.contains = function (token) {\n                token += "";\n                return checkTokenAndGetIndex(this, token) !== -1;\n            };\n            classListProto.add = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false;\n                do {\n                    token = tokens[i] + "";\n                    if (checkTokenAndGetIndex(this, token) === -1) {\n                        this.push(token);\n                        updated = true;\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.remove = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false,\n                    index;\n                do {\n                    token = tokens[i] + "";\n                    index = checkTokenAndGetIndex(this, token);\n                    while (index !== -1) {\n                        this.splice(index, 1);\n                        updated = true;\n                        index = checkTokenAndGetIndex(this, token);\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.toggle = function (token, force) {\n                token += "";\n\n                var result = this.contains(token),\n                    method = result ? force !== true && "remove" : force !== false && "add";\n\n                if (method) {\n                    this[method](token);\n                }\n\n                if (force === true || force === false) {\n                    return force;\n                } else {\n                    return !result;\n                }\n            };\n            classListProto.toString = function () {\n                return this.join(" ");\n            };\n\n            if (objCtr.defineProperty) {\n                var classListPropDesc = {\n                    get: classListGetter,\n                    enumerable: true,\n                    configurable: true\n                };\n                try {\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                } catch (ex) {\n                    // IE 8 doesn\'t support enumerable:true\n                    // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n                    // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n                    if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n                        classListPropDesc.enumerable = false;\n                        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                    }\n                }\n            } else if (objCtr[protoProp].__defineGetter__) {\n                elemCtrProto.__defineGetter__(classListProp, classListGetter);\n            }\n        })(window.self);\n    }\n\n    // There is full or partial native classList support, so just check if we need\n    // to normalize the add/remove and toggle APIs.\n\n    (function () {\n        "use strict";\n\n        var testElement = document.createElement("_");\n\n        testElement.classList.add("c1", "c2");\n\n        // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n        // classList.remove exist but support only one argument at a time.\n        if (!testElement.classList.contains("c2")) {\n            var createMethod = function createMethod(method) {\n                var original = DOMTokenList.prototype[method];\n\n                DOMTokenList.prototype[method] = function (token) {\n                    var i,\n                        len = arguments.length;\n\n                    for (i = 0; i < len; i++) {\n                        token = arguments[i];\n                        original.call(this, token);\n                    }\n                };\n            };\n            createMethod(\'add\');\n            createMethod(\'remove\');\n        }\n\n        testElement.classList.toggle("c3", false);\n\n        // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n        // support the second argument.\n        if (testElement.classList.contains("c3")) {\n            var _toggle = DOMTokenList.prototype.toggle;\n\n            DOMTokenList.prototype.toggle = function (token, force) {\n                if (1 in arguments && !this.contains(token) === !force) {\n                    return force;\n                } else {\n                    return _toggle.call(this, token);\n                }\n            };\n        }\n\n        testElement = null;\n    })();\n}\n\n/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    "use strict";\n\n    if (typeof window !== "undefined" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function debouncedCheck() {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function unobserveChanges() {\n            return;\n        };\n        var observeChanges = function observeChanges() {\n            var observer;\n            window.addEventListener("resize", debouncedCheck, false);\n            window.addEventListener("orientationchange", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function unobserveChanges() {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener("resize", debouncedCheck, false);\n                        window.removeEventListener("orientationchange", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener("DOMSubtreeModified", debouncedCheck, false);\n                unobserveChanges = function unobserveChanges() {\n                    document.documentElement.removeEventListener("DOMSubtreeModified", debouncedCheck, false);\n                    window.removeEventListener("resize", debouncedCheck, false);\n                    window.removeEventListener("orientationchange", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function createRequest(url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement("a");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, "") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== "" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = "http://www.w3.org/1999/xlink";\n        checkUseElems = function checkUseElems() {\n            var base;\n            var bcr;\n            var fallback = ""; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) {\n                    // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, "xlink:href", "#" + spec.hash);\n                        if (spec.useEl.hasAttribute("href")) {\n                            spec.useEl.setAttribute("href", "#" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement("x");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName("svg")[0];\n                    if (svg) {\n                        svg.setAttribute("aria-hidden", "true");\n                        svg.style.position = "absolute";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = "hidden";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName("use");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute("href") || uses[i].getAttributeNS(xlinkNS, "href") || uses[i].getAttribute("xlink:href");\n                if (href && href.split) {\n                    url = href.split("#");\n                } else {\n                    url = ["", ""];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute("href")) {\n                        uses[i].setAttributeNS(xlinkNS, "xlink:href", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open("GET", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = "";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var _winLoad;\n        _winLoad = function winLoad() {\n            window.removeEventListener("load", _winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== "complete") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener("load", _winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            _winLoad();\n        }\n    }\n})();\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/polyfill.js?')},"./src/js/ui.js":function srcJsUiJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _mainContainer = __webpack_require__(/*! ./ui/template/mainContainer */ \"./src/js/ui/template/mainContainer.js\");\n\nvar _mainContainer2 = _interopRequireDefault(_mainContainer);\n\nvar _controls = __webpack_require__(/*! ./ui/template/controls */ \"./src/js/ui/template/controls.js\");\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _theme = __webpack_require__(/*! ./ui/theme/theme */ \"./src/js/ui/theme/theme.js\");\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _shape = __webpack_require__(/*! ./ui/shape */ \"./src/js/ui/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _crop = __webpack_require__(/*! ./ui/crop */ \"./src/js/ui/crop.js\");\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _flip = __webpack_require__(/*! ./ui/flip */ \"./src/js/ui/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nvar _rotate = __webpack_require__(/*! ./ui/rotate */ \"./src/js/ui/rotate.js\");\n\nvar _rotate2 = _interopRequireDefault(_rotate);\n\nvar _text = __webpack_require__(/*! ./ui/text */ \"./src/js/ui/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _mask = __webpack_require__(/*! ./ui/mask */ \"./src/js/ui/mask.js\");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nvar _icon = __webpack_require__(/*! ./ui/icon */ \"./src/js/ui/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _draw = __webpack_require__(/*! ./ui/draw */ \"./src/js/ui/draw.js\");\n\nvar _draw2 = _interopRequireDefault(_draw);\n\nvar _filter = __webpack_require__(/*! ./ui/filter */ \"./src/js/ui/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _locale = __webpack_require__(/*! ./ui/locale/locale */ \"./src/js/ui/locale/locale.js\");\n\nvar _locale2 = _interopRequireDefault(_locale);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SUB_UI_COMPONENT = {\n    Shape: _shape2.default,\n    Crop: _crop2.default,\n    Flip: _flip2.default,\n    Rotate: _rotate2.default,\n    Text: _text2.default,\n    Mask: _mask2.default,\n    Icon: _icon2.default,\n    Draw: _draw2.default,\n    Filter: _filter2.default\n};\n\nvar BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION = '1300';\n\n/**\n * Default UI Class\n * @class\n * @param {string|HTMLElement} element - Wrapper's element or selector\n * @param {Object} [options] - Ui setting options\n *   @param {number} options.loadImage - Init default load image\n *   @param {number} options.initMenu - Init start menu\n *   @param {Boolean} [options.menuBarPosition=bottom] - Let\n *   @param {Boolean} [options.applyCropSelectionStyle=false] - Let\n *   @param {Boolean} [options.usageStatistics=false] - Use statistics or not\n *   @param {Object} [options.uiSize] - ui size of editor\n *     @param {string} options.uiSize.width - width of ui\n *     @param {string} options.uiSize.height - height of ui\n * @param {Object} actions - ui action instance\n */\n\nvar Ui = function () {\n    function Ui(element, options, actions) {\n        _classCallCheck(this, Ui);\n\n        this.options = this._initializeOption(options);\n        this._actions = actions;\n        this.submenu = false;\n        this.imageSize = {};\n        this.uiSize = {};\n        this._locale = new _locale2.default(this.options.locale);\n        this.theme = new _theme2.default(this.options.theme);\n        this.eventHandler = {};\n        this._submenuChangeTransection = false;\n        this._selectedElement = null;\n        this._mainElement = null;\n        this._editorElementWrap = null;\n        this._editorElement = null;\n        this._menuElement = null;\n        this._subMenuElement = null;\n        this._makeUiElement(element);\n        this._setUiSize();\n        this._initMenuEvent = false;\n\n        this._makeSubMenu();\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Ui, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeUiEvent();\n            this._destroyAllMenu();\n            this._selectedElement.innerHTML = '';\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Set Default Selection for includeUI\n         * @param {Object} option - imageEditor options\n         * @returns {Object} - extends selectionStyle option\n         * @ignore\n         */\n\n    }, {\n        key: 'setUiDefaultSelectionStyle',\n        value: function setUiDefaultSelectionStyle(option) {\n            return _tuiCodeSnippet2.default.extend({\n                applyCropSelectionStyle: true,\n                applyGroupSelectionStyle: true,\n                selectionStyle: {\n                    cornerStyle: 'circle',\n                    cornerSize: 16,\n                    cornerColor: '#fff',\n                    cornerStrokeColor: '#fff',\n                    transparentCorners: false,\n                    lineWidth: 2,\n                    borderColor: '#fff'\n                }\n            }, option);\n        }\n\n        /**\n         * Change editor size\n         * @param {Object} resizeInfo - ui & image size info\n         *   @param {Object} [resizeInfo.uiSize] - image size dimension\n         *     @param {string} resizeInfo.uiSize.width - ui width\n         *     @param {string} resizeInfo.uiSize.height - ui height\n         *   @param {Object} [resizeInfo.imageSize] - image size dimension\n         *     @param {Number} resizeInfo.imageSize.oldWidth - old width\n         *     @param {Number} resizeInfo.imageSize.oldHeight - old height\n         *     @param {Number} resizeInfo.imageSize.newWidth - new width\n         *     @param {Number} resizeInfo.imageSize.newHeight - new height\n         * @example\n         * // Change the image size and ui size, and change the affected ui state together.\n         * imageEditor.ui.resizeEditor({\n         *     imageSize: {oldWidth: 100, oldHeight: 100, newWidth: 700, newHeight: 700},\n         *     uiSize: {width: 1000, height: 1000}\n         * });\n         * @example\n         * // Apply the ui state while preserving the previous attribute (for example, if responsive UI)\n         * imageEditor.ui.resizeEditor();\n         */\n\n    }, {\n        key: 'resizeEditor',\n        value: function resizeEditor() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                uiSize = _ref.uiSize,\n                _ref$imageSize = _ref.imageSize,\n                imageSize = _ref$imageSize === undefined ? this.imageSize : _ref$imageSize;\n\n            if (imageSize !== this.imageSize) {\n                this.imageSize = imageSize;\n            }\n            if (uiSize) {\n                this._setUiSize(uiSize);\n            }\n\n            var _getCanvasMaxDimensio = this._getCanvasMaxDimension(),\n                width = _getCanvasMaxDimensio.width,\n                height = _getCanvasMaxDimensio.height;\n\n            var editorElementStyle = this._editorElement.style;\n            var menuBarPosition = this.options.menuBarPosition;\n\n\n            editorElementStyle.height = height + 'px';\n            editorElementStyle.width = width + 'px';\n\n            this._setEditorPosition(menuBarPosition);\n\n            this._editorElementWrap.style.bottom = '0px';\n            this._editorElementWrap.style.top = '0px';\n            this._editorElementWrap.style.left = '0px';\n            this._editorElementWrap.style.width = '100%';\n\n            var selectElementClassList = this._selectedElement.classList;\n\n            if (menuBarPosition === 'top' && this._selectedElement.offsetWidth < BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION) {\n                selectElementClassList.add('tui-image-editor-top-optimization');\n            } else {\n                selectElementClassList.remove('tui-image-editor-top-optimization');\n            }\n        }\n\n        /**\n         * Change help button status\n         * @param {string} buttonType - target button type\n         * @param {Boolean} enableStatus - enabled status\n         * @ignore\n         */\n\n    }, {\n        key: 'changeHelpButtonEnabled',\n        value: function changeHelpButtonEnabled(buttonType, enableStatus) {\n            var buttonClassList = this._buttonElements[buttonType].classList;\n\n            buttonClassList[enableStatus ? 'add' : 'remove']('enabled');\n        }\n\n        /**\n         * Change delete button status\n         * @param {Object} [options] - Ui setting options\n         *   @param {object} [options.loadImage] - Init default load image\n         *   @param {string} [options.initMenu] - Init start menu\n         *   @param {string} [options.menuBarPosition=bottom] - Let\n         *   @param {boolean} [options.applyCropSelectionStyle=false] - Let\n         *   @param {boolean} [options.usageStatistics=false] - Send statistics ping or not\n         * @returns {Object} initialize option\n         * @private\n         */\n\n    }, {\n        key: '_initializeOption',\n        value: function _initializeOption(options) {\n            return _tuiCodeSnippet2.default.extend({\n                loadImage: {\n                    path: '',\n                    name: ''\n                },\n                locale: {},\n                menuIconPath: '',\n                menu: ['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'],\n                initMenu: '',\n                uiSize: {\n                    width: '100%',\n                    height: '100%'\n                },\n                menuBarPosition: 'bottom'\n            }, options);\n        }\n\n        /**\n         * Set ui container size\n         * @param {Object} uiSize - ui dimension\n         *   @param {string} uiSize.width - css width property\n         *   @param {string} uiSize.height - css height property \n         * @private\n         */\n\n    }, {\n        key: '_setUiSize',\n        value: function _setUiSize() {\n            var uiSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.uiSize;\n\n            var elementDimension = this._selectedElement.style;\n            elementDimension.width = uiSize.width;\n            elementDimension.height = uiSize.height;\n        }\n\n        /**\n         * Make submenu dom element\n         * @private\n         */\n\n    }, {\n        key: '_makeSubMenu',\n        value: function _makeSubMenu() {\n            var _this = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                var SubComponentClass = SUB_UI_COMPONENT[menuName.replace(/^[a-z]/, function ($0) {\n                    return $0.toUpperCase();\n                })];\n\n                // make menu element\n                _this._makeMenuElement(menuName);\n\n                // menu btn element\n                _this._buttonElements[menuName] = _this._menuElement.querySelector('.tie-btn-' + menuName);\n\n                // submenu ui instance\n                _this[menuName] = new SubComponentClass(_this._subMenuElement, {\n                    locale: _this._locale,\n                    makeSvgIcon: _this.theme.makeMenSvgIconSet.bind(_this.theme),\n                    menuBarPosition: _this.options.menuBarPosition,\n                    usageStatistics: _this.options.usageStatistics\n                });\n            });\n        }\n\n        /**\n         * Make primary ui dom element\n         * @param {string|HTMLElement} element - Wrapper's element or selector\n         * @private\n         */\n\n    }, {\n        key: '_makeUiElement',\n        value: function _makeUiElement(element) {\n            var selectedElement = void 0;\n\n            window.snippet = _tuiCodeSnippet2.default;\n\n            if (element.nodeType) {\n                selectedElement = element;\n            } else {\n                selectedElement = document.querySelector(element);\n            }\n            var selector = _util2.default.getSelector(selectedElement);\n\n            selectedElement.classList.add('tui-image-editor-container');\n            selectedElement.innerHTML = (0, _controls2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton')\n            }) + (0, _mainContainer2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                commonStyle: this.theme.getStyle('common'),\n                headerStyle: this.theme.getStyle('header'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton'),\n                submenuStyle: this.theme.getStyle('submenu')\n            });\n\n            this._selectedElement = selectedElement;\n            this._selectedElement.classList.add(this.options.menuBarPosition);\n\n            this._mainElement = selector('.tui-image-editor-main');\n            this._editorElementWrap = selector('.tui-image-editor-wrap');\n            this._editorElement = selector('.tui-image-editor');\n            this._menuElement = selector('.tui-image-editor-menu');\n            this._subMenuElement = selector('.tui-image-editor-submenu');\n            this._buttonElements = {\n                'download': this._selectedElement.querySelectorAll('.tui-image-editor-download-btn'),\n                'load': this._selectedElement.querySelectorAll('.tui-image-editor-load-btn')\n            };\n\n            this._addHelpMenus();\n        }\n\n        /**\n         * make array for help menu output, including partitions.\n         * @returns {Array}\n         * @private\n         */\n\n    }, {\n        key: '_makeHelpMenuWithPartition',\n        value: function _makeHelpMenuWithPartition() {\n            var helpMenuWithPartition = [].concat(_consts.HELP_MENUS, ['']);\n            helpMenuWithPartition.splice(3, 0, '');\n\n            return helpMenuWithPartition;\n        }\n\n        /**\n         * Add help menu\n         * @private\n         */\n\n    }, {\n        key: '_addHelpMenus',\n        value: function _addHelpMenus() {\n            var _this2 = this;\n\n            var helpMenuWithPartition = this._makeHelpMenuWithPartition();\n\n            _tuiCodeSnippet2.default.forEach(helpMenuWithPartition, function (menuName) {\n                if (!menuName) {\n                    _this2._makeMenuPartitionElement();\n                } else {\n                    _this2._makeMenuElement(menuName, ['normal', 'disabled', 'hover'], 'help');\n\n                    if (menuName) {\n                        _this2._buttonElements[menuName] = _this2._menuElement.querySelector('.tie-btn-' + menuName);\n                    }\n                }\n            });\n        }\n\n        /**\n         * Make menu partition element\n         * @private\n         */\n\n    }, {\n        key: '_makeMenuPartitionElement',\n        value: function _makeMenuPartitionElement() {\n            var partitionElement = document.createElement('li');\n            var partitionInnerElement = document.createElement('div');\n            partitionElement.className = _util2.default.cls('item');\n            partitionInnerElement.className = _util2.default.cls('icpartition');\n            partitionElement.appendChild(partitionInnerElement);\n\n            this._menuElement.appendChild(partitionElement);\n        }\n\n        /**\n         * Make menu button element\n         * @param {string} menuName - menu name\n         * @param {Array} useIconTypes - Possible values are  \\['normal', 'active', 'hover', 'disabled'\\]\n         * @param {string} menuType - 'normal' or 'help'\n         * @private\n         */\n\n    }, {\n        key: '_makeMenuElement',\n        value: function _makeMenuElement(menuName) {\n            var useIconTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['normal', 'active', 'hover'];\n            var menuType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'normal';\n\n            var btnElement = document.createElement('li');\n            var menuItemHtml = this.theme.makeMenSvgIconSet(useIconTypes, menuName);\n\n            this._addTooltipAttribute(btnElement, menuName);\n            btnElement.className = 'tie-btn-' + menuName + ' ' + _util2.default.cls('item') + ' ' + menuType;\n            btnElement.innerHTML = menuItemHtml;\n\n            this._menuElement.appendChild(btnElement);\n        }\n\n        /**\n         * Add help action event\n         * @private\n         */\n\n    }, {\n        key: '_addHelpActionEvent',\n        value: function _addHelpActionEvent() {\n            var _this3 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this3.eventHandler[helpName] = function () {\n                    return _this3._actions.main[helpName]();\n                };\n                _this3._buttonElements[helpName].addEventListener('click', _this3.eventHandler[helpName]);\n            });\n        }\n\n        /**\n         * Remove help action event\n         * @private\n         */\n\n    }, {\n        key: '_removeHelpActionEvent',\n        value: function _removeHelpActionEvent() {\n            var _this4 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this4._buttonElements[helpName].removeEventListener('click', _this4.eventHandler[helpName]);\n            });\n        }\n\n        /**\n         * Add attribute for menu tooltip\n         * @param {HTMLElement} element - menu element\n         * @param {string} tooltipName - tooltipName\n         * @private\n         */\n\n    }, {\n        key: '_addTooltipAttribute',\n        value: function _addTooltipAttribute(element, tooltipName) {\n            element.setAttribute('tooltip-content', this._locale.localize(tooltipName.replace(/^[a-z]/g, function ($0) {\n                return $0.toUpperCase();\n            })));\n        }\n\n        /**\n         * Add download event\n         * @private\n         */\n\n    }, {\n        key: '_addDownloadEvent',\n        value: function _addDownloadEvent() {\n            var _this5 = this;\n\n            this.eventHandler.download = function () {\n                return _this5._actions.main.download();\n            };\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.addEventListener('click', _this5.eventHandler.download);\n            });\n        }\n    }, {\n        key: '_removeDownloadEvent',\n        value: function _removeDownloadEvent() {\n            var _this6 = this;\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.removeEventListener('click', _this6.eventHandler.download);\n            });\n        }\n\n        /**\n         * Add load event\n         * @private\n         */\n\n    }, {\n        key: '_addLoadEvent',\n        value: function _addLoadEvent() {\n            var _this7 = this;\n\n            this.eventHandler.loadImage = function (event) {\n                return _this7._actions.main.load(event.target.files[0]);\n            };\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.addEventListener('change', _this7.eventHandler.loadImage);\n            });\n        }\n\n        /**\n         * Remmove load event\n         * @private\n         */\n\n    }, {\n        key: '_removeLoadEvent',\n        value: function _removeLoadEvent() {\n            var _this8 = this;\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.removeEventListener('change', _this8.eventHandler.loadImage);\n            });\n        }\n\n        /**\n         * Add menu event\n         * @param {string} menuName - menu name\n         * @private\n         */\n\n    }, {\n        key: '_addMainMenuEvent',\n        value: function _addMainMenuEvent(menuName) {\n            var _this9 = this;\n\n            this.eventHandler[menuName] = function () {\n                return _this9.changeMenu(menuName);\n            };\n            this._buttonElements[menuName].addEventListener('click', this.eventHandler[menuName]);\n        }\n\n        /**\n         * Add menu event\n         * @param {string} menuName - menu name\n         * @private\n         */\n\n    }, {\n        key: '_addSubMenuEvent',\n        value: function _addSubMenuEvent(menuName) {\n            this[menuName].addEvent(this._actions[menuName]);\n        }\n\n        /**\n         * Add menu event\n         * @private\n         */\n\n    }, {\n        key: '_addMenuEvent',\n        value: function _addMenuEvent() {\n            var _this10 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this10._addMainMenuEvent(menuName);\n                _this10._addSubMenuEvent(menuName);\n            });\n        }\n\n        /**\n         * Remove menu event\n         * @private\n         */\n\n    }, {\n        key: '_removeMainMenuEvent',\n        value: function _removeMainMenuEvent() {\n            var _this11 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this11._buttonElements[menuName].removeEventListener('click', _this11.eventHandler[menuName]);\n            });\n        }\n\n        /**\n         * Get editor area element\n         * @returns {HTMLElement} editor area html element\n         * @ignore\n         */\n\n    }, {\n        key: 'getEditorArea',\n        value: function getEditorArea() {\n            return this._editorElement;\n        }\n\n        /**\n         * Add event for menu items\n         * @ignore\n         */\n\n    }, {\n        key: 'activeMenuEvent',\n        value: function activeMenuEvent() {\n            if (this._initMenuEvent) {\n                return;\n            }\n\n            this._addHelpActionEvent();\n            this._addDownloadEvent();\n            this._addMenuEvent();\n            this._initMenu();\n            this._initMenuEvent = true;\n        }\n\n        /**\n         * Remove ui event\n         * @private\n         */\n\n    }, {\n        key: '_removeUiEvent',\n        value: function _removeUiEvent() {\n            this._removeHelpActionEvent();\n            this._removeDownloadEvent();\n            this._removeLoadEvent();\n            this._removeMainMenuEvent();\n        }\n\n        /**\n         * Destroy all menu instance\n         * @private\n         */\n\n    }, {\n        key: '_destroyAllMenu',\n        value: function _destroyAllMenu() {\n            var _this12 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this12[menuName].destroy();\n            });\n        }\n\n        /**\n         * Init canvas\n         * @ignore\n         */\n\n    }, {\n        key: 'initCanvas',\n        value: function initCanvas() {\n            var _this13 = this;\n\n            var loadImageInfo = this._getLoadImage();\n            if (loadImageInfo.path) {\n                this._actions.main.initLoadImage(loadImageInfo.path, loadImageInfo.name).then(function () {\n                    _this13.activeMenuEvent();\n                });\n            }\n\n            this._addLoadEvent();\n\n            var gridVisual = document.createElement('div');\n\n            gridVisual.className = _util2.default.cls('grid-visual');\n            var grid = '<table>\\n           <tr><td class=\"dot left-top\"></td><td></td><td class=\"dot right-top\"></td></tr>\\n           <tr><td></td><td></td><td></td></tr>\\n           <tr><td class=\"dot left-bottom\"></td><td></td><td class=\"dot right-bottom\"></td></tr>\\n         </table>';\n            gridVisual.innerHTML = grid;\n            this._editorContainerElement = this._editorElement.querySelector('.tui-image-editor-canvas-container');\n            this._editorContainerElement.appendChild(gridVisual);\n        }\n\n        /**\n         * get editor area element\n         * @returns {Object} load image option\n         * @private\n         */\n\n    }, {\n        key: '_getLoadImage',\n        value: function _getLoadImage() {\n            return this.options.loadImage;\n        }\n\n        /**\n         * change menu\n         * @param {string} menuName - menu name\n         * @param {boolean} toggle - whether toogle or not\n         * @param {boolean} discardSelection - discard selection\n         * @ignore\n         */\n\n    }, {\n        key: 'changeMenu',\n        value: function changeMenu(menuName) {\n            var toggle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var discardSelection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            if (!this._submenuChangeTransection) {\n                this._submenuChangeTransection = true;\n                this._changeMenu(menuName, toggle, discardSelection);\n                this._submenuChangeTransection = false;\n            }\n        }\n\n        /**\n         * change menu\n         * @param {string} menuName - menu name\n         * @param {boolean} toggle - whether toogle or not\n         * @param {boolean} discardSelection - discard selection\n         * @private\n         */\n\n    }, {\n        key: '_changeMenu',\n        value: function _changeMenu(menuName, toggle, discardSelection) {\n            if (this.submenu) {\n                this._buttonElements[this.submenu].classList.remove('active');\n                this._mainElement.classList.remove('tui-image-editor-menu-' + this.submenu);\n                if (discardSelection) {\n                    this._actions.main.discardSelection();\n                }\n                this._actions.main.changeSelectableAll(true);\n                this[this.submenu].changeStandbyMode();\n            }\n\n            if (this.submenu === menuName && toggle) {\n                this.submenu = null;\n            } else {\n                this._buttonElements[menuName].classList.add('active');\n                this._mainElement.classList.add('tui-image-editor-menu-' + menuName);\n                this.submenu = menuName;\n                this[this.submenu].changeStartMode();\n            }\n\n            this.resizeEditor();\n        }\n\n        /**\n         * Init menu\n         * @private\n         */\n\n    }, {\n        key: '_initMenu',\n        value: function _initMenu() {\n            if (this.options.initMenu) {\n                var evt = document.createEvent('MouseEvents');\n                evt.initEvent('click', true, false);\n                this._buttonElements[this.options.initMenu].dispatchEvent(evt);\n            }\n\n            if (this.icon) {\n                this.icon.registDefaultIcon();\n            }\n        }\n\n        /**\n         * Get canvas max Dimension\n         * @returns {Object} - width & height of editor\n         * @private\n         */\n\n    }, {\n        key: '_getCanvasMaxDimension',\n        value: function _getCanvasMaxDimension() {\n            var _editorContainerEleme = this._editorContainerElement.style,\n                maxWidth = _editorContainerEleme.maxWidth,\n                maxHeight = _editorContainerEleme.maxHeight;\n\n            var width = parseFloat(maxWidth);\n            var height = parseFloat(maxHeight);\n\n            return {\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * Set editor position\n         * @param {string} menuBarPosition - top or right or bottom or left\n         * @private\n         */\n\n    }, {\n        key: '_setEditorPosition',\n        value: function _setEditorPosition(menuBarPosition) {\n            // eslint-disable-line complexity\n            var _getCanvasMaxDimensio2 = this._getCanvasMaxDimension(),\n                width = _getCanvasMaxDimensio2.width,\n                height = _getCanvasMaxDimensio2.height;\n\n            var editorElementStyle = this._editorElement.style;\n            var top = 0;\n            var left = 0;\n\n            if (this.submenu) {\n                if (menuBarPosition === 'bottom') {\n                    if (height > this._editorElementWrap.scrollHeight - 150) {\n                        top = (height - this._editorElementWrap.scrollHeight) / 2;\n                    } else {\n                        top = 150 / 2 * -1;\n                    }\n                } else if (menuBarPosition === 'top') {\n                    if (height > this._editorElementWrap.offsetHeight - 150) {\n                        top = 150 / 2 - (height - (this._editorElementWrap.offsetHeight - 150)) / 2;\n                    } else {\n                        top = 150 / 2;\n                    }\n                } else if (menuBarPosition === 'left') {\n                    if (width > this._editorElementWrap.offsetWidth - 248) {\n                        left = 248 / 2 - (width - (this._editorElementWrap.offsetWidth - 248)) / 2;\n                    } else {\n                        left = 248 / 2;\n                    }\n                } else if (menuBarPosition === 'right') {\n                    if (width > this._editorElementWrap.scrollWidth - 248) {\n                        left = (width - this._editorElementWrap.scrollWidth) / 2;\n                    } else {\n                        left = 248 / 2 * -1;\n                    }\n                }\n            }\n            editorElementStyle.top = top + 'px';\n            editorElementStyle.left = left + 'px';\n        }\n    }]);\n\n    return Ui;\n}();\n\nexports.default = Ui;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui.js?")},"./src/js/ui/crop.js":function srcJsUiCropJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _crop = __webpack_require__(/*! ./template/submenu/crop */ \"./src/js/ui/template/submenu/crop.js\");\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nvar Crop = function (_Submenu) {\n    _inherits(Crop, _Submenu);\n\n    function Crop(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Crop);\n\n        var _this = _possibleConstructorReturn(this, (Crop.__proto__ || Object.getPrototypeOf(Crop)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'crop',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _crop2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.status = 'active';\n\n        _this._els = {\n            apply: _this.selector('.tie-crop-button .apply'),\n            cancel: _this.selector('.tie-crop-button .cancel'),\n            preset: _this.selector('.tie-crop-preset-button')\n        };\n\n        _this.defaultPresetButton = _this._els.preset.querySelector('.preset-none');\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Crop, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for crop\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.crop - crop action\n         *   @param {Function} actions.cancel - cancel action\n         *   @param {Function} actions.preset - draw rectzone at a predefined ratio\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var apply = this._applyEventHandler.bind(this);\n            var cancel = this._cancelEventHandler.bind(this);\n            var cropzonePreset = this._cropzonePresetEventHandler.bind(this);\n\n            this.eventHandler = {\n                apply: apply,\n                cancel: cancel,\n                cropzonePreset: cropzonePreset\n            };\n\n            this.actions = actions;\n            this._els.apply.addEventListener('click', apply);\n            this._els.cancel.addEventListener('click', cancel);\n            this._els.preset.addEventListener('click', cropzonePreset);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.apply.removeEventListener('click', this.eventHandler.apply);\n            this._els.cancel.removeEventListener('click', this.eventHandler.cancel);\n            this._els.preset.removeEventListener('click', this.eventHandler.cropzonePreset);\n        }\n    }, {\n        key: '_applyEventHandler',\n        value: function _applyEventHandler() {\n            this.actions.crop();\n            this._els.apply.classList.remove('active');\n        }\n    }, {\n        key: '_cancelEventHandler',\n        value: function _cancelEventHandler() {\n            this.actions.cancel();\n            this._els.apply.classList.remove('active');\n        }\n    }, {\n        key: '_cropzonePresetEventHandler',\n        value: function _cropzonePresetEventHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button.preset');\n            if (button) {\n                var _button$className$mat = button.className.match(/preset-[^\\s]+/),\n                    presetType = _button$className$mat[0];\n\n                this._setPresetButtonActive(button);\n                this.actions.preset(presetType);\n            }\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.modeChange('crop');\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.actions.stopDrawingMode();\n            this._setPresetButtonActive();\n        }\n\n        /**\n         * Change apply button status\n         * @param {Boolean} enableStatus - apply button status\n         */\n\n    }, {\n        key: 'changeApplyButtonStatus',\n        value: function changeApplyButtonStatus(enableStatus) {\n            if (enableStatus) {\n                this._els.apply.classList.add('active');\n            } else {\n                this._els.apply.classList.remove('active');\n            }\n        }\n\n        /**\n         * Set preset button to active status\n         * @param {HTMLElement} button - event target element\n         * @private\n         */\n\n    }, {\n        key: '_setPresetButtonActive',\n        value: function _setPresetButtonActive() {\n            var button = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.defaultPresetButton;\n\n            _tuiCodeSnippet2.default.forEach([].slice.call(this._els.preset.querySelectorAll('.preset')), function (presetButton) {\n                presetButton.classList.remove('active');\n            });\n\n            if (button) {\n                button.classList.add('active');\n            }\n        }\n    }]);\n\n    return Crop;\n}(_submenuBase2.default);\n\nexports.default = Crop;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/crop.js?")},"./src/js/ui/draw.js":function srcJsUiDrawJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _draw = __webpack_require__(/*! ./template/submenu/draw */ \"./src/js/ui/template/submenu/draw.js\");\n\nvar _draw2 = _interopRequireDefault(_draw);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DRAW_OPACITY = 0.7;\n\n/**\n * Draw ui class\n * @class\n * @ignore\n */\n\nvar Draw = function (_Submenu) {\n    _inherits(Draw, _Submenu);\n\n    function Draw(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Draw);\n\n        var _this = _possibleConstructorReturn(this, (Draw.__proto__ || Object.getPrototypeOf(Draw)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'draw',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _draw2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._els = {\n            lineSelectButton: _this.selector('.tie-draw-line-select-button'),\n            drawColorPicker: new _colorpicker2.default(_this.selector('.tie-draw-color'), '#00a9ff', _this.toggleDirection, _this.usageStatistics),\n            drawRange: new _range2.default({\n                slider: _this.selector('.tie-draw-range'),\n                input: _this.selector('.tie-draw-range-value')\n            }, _consts.defaultDrawRangeValus)\n        };\n\n        _this.type = null;\n        _this.color = _this._els.drawColorPicker.color;\n        _this.width = _this._els.drawRange.value;\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Draw, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.drawColorPicker.destroy();\n            this._els.drawRange.destroy();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for draw\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.setDrawMode - set draw mode\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.changeDrawType = this._changeDrawType.bind(this);\n\n            this.actions = actions;\n            this._els.lineSelectButton.addEventListener('click', this.eventHandler.changeDrawType);\n            this._els.drawColorPicker.on('change', this._changeDrawColor.bind(this));\n            this._els.drawRange.on('change', this._changeDrawRange.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.lineSelectButton.removeEventListener('click', this.eventHandler.changeDrawType);\n            this._els.drawColorPicker.off();\n            this._els.drawRange.off();\n        }\n\n        /**\n         * set draw mode - action runner\n         */\n\n    }, {\n        key: 'setDrawMode',\n        value: function setDrawMode() {\n            this.actions.setDrawMode(this.type, {\n                width: this.width,\n                color: _util2.default.getRgb(this.color, DRAW_OPACITY)\n            });\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.type = null;\n            this.actions.stopDrawingMode();\n            this.actions.changeSelectableAll(true);\n            this._els.lineSelectButton.classList.remove('free');\n            this._els.lineSelectButton.classList.remove('line');\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.type = 'free';\n            this._els.lineSelectButton.classList.add('free');\n            this.setDrawMode();\n        }\n\n        /**\n         * Change draw type event\n         * @param {object} event - line select event\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawType',\n        value: function _changeDrawType(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var lineType = this.getButtonType(button, ['free', 'line']);\n                this.actions.discardSelection();\n\n                if (this.type === lineType) {\n                    this.changeStandbyMode();\n\n                    return;\n                }\n\n                this.changeStandbyMode();\n                this.type = lineType;\n                this._els.lineSelectButton.classList.add(lineType);\n                this.setDrawMode();\n            }\n        }\n\n        /**\n         * Change drawing color\n         * @param {string} color - select drawing color\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawColor',\n        value: function _changeDrawColor(color) {\n            this.color = color || 'transparent';\n            if (!this.type) {\n                this.changeStartMode();\n            } else {\n                this.setDrawMode();\n            }\n        }\n\n        /**\n         * Change drawing Range\n         * @param {number} value - select drawing range\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawRange',\n        value: function _changeDrawRange(value) {\n            this.width = value;\n            if (!this.type) {\n                this.changeStartMode();\n            } else {\n                this.setDrawMode();\n            }\n        }\n    }]);\n\n    return Draw;\n}(_submenuBase2.default);\n\nexports.default = Draw;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/draw.js?")},"./src/js/ui/filter.js":function srcJsUiFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _filter = __webpack_require__(/*! ./template/submenu/filter */ \"./src/js/ui/template/submenu/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PICKER_CONTROL_HEIGHT = '130px';\nvar BLEND_OPTIONS = ['add', 'diff', 'subtract', 'multiply', 'screen', 'lighten', 'darken'];\nvar FILTER_OPTIONS = ['grayscale', 'invert', 'sepia', 'vintage', 'blur', 'sharpen', 'emboss', 'remove-white', 'brightness', 'noise', 'pixelate', 'color-filter', 'tint', 'multiply', 'blend'];\n\nvar filterNameMap = {\n    grayscale: 'grayscale',\n    invert: 'invert',\n    sepia: 'sepia',\n    blur: 'blur',\n    sharpen: 'sharpen',\n    emboss: 'emboss',\n    removeWhite: 'removeColor',\n    brightness: 'brightness',\n    contrast: 'contrast',\n    saturation: 'saturation',\n    vintage: 'vintage',\n    polaroid: 'polaroid',\n    noise: 'noise',\n    pixelate: 'pixelate',\n    colorFilter: 'removeColor',\n    tint: 'blendColor',\n    multiply: 'blendColor',\n    blend: 'blendColor',\n    hue: 'hue',\n    gamma: 'gamma'\n};\n\nvar RANGE_INSTANCE_NAMES = ['removewhiteDistanceRange', 'colorfilterThresholeRange', 'pixelateRange', 'noiseRange', 'brightnessRange', 'tintOpacity'];\nvar COLORPICKER_INSTANCE_NAMES = ['filterBlendColor', 'filterMultiplyColor', 'filterTintColor'];\n\n/**\n * Filter ui class\n * @class\n * @ignore\n */\n\nvar Filter = function (_Submenu) {\n    _inherits(Filter, _Submenu);\n\n    function Filter(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Filter);\n\n        var _this = _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'filter',\n            menuBarPosition: menuBarPosition,\n            templateHtml: _filter2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.selectBoxShow = false;\n\n        _this.checkedMap = {};\n        _this._makeControlElement();\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Filter, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._destroyToolInstance();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Remove event for filter\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            var _this2 = this;\n\n            _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this2.selector('.tie-' + filter);\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n\n                filterCheckElement.removeEventListener('change', _this2.eventHandler[filterNameCamelCase]);\n            });\n\n            _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this2._els[instanceName].off();\n            });\n\n            this._els.blendType.removeEventListener('change', this.eventHandler.changeBlendFilter);\n            this._els.blendType.removeEventListener('click', this.eventHandler.changeBlendFilter);\n        }\n    }, {\n        key: '_destroyToolInstance',\n        value: function _destroyToolInstance() {\n            var _this3 = this;\n\n            _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this3._els[instanceName].destroy();\n            });\n        }\n\n        /**\n         * Add event for filter\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.applyFilter - apply filter option\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(_ref2) {\n            var _this4 = this;\n\n            var applyFilter = _ref2.applyFilter;\n\n            var changeFilterState = function changeFilterState(filterName) {\n                return _this4._changeFilterState.bind(_this4, applyFilter, filterName);\n            };\n            var changeFilterStateForRange = function changeFilterStateForRange(filterName) {\n                return function (value, isLast) {\n                    return _this4._changeFilterState(applyFilter, filterName, isLast);\n                };\n            };\n\n            this.eventHandler = {\n                changeBlendFilter: changeFilterState('blend'),\n                blandTypeClick: function blandTypeClick(event) {\n                    return event.stopPropagation();\n                }\n            };\n\n            _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this4.selector('.tie-' + filter);\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n                _this4.checkedMap[filterNameCamelCase] = filterCheckElement;\n                _this4.eventHandler[filterNameCamelCase] = changeFilterState(filterNameCamelCase);\n\n                filterCheckElement.addEventListener('change', _this4.eventHandler[filterNameCamelCase]);\n            });\n\n            this._els.removewhiteDistanceRange.on('change', changeFilterStateForRange('removeWhite'));\n            this._els.colorfilterThresholeRange.on('change', changeFilterStateForRange('colorFilter'));\n            this._els.pixelateRange.on('change', changeFilterStateForRange('pixelate'));\n            this._els.noiseRange.on('change', changeFilterStateForRange('noise'));\n            this._els.brightnessRange.on('change', changeFilterStateForRange('brightness'));\n\n            this._els.filterBlendColor.on('change', this.eventHandler.changeBlendFilter);\n            this._els.filterMultiplyColor.on('change', changeFilterState('multiply'));\n            this._els.filterTintColor.on('change', changeFilterState('tint'));\n            this._els.tintOpacity.on('change', changeFilterStateForRange('tint'));\n            this._els.filterMultiplyColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.filterTintColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.filterBlendColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n            this._els.blendType.addEventListener('change', this.eventHandler.changeBlendFilter);\n            this._els.blendType.addEventListener('click', this.eventHandler.blandTypeClick);\n        }\n\n        /**\n         * Set filter for undo changed\n         * @param {Object} chagedFilterInfos - changed command infos\n         *   @param {string} type - filter type\n         *   @param {string} action - add or remove\n         *   @param {Object} options - filter options\n         */\n\n    }, {\n        key: 'setFilterState',\n        value: function setFilterState(chagedFilterInfos) {\n            var type = chagedFilterInfos.type,\n                options = chagedFilterInfos.options,\n                action = chagedFilterInfos.action;\n\n            var filterName = this._getFilterNameFromOptions(type, options);\n            var isRemove = action === 'remove';\n\n            if (!isRemove) {\n                this._setFilterState(filterName, options);\n            }\n\n            this.checkedMap[filterName].checked = !isRemove;\n        }\n\n        /**\n         * Set filter for undo changed\n         * @param {string} filterName - filter name\n         * @param {Object} options - filter options\n         * @private\n         */\n\n    }, {\n        key: '_setFilterState',\n        value: function _setFilterState(filterName, options) {\n            // eslint-disable-line\n            if (filterName === 'colorFilter') {\n                this._els.colorfilterThresholeRange.value = options.distance;\n            } else if (filterName === 'removeWhite') {\n                this._els.removewhiteDistanceRange.value = options.distance;\n            } else if (filterName === 'pixelate') {\n                this._els.pixelateRange.value = options.blocksize;\n            } else if (filterName === 'brightness') {\n                this._els.brightnessRange.value = options.brightness;\n            } else if (filterName === 'noise') {\n                this._els.noiseRange.value = options.noise;\n            } else if (filterName === 'tint') {\n                this._els.tintOpacity.value = options.alpha;\n                this._els.filterTintColor.color = options.color;\n            } else if (filterName === 'blend') {\n                this._els.filterBlendColor.color = options.color;\n            } else if (filterName === 'multiply') {\n                this._els.filterMultiplyColor.color = options.color;\n            }\n        }\n\n        /**\n         * Get filter name\n         * @param {string} type - filter type\n         * @param {Object} options - filter options\n         * @returns {string} filter name\n         * @private\n         */\n\n    }, {\n        key: '_getFilterNameFromOptions',\n        value: function _getFilterNameFromOptions(type, options) {\n            var filterName = type;\n\n            if (type === 'removeColor') {\n                filterName = _tuiCodeSnippet2.default.isExisty(options.useAlpha) ? 'removeWhite' : 'colorFilter';\n            } else if (type === 'blendColor') {\n                filterName = {\n                    add: 'blend',\n                    multiply: 'multiply',\n                    tint: 'tint'\n                }[options.mode];\n            }\n\n            return filterName;\n        }\n\n        /**\n         * Add event for filter\n         * @param {Function} applyFilter - actions for firter\n         * @param {string} filterName - filter name\n         * @param {boolean} [isLast] - Is last change\n         */\n\n    }, {\n        key: '_changeFilterState',\n        value: function _changeFilterState(applyFilter, filterName) {\n            var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            var apply = this.checkedMap[filterName].checked;\n            var type = filterNameMap[filterName];\n\n            var checkboxGroup = this.checkedMap[filterName].closest('.tui-image-editor-checkbox-group');\n            if (checkboxGroup) {\n                if (apply) {\n                    checkboxGroup.classList.remove('tui-image-editor-disabled');\n                } else {\n                    checkboxGroup.classList.add('tui-image-editor-disabled');\n                }\n            }\n            applyFilter(apply, type, this._getFilterOption(filterName), !isLast);\n        }\n\n        /**\n         * Get filter option\n         * @param {String} type - filter type\n         * @returns {Object} filter option object\n         * @private\n         */\n\n    }, {\n        key: '_getFilterOption',\n        value: function _getFilterOption(type) {\n            // eslint-disable-line\n            var option = {};\n            switch (type) {\n                case 'removeWhite':\n                    option.color = '#FFFFFF';\n                    option.useAlpha = false;\n                    option.distance = parseFloat(this._els.removewhiteDistanceRange.value);\n                    break;\n                case 'colorFilter':\n                    option.color = '#FFFFFF';\n                    option.distance = parseFloat(this._els.colorfilterThresholeRange.value);\n                    break;\n                case 'pixelate':\n                    option.blocksize = (0, _util.toInteger)(this._els.pixelateRange.value);\n                    break;\n                case 'noise':\n                    option.noise = (0, _util.toInteger)(this._els.noiseRange.value);\n                    break;\n                case 'brightness':\n                    option.brightness = parseFloat(this._els.brightnessRange.value);\n                    break;\n                case 'blend':\n                    option.mode = 'add';\n                    option.color = this._els.filterBlendColor.color;\n                    option.mode = this._els.blendType.value;\n                    break;\n                case 'multiply':\n                    option.mode = 'multiply';\n                    option.color = this._els.filterMultiplyColor.color;\n                    break;\n                case 'tint':\n                    option.mode = 'tint';\n                    option.color = this._els.filterTintColor.color;\n                    option.alpha = this._els.tintOpacity.value;\n                    break;\n                default:\n                    break;\n            }\n\n            return option;\n        }\n\n        /**\n         * Make submenu range and colorpicker control\n         * @private\n         */\n\n    }, {\n        key: '_makeControlElement',\n        value: function _makeControlElement() {\n            this._els = {\n                removewhiteDistanceRange: new _range2.default({ slider: this.selector('.tie-removewhite-distance-range') }, _consts.defaultFilterRangeValus.removewhiteDistanceRange),\n                brightnessRange: new _range2.default({ slider: this.selector('.tie-brightness-range') }, _consts.defaultFilterRangeValus.brightnessRange),\n                noiseRange: new _range2.default({ slider: this.selector('.tie-noise-range') }, _consts.defaultFilterRangeValus.noiseRange),\n                pixelateRange: new _range2.default({ slider: this.selector('.tie-pixelate-range') }, _consts.defaultFilterRangeValus.pixelateRange),\n                colorfilterThresholeRange: new _range2.default({ slider: this.selector('.tie-colorfilter-threshole-range') }, _consts.defaultFilterRangeValus.colorfilterThresholeRange),\n                filterTintColor: new _colorpicker2.default(this.selector('.tie-filter-tint-color'), '#03bd9e', this.toggleDirection, this.usageStatistics),\n                filterMultiplyColor: new _colorpicker2.default(this.selector('.tie-filter-multiply-color'), '#515ce6', this.toggleDirection, this.usageStatistics),\n                filterBlendColor: new _colorpicker2.default(this.selector('.tie-filter-blend-color'), '#ffbb3b', this.toggleDirection, this.usageStatistics)\n            };\n\n            this._els.tintOpacity = this._pickerWithRange(this._els.filterTintColor.pickerControl);\n            this._els.blendType = this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl);\n\n            this.colorPickerControls.push(this._els.filterTintColor);\n            this.colorPickerControls.push(this._els.filterMultiplyColor);\n            this.colorPickerControls.push(this._els.filterBlendColor);\n        }\n\n        /**\n         * Make submenu control for picker & range mixin\n         * @param {HTMLElement} pickerControl - pickerControl dom element\n         * @returns {Range}\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithRange',\n        value: function _pickerWithRange(pickerControl) {\n            var rangeWrap = document.createElement('div');\n            var rangelabel = document.createElement('label');\n            var slider = document.createElement('div');\n\n            slider.id = 'tie-filter-tint-opacity';\n            rangelabel.innerHTML = 'Opacity';\n            rangeWrap.appendChild(rangelabel);\n            rangeWrap.appendChild(slider);\n            pickerControl.appendChild(rangeWrap);\n            pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n            return new _range2.default({ slider: slider }, _consts.defaultFilterRangeValus.tintOpacityRange);\n        }\n\n        /**\n         * Make submenu control for picker & selectbox\n         * @param {HTMLElement} pickerControl - pickerControl dom element\n         * @returns {HTMLElement}\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithSelectbox',\n        value: function _pickerWithSelectbox(pickerControl) {\n            var selectlistWrap = document.createElement('div');\n            var selectlist = document.createElement('select');\n            var optionlist = document.createElement('ul');\n\n            selectlistWrap.className = 'tui-image-editor-selectlist-wrap';\n            optionlist.className = 'tui-image-editor-selectlist';\n\n            selectlistWrap.appendChild(selectlist);\n            selectlistWrap.appendChild(optionlist);\n\n            this._makeSelectOptionList(selectlist);\n\n            pickerControl.appendChild(selectlistWrap);\n            pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n            this._drawSelectOptionList(selectlist, optionlist);\n            this._pickerWithSelectboxForAddEvent(selectlist, optionlist);\n\n            return selectlist;\n        }\n\n        /**\n         * Make selectbox option list custom style\n         * @param {HTMLElement} selectlist - selectbox element\n         * @param {HTMLElement} optionlist - custom option list item element\n         * @private\n         */\n\n    }, {\n        key: '_drawSelectOptionList',\n        value: function _drawSelectOptionList(selectlist, optionlist) {\n            var options = selectlist.querySelectorAll('option');\n            _tuiCodeSnippet2.default.forEach(options, function (option) {\n                var optionElement = document.createElement('li');\n                optionElement.innerHTML = option.innerHTML;\n                optionElement.setAttribute('data-item', option.value);\n                optionlist.appendChild(optionElement);\n            });\n        }\n\n        /**\n         * custome selectbox custom event\n         * @param {HTMLElement} selectlist - selectbox element\n         * @param {HTMLElement} optionlist - custom option list item element\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithSelectboxForAddEvent',\n        value: function _pickerWithSelectboxForAddEvent(selectlist, optionlist) {\n            var _this5 = this;\n\n            optionlist.addEventListener('click', function (event) {\n                var optionValue = event.target.getAttribute('data-item');\n                var fireEvent = document.createEvent('HTMLEvents');\n\n                selectlist.querySelector('[value=\"' + optionValue + '\"]').selected = true;\n                fireEvent.initEvent('change', true, true);\n\n                selectlist.dispatchEvent(fireEvent);\n\n                _this5.selectBoxShow = false;\n                optionlist.style.display = 'none';\n            });\n\n            selectlist.addEventListener('mousedown', function (event) {\n                event.preventDefault();\n                _this5.selectBoxShow = !_this5.selectBoxShow;\n                optionlist.style.display = _this5.selectBoxShow ? 'block' : 'none';\n                optionlist.setAttribute('data-selectitem', selectlist.value);\n                optionlist.querySelector('[data-item=\\'' + selectlist.value + '\\']').classList.add('active');\n            });\n        }\n\n        /**\n         * Make option list for select control\n         * @param {HTMLElement} selectlist - blend option select list element\n         * @private\n         */\n\n    }, {\n        key: '_makeSelectOptionList',\n        value: function _makeSelectOptionList(selectlist) {\n            _tuiCodeSnippet2.default.forEach(BLEND_OPTIONS, function (option) {\n                var selectOption = document.createElement('option');\n                selectOption.setAttribute('value', option);\n                selectOption.innerHTML = option.replace(/^[a-z]/, function ($0) {\n                    return $0.toUpperCase();\n                });\n                selectlist.appendChild(selectOption);\n            });\n        }\n    }]);\n\n    return Filter;\n}(_submenuBase2.default);\n\nexports.default = Filter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/filter.js?")},"./src/js/ui/flip.js":function srcJsUiFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _flip = __webpack_require__(/*! ./template/submenu/flip */ \"./src/js/ui/template/submenu/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Flip ui class\n * @class\n * @ignore\n */\nvar Flip = function (_Submenu) {\n    _inherits(Flip, _Submenu);\n\n    function Flip(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Flip);\n\n        var _this = _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'flip',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _flip2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.flipStatus = false;\n\n        _this._els = {\n            flipButton: _this.selector('.tie-flip-button')\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Flip, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for flip\n         * @param {Object} actions - actions for flip\n         *   @param {Function} actions.flip - flip action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.changeFlip = this._changeFlip.bind(this);\n            this._actions = actions;\n            this._els.flipButton.addEventListener('click', this.eventHandler.changeFlip);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.flipButton.removeEventListener('click', this.eventHandler.changeFlip);\n        }\n\n        /**\n         * change Flip status\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_changeFlip',\n        value: function _changeFlip(event) {\n            var _this2 = this;\n\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var flipType = this.getButtonType(button, ['flipX', 'flipY', 'resetFlip']);\n                if (!this.flipStatus && flipType === 'resetFlip') {\n                    return;\n                }\n\n                this._actions.flip(flipType).then(function (flipStatus) {\n                    var flipClassList = _this2._els.flipButton.classList;\n                    _this2.flipStatus = false;\n\n                    flipClassList.remove('resetFlip');\n                    _tuiCodeSnippet2.default.forEach(['flipX', 'flipY'], function (type) {\n                        flipClassList.remove(type);\n                        if (flipStatus[type]) {\n                            flipClassList.add(type);\n                            flipClassList.add('resetFlip');\n                            _this2.flipStatus = true;\n                        }\n                    });\n                });\n            }\n        }\n    }]);\n\n    return Flip;\n}(_submenuBase2.default);\n\nexports.default = Flip;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/flip.js?")},"./src/js/ui/icon.js":function srcJsUiIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _icon = __webpack_require__(/*! ./template/submenu/icon */ \"./src/js/ui/template/submenu/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Icon ui class\n * @class\n * @ignore\n */\nvar Icon = function (_Submenu) {\n    _inherits(Icon, _Submenu);\n\n    function Icon(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Icon);\n\n        var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'icon',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _icon2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.iconType = null;\n        _this._iconMap = {};\n\n        _this._els = {\n            registrIconButton: _this.selector('.tie-icon-image-file'),\n            addIconButton: _this.selector('.tie-icon-add-button'),\n            iconColorpicker: new _colorpicker2.default(_this.selector('.tie-icon-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Icon, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.iconColorpicker.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Add event for icon\n         * @param {Object} actions - actions for icon\n         *   @param {Function} actions.registCustomIcon - register icon\n         *   @param {Function} actions.addIcon - add icon\n         *   @param {Function} actions.changeColor - change icon color\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var registerIcon = this._registerIconHandler.bind(this);\n            var addIcon = this._addIconHandler.bind(this);\n\n            this.eventHandler = {\n                registerIcon: registerIcon,\n                addIcon: addIcon\n            };\n\n            this.actions = actions;\n            this._els.iconColorpicker.on('change', this._changeColorHandler.bind(this));\n            this._els.registrIconButton.addEventListener('change', registerIcon);\n            this._els.addIconButton.addEventListener('click', addIcon);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.iconColorpicker.off();\n            this._els.registrIconButton.removeEventListener('change', this.eventHandler.registerIcon);\n            this._els.addIconButton.removeEventListener('click', this.eventHandler.addIcon);\n        }\n\n        /**\n         * Clear icon type\n         */\n\n    }, {\n        key: 'clearIconType',\n        value: function clearIconType() {\n            this._els.addIconButton.classList.remove(this.iconType);\n            this.iconType = null;\n        }\n\n        /**\n         * Register default icon\n         */\n\n    }, {\n        key: 'registDefaultIcon',\n        value: function registDefaultIcon() {\n            var _this2 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.defaultIconPath, function (path, type) {\n                _this2.actions.registDefalutIcons(type, path);\n            });\n        }\n\n        /**\n         * Set icon picker color\n         * @param {string} iconColor - rgb color string\n         */\n\n    }, {\n        key: 'setIconPickerColor',\n        value: function setIconPickerColor(iconColor) {\n            this._els.iconColorpicker.color = iconColor;\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.clearIconType();\n            this.actions.cancelAddIcon();\n        }\n\n        /**\n         * Change icon color\n         * @param {string} color - color for change\n         * @private\n         */\n\n    }, {\n        key: '_changeColorHandler',\n        value: function _changeColorHandler(color) {\n            color = color || 'transparent';\n            this.actions.changeColor(color);\n        }\n\n        /**\n         * Change icon color\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_addIconHandler',\n        value: function _addIconHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n\n            if (button) {\n                var iconType = button.getAttribute('data-icontype');\n                var iconColor = this._els.iconColorpicker.color;\n                this.actions.discardSelection();\n                this.actions.changeSelectableAll(false);\n                this._els.addIconButton.classList.remove(this.iconType);\n                this._els.addIconButton.classList.add(iconType);\n\n                if (this.iconType === iconType) {\n                    this.changeStandbyMode();\n                } else {\n                    this.actions.addIcon(iconType, iconColor);\n                    this.iconType = iconType;\n                }\n            }\n        }\n\n        /**\n         * register icon\n         * @param {object} event - file change event object\n         * @private\n         */\n\n    }, {\n        key: '_registerIconHandler',\n        value: function _registerIconHandler(event) {\n            var imgUrl = void 0;\n\n            if (!_util.isSupportFileApi) {\n                alert('This browser does not support file-api');\n            }\n\n            var _event$target$files = event.target.files,\n                file = _event$target$files[0];\n\n\n            if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.registCustomIcon(imgUrl, file);\n            }\n        }\n    }]);\n\n    return Icon;\n}(_submenuBase2.default);\n\nexports.default = Icon;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/icon.js?")},"./src/js/ui/locale/locale.js":function srcJsUiLocaleLocaleJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n * Translate messages\n */\nvar Locale = function () {\n  /**\n   * @constructor\n   * @param {Object} locale - Locale object for initialise\n   */\n  function Locale(locale) {\n    _classCallCheck(this, Locale);\n\n    this._locale = locale;\n  }\n\n  /**\n   * localize message\n   * @param {string} message - message who will be localized\n   * @returns {string}\n   */\n\n\n  _createClass(Locale, [{\n    key: "localize",\n    value: function localize(message) {\n      return this._locale[message] || message;\n    }\n  }]);\n\n  return Locale;\n}();\n\nexports.default = Locale;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/locale/locale.js?')},"./src/js/ui/mask.js":function srcJsUiMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _mask = __webpack_require__(/*! ./template/submenu/mask */ \"./src/js/ui/template/submenu/mask.js\");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Mask ui class\n * @class\n * @ignore\n */\nvar Mask = function (_Submenu) {\n    _inherits(Mask, _Submenu);\n\n    function Mask(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Mask);\n\n        var _this = _possibleConstructorReturn(this, (Mask.__proto__ || Object.getPrototypeOf(Mask)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'mask',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _mask2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._els = {\n            applyButton: _this.selector('.tie-mask-apply'),\n            maskImageButton: _this.selector('.tie-mask-image-file')\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Mask, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for mask\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.loadImageFromURL - load image action\n         *   @param {Function} actions.applyFilter - apply filter action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var loadMaskFile = this._loadMaskFile.bind(this);\n            var applyMask = this._applyMask.bind(this);\n\n            this.eventHandler = {\n                loadMaskFile: loadMaskFile,\n                applyMask: applyMask\n            };\n\n            this.actions = actions;\n            this._els.maskImageButton.addEventListener('change', loadMaskFile);\n            this._els.applyButton.addEventListener('click', applyMask);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.maskImageButton.removeEventListener('change', this.eventHandler.loadMaskFile);\n            this._els.applyButton.removeEventListener('click', this.eventHandler.applyMask);\n        }\n\n        /**\n         * Apply mask\n         * @private\n         */\n\n    }, {\n        key: '_applyMask',\n        value: function _applyMask() {\n            this.actions.applyFilter();\n            this._els.applyButton.classList.remove('active');\n        }\n\n        /**\n         * Load mask file\n         * @param {object} event - File change event object\n         * @private\n         */\n\n    }, {\n        key: '_loadMaskFile',\n        value: function _loadMaskFile(event) {\n            var imgUrl = void 0;\n\n            if (!_util2.default.isSupportFileApi()) {\n                alert('This browser does not support file-api');\n            }\n\n            var _event$target$files = event.target.files,\n                file = _event$target$files[0];\n\n\n            if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.loadImageFromURL(imgUrl, file);\n                this._els.applyButton.classList.add('active');\n            }\n        }\n    }]);\n\n    return Mask;\n}(_submenuBase2.default);\n\nexports.default = Mask;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/mask.js?")},"./src/js/ui/rotate.js":function srcJsUiRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _rotate = __webpack_require__(/*! ./template/submenu/rotate */ \"./src/js/ui/template/submenu/rotate.js\");\n\nvar _rotate2 = _interopRequireDefault(_rotate);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CLOCKWISE = 30;\nvar COUNTERCLOCKWISE = -30;\n\n/**\n * Rotate ui class\n * @class\n * @ignore\n */\n\nvar Rotate = function (_Submenu) {\n    _inherits(Rotate, _Submenu);\n\n    function Rotate(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Rotate);\n\n        var _this = _possibleConstructorReturn(this, (Rotate.__proto__ || Object.getPrototypeOf(Rotate)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'rotate',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _rotate2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._value = 0;\n\n        _this._els = {\n            rotateButton: _this.selector('.tie-retate-button'),\n            rotateRange: new _range2.default({\n                slider: _this.selector('.tie-rotate-range'),\n                input: _this.selector('.tie-ratate-range-value')\n            }, _consts.defaultRotateRangeValus)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Rotate, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.rotateRange.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n    }, {\n        key: 'setRangeBarAngle',\n        value: function setRangeBarAngle(type, angle) {\n            var resultAngle = angle;\n\n            if (type === 'rotate') {\n                resultAngle = parseInt(this._els.rotateRange.value, 10) + angle;\n            }\n\n            this._setRangeBarRatio(resultAngle);\n        }\n    }, {\n        key: '_setRangeBarRatio',\n        value: function _setRangeBarRatio(angle) {\n            this._els.rotateRange.value = angle;\n        }\n\n        /**\n         * Add event for rotate\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.rotate - rotate action\n         *   @param {Function} actions.setAngle - set angle action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.rotationAngleChanged = this._changeRotateForButton.bind(this);\n\n            // {rotate, setAngle}\n            this.actions = actions;\n            this._els.rotateButton.addEventListener('click', this.eventHandler.rotationAngleChanged);\n            this._els.rotateRange.on('change', this._changeRotateForRange.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.rotateButton.removeEventListener('click', this.eventHandler.rotationAngleChanged);\n            this._els.rotateRange.off();\n        }\n\n        /**\n         * Change rotate for range\n         * @param {number} value - angle value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeRotateForRange',\n        value: function _changeRotateForRange(value, isLast) {\n            var angle = (0, _util.toInteger)(value);\n            this.actions.setAngle(angle, !isLast);\n            this._value = angle;\n        }\n\n        /**\n         * Change rotate for button\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_changeRotateForButton',\n        value: function _changeRotateForButton(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            var angle = this._els.rotateRange.value;\n\n            if (button) {\n                var rotateType = this.getButtonType(button, ['counterclockwise', 'clockwise']);\n                var rotateAngle = {\n                    clockwise: CLOCKWISE,\n                    counterclockwise: COUNTERCLOCKWISE\n                }[rotateType];\n                var newAngle = parseInt(angle, 10) + rotateAngle;\n                var isRotatable = newAngle >= -360 && newAngle <= 360;\n                if (isRotatable) {\n                    this.actions.rotate(rotateAngle);\n                }\n            }\n        }\n    }]);\n\n    return Rotate;\n}(_submenuBase2.default);\n\nexports.default = Rotate;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/rotate.js?")},"./src/js/ui/shape.js":function srcJsUiShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _shape = __webpack_require__(/*! ./template/submenu/shape */ \"./src/js/ui/template/submenu/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SHAPE_DEFAULT_OPTION = {\n    stroke: '#ffbb3b',\n    fill: '',\n    strokeWidth: 3\n};\n\n/**\n * Shape ui class\n * @class\n * @ignore\n */\n\nvar Shape = function (_Submenu) {\n    _inherits(Shape, _Submenu);\n\n    function Shape(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Shape);\n\n        var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'shape',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _shape2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.type = null;\n        _this.options = SHAPE_DEFAULT_OPTION;\n\n        _this._els = {\n            shapeSelectButton: _this.selector('.tie-shape-button'),\n            shapeColorButton: _this.selector('.tie-shape-color-button'),\n            strokeRange: new _range2.default({\n                slider: _this.selector('.tie-stroke-range'),\n                input: _this.selector('.tie-stroke-range-value')\n            }, _consts.defaultShapeStrokeValus),\n            fillColorpicker: new _colorpicker2.default(_this.selector('.tie-color-fill'), '', _this.toggleDirection, _this.usageStatistics),\n            strokeColorpicker: new _colorpicker2.default(_this.selector('.tie-color-stroke'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n        };\n\n        _this.colorPickerControls.push(_this._els.fillColorpicker);\n        _this.colorPickerControls.push(_this._els.strokeColorpicker);\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Shape, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.strokeRange.destroy();\n            this._els.fillColorpicker.destroy();\n            this._els.strokeColorpicker.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Add event for shape\n         * @param {Object} actions - actions for shape\n         *   @param {Function} actions.changeShape - change shape mode\n         *   @param {Function} actions.setDrawingShape - set dreawing shape\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.shapeTypeSelected = this._changeShapeHandler.bind(this);\n            this.actions = actions;\n\n            this._els.shapeSelectButton.addEventListener('click', this.eventHandler.shapeTypeSelected);\n            this._els.strokeRange.on('change', this._changeStrokeRangeHandler.bind(this));\n            this._els.fillColorpicker.on('change', this._changeFillColorHandler.bind(this));\n            this._els.strokeColorpicker.on('change', this._changeStrokeColorHandler.bind(this));\n            this._els.fillColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.strokeColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.shapeSelectButton.removeEventListener('click', this.eventHandler.shapeTypeSelected);\n            this._els.strokeRange.off();\n            this._els.fillColorpicker.off();\n            this._els.strokeColorpicker.off();\n        }\n\n        /**\n         * Set Shape status\n         * @param {Object} options - options of shape status\n         *   @param {string} strokeWidth - stroke width\n         *   @param {string} strokeColor - stroke color\n         *   @param {string} fillColor - fill color\n         */\n\n    }, {\n        key: 'setShapeStatus',\n        value: function setShapeStatus(_ref2) {\n            var strokeWidth = _ref2.strokeWidth,\n                strokeColor = _ref2.strokeColor,\n                fillColor = _ref2.fillColor;\n\n            this._els.strokeRange.value = strokeWidth;\n            this._els.strokeColorpicker.color = strokeColor;\n            this._els.fillColorpicker.color = fillColor;\n            this.options.stroke = strokeColor;\n            this.options.fill = fillColor;\n            this.options.strokeWidth = strokeWidth;\n\n            this.actions.setDrawingShape(this.type, { strokeWidth: strokeWidth });\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.stopDrawingMode();\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.type = null;\n            this.actions.changeSelectableAll(true);\n            this._els.shapeSelectButton.classList.remove('circle');\n            this._els.shapeSelectButton.classList.remove('triangle');\n            this._els.shapeSelectButton.classList.remove('rect');\n        }\n\n        /**\n         * set range stroke max value\n         * @param {number} maxValue - expect max value for change\n         */\n\n    }, {\n        key: 'setMaxStrokeValue',\n        value: function setMaxStrokeValue(maxValue) {\n            var strokeMaxValue = maxValue;\n            if (strokeMaxValue <= 0) {\n                strokeMaxValue = _consts.defaultShapeStrokeValus.max;\n            }\n            this._els.strokeRange.max = strokeMaxValue;\n        }\n\n        /**\n         * Set stroke value\n         * @param {number} value - expect value for strokeRange change\n         */\n\n    }, {\n        key: 'setStrokeValue',\n        value: function setStrokeValue(value) {\n            this._els.strokeRange.value = value;\n            this._els.strokeRange.trigger('change');\n        }\n\n        /**\n         * Get stroke value\n         * @returns {number} - stroke range value\n         */\n\n    }, {\n        key: 'getStrokeValue',\n        value: function getStrokeValue() {\n            return this._els.strokeRange.value;\n        }\n\n        /**\n         * Change icon color\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_changeShapeHandler',\n        value: function _changeShapeHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                this.actions.stopDrawingMode();\n                this.actions.discardSelection();\n                var shapeType = this.getButtonType(button, ['circle', 'triangle', 'rect']);\n\n                if (this.type === shapeType) {\n                    this.changeStandbyMode();\n\n                    return;\n                }\n                this.changeStandbyMode();\n                this.type = shapeType;\n                event.currentTarget.classList.add(shapeType);\n                this.actions.changeSelectableAll(false);\n                this.actions.modeChange('shape');\n            }\n        }\n\n        /**\n         * Change stroke range\n         * @param {number} value - stroke range value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeStrokeRangeHandler',\n        value: function _changeStrokeRangeHandler(value, isLast) {\n            this.options.strokeWidth = (0, _util.toInteger)(value);\n            this.actions.changeShape({\n                strokeWidth: value\n            }, !isLast);\n\n            this.actions.setDrawingShape(this.type, this.options);\n        }\n\n        /**\n         * Change shape color\n         * @param {string} color - fill color\n         * @private\n         */\n\n    }, {\n        key: '_changeFillColorHandler',\n        value: function _changeFillColorHandler(color) {\n            color = color || 'transparent';\n            this.options.fill = color;\n            this.actions.changeShape({\n                fill: color\n            });\n        }\n\n        /**\n         * Change shape stroke color\n         * @param {string} color - fill color\n         * @private\n         */\n\n    }, {\n        key: '_changeStrokeColorHandler',\n        value: function _changeStrokeColorHandler(color) {\n            color = color || 'transparent';\n            this.options.stroke = color;\n            this.actions.changeShape({\n                stroke: color\n            });\n        }\n    }]);\n\n    return Shape;\n}(_submenuBase2.default);\n\nexports.default = Shape;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/shape.js?")},"./src/js/ui/submenuBase.js":function srcJsUiSubmenuBaseJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Submenu Base Class\n * @class\n * @ignore\n */\nvar Submenu = function () {\n    /**\n     * @param {HTMLElement} subMenuElement - submenu dom element\n     * @param {Locale} locale - translate text\n     * @param {string} name - name of sub menu\n     * @param {Object} iconStyle - style of icon\n     * @param {string} menuBarPosition - position of menu\n     * @param {*} templateHtml - template for SubMenuElement\n     * @param {boolean} [usageStatistics=false] - template for SubMenuElement\n     */\n    function Submenu(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            name = _ref.name,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            templateHtml = _ref.templateHtml,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Submenu);\n\n        this.subMenuElement = subMenuElement;\n        this.menuBarPosition = menuBarPosition;\n        this.toggleDirection = menuBarPosition === 'top' ? 'down' : 'up';\n        this.colorPickerControls = [];\n        this.usageStatistics = usageStatistics;\n        this.eventHandler = {};\n        this._makeSubMenuElement({\n            locale: locale,\n            name: name,\n            makeSvgIcon: makeSvgIcon,\n            templateHtml: templateHtml\n        });\n    }\n\n    /**\n     * editor dom ui query selector\n     * @param {string} selectName - query selector string name\n     * @returns {HTMLElement}\n     */\n\n\n    _createClass(Submenu, [{\n        key: 'selector',\n        value: function selector(selectName) {\n            return this.subMenuElement.querySelector(selectName);\n        }\n\n        /**\n         * change show state change for colorpicker instance\n         * @param {Colorpicker} occurredControl - target Colorpicker Instance\n         */\n\n    }, {\n        key: 'colorPickerChangeShow',\n        value: function colorPickerChangeShow(occurredControl) {\n            this.colorPickerControls.forEach(function (pickerControl) {\n                if (occurredControl !== pickerControl) {\n                    pickerControl.hide();\n                }\n            });\n        }\n\n        /**\n         * Get butten type\n         * @param {HTMLElement} button - event target element\n         * @param {array} buttonNames - Array of button names\n         * @returns {string} - button type\n         */\n\n    }, {\n        key: 'getButtonType',\n        value: function getButtonType(button, buttonNames) {\n            return button.className.match(RegExp('(' + buttonNames.join('|') + ')'))[0];\n        }\n\n        /**\n         * Get butten type\n         * @param {HTMLElement} target - event target element\n         * @param {string} removeClass - remove class name\n         * @param {string} addClass - add class name\n         */\n\n    }, {\n        key: 'changeClass',\n        value: function changeClass(target, removeClass, addClass) {\n            target.classList.remove(removeClass);\n            target.classList.add(addClass);\n        }\n\n        /**\n         * Interface method whose implementation is optional.\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {}\n\n        /**\n         * Interface method whose implementation is optional.\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {}\n\n        /**\n         * Make submenu dom element\n         * @param {Locale} locale - translate text\n         * @param {string} name - submenu name\n         * @param {Object} iconStyle -  icon style\n         * @param {*} templateHtml - template for SubMenuElement\n         * @private\n         */\n\n    }, {\n        key: '_makeSubMenuElement',\n        value: function _makeSubMenuElement(_ref2) {\n            var locale = _ref2.locale,\n                name = _ref2.name,\n                iconStyle = _ref2.iconStyle,\n                makeSvgIcon = _ref2.makeSvgIcon,\n                templateHtml = _ref2.templateHtml;\n\n            var iconSubMenu = document.createElement('div');\n            iconSubMenu.className = 'tui-image-editor-menu-' + name;\n            iconSubMenu.innerHTML = templateHtml({\n                locale: locale,\n                iconStyle: iconStyle,\n                makeSvgIcon: makeSvgIcon\n            });\n\n            this.subMenuElement.appendChild(iconSubMenu);\n        }\n    }]);\n\n    return Submenu;\n}();\n\nexports.default = Submenu;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/submenuBase.js?")},"./src/js/ui/template/controls.js":function srcJsUiTemplateControlsJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        biImage = _ref.biImage,\n        loadButtonStyle = _ref.loadButtonStyle,\n        downloadButtonStyle = _ref.downloadButtonStyle;\n    return \'\\n    <div class="tui-image-editor-controls">\\n        <div class="tui-image-editor-controls-logo">\\n            <img src="\' + biImage + \'" />\\n        </div>\\n        <ul class="tui-image-editor-menu"></ul>\\n\\n        <div class="tui-image-editor-controls-buttons">\\n            <div style="\' + loadButtonStyle + \'">\\n                \' + locale.localize(\'Load\') + \'\\n                <input type="file" class="tui-image-editor-load-btn" />\\n            </div>\\n            <button class="tui-image-editor-download-btn" style="\' + downloadButtonStyle + \'">\\n                \' + locale.localize(\'Download\') + \'\\n            </button>\\n        </div>\\n    </div>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/controls.js?')},"./src/js/ui/template/icon.svg":function srcJsUiTemplateIconSvg(module,exports){eval('module.exports = "<svg display=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"><defs id=\\"tui-image-editor-svg-default-icons\\"><symbol id=\\"ic-apply\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" stroke=\\"none\\" fill=\\"none\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M4 12.011l5 5L20.011 6\\"></path></symbol><symbol id=\\"ic-cancel\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M6 6l12 12M18 6L6 18\\"></path></symbol><symbol id=\\"ic-crop\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" stroke=\\"none\\" fill=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z\\"></path></symbol><symbol id=\\"ic-delete-all\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z\\"></path></symbol><symbol id=\\"ic-delete\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z\\"></path></symbol><symbol id=\\"ic-draw-free\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786\\"></path></symbol><symbol id=\\"ic-draw-line\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2 15.5h28\\"></path></symbol><symbol id=\\"ic-draw\\" viewBox=\\"0 0 24 24\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z\\"></path></symbol><symbol id=\\"ic-filter\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\\"></path></symbol><symbol id=\\"ic-flip-reset\\" viewBox=\\"0 0 31 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M31 0H0v32h31z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27\\"></path></symbol><symbol id=\\"ic-flip-x\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M32 32H0V0h32z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z\\"></path></symbol><symbol id=\\"ic-flip-y\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0v32h32V0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z\\"></path></symbol><symbol id=\\"ic-flip\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"inherit\\" stroke=\\"none\\" d=\\"M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z\\"></path></symbol><symbol id=\\"ic-icon-arrow-2\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z\\"></path></symbol><symbol id=\\"ic-icon-arrow-3\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z\\"></path></symbol><symbol id=\\"ic-icon-arrow\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z\\"></path></symbol><symbol id=\\"ic-icon-bubble\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z\\"></path></symbol><symbol id=\\"ic-icon-heart\\" viewBox=\\"0 0 32 32\\"><path fill-rule=\\"nonzero\\" fill=\\"none\\" stroke=\\"inherit\\" d=\\"M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z\\"></path></symbol><symbol id=\\"ic-icon-load\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M25 3h1v9h-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M22 6l3.5-3.5L29 6\\"></path></symbol><symbol id=\\"ic-icon-location\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z\\"></path><circle fill=\\"none\\" stroke=\\"inherit\\" cx=\\"16\\" cy=\\"13\\" r=\\"4.5\\"></circle></symbol><symbol id=\\"ic-icon-polygon\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z\\"></path></symbol><symbol id=\\"ic-icon-star-2\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z\\"></path></symbol><symbol id=\\"ic-icon-star\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z\\"></path></symbol><symbol id=\\"ic-icon\\" viewBox=\\"0 0 24 24\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z\\"></path></symbol><symbol id=\\"ic-mask-load\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M25 3h1v9h-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M22 6l3.5-3.5L29 6\\"></path></symbol><symbol id=\\"ic-mask\\" viewBox=\\"0 0 24 24\\"><circle cx=\\"12\\" cy=\\"12\\" r=\\"4.5\\" stroke=\\"inherit\\" fill=\\"none\\"></circle><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z\\"></path></symbol><symbol id=\\"ic-redo\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" opacity=\\".5\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M19 3l2.5 2.5L19 8\\"></path></symbol><symbol id=\\"ic-reset\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" opacity=\\".5\\" stroke=\\"none\\" fill=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21\\"></path></symbol><symbol id=\\"ic-rotate-clockwise\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M16 1.5l4 3-4 3\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" fill-rule=\\"nonzero\\" d=\\"M16 4h4v1h-4z\\"></path></symbol><symbol id=\\"ic-rotate-counterclockwise\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" d=\\"M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" fill-rule=\\"nonzero\\" d=\\"M12 4h4v1h-4z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M16 1.5l-4 3 4 3\\"></path></symbol><symbol id=\\"ic-rotate\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"inherit\\" stroke=\\"none\\" d=\\"M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z\\"></path><path stroke=\\"inherit\\" fill=\\"none\\" stroke-linecap=\\"square\\" d=\\"M13 1l-2.5 2.5L13 6\\"></path></symbol><symbol id=\\"ic-shape-circle\\" viewBox=\\"0 0 32 32\\"><circle cx=\\"16\\" cy=\\"16\\" r=\\"14.5\\" fill=\\"none\\" stroke=\\"inherit\\"></circle></symbol><symbol id=\\"ic-shape-rectangle\\" viewBox=\\"0 0 32 32\\"><rect width=\\"27\\" height=\\"27\\" x=\\"2.5\\" y=\\"2.5\\" fill=\\"none\\" stroke=\\"inherit\\" rx=\\"1\\"></rect></symbol><symbol id=\\"ic-shape-triangle\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M16 2.5l15.5 27H.5z\\"></path></symbol><symbol id=\\"ic-shape\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M8.5 1.5l7.5 13H1z\\"></path></symbol><symbol id=\\"ic-text-align-center\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z\\"></path></symbol><symbol id=\\"ic-text-align-left\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z\\"></path></symbol><symbol id=\\"ic-text-align-right\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z\\"></path></symbol><symbol id=\\"ic-text-bold\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M7 2h2v2H7zM7 28h2v2H7z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-width=\\"2\\" d=\\"M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z\\"></path></symbol><symbol id=\\"ic-text-italic\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z\\"></path></symbol><symbol id=\\"ic-text-underline\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 2h5v1H5zM22 2h5v1h-5z\\"></path></symbol><symbol id=\\"ic-text\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M11 3h1v18h-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M10 20h3v1h-3z\\"></path></symbol><symbol id=\\"ic-undo\\" viewBox=\\"0 0 24 24\\"><path d=\\"M24 0H0v24h24z\\" opacity=\\".5\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M5 3L2.5 5.5 5 8\\"></path></symbol></defs></svg>"\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/icon.svg?')},"./src/js/ui/template/mainContainer.js":function srcJsUiTemplateMainContainerJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        biImage = _ref.biImage,\n        commonStyle = _ref.commonStyle,\n        headerStyle = _ref.headerStyle,\n        loadButtonStyle = _ref.loadButtonStyle,\n        downloadButtonStyle = _ref.downloadButtonStyle,\n        submenuStyle = _ref.submenuStyle;\n    return \'\\n    <div class="tui-image-editor-main-container" style="\' + commonStyle + \'">\\n        <div class="tui-image-editor-header" style="\' + headerStyle + \'">\\n            <div class="tui-image-editor-header-logo">\\n                <img src="\' + biImage + \'" />\\n            </div>\\n            <div class="tui-image-editor-header-buttons">\\n                <div style="\' + loadButtonStyle + \'">\\n                    \' + locale.localize(\'Load\') + \'\\n                    <input type="file" class="tui-image-editor-load-btn" />\\n                </div>\\n                <button class="tui-image-editor-download-btn" style="\' + downloadButtonStyle + \'">\\n                    \' + locale.localize(\'Download\') + \'\\n                </button>\\n            </div>\\n        </div>\\n        <div class="tui-image-editor-main">\\n            <div class="tui-image-editor-submenu">\\n                <div class="tui-image-editor-submenu-style" style="\' + submenuStyle + \'"></div>\\n            </div>\\n            <div class="tui-image-editor-wrap">\\n                <div class="tui-image-editor-size-wrap">\\n                    <div class="tui-image-editor-align-wrap">\\n                        <div class="tui-image-editor"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/mainContainer.js?')},"./src/js/ui/template/style.js":function srcJsUiTemplateStyleJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var subMenuLabelActive = _ref.subMenuLabelActive,\n        subMenuLabelNormal = _ref.subMenuLabelNormal,\n        subMenuRangeTitle = _ref.subMenuRangeTitle,\n        submenuPartitionVertical = _ref.submenuPartitionVertical,\n        submenuPartitionHorizontal = _ref.submenuPartitionHorizontal,\n        submenuCheckbox = _ref.submenuCheckbox,\n        submenuRangePointer = _ref.submenuRangePointer,\n        submenuRangeValue = _ref.submenuRangeValue,\n        submenuColorpickerTitle = _ref.submenuColorpickerTitle,\n        submenuColorpickerButton = _ref.submenuColorpickerButton,\n        submenuRangeBar = _ref.submenuRangeBar,\n        submenuRangeSubbar = _ref.submenuRangeSubbar,\n        submenuDisabledRangePointer = _ref.submenuDisabledRangePointer,\n        submenuDisabledRangeBar = _ref.submenuDisabledRangeBar,\n        submenuDisabledRangeSubbar = _ref.submenuDisabledRangeSubbar,\n        submenuIconSize = _ref.submenuIconSize,\n        menuIconSize = _ref.menuIconSize,\n        biSize = _ref.biSize,\n        menuIconStyle = _ref.menuIconStyle,\n        submenuIconStyle = _ref.submenuIconStyle;\n    return "\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\"icon-bubble\\"] label,\\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=\\"icon-heart\\"] label,\\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=\\"icon-location\\"] label,\\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=\\"icon-polygon\\"] label,\\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=\\"icon-star\\"] label,\\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=\\"icon-star-2\\"] label,\\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=\\"icon-arrow-3\\"] label,\\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=\\"icon-arrow-2\\"] label,\\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=\\"icon-arrow\\"] label,\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\"icon-bubble\\"] label,\\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\\n    .tie-crop-button .tui-image-editor-button.apply.active label,\\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\\n    .tie-text-effect-button .tui-image-editor-button.active label,\\n    .tie-text-align-button.left .tui-image-editor-button.left label,\\n    .tie-text-align-button.center .tui-image-editor-button.center label,\\n    .tie-text-align-button.right .tui-image-editor-button.right label,\\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\\n        " + subMenuLabelActive + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\\n        " + subMenuLabelNormal + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\\n        " + subMenuRangeTitle + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-partition > div {\\n        " + submenuPartitionVertical + "\\n    }\\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\\n        " + submenuPartitionHorizontal + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\\n        " + submenuCheckbox + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\\n        border: 0;\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\\n        " + submenuRangePointer + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\\n        " + submenuRangeBar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\\n        " + submenuRangeSubbar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\\n        " + submenuDisabledRangePointer + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\\n        " + submenuDisabledRangeSubbar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\\n        " + submenuDisabledRangeBar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-value {\\n        " + submenuRangeValue + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\\n        " + submenuColorpickerTitle + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\\n        " + submenuColorpickerButton + "\\n    }\\n    .tui-image-editor-container .svg_ic-menu {\\n        " + menuIconSize + "\\n    }\\n    .tui-image-editor-container .svg_ic-submenu {\\n        " + submenuIconSize + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\\n        " + biSize + "\\n    }\\n    .tui-image-editor-menu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.normal.color + ";\\n        stroke: " + menuIconStyle.normal.color + ";\\n    }\\n    .tui-image-editor-menu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.active.color + ";\\n        stroke: " + menuIconStyle.active.color + ";\\n    }\\n    .tui-image-editor-menu use.hover.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.hover.color + ";\\n        stroke: " + menuIconStyle.hover.color + ";\\n    }\\n    .tui-image-editor-menu use.disabled.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.disabled.color + ";\\n        stroke: " + menuIconStyle.disabled.color + ";\\n    }\\n    .tui-image-editor-submenu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: " + submenuIconStyle.normal.color + ";\\n        stroke: " + submenuIconStyle.normal.color + ";\\n    }\\n    .tui-image-editor-submenu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: " + submenuIconStyle.active.color + ";\\n        stroke: " + submenuIconStyle.active.color + ";\\n    }\\n";\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/style.js?')},"./src/js/ui/template/submenu/crop.js":function srcJsUiTemplateSubmenuCropJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-crop-preset-button\">\\n            <div class=\"tui-image-editor-button preset preset-none active\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Custom') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-square\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('Square') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-3-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('3:2') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-4-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('4:3') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-5-4\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('5:4') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-7-5\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('7:5') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-16-9\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('16:9') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition tui-image-editor-newline\">\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-crop-button action\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button cancel\">\\n                ' + makeSvgIcon(['normal', 'active'], 'cancel') + '\\n                <label>\\n                    ' + locale.localize('Cancel') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/crop.js?")},"./src/js/ui/template/submenu/draw.js":function srcJsUiTemplateSubmenuDrawJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-draw-line-select-button\">\\n            <div class=\"tui-image-editor-button free\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-free', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Free') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button line\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-line', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Straight') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-draw-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-draw-range\"></div>\\n            <input class=\"tie-draw-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/draw.js?")},"./src/js/ui/template/submenu/filter.js":function srcJsUiTemplateSubmenuFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\n/**\n * @param {Locale} locale - Translate text\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale;\n    return \'\\n    <ul class="tui-image-editor-submenu-item">\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-grayscale">\\n                        <span>\' + locale.localize(\'Grayscale\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-invert">\\n                        <span>\' + locale.localize(\'Invert\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-sepia">\\n                        <span>\' + locale.localize(\'Sepia\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-vintage">\\n                        <span>\' + locale.localize(\'Sepia2\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-blur">\\n                        <span>\' + locale.localize(\'Blur\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-sharpen">\\n                        <span>\' + locale.localize(\'Sharpen\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-emboss">\\n                        <span>\' + locale.localize(\'Emboss\') + \'</span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition">\\n            <div></div>\\n        </li>\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\\n                <div class="tui-image-editor-checkbox-wrap">\\n                    <div class="tui-image-editor-checkbox">\\n                        <label>\\n                            <input type="checkbox" class="tie-remove-white">\\n                            <span>\' + locale.localize(\'Remove White\') + \'</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\\n                    <label>\' + locale.localize(\'Distance\') + \'</label>\\n                    <div class="tie-removewhite-distance-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-brightness">\\n                        <span>\' + locale.localize(\'Brightness\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-brightness-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-noise">\\n                        <span>\' + locale.localize(\'Noise\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-noise-range"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition only-left-right">\\n            <div></div>\\n        </li>\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-pixelate">\\n                        <span>\' + locale.localize(\'Pixelate\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-pixelate-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\\n                    <div class="tui-image-editor-checkbox">\\n                        <label>\\n                            <input type="checkbox" class="tie-color-filter">\\n                            <span>\' + locale.localize(\'Color Filter\') + \'</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\\n                    <label>\' + locale.localize(\'Threshold\') + \'</label>\\n                    <div class="tie-colorfilter-threshole-range"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-tint-color" title="\' + locale.localize(\'Tint\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-tint">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-multiply-color" title="\' + locale.localize(\'Multiply\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-multiply">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-blend-color" title="\' + locale.localize(\'Blend\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-blend">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n    </ul>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/filter.js?')},"./src/js/ui/template/submenu/flip.js":function srcJsUiTemplateSubmenuFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tie-flip-button tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button flipX\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-x', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip X') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button flipY\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-y', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip Y') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tui-image-editor-button resetFlip\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-reset', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Reset') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/flip.js?")},"./src/js/ui/template/submenu/icon.js":function srcJsUiTemplateSubmenuIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-2') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-3', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-3') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-1') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-2') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-polygon\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-polygon', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Polygon') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-location\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-location', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Location') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-heart\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-heart', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Heart') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-bubble\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-bubble', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Bubble') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" style=\"margin:0\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-icon-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-load', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Custom icon') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-icon-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/icon.js?")},"./src/js/ui/template/submenu/mask.js":function srcJsUiTemplateSubmenuMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-mask-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'mask-load', true) + '\\n                </div>\\n                <label> ' + locale.localize('Load Mask Image') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-mask-apply tui-image-editor-newline apply\" style=\"margin-top: 22px;margin-bottom: 5px\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/mask.js?")},"./src/js/ui/template/submenu/rotate.js":function srcJsUiTemplateSubmenuRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-retate-button\">\\n            <div class=\"tui-image-editor-button clockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-clockwise', true) + '\\n                </div>\\n                <label> 30 </label>\\n            </div>\\n            <div class=\"tui-image-editor-button counterclockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-counterclockwise', true) + '\\n                </div>\\n                <label> -30 </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-rotate-range\"></div>\\n            <input class=\"tie-ratate-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/rotate.js?")},"./src/js/ui/template/submenu/shape.js":function srcJsUiTemplateSubmenuShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-shape-button\">\\n            <div class=\"tui-image-editor-button rect\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Rectangle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button circle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-circle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Circle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button triangle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-triangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Triangle') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-shape-color-button\">\\n            <div class=\"tie-color-fill\" title=\"' + locale.localize('Fill') + '\"></div>\\n            <div class=\"tie-color-stroke\" title=\"' + locale.localize('Stroke') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Stroke') + '</label>\\n            <div class=\"tie-stroke-range\"></div>\\n            <input class=\"tie-stroke-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/shape.js?")},"./src/js/ui/template/submenu/text.js":function srcJsUiTemplateSubmenuTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-text-effect-button\">\\n            <div class=\"tui-image-editor-button bold\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-bold', true) + '\\n                </div>\\n                <label> ' + locale.localize('Bold') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button italic\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-italic', true) + '\\n                </div>\\n                <label> ' + locale.localize('Italic') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button underline\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-underline', true) + '\\n                </div>\\n                <label> ' + locale.localize('Underline') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-text-align-button\">\\n            <div class=\"tui-image-editor-button left\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-left', true) + '\\n                </div>\\n                <label> ' + locale.localize('Left') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button center\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-center', true) + '\\n                </div>\\n                <label> ' + locale.localize('Center') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button right\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-right', true) + '\\n                </div>\\n                <label> ' + locale.localize('Right') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-text-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Text size') + '</label>\\n            <div class=\"tie-text-range\"></div>\\n            <input class=\"tie-text-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/text.js?")},"./src/js/ui/text.js":function srcJsUiTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _text = __webpack_require__(/*! ./template/submenu/text */ \"./src/js/ui/template/submenu/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nvar Text = function (_Submenu) {\n    _inherits(Text, _Submenu);\n\n    function Text(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Text);\n\n        var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'text',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _text2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.effect = {\n            bold: false,\n            italic: false,\n            underline: false\n        };\n        _this.align = 'left';\n        _this._els = {\n            textEffectButton: _this.selector('.tie-text-effect-button'),\n            textAlignButton: _this.selector('.tie-text-align-button'),\n            textColorpicker: new _colorpicker2.default(_this.selector('.tie-text-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics),\n            textRange: new _range2.default({\n                slider: _this.selector('.tie-text-range'),\n                input: _this.selector('.tie-text-range-value')\n            }, _consts.defaultTextRangeValus)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Text, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.textColorpicker.destroy();\n            this._els.textRange.destroy();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for text\n         * @param {Object} actions - actions for text\n         *   @param {Function} actions.changeTextStyle - change text style\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var setTextEffect = this._setTextEffectHandler.bind(this);\n            var setTextAlign = this._setTextAlignHandler.bind(this);\n\n            this.eventHandler = {\n                setTextEffect: setTextEffect,\n                setTextAlign: setTextAlign\n            };\n\n            this.actions = actions;\n            this._els.textEffectButton.addEventListener('click', setTextEffect);\n            this._els.textAlignButton.addEventListener('click', setTextAlign);\n            this._els.textRange.on('change', this._changeTextRnageHandler.bind(this));\n            this._els.textColorpicker.on('change', this._changeColorHandler.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            var _eventHandler = this.eventHandler,\n                setTextEffect = _eventHandler.setTextEffect,\n                setTextAlign = _eventHandler.setTextAlign;\n\n\n            this._els.textEffectButton.removeEventListener('click', setTextEffect);\n            this._els.textAlignButton.removeEventListener('click', setTextAlign);\n            this._els.textRange.off();\n            this._els.textColorpicker.off();\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.actions.stopDrawingMode();\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.modeChange('text');\n        }\n    }, {\n        key: 'setTextStyleStateOnAction',\n        value: function setTextStyleStateOnAction() {\n            var textStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var fill = textStyle.fill,\n                fontSize = textStyle.fontSize,\n                fontStyle = textStyle.fontStyle,\n                fontWeight = textStyle.fontWeight,\n                textDecoration = textStyle.textDecoration,\n                textAlign = textStyle.textAlign;\n\n\n            this.textColor = fill;\n            this.fontSize = fontSize;\n            this.setEffactState('italic', fontStyle);\n            this.setEffactState('bold', fontWeight);\n            this.setEffactState('underline', textDecoration);\n            this.setAlignState(textAlign);\n        }\n    }, {\n        key: 'setEffactState',\n        value: function setEffactState(effactName, value) {\n            var effactValue = value === 'italic' || value === 'bold' || value === 'underline';\n            var button = this._els.textEffectButton.querySelector('.tui-image-editor-button.' + effactName);\n\n            this.effect[effactName] = effactValue;\n\n            button.classList[effactValue ? 'add' : 'remove']('active');\n        }\n    }, {\n        key: 'setAlignState',\n        value: function setAlignState(value) {\n            var button = this._els.textAlignButton;\n            button.classList.remove(this.align);\n            button.classList.add(value);\n            this.align = value;\n        }\n\n        /**\n         * text effect set handler\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_setTextEffectHandler',\n        value: function _setTextEffectHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n\n            var _button$className$mat = button.className.match(/(bold|italic|underline)/),\n                styleType = _button$className$mat[0];\n\n            var styleObj = {\n                'bold': { fontWeight: 'bold' },\n                'italic': { fontStyle: 'italic' },\n                'underline': { textDecoration: 'underline' }\n            }[styleType];\n\n            this.effect[styleType] = !this.effect[styleType];\n            button.classList.toggle('active');\n            this.actions.changeTextStyle(styleObj);\n        }\n\n        /**\n         * text effect set handler\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_setTextAlignHandler',\n        value: function _setTextAlignHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var styleType = this.getButtonType(button, ['left', 'center', 'right']);\n\n                event.currentTarget.classList.remove(this.align);\n                if (this.align !== styleType) {\n                    event.currentTarget.classList.add(styleType);\n                }\n                this.actions.changeTextStyle({ textAlign: styleType });\n\n                this.align = styleType;\n            }\n        }\n\n        /**\n         * text align set handler\n         * @param {number} value - range value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeTextRnageHandler',\n        value: function _changeTextRnageHandler(value, isLast) {\n            this.actions.changeTextStyle({\n                fontSize: value\n            }, !isLast);\n        }\n\n        /**\n         * change color handler\n         * @param {string} color - change color string\n         * @private\n         */\n\n    }, {\n        key: '_changeColorHandler',\n        value: function _changeColorHandler(color) {\n            color = color || 'transparent';\n            this.actions.changeTextStyle({\n                'fill': color\n            });\n        }\n    }, {\n        key: 'textColor',\n        set: function set(color) {\n            this._els.textColorpicker.color = color;\n        }\n\n        /**\n         * Get text color\n         * @returns {string} - text color\n         */\n        ,\n        get: function get() {\n            return this._els.textColorpicker.color;\n        }\n\n        /**\n         * Get text size\n         * @returns {string} - text size\n         */\n\n    }, {\n        key: 'fontSize',\n        get: function get() {\n            return this._els.textRange.value;\n        }\n\n        /**\n         * Set text size\n         * @param {Number} value - text size\n         */\n        ,\n        set: function set(value) {\n            this._els.textRange.value = value;\n        }\n\n        /**\n         * get font style\n         * @returns {string} - font style\n         */\n\n    }, {\n        key: 'fontStyle',\n        get: function get() {\n            return this.effect.italic ? 'italic' : 'normal';\n        }\n\n        /**\n         * get font weight\n         * @returns {string} - font weight\n         */\n\n    }, {\n        key: 'fontWeight',\n        get: function get() {\n            return this.effect.bold ? 'bold' : 'normal';\n        }\n\n        /**\n         * get text underline text underline\n         * @returns {boolean} - true or false\n         */\n\n    }, {\n        key: 'underline',\n        get: function get() {\n            return this.effect.underline;\n        }\n    }]);\n\n    return Text;\n}(_submenuBase2.default);\n\nexports.default = Text;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/text.js?")},"./src/js/ui/theme/standard.js":function srcJsUiThemeStandardJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @fileoverview The standard theme\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n */\n\n/**\n * Full configuration for theme.<br>\n * @typedef {object} themeConfig\n * @property {string} common.bi.image - Brand icon image\n * @property {string} common.bisize.width - Icon image width\n * @property {string} common.bisize.height - Icon Image Height\n * @property {string} common.backgroundImage - Background image\n * @property {string} common.backgroundColor - Background color\n * @property {string} common.border - Full area border style\n * @property {string} header.backgroundImage - header area background\n * @property {string} header.backgroundColor - header area background color\n * @property {string} header.border - header area border style\n * @property {string} loadButton.backgroundColor - load button background color\n * @property {string} loadButton.border - load button border style\n * @property {string} loadButton.color - load button foreground color\n * @property {string} loadButton.fontFamily - load button font type\n * @property {string} loadButton.fontSize - load button font size\n * @property {string} downloadButton.backgroundColor - download button background color\n * @property {string} downloadButton.border - download button border style\n * @property {string} downloadButton.color - download button foreground color\n * @property {string} downloadButton.fontFamily - download button font type\n * @property {string} downloadButton.fontSize - download button font size\n * @property {string} menu.normalIcon.color - Menu normal color for default icon\n * @property {string} menu.normalIcon.path - Menu normal icon svg bundle file path\n * @property {string} menu.normalIcon.name - Menu normal icon svg bundle name\n * @property {string} menu.activeIcon.color - Menu active color for default icon\n * @property {string} menu.activeIcon.path - Menu active icon svg bundle file path\n * @property {string} menu.activeIcon.name - Menu active icon svg bundle name\n * @property {string} menu.disabled.color - Menu disabled color for default icon\n * @property {string} menu.disabled.path - Menu disabled icon svg bundle file path\n * @property {string} menu.disabled.name - Menu disabled icon svg bundle name\n * @property {string} menu.hover.color - Menu default icon hover color\n * @property {string} menu.hover.path - Menu hover icon svg bundle file path\n * @property {string} menu.hover.name - Menu hover icon svg bundle name\n * @property {string} menu.iconSize.width - Menu icon Size Width\n * @property {string} menu.iconSize.height - Menu Icon Size Height\n * @property {string} submenu.backgroundColor - Sub-menu area background color\n * @property {string} submenu.partition.color - Submenu partition line color\n * @property {string} submenu.normalIcon.color - Submenu normal color for default icon\n * @property {string} submenu.normalIcon.path - Submenu default icon svg bundle file path\n * @property {string} submenu.normalIcon.name - Submenu default icon svg bundle name\n * @property {string} submenu.activeIcon.color - Submenu active color for default icon\n * @property {string} submenu.activeIcon.path - Submenu active icon svg bundle file path\n * @property {string} submenu.activeIcon.name - Submenu active icon svg bundle name\n * @property {string} submenu.iconSize.width - Submenu icon Size Width\n * @property {string} submenu.iconSize.height - Submenu Icon Size Height\n * @property {string} submenu.normalLabel.color - Submenu default label color\n * @property {string} submenu.normalLabel.fontWeight - Sub Menu Default Label Font Thickness\n * @property {string} submenu.activeLabel.color - Submenu active label color\n * @property {string} submenu.activeLabel.fontWeight - Submenu active label Font thickness\n * @property {string} checkbox.border - Checkbox border style\n * @property {string} checkbox.backgroundColor - Checkbox background color\n * @property {string} range.pointer.color - range control pointer color\n * @property {string} range.bar.color - range control bar color\n * @property {string} range.subbar.color - range control subbar color\n * @property {string} range.value.color - range number box font color\n * @property {string} range.value.fontWeight - range number box font thickness\n * @property {string} range.value.fontSize - range number box font size\n * @property {string} range.value.border - range number box border style\n * @property {string} range.value.backgroundColor - range number box background color\n * @property {string} range.title.color - range title font color\n * @property {string} range.title.fontWeight - range title font weight\n * @property {string} colorpicker.button.border - colorpicker button border style\n * @property {string} colorpicker.title.color - colorpicker button title font color\n * @example\n // default keys and styles\n var customTheme = {\n    'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n    'common.bisize.width': '251px',\n    'common.bisize.height': '21px',\n    'common.backgroundImage': 'none',\n    'common.backgroundColor': '#1e1e1e',\n    'common.border': '0px',\n\n    // header\n    'header.backgroundImage': 'none',\n    'header.backgroundColor': 'transparent',\n    'header.border': '0px',\n\n    // load button\n    'loadButton.backgroundColor': '#fff',\n    'loadButton.border': '1px solid #ddd',\n    'loadButton.color': '#222',\n    'loadButton.fontFamily': 'NotoSans, sans-serif',\n    'loadButton.fontSize': '12px',\n\n    // download button\n    'downloadButton.backgroundColor': '#fdba3b',\n    'downloadButton.border': '1px solid #fdba3b',\n    'downloadButton.color': '#fff',\n    'downloadButton.fontFamily': 'NotoSans, sans-serif',\n    'downloadButton.fontSize': '12px',\n\n    // icons default\n    'menu.normalIcon.color': '#8a8a8a',\n    'menu.activeIcon.color': '#555555',\n    'menu.disabledIcon.color': '#434343',\n    'menu.hoverIcon.color': '#e9e9e9',\n    'submenu.normalIcon.color': '#8a8a8a',\n    'submenu.activeIcon.color': '#e9e9e9',\n\n    'menu.iconSize.width': '24px',\n    'menu.iconSize.height': '24px',\n    'submenu.iconSize.width': '32px',\n    'submenu.iconSize.height': '32px',\n\n    // submenu primary color\n    'submenu.backgroundColor': '#1e1e1e',\n    'submenu.partition.color': '#858585',\n\n    // submenu labels\n    'submenu.normalLabel.color': '#858585',\n    'submenu.normalLabel.fontWeight': 'lighter',\n    'submenu.activeLabel.color': '#fff',\n    'submenu.activeLabel.fontWeight': 'lighter',\n\n    // checkbox style\n    'checkbox.border': '1px solid #ccc',\n    'checkbox.backgroundColor': '#fff',\n\n    // rango style\n    'range.pointer.color': '#fff',\n    'range.bar.color': '#666',\n    'range.subbar.color': '#d1d1d1',\n\n    'range.disabledPointer.color': '#414141',\n    'range.disabledBar.color': '#282828',\n    'range.disabledSubbar.color': '#414141',\n\n    'range.value.color': '#fff',\n    'range.value.fontWeight': 'lighter',\n    'range.value.fontSize': '11px',\n    'range.value.border': '1px solid #353535',\n    'range.value.backgroundColor': '#151515',\n    'range.title.color': '#fff',\n    'range.title.fontWeight': 'lighter',\n\n    // colorpicker style\n    'colorpicker.button.border': '1px solid #1e1e1e',\n    'colorpicker.title.color': '#fff'\n};\n */\nexports.default = {\n  'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n  'common.bisize.width': '251px',\n  'common.bisize.height': '21px',\n  'common.backgroundImage': 'none',\n  'common.backgroundColor': '#1e1e1e',\n  'common.border': '0px',\n\n  // header\n  'header.backgroundImage': 'none',\n  'header.backgroundColor': 'transparent',\n  'header.border': '0px',\n\n  // load button\n  'loadButton.backgroundColor': '#fff',\n  'loadButton.border': '1px solid #ddd',\n  'loadButton.color': '#222',\n  'loadButton.fontFamily': '\\'Noto Sans\\', sans-serif',\n  'loadButton.fontSize': '12px',\n\n  // download button\n  'downloadButton.backgroundColor': '#fdba3b',\n  'downloadButton.border': '1px solid #fdba3b',\n  'downloadButton.color': '#fff',\n  'downloadButton.fontFamily': '\\'Noto Sans\\', sans-serif',\n  'downloadButton.fontSize': '12px',\n\n  // main icons\n  'menu.normalIcon.color': '#8a8a8a',\n  'menu.activeIcon.color': '#555555',\n  'menu.disabledIcon.color': '#434343',\n  'menu.hoverIcon.color': '#e9e9e9',\n\n  // submenu icons\n  'submenu.normalIcon.color': '#8a8a8a',\n  'submenu.activeIcon.color': '#e9e9e9',\n\n  'menu.iconSize.width': '24px',\n  'menu.iconSize.height': '24px',\n\n  'submenu.iconSize.width': '32px',\n  'submenu.iconSize.height': '32px',\n\n  // submenu primary color\n  'submenu.backgroundColor': '#1e1e1e',\n  'submenu.partition.color': '#3c3c3c',\n\n  // submenu labels\n  'submenu.normalLabel.color': '#8a8a8a',\n  'submenu.normalLabel.fontWeight': 'lighter',\n  'submenu.activeLabel.color': '#fff',\n  'submenu.activeLabel.fontWeight': 'lighter',\n\n  // checkbox style\n  'checkbox.border': '0px',\n  'checkbox.backgroundColor': '#fff',\n\n  // range style\n  'range.pointer.color': '#fff',\n  'range.bar.color': '#666',\n  'range.subbar.color': '#d1d1d1',\n\n  'range.disabledPointer.color': '#414141',\n  'range.disabledBar.color': '#282828',\n  'range.disabledSubbar.color': '#414141',\n\n  'range.value.color': '#fff',\n  'range.value.fontWeight': 'lighter',\n  'range.value.fontSize': '11px',\n  'range.value.border': '1px solid #353535',\n  'range.value.backgroundColor': '#151515',\n  'range.title.color': '#fff',\n  'range.title.fontWeight': 'lighter',\n\n  // colorpicker style\n  'colorpicker.button.border': '1px solid #1e1e1e',\n  'colorpicker.title.color': '#fff'\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/theme/standard.js?")},"./src/js/ui/theme/theme.js":function srcJsUiThemeThemeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _util = __webpack_require__(/*! ../../util */ \"./src/js/util.js\");\n\nvar _style = __webpack_require__(/*! ../template/style */ \"./src/js/ui/template/style.js\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _standard = __webpack_require__(/*! ./standard */ \"./src/js/ui/theme/standard.js\");\n\nvar _standard2 = _interopRequireDefault(_standard);\n\nvar _icon = __webpack_require__(/*! ../template/icon.svg */ \"./src/js/ui/template/icon.svg\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Theme manager\n * @class\n * @param {Object} customTheme - custom theme\n * @ignore\n */\nvar Theme = function () {\n    function Theme(customTheme) {\n        _classCallCheck(this, Theme);\n\n        this.styles = this._changeToObject((0, _tuiCodeSnippet.extend)({}, _standard2.default, customTheme));\n        (0, _util.styleLoad)(this._styleMaker());\n\n        this._loadDefaultSvgIcon();\n    }\n\n    /**\n     * Get a Style cssText or StyleObject\n     * @param {string} type - style type\n     * @returns {string|object} - cssText or StyleObject\n     */\n\n\n    _createClass(Theme, [{\n        key: 'getStyle',\n        value: function getStyle(type) {\n            // eslint-disable-line\n            var result = null;\n            var firstProperty = type.replace(/\\..+$/, '');\n            var option = this.styles[type];\n            switch (type) {\n                case 'common.bi':\n                    result = this.styles[type].image;\n                    break;\n                case 'menu.icon':\n                    result = {\n                        active: this.styles[firstProperty + '.activeIcon'],\n                        normal: this.styles[firstProperty + '.normalIcon'],\n                        hover: this.styles[firstProperty + '.hoverIcon'],\n                        disabled: this.styles[firstProperty + '.disabledIcon']\n                    };\n                    break;\n                case 'submenu.icon':\n                    result = {\n                        active: this.styles[firstProperty + '.activeIcon'],\n                        normal: this.styles[firstProperty + '.normalIcon']\n                    };\n                    break;\n                case 'submenu.label':\n                    result = {\n                        active: this._makeCssText(this.styles[firstProperty + '.activeLabel']),\n                        normal: this._makeCssText(this.styles[firstProperty + '.normalLabel'])\n                    };\n                    break;\n                case 'submenu.partition':\n                    result = {\n                        vertical: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, { borderLeft: '1px solid ' + option.color })),\n                        horizontal: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, { borderBottom: '1px solid ' + option.color }))\n                    };\n                    break;\n\n                case 'range.disabledPointer':\n                case 'range.disabledBar':\n                case 'range.disabledSubbar':\n                case 'range.pointer':\n                case 'range.bar':\n                case 'range.subbar':\n                    option.backgroundColor = option.color;\n                    result = this._makeCssText(option);\n                    break;\n                default:\n                    result = this._makeCssText(option);\n                    break;\n            }\n\n            return result;\n        }\n\n        /**\n         * Make css resource\n         * @returns {string} - serialized css text\n         * @private\n         */\n\n    }, {\n        key: '_styleMaker',\n        value: function _styleMaker() {\n            var submenuLabelStyle = this.getStyle('submenu.label');\n            var submenuPartitionStyle = this.getStyle('submenu.partition');\n\n            return (0, _style2.default)({\n                subMenuLabelActive: submenuLabelStyle.active,\n                subMenuLabelNormal: submenuLabelStyle.normal,\n                submenuPartitionVertical: submenuPartitionStyle.vertical,\n                submenuPartitionHorizontal: submenuPartitionStyle.horizontal,\n                biSize: this.getStyle('common.bisize'),\n                subMenuRangeTitle: this.getStyle('range.title'),\n                submenuRangePointer: this.getStyle('range.pointer'),\n                submenuRangeBar: this.getStyle('range.bar'),\n                submenuRangeSubbar: this.getStyle('range.subbar'),\n\n                submenuDisabledRangePointer: this.getStyle('range.disabledPointer'),\n                submenuDisabledRangeBar: this.getStyle('range.disabledBar'),\n                submenuDisabledRangeSubbar: this.getStyle('range.disabledSubbar'),\n\n                submenuRangeValue: this.getStyle('range.value'),\n                submenuColorpickerTitle: this.getStyle('colorpicker.title'),\n                submenuColorpickerButton: this.getStyle('colorpicker.button'),\n                submenuCheckbox: this.getStyle('checkbox'),\n                menuIconSize: this.getStyle('menu.iconSize'),\n                submenuIconSize: this.getStyle('submenu.iconSize'),\n                menuIconStyle: this.getStyle('menu.icon'),\n                submenuIconStyle: this.getStyle('submenu.icon')\n            });\n        }\n\n        /**\n         * Change to low dimensional object.\n         * @param {object} styleOptions - style object of user interface\n         * @returns {object} low level object for style apply\n         * @private\n         */\n\n    }, {\n        key: '_changeToObject',\n        value: function _changeToObject(styleOptions) {\n            var styleObject = {};\n            (0, _tuiCodeSnippet.forEach)(styleOptions, function (value, key) {\n                var keyExplode = key.match(/^(.+)\\.([a-z]+)$/i);\n                var property = keyExplode[1],\n                    subProperty = keyExplode[2];\n\n\n                if (!styleObject[property]) {\n                    styleObject[property] = {};\n                }\n                styleObject[property][subProperty] = value;\n            });\n\n            return styleObject;\n        }\n\n        /**\n         * Style object to Csstext serialize\n         * @param {object} styleObject - style object\n         * @returns {string} - css text string\n         * @private\n         */\n\n    }, {\n        key: '_makeCssText',\n        value: function _makeCssText(styleObject) {\n            var _this = this;\n\n            var converterStack = [];\n\n            (0, _tuiCodeSnippet.forEach)(styleObject, function (value, key) {\n                if (['backgroundImage'].indexOf(key) > -1 && value !== 'none') {\n                    value = 'url(' + value + ')';\n                }\n\n                converterStack.push(_this._toUnderScore(key) + ': ' + value);\n            });\n\n            return converterStack.join(';');\n        }\n\n        /**\n         * Camel key string to Underscore string\n         * @param {string} targetString - change target\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_toUnderScore',\n        value: function _toUnderScore(targetString) {\n            return targetString.replace(/([A-Z])/g, function ($0, $1) {\n                return '-' + $1.toLowerCase();\n            });\n        }\n\n        /**\n         * Load defulat svg icon \n         * @private\n         */\n\n    }, {\n        key: '_loadDefaultSvgIcon',\n        value: function _loadDefaultSvgIcon() {\n            if (!document.getElementById('tui-image-editor-svg-default-icons')) {\n                var parser = new DOMParser();\n                var dom = parser.parseFromString(_icon2.default, 'text/xml');\n\n                document.body.appendChild(dom.documentElement);\n            }\n        }\n\n        /**\n         * Make className for svg icon\n         * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeIconClassName',\n        value: function _makeIconClassName(iconType, isSubmenu) {\n            var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n            var _iconStyleInfo$iconTy = iconStyleInfo[iconType],\n                path = _iconStyleInfo$iconTy.path,\n                name = _iconStyleInfo$iconTy.name;\n\n\n            return path && name ? iconType : iconType + ' use-default';\n        }\n\n        /**\n         * Make svg use link path name\n         * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeSvgIconPrefix',\n        value: function _makeSvgIconPrefix(iconType, isSubmenu) {\n            var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n            var _iconStyleInfo$iconTy2 = iconStyleInfo[iconType],\n                path = _iconStyleInfo$iconTy2.path,\n                name = _iconStyleInfo$iconTy2.name;\n\n\n            return path && name ? path + '#' + name + '-' : '#';\n        }\n\n        /**\n         * Make svg use link path name\n         * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n         * @param {string} menuName - menu name\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeSvgItem',\n        value: function _makeSvgItem(useIconTypes, menuName, isSubmenu) {\n            var _this2 = this;\n\n            return (0, _tuiCodeSnippet.map)(useIconTypes, function (iconType) {\n                var svgIconPrefix = _this2._makeSvgIconPrefix(iconType, isSubmenu);\n                var iconName = _this2._toUnderScore(menuName);\n                var svgIconClassName = _this2._makeIconClassName(iconType, isSubmenu);\n\n                return '<use xlink:href=\"' + svgIconPrefix + 'ic-' + iconName + '\" class=\"' + svgIconClassName + '\"/>';\n            }).join('');\n        }\n\n        /**\n         * Make svg icon set\n         * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n         * @param {string} menuName - menu name\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         */\n\n    }, {\n        key: 'makeMenSvgIconSet',\n        value: function makeMenSvgIconSet(useIconTypes, menuName) {\n            var isSubmenu = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            return '<svg class=\"svg_ic-' + (isSubmenu ? 'submenu' : 'menu') + '\">' + this._makeSvgItem(useIconTypes, menuName, isSubmenu) + '</svg>';\n        }\n    }]);\n\n    return Theme;\n}();\n\nexports.default = Theme;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/theme/theme.js?")},"./src/js/ui/tools/colorpicker.js":function srcJsUiToolsColorpickerJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _tuiColorPicker = __webpack_require__(/*! tui-color-picker */ \"tui-color-picker\");\n\nvar _tuiColorPicker2 = _interopRequireDefault(_tuiColorPicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PICKER_COLOR = ['#000000', '#2a2a2a', '#545454', '#7e7e7e', '#a8a8a8', '#d2d2d2', '#ffffff', '', '#ff4040', '#ff6518', '#ffbb3b', '#03bd9e', '#00a9ff', '#515ce6', '#9e5fff', '#ff5583'];\n\n/**\n * Colorpicker control class\n * @class\n * @ignore\n */\n\nvar Colorpicker = function () {\n    function Colorpicker(colorpickerElement) {\n        var defaultColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '#7e7e7e';\n        var toggleDirection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'up';\n        var usageStatistics = arguments[3];\n\n        _classCallCheck(this, Colorpicker);\n\n        this.colorpickerElement = colorpickerElement;\n        this.usageStatistics = usageStatistics;\n\n        this._show = false;\n\n        this._colorpickerElement = colorpickerElement;\n        this._toggleDirection = toggleDirection;\n        this._makePickerButtonElement(defaultColor);\n        this._makePickerLayerElement(colorpickerElement, colorpickerElement.getAttribute('title'));\n        this._color = defaultColor;\n        this.picker = _tuiColorPicker2.default.create({\n            container: this.pickerElement,\n            preset: PICKER_COLOR,\n            color: defaultColor,\n            usageStatistics: this.usageStatistics\n        });\n\n        this._addEvent();\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Colorpicker, [{\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this._removeEvent();\n            this.picker.destroy();\n            this.colorpickerElement.innerHTML = '';\n            _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n            });\n        }\n\n        /**\n         * Get color\n         * @returns {Number} color value\n         */\n\n    }, {\n        key: '_changeColorElement',\n\n\n        /**\n         * Change color element\n         * @param {string} color color value\n         * #private\n         */\n        value: function _changeColorElement(color) {\n            if (color) {\n                this.colorElement.classList.remove('transparent');\n                this.colorElement.style.backgroundColor = color;\n            } else {\n                this.colorElement.style.backgroundColor = '#fff';\n                this.colorElement.classList.add('transparent');\n            }\n        }\n\n        /**\n         * Make picker button element\n         * @param {string} defaultColor color value\n         * @private\n         */\n\n    }, {\n        key: '_makePickerButtonElement',\n        value: function _makePickerButtonElement(defaultColor) {\n            this.colorpickerElement.classList.add('tui-image-editor-button');\n\n            this.colorElement = document.createElement('div');\n            this.colorElement.className = 'color-picker-value';\n            if (defaultColor) {\n                this.colorElement.style.backgroundColor = defaultColor;\n            } else {\n                this.colorElement.classList.add('transparent');\n            }\n        }\n\n        /**\n         * Make picker layer element\n         * @param {HTMLElement} colorpickerElement color picker element\n         * @param {string} title picker title\n         * @private\n         */\n\n    }, {\n        key: '_makePickerLayerElement',\n        value: function _makePickerLayerElement(colorpickerElement, title) {\n            var label = document.createElement('label');\n            var triangle = document.createElement('div');\n\n            this.pickerControl = document.createElement('div');\n            this.pickerControl.className = 'color-picker-control';\n\n            this.pickerElement = document.createElement('div');\n            this.pickerElement.className = 'color-picker';\n\n            label.innerHTML = title;\n            triangle.className = 'triangle';\n\n            this.pickerControl.appendChild(this.pickerElement);\n            this.pickerControl.appendChild(triangle);\n\n            colorpickerElement.appendChild(this.pickerControl);\n            colorpickerElement.appendChild(this.colorElement);\n            colorpickerElement.appendChild(label);\n        }\n\n        /**\n         * Add event\n         * @private\n         */\n\n    }, {\n        key: '_addEvent',\n        value: function _addEvent() {\n            var _this2 = this;\n\n            this.picker.on('selectColor', function (value) {\n                _this2._changeColorElement(value.color);\n                _this2._color = value.color;\n                _this2.fire('change', value.color);\n            });\n\n            this.eventHandler = {\n                pickerToggle: this._pickerToggleEventHandler.bind(this),\n                pickerHide: function pickerHide() {\n                    return _this2.hide();\n                }\n            };\n\n            this.colorpickerElement.addEventListener('click', this.eventHandler.pickerToggle);\n            document.body.addEventListener('click', this.eventHandler.pickerHide);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this.colorpickerElement.removeEventListener('click', this.eventHandler.pickerToggle);\n            document.body.removeEventListener('click', this.eventHandler.pickerHide);\n            this.picker.off();\n        }\n\n        /**\n         * Picker toggle event handler\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_pickerToggleEventHandler',\n        value: function _pickerToggleEventHandler(event) {\n            var target = event.target;\n\n            var isInPickerControl = target && this._isElementInColorPickerControl(target);\n\n            if (!isInPickerControl || isInPickerControl && this._isPaletteButton(target)) {\n                this._show = !this._show;\n                this.pickerControl.style.display = this._show ? 'block' : 'none';\n                this._setPickerControlPosition();\n                this.fire('changeShow', this);\n            }\n            event.stopPropagation();\n        }\n\n        /**\n         * Check hex input or not\n         * @param {Element} target - Event target element\n         * @returns {boolean}\n         * @private\n         */\n\n    }, {\n        key: '_isPaletteButton',\n        value: function _isPaletteButton(target) {\n            return target.className === 'tui-colorpicker-palette-button';\n        }\n\n        /**\n         * Check given element is in pickerControl element\n         * @param {Element} element - element to check\n         * @returns {boolean}\n         * @private\n         */\n\n    }, {\n        key: '_isElementInColorPickerControl',\n        value: function _isElementInColorPickerControl(element) {\n            var parentNode = element;\n\n            while (parentNode !== document.body) {\n                if (!parentNode) {\n                    break;\n                }\n\n                if (parentNode === this.pickerControl) {\n                    return true;\n                }\n\n                parentNode = parentNode.parentNode;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this._show = false;\n            this.pickerControl.style.display = 'none';\n        }\n\n        /**\n         * Set picker control position\n         * @private\n         */\n\n    }, {\n        key: '_setPickerControlPosition',\n        value: function _setPickerControlPosition() {\n            var controlStyle = this.pickerControl.style;\n            var halfPickerWidth = this._colorpickerElement.clientWidth / 2 + 2;\n            var left = this.pickerControl.offsetWidth / 2 - halfPickerWidth;\n            var top = (this.pickerControl.offsetHeight + 10) * -1;\n\n            if (this._toggleDirection === 'down') {\n                top = 30;\n            }\n\n            controlStyle.top = top + 'px';\n            controlStyle.left = '-' + left + 'px';\n        }\n    }, {\n        key: 'color',\n        get: function get() {\n            return this._color;\n        }\n\n        /**\n         * Set color\n         * @param {string} color color value\n         */\n        ,\n        set: function set(color) {\n            this._color = color;\n            this._changeColorElement(color);\n        }\n    }]);\n\n    return Colorpicker;\n}();\n\n_tuiCodeSnippet2.default.CustomEvents.mixin(Colorpicker);\nexports.default = Colorpicker;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/tools/colorpicker.js?")},"./src/js/ui/tools/range.js":function srcJsUiToolsRangeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar INPUT_FILTER_REGEXP = /(-?)([0-9]*)[^0-9]*([0-9]*)/g;\n\n/**\n * Range control class\n * @class\n * @ignore\n */\n\nvar Range = function () {\n    /**\n     * @constructor\n     * @extends {View}\n     * @param {Object} rangeElements - Html resources for creating sliders\n     *  @param {HTMLElement} rangeElements.slider - b\n     *  @param {HTMLElement} [rangeElements.input] - c\n     * @param {Object} options - Slider make options\n     *  @param {number} options.min - min value\n     *  @param {number} options.max - max value\n     *  @param {number} options.value - default value\n     *  @param {number} [options.useDecimal] - Decimal point processing.\n     *  @param {number} [options.realTimeEvent] - Reflect live events.\n     */\n    function Range(rangeElements) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Range);\n\n        this._value = options.value || 0;\n\n        this.rangeElement = rangeElements.slider;\n        this.rangeInputElement = rangeElements.input;\n\n        this._drawRangeElement();\n\n        this.rangeWidth = this._getRangeWidth();\n        this._min = options.min || 0;\n        this._max = options.max || 100;\n        this._useDecimal = options.useDecimal;\n        this._absMax = this._min * -1 + this._max;\n        this.realTimeEvent = options.realTimeEvent || false;\n\n        this.eventHandler = {\n            startChangingSlide: this._startChangingSlide.bind(this),\n            stopChangingSlide: this._stopChangingSlide.bind(this),\n            changeSlide: this._changeSlide.bind(this),\n            changeSlideFinally: this._changeSlideFinally.bind(this),\n            changeInput: this._changeValueWithInput.bind(this, false),\n            changeInputFinally: this._changeValueWithInput.bind(this, true),\n            changeInputWithArrow: this._changeValueWithInputKeyEvent.bind(this)\n        };\n\n        this._addClickEvent();\n        this._addDragEvent();\n        this._addInputEvent();\n        this.value = options.value;\n        this.trigger('change');\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Range, [{\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this._removeClickEvent();\n            this._removeDragEvent();\n            this._removeInputEvent();\n            this.rangeElement.innerHTML = '';\n            _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n            });\n        }\n\n        /**\n         * Set range max value and re position cursor\n         * @param {number} maxValue - max value\n         */\n\n    }, {\n        key: 'trigger',\n\n\n        /**\n         * event tirigger\n         * @param {string} type - type\n         */\n        value: function trigger(type) {\n            this.fire(type, this._value);\n        }\n\n        /**\n         * Calculate slider width\n         * @returns {number} - slider width\n         */\n\n    }, {\n        key: '_getRangeWidth',\n        value: function _getRangeWidth() {\n            var getElementWidth = function getElementWidth(element) {\n                return (0, _util.toInteger)(window.getComputedStyle(element, null).width);\n            };\n\n            return getElementWidth(this.rangeElement) - getElementWidth(this.pointer);\n        }\n\n        /**\n         * Make range element\n         * @private\n         */\n\n    }, {\n        key: '_drawRangeElement',\n        value: function _drawRangeElement() {\n            this.rangeElement.classList.add('tui-image-editor-range');\n\n            this.bar = document.createElement('div');\n            this.bar.className = 'tui-image-editor-virtual-range-bar';\n\n            this.subbar = document.createElement('div');\n            this.subbar.className = 'tui-image-editor-virtual-range-subbar';\n\n            this.pointer = document.createElement('div');\n            this.pointer.className = 'tui-image-editor-virtual-range-pointer';\n\n            this.bar.appendChild(this.subbar);\n            this.bar.appendChild(this.pointer);\n            this.rangeElement.appendChild(this.bar);\n        }\n\n        /**\n         * Add range input editing event\n         * @private\n         */\n\n    }, {\n        key: '_addInputEvent',\n        value: function _addInputEvent() {\n            if (this.rangeInputElement) {\n                this.rangeInputElement.addEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.addEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.addEventListener('blur', this.eventHandler.changeInputFinally);\n            }\n        }\n\n        /**\n         * Remove range input editing event\n         * @private\n         */\n\n    }, {\n        key: '_removeInputEvent',\n        value: function _removeInputEvent() {\n            if (this.rangeInputElement) {\n                this.rangeInputElement.removeEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.removeEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.removeEventListener('blur', this.eventHandler.changeInputFinally);\n            }\n        }\n\n        /**\n         * change angle event\n         * @param {object} event - key event\n         * @private\n         */\n\n    }, {\n        key: '_changeValueWithInputKeyEvent',\n        value: function _changeValueWithInputKeyEvent(event) {\n            var keyCode = event.keyCode,\n                target = event.target;\n\n\n            if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) < 0) {\n                return;\n            }\n\n            var value = Number(target.value);\n\n            value = this._valueUpDownForKeyEvent(value, keyCode);\n\n            var unChanged = value < this._min || value > this._max;\n\n            if (!unChanged) {\n                var clampValue = (0, _util.clamp)(value, this._min, this.max);\n                this.value = clampValue;\n                this.fire('change', clampValue, false);\n            }\n        }\n\n        /**\n         * value up down for input\n         * @param {number} value - original value number\n         * @param {number} keyCode - input event key code\n         * @returns {number} value - changed value\n         * @private\n         */\n\n    }, {\n        key: '_valueUpDownForKeyEvent',\n        value: function _valueUpDownForKeyEvent(value, keyCode) {\n            var step = this._useDecimal ? 0.1 : 1;\n\n            if (keyCode === _consts.keyCodes.ARROW_UP) {\n                value += step;\n            } else if (keyCode === _consts.keyCodes.ARROW_DOWN) {\n                value -= step;\n            }\n\n            return value;\n        }\n\n        /**\n         * change angle event\n         * @param {boolean} isLast - Is last change\n         * @param {object} event - key event\n         * @private\n         */\n\n    }, {\n        key: '_changeValueWithInput',\n        value: function _changeValueWithInput(isLast, event) {\n            var keyCode = event.keyCode,\n                target = event.target;\n\n\n            if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) >= 0) {\n                return;\n            }\n\n            var stringValue = this._filterForInputText(target.value);\n            var waitForChange = !stringValue || isNaN(stringValue);\n            target.value = stringValue;\n\n            if (!waitForChange) {\n                var value = this._useDecimal ? Number(stringValue) : (0, _util.toInteger)(stringValue);\n                value = (0, _util.clamp)(value, this._min, this.max);\n\n                this.value = value;\n                this.fire('change', value, isLast);\n            }\n        }\n\n        /**\n         * Add Range click event\n         * @private\n         */\n\n    }, {\n        key: '_addClickEvent',\n        value: function _addClickEvent() {\n            this.rangeElement.addEventListener('click', this.eventHandler.changeSlideFinally);\n        }\n\n        /**\n         * Remove Range click event\n         * @private\n         */\n\n    }, {\n        key: '_removeClickEvent',\n        value: function _removeClickEvent() {\n            this.rangeElement.removeEventListener('click', this.eventHandler.changeSlideFinally);\n        }\n\n        /**\n         * Add Range drag event\n         * @private\n         */\n\n    }, {\n        key: '_addDragEvent',\n        value: function _addDragEvent() {\n            this.pointer.addEventListener('mousedown', this.eventHandler.startChangingSlide);\n        }\n\n        /**\n         * Remove Range drag event\n         * @private\n         */\n\n    }, {\n        key: '_removeDragEvent',\n        value: function _removeDragEvent() {\n            this.pointer.removeEventListener('mousedown', this.eventHandler.startChangingSlide);\n        }\n\n        /**\n         * change angle event\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_changeSlide',\n        value: function _changeSlide(event) {\n            var changePosition = event.screenX;\n            var diffPosition = changePosition - this.firstPosition;\n            var touchPx = this.firstLeft + diffPosition;\n            touchPx = touchPx > this.rangeWidth ? this.rangeWidth : touchPx;\n            touchPx = touchPx < 0 ? 0 : touchPx;\n\n            this.pointer.style.left = touchPx + 'px';\n            this.subbar.style.right = this.rangeWidth - touchPx + 'px';\n\n            var ratio = touchPx / this.rangeWidth;\n            var resultValue = this._absMax * ratio + this._min;\n            var value = this._useDecimal ? resultValue : (0, _util.toInteger)(resultValue);\n            var isValueChanged = this.value !== value;\n\n            if (isValueChanged) {\n                this.value = value;\n                if (this.realTimeEvent) {\n                    this.fire('change', this._value, false);\n                }\n            }\n        }\n    }, {\n        key: '_changeSlideFinally',\n        value: function _changeSlideFinally(event) {\n            event.stopPropagation();\n            if (event.target.className !== 'tui-image-editor-range') {\n                return;\n            }\n            var touchPx = event.offsetX;\n            var ratio = touchPx / this.rangeWidth;\n            var value = this._absMax * ratio + this._min;\n            this.pointer.style.left = ratio * this.rangeWidth + 'px';\n            this.subbar.style.right = (1 - ratio) * this.rangeWidth + 'px';\n            this.value = value;\n\n            this.fire('change', value, true);\n        }\n    }, {\n        key: '_startChangingSlide',\n        value: function _startChangingSlide(event) {\n            this.firstPosition = event.screenX;\n            this.firstLeft = (0, _util.toInteger)(this.pointer.style.left) || 0;\n\n            document.addEventListener('mousemove', this.eventHandler.changeSlide);\n            document.addEventListener('mouseup', this.eventHandler.stopChangingSlide);\n        }\n\n        /**\n         * stop change angle event\n         * @private\n         */\n\n    }, {\n        key: '_stopChangingSlide',\n        value: function _stopChangingSlide() {\n            this.fire('change', this._value, true);\n\n            document.removeEventListener('mousemove', this.eventHandler.changeSlide);\n            document.removeEventListener('mouseup', this.eventHandler.stopChangingSlide);\n        }\n\n        /**\n         * Unnecessary string filtering.\n         * @param {string} inputValue - origin string of input\n         * @returns {string} filtered string\n         * @private\n         */\n\n    }, {\n        key: '_filterForInputText',\n        value: function _filterForInputText(inputValue) {\n            return inputValue.replace(INPUT_FILTER_REGEXP, '$1$2$3');\n        }\n    }, {\n        key: 'max',\n        set: function set(maxValue) {\n            this._max = maxValue;\n            this._absMax = this._min * -1 + this._max;\n            this.value = this._value;\n        },\n        get: function get() {\n            return this._max;\n        }\n\n        /**\n         * Get range value\n         * @returns {Number} range value\n         */\n\n    }, {\n        key: 'value',\n        get: function get() {\n            return this._value;\n        }\n\n        /**\n         * Set range value\n         * @param {Number} value range value\n         * @param {Boolean} fire whether fire custom event or not\n         */\n        ,\n        set: function set(value) {\n            value = this._useDecimal ? value : (0, _util.toInteger)(value);\n\n            var absValue = value - this._min;\n            var leftPosition = absValue * this.rangeWidth / this._absMax;\n\n            if (this.rangeWidth < leftPosition) {\n                leftPosition = this.rangeWidth;\n            }\n\n            this.pointer.style.left = leftPosition + 'px';\n            this.subbar.style.right = this.rangeWidth - leftPosition + 'px';\n\n            this._value = value;\n            if (this.rangeInputElement) {\n                this.rangeInputElement.value = value;\n            }\n        }\n    }]);\n\n    return Range;\n}();\n\n_tuiCodeSnippet2.default.CustomEvents.mixin(Range);\nexports.default = Range;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/tools/range.js?")},"./src/js/util.js":function srcJsUtilJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar FLOATING_POINT_DIGIT = 2; /**\n                               * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                               * @fileoverview Util\n                               */\n\nvar CSS_PREFIX = 'tui-image-editor-';\nvar min = Math.min,\n    max = Math.max;\n\nvar hostnameSent = false;\n\nmodule.exports = {\n    /**\n     * Clamp value\n     * @param {number} value - Value\n     * @param {number} minValue - Minimum value\n     * @param {number} maxValue - Maximum value\n     * @returns {number} clamped value\n     */\n    clamp: function clamp(value, minValue, maxValue) {\n        var temp = void 0;\n        if (minValue > maxValue) {\n            temp = minValue;\n            minValue = maxValue;\n            maxValue = temp;\n        }\n\n        return max(minValue, min(value, maxValue));\n    },\n\n\n    /**\n     * Make key-value object from arguments\n     * @returns {object.<string, string>}\n     */\n    keyMirror: function keyMirror() {\n        var obj = {};\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        (0, _tuiCodeSnippet.forEach)(args, function (key) {\n            obj[key] = key;\n        });\n\n        return obj;\n    },\n\n\n    /**\n     * Make CSSText\n     * @param {Object} styleObj - Style info object\n     * @returns {string} Connected string of style\n     */\n    makeStyleText: function makeStyleText(styleObj) {\n        var styleStr = '';\n\n        (0, _tuiCodeSnippet.forEach)(styleObj, function (value, prop) {\n            styleStr += prop + ': ' + value + ';';\n        });\n\n        return styleStr;\n    },\n\n\n    /**\n     * Get object's properties\n     * @param {Object} obj - object\n     * @param {Array} keys - keys\n     * @returns {Object} properties object\n     */\n    getProperties: function getProperties(obj, keys) {\n        var props = {};\n        var length = keys.length;\n\n        var i = 0;\n        var key = void 0;\n\n        for (i = 0; i < length; i += 1) {\n            key = keys[i];\n            props[key] = obj[key];\n        }\n\n        return props;\n    },\n\n\n    /**\n     * ParseInt simpliment\n     * @param {number} value - Value\n     * @returns {number}\n     */\n    toInteger: function toInteger(value) {\n        return parseInt(value, 10);\n    },\n\n\n    /**\n     * String to camelcase string\n     * @param {string} targetString - change target\n     * @returns {string}\n     * @private\n     */\n    toCamelCase: function toCamelCase(targetString) {\n        return targetString.replace(/-([a-z])/g, function ($0, $1) {\n            return $1.toUpperCase();\n        });\n    },\n\n\n    /**\n     * Check browser file api support\n     * @returns {boolean}\n     * @private\n     */\n    isSupportFileApi: function isSupportFileApi() {\n        return !!(window.File && window.FileList && window.FileReader);\n    },\n\n\n    /**\n     * hex to rgb\n     * @param {string} color - hex color\n     * @param {string} alpha - color alpha value\n     * @returns {string} rgb expression\n     */\n    getRgb: function getRgb(color, alpha) {\n        if (color.length === 4) {\n            color = '' + color + color.slice(1, 4);\n        }\n        var r = parseInt(color.slice(1, 3), 16);\n        var g = parseInt(color.slice(3, 5), 16);\n        var b = parseInt(color.slice(5, 7), 16);\n        var a = alpha || 1;\n\n        return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\n    },\n\n\n    /**\n     * send hostname\n     */\n    sendHostName: function sendHostName() {\n        if (hostnameSent) {\n            return;\n        }\n        hostnameSent = true;\n\n        (0, _tuiCodeSnippet.sendHostname)('image-editor', 'UA-129999381-1');\n    },\n\n\n    /**\n     * Apply css resource\n     * @param {string} styleBuffer - serialized css text\n     * @param {string} tagId - style tag id\n     */\n    styleLoad: function styleLoad(styleBuffer, tagId) {\n        var _document$getElements = document.getElementsByTagName('head'),\n            head = _document$getElements[0];\n\n        var linkElement = document.createElement('link');\n        var styleData = encodeURIComponent(styleBuffer);\n        if (tagId) {\n            linkElement.id = tagId;\n            // linkElement.id = 'tui-image-editor-theme-style';\n        }\n        linkElement.setAttribute('rel', 'stylesheet');\n        linkElement.setAttribute('type', 'text/css');\n        linkElement.setAttribute('href', 'data:text/css;charset=UTF-8,' + styleData);\n        head.appendChild(linkElement);\n    },\n\n\n    /**\n     * Get selector\n     * @param {HTMLElement} targetElement - target element\n     * @returns {Function} selector\n     */\n    getSelector: function getSelector(targetElement) {\n        return function (str) {\n            return targetElement.querySelector(str);\n        };\n    },\n\n\n    /**\n     * Change base64 to blob\n     * @param {String} data - base64 string data\n     * @returns {Blob} Blob Data\n     */\n    base64ToBlob: function base64ToBlob(data) {\n        var rImageType = /data:(image\\/.+);base64,/;\n        var mimeString = '';\n        var raw = void 0,\n            uInt8Array = void 0,\n            i = void 0;\n\n        raw = data.replace(rImageType, function (header, imageType) {\n            mimeString = imageType;\n\n            return '';\n        });\n\n        raw = atob(raw);\n        var rawLength = raw.length;\n        uInt8Array = new Uint8Array(rawLength); // eslint-disable-line\n\n        for (i = 0; i < rawLength; i += 1) {\n            uInt8Array[i] = raw.charCodeAt(i);\n        }\n\n        return new Blob([uInt8Array], { type: mimeString });\n    },\n\n\n    /**\n     * Fix floating point diff.\n     * @param {number} value - original value\n     * @returns {number} fixed value\n     */\n    fixFloatingPoint: function fixFloatingPoint(value) {\n        return Number(value.toFixed(FLOATING_POINT_DIGIT));\n    },\n\n\n    /**\n     * Assignment for destroying objects.\n     * @param {Object} targetObject - object to be removed.\n     */\n    assignmentForDestroy: function assignmentForDestroy(targetObject) {\n        (0, _tuiCodeSnippet.forEach)(targetObject, function (value, key) {\n            targetObject[key] = null;\n        });\n    },\n\n\n    /**\n     * Make class name for ui\n     * @param {String} str  - main string of className\n     * @param {String} prefix - prefix string of className\n     * @returns {String} class name\n     */\n    cls: function cls() {\n        var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        if (str.charAt(0) === '.') {\n            return '.' + CSS_PREFIX + prefix + str.slice(1);\n        }\n\n        return '' + CSS_PREFIX + prefix + str;\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/util.js?")},fabric:function fabric(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_fabric__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%5B%22fabric%22,%22fabric%22%5D,%22commonjs2%22:%5B%22fabric%22,%22fabric%22%5D,%22amd%22:%22fabric%22,%22root%22:%22fabric%22%7D?")},"tui-code-snippet":function tuiCodeSnippet(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%22tui-code-snippet%22,%22commonjs2%22:%22tui-code-snippet%22,%22amd%22:%22tui-code-snippet%22,%22root%22:%5B%22tui%22,%22util%22%5D%7D?")},"tui-color-picker":function tuiColorPicker(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_tui_color_picker__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%22tui-color-picker%22,%22commonjs2%22:%22tui-color-picker%22,%22amd%22:%22tui-color-picker%22,%22root%22:%5B%22tui%22,%22colorPicker%22%5D%7D?")}})},module.exports=factory(__webpack_require__(22).fabric,__webpack_require__(2),__webpack_require__(31))},function(e,t,n){(function(e){var r,i=i||{version:"3.6.0"};if(t.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var o=new(n(28).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=o.document,i.jsdomImplForWrapper=n(29).implForWrapper,i.nodeCanvas=n(30).Canvas,i.window=o,DOMParser=i.window.DOMParser}function a(e,t){var n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1);var o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}function s(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,o=r*i*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,a);var l=new ImageData(s,r,i);n.putImageData(l,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof e&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:i.util.array.fill(n,!1)}}function t(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function n(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"===typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}function r(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this}i.Observable={observe:t,stopObserving:n,fire:r,on:t,off:n,trigger:r}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return"undefined"===typeof e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},i.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof i.Gradient||this.set(t,new i.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof i.Pattern?n&&n():this.set(t,new i.Pattern(e,n))},_initClipping:function(e){if(e.clipTo&&"string"===typeof e.clipTo){var t=i.util.getFunctionBody(e.clipTo);"undefined"!==typeof t&&(this.clipTo=new Function("ctx",t))}},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"===typeof e?this._setObject(e):"function"===typeof t&&"clipTo"!==e?this._set(e,t(this.get(e))):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"===typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,a=Math.PI/2;i.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/a){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,t,n){e.subtractEquals(t);var r=i.util.rotateVector(e,n);return new i.Point(r.x,r.y).addEquals(t)},rotateVector:function(e,t){var n=i.util.sin(t),r=i.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},transformPoint:function(e,t,n){return n?new i.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new i.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=i.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],o=i.util.array.min(r),a=i.util.array.max(r)-o,s=[e[0].y,e[1].y,e[2].y,e[3].y],l=i.util.array.min(s);return{left:o,top:l,width:a,height:i.util.array.max(s)-l}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=i.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=i.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*i.DPI/25.4;case"cm":return r*i.DPI/2.54;case"in":return r*i.DPI;case"pt":return r*i.DPI/72;case"pc":return r*i.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=i.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),i.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return i;var n,r=t.split("."),o=r.length,a=e||i.window;for(n=0;n<o;++n)a=a[r[n]];return a},loadImage:function(e,t,n,r){if(e){var o=i.util.createImage(),a=function(){t&&t.call(n,o),o=o.onload=o.onerror=null};o.onload=a,o.onerror=function(){i.log("Error loading "+o.src),t&&t.call(n,null,!0),o=o.onload=o.onerror=null},0!==e.indexOf("data")&&r&&(o.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(o.onload=null,i.util.loadImageInDom(o,a)),o.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=i.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),i.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var o=[],a=0,s=(e=e||[]).length;function l(){++a===s&&t&&t(o.filter((function(e){return e})))}s?e.forEach((function(e,t){e&&e.type?i.util.getKlass(e.type,n).fromObject(e,(function(n,i){i||(o[t]=n),r&&r(e,n,i),l()})):l()})):t&&t(o)},enlivenPatterns:function(e,t){function n(){++o===a&&t&&t(r)}var r=[],o=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new i.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new i.Group(e,t),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in e&&(t[n[r]]=e[n[r]])},drawDashedLine:function(e,r,i,o,a,s){var l=o-r,c=a-i,u=t(l*l+c*c),d=n(c,l),h=s.length,p=0,f=!0;for(e.save(),e.translate(r,i),e.moveTo(0,0),e.rotate(d),r=0;u>r;)(r+=s[p++%h])>u&&(r=u),e[f?"lineTo":"moveTo"](r,0),f=!f;e.restore()},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(e){var t=i.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return i.document.createElement("img")},clipContext:function(e,t){t.save(),t.beginPath(),e.clipTo(t),t.clip()},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var i=n(e[1],e[0]),a=r(e[0],2)+r(e[1],2),s=t(a),l=(e[0]*e[3]-e[2]*e[1])/s,c=n(e[0]*e[2]+e[1]*e[3],a);return{angle:i/o,scaleX:s,scaleY:l,skewX:c/o,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return i.iMatrix.concat();var t=i.util.degreesToRadians(e.angle),n=i.util.cos(t),r=i.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t="undefined"===typeof e.scaleX?1:e.scaleX,n="undefined"===typeof e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],o=i.util.multiplyTransformMatrices,a=i.util.degreesToRadians;return e.skewX&&(r=o(r,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(r=o(r,[1,Math.tan(a(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=i.util.multiplyTransformMatrices;return e.angle&&(t=n(t,i.util.calcRotateMatrix(e))),(e.scaleX||e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,i.util.calcDimensionsMatrix(e))),t},customTransformMatrix:function(e,t,n){return i.util.composeMatrix({scaleX:e,scaleY:t,skewX:n})},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},getFunctionBody:function(e){return(String(e).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var i,o=!0,a=e.getImageData(t,n,2*r||1,2*r||1),s=a.data.length;for(i=3;i<s&&!1!==(o=a.data[i]<=0);i+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?i.charWidthsCache[e]&&delete i.charWidthsCache[e]:i.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return i.util.toFixed(e,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}}}(t),function(){var e=Array.prototype.join;function t(t,o,a,s,l,c,u){var d=e.call(arguments);if(i.arcToSegmentsCache[d])return i.arcToSegmentsCache[d];var h=Math.PI,p=u*h/180,f=i.util.sin(p),m=i.util.cos(p),g=0,v=0,_=-m*t*.5-f*o*.5,y=-m*o*.5+f*t*.5,b=(a=Math.abs(a))*a,C=(s=Math.abs(s))*s,w=y*y,S=_*_,x=b*C-b*w-C*S,k=0;if(x<0){var E=Math.sqrt(1-x/(b*C));a*=E,s*=E}else k=(l===c?-1:1)*Math.sqrt(x/(b*w+C*S));var T=k*a*y/s,j=-k*s*_/a,O=m*T-f*j+.5*t,P=f*T+m*j+.5*o,D=r(1,0,(_-T)/a,(y-j)/s),M=r((_-T)/a,(y-j)/s,(-_-T)/a,(-y-j)/s);0===c&&M>0?M-=2*h:1===c&&M<0&&(M+=2*h);for(var I=Math.ceil(Math.abs(M/h*2)),R=[],L=M/I,N=8/3*Math.sin(L/4)*Math.sin(L/4)/Math.sin(L/2),A=D+L,F=0;F<I;F++)R[F]=n(D,A,m,f,a,s,O,P,N,g,v),g=R[F][4],v=R[F][5],D=A,A+=L;return i.arcToSegmentsCache[d]=R,R}function n(e,t,n,r,o,a,s,l,c,u,d){var h=i.util.cos(e),p=i.util.sin(e),f=i.util.cos(t),m=i.util.sin(t),g=n*o*f-r*a*m+s,v=r*o*f+n*a*m+l;return[u+c*(-n*o*p-r*a*h),d+c*(-r*o*p+n*a*h),g+c*(n*o*m+r*a*f),v+c*(r*o*m-n*a*f),g,v]}function r(e,t,n,r){var i=Math.atan2(t,e),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function o(t,n,r,o,a,s,l,c){var u;if(i.cachesBoundsOfCurve&&(u=e.call(arguments),i.boundsOfCurveCache[u]))return i.boundsOfCurveCache[u];var d,h,p,f,m,g,v,_,y=Math.sqrt,b=Math.min,C=Math.max,w=Math.abs,S=[],x=[[],[]];h=6*t-12*r+6*a,d=-3*t+9*r-9*a+3*l,p=3*r-3*t;for(var k=0;k<2;++k)if(k>0&&(h=6*n-12*o+6*s,d=-3*n+9*o-9*s+3*c,p=3*o-3*n),w(d)<1e-12){if(w(h)<1e-12)continue;0<(f=-p/h)&&f<1&&S.push(f)}else(v=h*h-4*p*d)<0||(0<(m=(-h+(_=y(v)))/(2*d))&&m<1&&S.push(m),0<(g=(-h-_)/(2*d))&&g<1&&S.push(g));for(var E,T,j,O=S.length,P=O;O--;)E=(j=1-(f=S[O]))*j*j*t+3*j*j*f*r+3*j*f*f*a+f*f*f*l,x[0][O]=E,T=j*j*j*n+3*j*j*f*o+3*j*f*f*s+f*f*f*c,x[1][O]=T;x[0][P]=t,x[1][P]=n,x[0][P+1]=l,x[1][P+1]=c;var D=[{x:b.apply(null,x[0]),y:b.apply(null,x[1])},{x:C.apply(null,x[0]),y:C.apply(null,x[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[u]=D),D}i.util.drawArc=function(e,n,r,i){for(var o=i[0],a=i[1],s=i[2],l=i[3],c=i[4],u=[[],[],[],[]],d=t(i[5]-n,i[6]-r,o,a,l,c,s),h=0,p=d.length;h<p;h++)u[h][0]=d[h][0]+n,u[h][1]=d[h][1]+r,u[h][2]=d[h][2]+n,u[h][3]=d[h][3]+r,u[h][4]=d[h][4]+n,u[h][5]=d[h][5]+r,e.bezierCurveTo.apply(e,u[h])},i.util.getBoundsOfArc=function(e,n,r,i,a,s,l,c,u){for(var d,h=0,p=0,f=[],m=t(c-e,u-n,r,i,s,l,a),g=0,v=m.length;g<v;g++)d=o(h,p,m[g][0],m[g][1],m[g][2],m[g][3],m[g][4],m[g][5]),f.push({x:d[0].x+e,y:d[0].y+n}),f.push({x:d[1].x+e,y:d[1].y+n}),h=m[g][4],p=m[g][5];return f},i.util.getBoundsOfCurve=o}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,i=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],i)&&(i=e[r][t]);else for(;r--;)n(e[r],i)&&(i=e[r]);return i}}i.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],o=0,a=t.length;o<a;o++)i[o]=r.length?t[o][n].apply(t[o],r):t[o][n].call(t[o]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!i.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var o=0,a=n.length;o<a;o++)t[o]=e({},n[o],r)}else if(n&&"object"===typeof n)for(var s in n)"canvas"===s?t[s]=e({},n[s]):n.hasOwnProperty(s)&&(t[s]=e({},n[s],r));else t=n;else for(var s in n)t[s]=n[s];return t}i.util.object={extend:e,clone:function(t,n){return e({},t,n)}},i.util.object.extend(i.util,i.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,i=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var i in t)i in e.prototype&&"function"===typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?e.prototype[i]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):e.prototype[i]=t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function o(){}function a(t){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}i.util.createClass=function(){var n=null,i=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(n=i.shift()),s.superclass=n,s.subclasses=[],n&&(o.prototype=n.prototype,s.prototype=new o,n.subclasses.push(s));for(var l=0,c=i.length;l<c;l++)r(s,i[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),function(){var e=!!i.document.createElement("div").attachEvent;i.util.addListener=function(t,n,r,i){t&&t.addEventListener(n,r,!e&&i)},i.util.removeListener=function(t,n,r,i){t&&t.removeEventListener(n,r,!e&&i)},i.util.getPointer=function(e){var t=e.target,n=i.util.getScrollLeftTop(t),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:r.clientX+n.left,y:r.clientY+n.top}}}(),function(){var e=i.document.createElement("div"),t="string"===typeof e.style.opacity,n="string"===typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(e){return e};t?o=function(e,t){return e.style.opacity=t,e}:n&&(o=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(r,t)):n.filter+=" alpha(opacity="+100*t+")",e}),i.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"===typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?o(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t){if("opacity"===r)o(e,t[r]);else n["float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r]=t[r]}return e}}(),function(){var e=Array.prototype.slice;var t,n,r=function(t){return e.call(t,0)};try{t=r(i.document.childNodes)instanceof Array}catch(s){}function o(e,t){var n=i.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function a(e){for(var t=0,n=0,r=i.document.documentElement,o=i.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===i.document?(t=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(r=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(e,t){var n=i.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},function(){var e=i.document.documentElement.style,t="userSelect"in e?"userSelect":"MozUserSelect"in e?"MozUserSelect":"WebkitUserSelect"in e?"WebkitUserSelect":"KhtmlUserSelect"in e?"KhtmlUserSelect":"";i.util.makeElementUnselectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=i.util.falseFunction),t?e.style[t]="none":"string"===typeof e.unselectable&&(e.unselectable="on"),e},i.util.makeElementSelectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=null),t?e.style[t]="":"string"===typeof e.unselectable&&(e.unselectable=""),e}}(),i.util.getScript=function(e,t){var n=i.document.getElementsByTagName("head")[0],r=i.document.createElement("script"),o=!0;r.onload=r.onreadystatechange=function(e){if(o){if("string"===typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;o=!1,t(e||i.window.event),r=r.onload=r.onreadystatechange=null}},r.src=e,n.appendChild(r)},i.util.getById=function(e){return"string"===typeof e?i.document.getElementById(e):e},i.util.toArray=r,i.util.makeElement=o,i.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},i.util.wrapElement=function(e,t,n){return"string"===typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},i.util.getScrollLeftTop=a,i.util.getElementOffset=function(e){var t,r,i=e&&e.ownerDocument,o={left:0,top:0},s={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return s;for(var c in l)s[l[c]]+=parseInt(n(e,c),10)||0;return t=i.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),r=a(e),{left:o.left+r.left-(t.clientLeft||0)+s.left,top:o.top+r.top-(t.clientTop||0)+s.top}},i.util.getElementStyle=n,i.util.getNodeCanvas=function(e){var t=i.jsdomImplForWrapper(e);return t._canvas||t._image},i.util.cleanUpJsdomNode=function(e){if(i.isLikelyNode){var t=i.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}i.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},a=new i.window.XMLHttpRequest,s=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(o(a),a.onreadystatechange=e)},"GET"===r&&(s=null,"string"===typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(r,t,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),i.log=console.log,i.warn=console.warn,function(){function e(){return!1}function t(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}var n=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(e){return i.window.setTimeout(e,1e3/60)},r=i.window.cancelAnimationFrame||i.window.clearTimeout;function o(){return n.apply(i.window,arguments)}i.util.animate=function(n){o((function(r){n||(n={});var i,a=r||+new Date,s=n.duration||500,l=a+s,c=n.onChange||e,u=n.abort||e,d=n.onComplete||e,h=n.easing||t,p="startValue"in n?n.startValue:0,f="endValue"in n?n.endValue:100,m=n.byValue||f-p;n.onStart&&n.onStart(),function e(t){var n=(i=t||+new Date)>l?s:i-a,r=n/s,g=h(n,p,m,s),v=Math.abs((g-p)/m);if(!u())return i>l?(c(f,1,1),void d(f,1,1)):(c(g,v,r),void o(e));d(f,1,1)}(a)}))},i.util.requestAnimFrame=o,i.util.cancelAnimFrame=function(){return r.apply(i.window,arguments)}}(),i.util.animateColor=function(e,t,n,r){var o=new i.Color(e).getSource(),a=new i.Color(t).getSource();r=r||{},i.util.animate(i.util.object.extend(r,{duration:n||500,startValue:o,endValue:a,byValue:a,easing:function(e,t,n,i){return function(e,t,n){var r="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return r+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),r+=")"}(t,n,r.colorEasing?r.colorEasing(e,i):1-Math.cos(e/i*(Math.PI/2)))}}))},function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-r(i-e,0,n,i)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}i.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,i,o){var a=0;return 0===n?r:1===(n/=o)?r+i:(a||(a=.3*o),-t(e(i,i,a,1.70158),n,o)+r)},easeOutElastic:function(t,n,r,i){var o=0;if(0===t)return n;if(1===(t/=i))return n+r;o||(o=.3*i);var a=e(r,r,o,1.70158);return a.a*Math.pow(2,-10*t)*Math.sin((t*i-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,r,i,o){var a=0;if(0===n)return r;if(2===(n/=o/2))return r+i;a||(a=o*(.3*1.5));var s=e(i,i,a,1.70158);return n<1?-.5*t(s,n,o)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,i,o){return e<o/2?.5*n(2*e,0,i,o)+t:.5*r(2*e-o,0,i,o)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.parseUnit,a=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(e){return e in s?s[e]:e}function u(e,n,r,i){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n)if("vector-effect"===e)n="non-scaling-stroke"===n;else if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?a(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&"undefined"!==typeof r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=o(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e)return n;s=l?n.map(o):o(n,i)}else n="";return!l&&isNaN(s)?n:s}function d(e){return new RegExp("^("+e.join("|")+")\\b","i")}function h(e,t){var n,r,i,o,a=[];for(i=0,o=t.length;i<o;i++)n=t[i],r=e.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(r));return a}function p(e,t){var n,r=!0;return(n=f(e,t.pop()))&&t.length&&(r=function(e,t){var n,r=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),e=e.parentNode,r=f(e,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function f(e,t){var n,r,i=e.nodeName,o=e.getAttribute("class"),a=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),a&&t.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),o&&t.length)for(r=(o=o.split(" ")).length;r--;)n=new RegExp("\\."+o[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function m(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,i,o,a=e.getElementsByTagName("*");for(i=0,o=a.length;i<o;i++)if(t===(r=a[i]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=d(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=d(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=d(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=d(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,i="(?:\\s+,?\\s*|,\\s*)",o="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",a=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+i+"*"+o+")*)")+"?)\\s*$"),s=new RegExp(o,"g");return function(r){var i=n.concat(),l=[];if(!r||r&&!a.test(r))return i;r.replace(s,(function(r){var a=new RegExp(o).exec(r).filter((function(e){return!!e})),s=a[1],c=a.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),i=t.util.sin(n[0]),o=0,a=0;3===n.length&&(o=n[1],a=n[2]),e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=o-(r*o-i*a),e[5]=a-(i*o+r*a)}(i,c);break;case"scale":!function(e,t){var n=t[0],r=2===t.length?t[1]:t[0];e[0]=n,e[3]=r}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var g=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function v(e){var n,r,i,a,s,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,m=e.getAttribute("y")||0,v=e.getAttribute("preserveAspectRatio")||"",_=!c||!t.svgViewBoxElementsRegEx.test(e.nodeName)||!(c=c.match(g)),y=!h||!p||"100%"===h||"100%"===p,b=_&&y,C={},w="",S=0,x=0;if(C.width=0,C.height=0,C.toBeParsed=b,b)return C;if(_)return C.width=o(h),C.height=o(p),C;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),a=parseFloat(c[4]),C.minX=n,C.minY=r,C.viewBoxWidth=i,C.viewBoxHeight=a,y?(C.width=i,C.height=a):(C.width=o(h),C.height=o(p),u=C.width/i,d=C.height/a),"none"!==(v=t.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(d=u=u>d?d:u),"slice"===v.meetOrSlice&&(d=u=u>d?u:d),S=C.width-i*u,x=C.height-a*u,"Mid"===v.alignX&&(S/=2),"Mid"===v.alignY&&(x/=2),"Min"===v.alignX&&(S=0),"Min"===v.alignY&&(x=0)),1===u&&1===d&&0===n&&0===r&&0===f&&0===m)return C;if((f||m)&&(w=" translate("+o(f)+" "+o(m)+") "),s=w+" matrix("+u+" 0 0 "+d+" "+(n*u+S)+" "+(r*d+x)+") ",C.viewboxTransform=t.parseTransformAttribute(s),"svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else s=(l=e).getAttribute("transform")+s;return l.setAttribute("transform",s),C}function _(e,t){var n=m(e,t.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&_(e,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){n&&!t.hasAttribute(e)&&n.hasAttribute(e)&&t.setAttribute(e,n.getAttribute(e))})),!t.children.length)for(var r=n.cloneNode(!0);r.firstChild;)t.appendChild(r.firstChild);t.removeAttribute("xlink:href")}t.parseSVGDocument=function(e,n,i,o){if(e){!function(e){for(var n=h(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var i,o,a,s,l=n[r],c=(l.getAttribute("xlink:href")||l.getAttribute("href")).substr(1),u=l.getAttribute("x")||0,d=l.getAttribute("y")||0,p=m(e,c).cloneNode(!0),f=(p.getAttribute("transform")||"")+" translate("+u+", "+d+")",g=n.length,_=t.svgNS;if(v(p),/^svg$/i.test(p.nodeName)){var y=p.ownerDocument.createElementNS(_,"g");for(o=0,s=(a=p.attributes).length;o<s;o++)i=a.item(o),y.setAttributeNS(_,i.nodeName,i.nodeValue);for(;p.firstChild;)y.appendChild(p.firstChild);p=y}for(o=0,s=(a=l.attributes).length;o<s;o++)"x"!==(i=a.item(o)).nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&"href"!==i.nodeName&&("transform"===i.nodeName?f=i.nodeValue+" "+f:p.setAttribute(i.nodeName,i.nodeValue));p.setAttribute("transform",f),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),l.parentNode.replaceChild(p,l),n.length===g&&r++}}(e);var a,s,l=t.Object.__uid++,c=v(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(a=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)d[a]=u[a];u=d}var p=u.filter((function(e){return v(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!p||p&&!p.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(p,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),i,o)}}};var y=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(y);if(n){var r=n[1],i=n[3],a=n[4],s=n[5],l=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(t.fontSize=o(a)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=h(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&_(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,r,a){if(e){var s,d,h,f={};"undefined"===typeof a&&(a=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(f=t.parseAttributes(e.parentNode,r,a));var m=r.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),g=n(function(e,n){var r={};for(var i in t.cssRules[n])if(p(e,i.split(" ")))for(var o in t.cssRules[n][i])r[o]=t.cssRules[n][i][o];return r}(e,a),t.parseStyleAttribute(e));m=n(m,g),g["clip-path"]&&e.setAttribute("clip-path",g["clip-path"]),d=h=f.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,m["font-size"]&&(m["font-size"]=d=o(m["font-size"],h));var v,_,y={};for(var b in m)_=u(v=c(b),m[b],f,d),y[v]=_;y&&y.font&&t.parseFontDeclaration(y.font,y);var C=n(f,y);return t.svgValidParentsRegEx.test(e.nodeName)?C:function(e){for(var n in l)if("undefined"!==typeof e[l[n]]&&""!==e[n]){if("undefined"===typeof e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(i(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(C)}},parseElements:function(e,n,r,i,o){new t.ElementsParser(e,n,r,i,o).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"===typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),t[n]=r}))}(n,t):function(e,t){var n,r;for(var i in e)"undefined"!==typeof e[i]&&(n=i.toLowerCase(),r=e[i],t[n]=r)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,i=e.getElementsByTagName("style"),o={};for(n=0,r=i.length;n<r;n++){var a=i[n].textContent||i[n].text;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var i=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),a={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=s.length;n<r;n++){var l=s[n].split(/\s*:\s*/),c=l[0],u=l[1];a[c]=u}(e=i[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(o[e]?t.util.object.extend(o[e],a):o[e]=t.util.object.clone(a))}))}))}return o},loadSVGFromURL:function(e,n,r,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var o=e.responseXML;o&&!o.documentElement&&t.window.ActiveXObject&&e.responseText&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!o||!o.documentElement)return n&&n(null),!1;t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n&&n(e,t,r,i)}),r,i)}})},loadSVGFromString:function(e,n,r,i){var o;if(e=e.trim(),"undefined"!==typeof t.window.DOMParser){var a=new t.window.DOMParser;a&&a.parseFromString&&(o=a.parseFromString(e,"text/xml"))}else t.window.ActiveXObject&&((o=new ActiveXObject("Microsoft.XMLDOM")).async="false",o.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n(e,t,r,i)}),r,i)}})}(t),i.ElementsParser=function(e,t,n,r,i,o){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(r=i.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},r.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},r.findTag=function(e){return i[i.util.string.capitalize(e.tagName.replace("svg:",""))]},r.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(r){i.log(r)}else this.checkIfDone()},r.createCallback=function(e,t){var n=this;return function(r){var o;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof i.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(o),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},r.extractPropertyDefinition=function(e,t,n){var r=e[t],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var a=o.exec(r)[1];return o.lastIndex=0,i[n][this.svgUid][a]}},r.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var o=t.getAttribute(n+"-opacity"),a=i.Gradient.fromElement(r,e,o,this.options);e.set(n,a)}},r.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},r.resolveClipPath=function(e,t){var n,r,o,a,s=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(s){o=[],r=i.util.invertTransform(e.calcTransformMatrix());for(var l=s[0].parentNode,c=t;c.parentNode&&c.getAttribute("clip-path")!==e.clipPath;)c=c.parentNode;c.parentNode.appendChild(l);for(var u=0;u<s.length;u++)n=s[u],this.findTag(n).fromElement(n,this.createClipPathCallback(e,o),this.options);s=1===o.length?o[0]:new i.Group(o),a=i.util.multiplyTransformMatrices(r,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,c);var d=i.util.qrDecompose(a);s.flipX=!1,s.flipY=!1,s.set("scaleX",d.scaleX),s.set("scaleY",d.scaleY),s.angle=d.angle,s.skewX=d.skewX,s.skewY=0,s.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),e.clipPath=s}},r.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return"undefined"===typeof t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,i,o){var a,s=(o.x-i.x)*(e.y-i.y)-(o.y-i.y)*(e.x-i.x),l=(r.x-e.x)*(e.y-i.y)-(r.y-e.y)*(e.x-i.x),c=(o.y-i.y)*(r.x-e.x)-(o.x-i.x)*(r.y-e.y);if(0!==c){var u=s/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(a=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):a=new n}else a=new n(0===s||0===l?"Coincident":"Parallel");return a},t.Intersection.intersectLinePolygon=function(e,t,r){var i,o,a,s,l=new n,c=r.length;for(s=0;s<c;s++)i=r[s],o=r[(s+1)%c],a=n.intersectLineLine(e,t,i,o),l.appendPoints(a.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var r,i=new n,o=e.length;for(r=0;r<o;r++){var a=e[r],s=e[(r+1)%o],l=n.intersectLinePolygon(a,s,t);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,r,i){var o=r.min(i),a=r.max(i),s=new t.Point(a.x,o.y),l=new t.Point(o.x,a.y),c=n.intersectLinePolygon(o,s,e),u=n.intersectLinePolygon(s,a,e),d=n.intersectLinePolygon(a,l,e),h=n.intersectLinePolygon(l,o,e),p=new n;return p.appendPoints(c.points),p.appendPoints(u.points),p.appendPoints(d.points),p.appendPoints(h.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){e/=255,n/=255,r/=255;var i,o,a,s=t.util.array.max([e,n,r]),l=t.util.array.min([e,n,r]);if(a=(s+l)/2,s===l)i=o=0;else{var c=s-l;switch(o=a>.5?c/(2-s-l):c/(s+l),s){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],i=this.getAlpha(),o=this.getSource(),a=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*o[t]+.5*a[t]));return r[3]=i,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),o=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,o,a,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=o=a=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;i=r(d,u,s+1/3),o=r(d,u,s),a=r(d,u,s-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*a),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,i=8===t.length||4===t.length,o=r?t.charAt(0)+t.charAt(0):t.substring(0,2),a=r?t.charAt(1)+t.charAt(1):t.substring(2,4),s=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(){function e(e,t){var n,r,o,a,s=e.getAttribute("style"),l=e.getAttribute("offset")||0;if(l=(l=parseFloat(l)/(/%$/.test(l)?100:1))<0?0:l>1?1:l,s){var c=s.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),a=c.length;a--;){var u=c[a].split(/\s*:\s*/),d=u[0].trim(),h=u[1].trim();"stop-color"===d?n=h:"stop-opacity"===d&&(o=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),r=(n=new i.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*t,{offset:l,color:n.toRgb(),opacity:o}}var t=i.util.object.clone;function n(e,t,n,r){var i,o;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?o=1:"-Infinity"===i?o=0:(o=parseFloat(t[e],10),"string"===typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(o*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(o*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(o*=n.viewBoxHeight||n.height)))),t[e]=o}))}i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new i.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,o,a,s,l=t(this.coords,!0),c=(n=n||{},t(this.colorStops,!0)),u=l.r1>l.r2,d=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),h=-this.offsetX,p=-this.offsetY,f=!!n.additionalTransform,m="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===m?(h/=e.width,p/=e.height):(h+=e.width/2,p+=e.height/2),"path"===e.type&&(h-=e.pathOffset.x,p-=e.pathOffset.y),d[4]-=h,d[5]-=p,s='id="SVGID_'+this.id+'" gradientUnits="'+m+'"',s+=' gradientTransform="'+(f?n.additionalTransform+" ":"")+i.util.matrixToSVG(d)+'" ',"linear"===this.type?a=["<linearGradient ",s,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",s,' cx="',u?l.x1:l.x2,'" cy="',u?l.y1:l.y2,'" r="',u?l.r1:l.r2,'" fx="',u?l.x2:l.x1,'" fy="',u?l.y2:l.y1,'">\n']),"radial"===this.type){if(u)for((c=c.concat()).reverse(),r=0,o=c.length;r<o;r++)c[r].offset=1-c[r].offset;var g=Math.min(l.r1,l.r2);if(g>0){var v=g/Math.max(l.r1,l.r2);for(r=0,o=c.length;r<o;r++)c[r].offset+=v*(1-c[r].offset)}}for(r=0,o=c.length;r<o;r++){var _=c[r];a.push("<stop ",'offset="',100*_.offset+"%",'" style="stop-color:',_.color,"undefined"!==typeof _.opacity?";stop-opacity: "+_.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e){var t,n,r,o=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(t=e.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,s=this.colorStops[n].opacity,l=this.colorStops[n].offset;"undefined"!==typeof s&&(a=new i.Color(a).setAlpha(s).toRgba()),t.addColorStop(l,a)}return t}}}),i.util.object.extend(i.Gradient,{fromElement:function(t,r,o,a){var s=parseFloat(o)/(/%$/.test(o)?100:1);s=s<0?0:s>1?1:s,isNaN(s)&&(s=1);var l,c,u,d,h=t.getElementsByTagName("stop"),p="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",f=t.getAttribute("gradientTransform")||"",m=[],g=0,v=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(l="linear",c=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(l="radial",c=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),u=h.length;u--;)m.push(e(h[u],s));return d=i.parseTransformAttribute(f),n(r,c,a,p),"pixels"===p&&(g=-r.left,v=-r.top),new i.Gradient({id:t.getAttribute("id"),type:l,coords:c,colorStops:m,gradientUnits:p,gradientTransform:d,offsetX:g,offsetY:v})},forObject:function(e,t){return t||(t={}),n(e,t.coords,t.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new i.Gradient(t)}})}(),function(){"use strict";var e=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=i.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!==typeof e.source)t&&t(this);else if("undefined"!==typeof i.util.getFunctionBody(e.source))this.source=new Function(i.util.getFunctionBody(e.source)),t&&t(this);else{var n=this;this.source=i.util.createImage(),i.util.loadImage(e.source,(function(e){n.source=e,t&&t(n)}),null,this.crossOrigin)}},toObject:function(t){var n,r,o=i.Object.NUM_FRACTION_DIGITS;return"function"===typeof this.source?n=String(this.source):"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,o),offsetY:e(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"===typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,i=this.offsetX/e.width,o=this.offsetY/e.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,o&&(r+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?a=t.src:t.toDataURL&&(a=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t="function"===typeof this.source?this.source():this.source;if(!t)return"";if("undefined"!==typeof t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"===typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,i=40,o=t.Object.NUM_FRACTION_DIGITS,a=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(a.x)+this.blur)/e.width,o)+20,i=100*n((Math.abs(a.y)+this.blur)/e.height,o)+20),e.flipX&&(a.x*=-1),e.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var e=i.util.object.extend,t=i.util.getElementOffset,n=i.util.removeFromArray,r=i.util.toFixed,o=i.util.transformPoint,a=i.util.invertTransform,s=i.util.getNodeCanvas,l=i.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==i.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?i.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=i.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},_setImageSmoothing:function(){var e=this.getContext();e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(e,t,n,r){return"string"===typeof t?i.util.loadImage(t,(function(t){if(t){var o=new i.Image(t,r);this[e]=o,o.canvas=this}n&&n(t)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=l();if(!e)throw c;if(e.style||(e.style={}),"undefined"===typeof e.getContext)throw c;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=i.util.getById(e)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,i=this._activeObject;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!1,!0);return i&&"activeSelection"===i.type&&i.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=o(e,a(this.viewportTransform)),r[0]=t,r[3]=t;var i=o(e,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new i.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new i.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=a(this.viewportTransform);return e.tl=o({x:0,y:0},r),e.br=o({x:t,y:n},r),e.tr=new i.Point(e.br.x,e.tl.y),e.bl=new i.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),this.fire("before:render",{ctx:e}),this.clipTo&&i.util.clipContext(this,e),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.clipTo&&e.restore(),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],i=this.viewportTransform,o=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.fill(),e.restore()}r&&(e.save(),o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new i.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new i.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new i.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=a(this.viewportTransform);return o({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,o={version:i.version,objects:this._toObjects(t,n)};return r&&(o.clipPath=this._toObject(this.clipPath,t,n)),e(o,this.__serializeBgOverlay(t,n)),i.util.populateWithProperties(this,o,n),o},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),i},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,i=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,o=t.width||this.width,a=t.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',l=i.Object.NUM_FRACTION_DIGITS;t.viewBox?s='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+r(-n[4]/n[0],l)+" "+r(-n[5]/n[3],l)+" "+r(this.width/n[0],l)+" "+r(this.height/n[3],l)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',a,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],o=e.viewportTransform,a={width:e.width/(r?o[0]:1),height:e.height/(r?o[3]:1)};return n.toSVG(a,{additionalTransform:r?i.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,o,a,s,l,c="",u={},d=i.fontPaths,h=this._objects;for(s=0,l=h.length;s<l;s++)if(t=(e=h[s]).fontFamily,-1!==e.type.indexOf("text")&&!u[t]&&d[t]&&(u[t]=!0,e.styles))for(o in n=e.styles)for(a in r=n[o])!u[t=r[a].fontFamily]&&d[t]&&(u[t]=!0);for(var p in u)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",p,"';\n","\t\t\tsrc: url('",d[p],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(e,t){var n,r,i,o=this._objects;for(r=0,i=o.length;r<i;r++)(n=o[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.viewportTransform,o=this.width,a=this.height;if(n)if(n.toLive){var s=n.repeat,l=i.util.invertTransform(r),c=this[t+"Vpt"]?i.util.matrixToSVG(l):"";e.push('<rect transform="'+c+" translate(",o/2,",",a/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:o,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(t=(i=o._objects).length;t--;)r=i[t],n(this._objects,r),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(i=o._objects,t=0;t<i.length;t++)r=i[t],n(this._objects,r),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,i,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,r=0;r<s.length;r++)i=s[r],(o=this._objects.indexOf(i))>0+c&&(a=o-1,n(this._objects,i),this._objects.splice(a,0,i)),c++;else 0!==(o=this._objects.indexOf(e))&&(a=this._findNewLowerIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,i;if(n)for(r=t,i=t-1;i>=0;--i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,i,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(s=l._objects).length;r--;)i=s[r],(o=this._objects.indexOf(i))<this._objects.length-1-c&&(a=o+1,n(this._objects,i),this._objects.splice(a,0,i)),c++;else(o=this._objects.indexOf(e))!==this._objects.length-1&&(a=this._findNewUpperIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,i,o;if(n)for(r=t,i=t+1,o=this._objects.length;i<o;++i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(i.StaticCanvas.prototype,i.Observable),e(i.StaticCanvas.prototype,i.Collection),e(i.StaticCanvas.prototype,i.DataURLExporter),e(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=l();if(!t||!t.getContext)return null;var n=t.getContext("2d");if(!n)return null;switch(e){case"setLineDash":return"undefined"!==typeof n.setLineDash;default:return null}}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var e=s(this.lowerCanvasEl);return e&&e.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(e){var t=s(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(e){return this.shadow=new i.Shadow(e),this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,i.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=i.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new i.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}}),i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new i.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this._points.push(e),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new i.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,r=this._points[0],o=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var a=this.width/1e3;r=new i.Point(r.x,r.y),o=new i.Point(o.x,o.y),r.x-=a,o.x+=a}for(n.moveTo(r.x,r.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,r,o),r=this._points[e],o=this._points[e+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],r=this.width/1e3,o=new i.Point(e[0].x,e[0].y),a=new i.Point(e[1].x,e[1].y),s=e.length,l=1,c=0,u=s>2;for(u&&(l=e[2].x<a.x?-1:e[2].x===a.x?0:1,c=e[2].y<a.y?-1:e[2].y===a.y?0:1),n.push("M ",o.x-l*r," ",o.y-c*r," "),t=1;t<s;t++){if(!o.eq(a)){var d=o.midPointFrom(a);n.push("Q ",o.x," ",o.y," ",d.x," ",d.y," ")}o=e[t],t+1<e.length&&(a=e[t+1])}return u&&(l=o.x>e[t-2].x?1:o.x===e[t-2].x?0:-1,c=o.y>e[t-2].y?1:o.y===e[t-2].y?0:-1),n.push("L ",o.x+l*r," ",o.y+c*r),n},createPath:function(e){var t=new i.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.setShadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),o=Math.pow(t/r,2),a=e.length-1,s=e[0],l=[s];for(n=1;n<a;n++)Math.pow(s.x-e[n].x,2)+Math.pow(s.y-e[n].y,2)>=o&&(s=e[n],l.push(s));return 1===l.length&&l.push(new i.Point(l[0].x,l[0].y)),l},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e)},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var o=this.points[e],a=new i.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&a.setShadow(this.shadow),r.push(a)}var s=new i.Group(r);s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new i.Point(e.x,e.y),n=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],a=0,s=o.length;a<s;a++){var l=new i.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(l)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var c=new i.Group(t);this.shadow&&c.setShadow(this.shadow),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var o=[];for(t in i)o.push(i[t]);return o},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var i=e[t];"undefined"!==typeof i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,o,a=this.width/2;for(o=0;o<this.density;o++){t=i.util.getRandomInt(e.x-a,e.x+a),n=i.util.getRandomInt(e.y-a,e.y+a),r=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new i.Point(t,n);s.width=r,this.randomOpacity&&(s.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var e=i.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=i.util.getPointer,t=i.util.degreesToRadians,n=i.util.radiansToDegrees,r=Math.atan2,o=Math.abs,a=i.StaticCanvas.supports("setLineDash");for(var s in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,o=this._objects.length;i<o;i++)e=this._objects[i],-1===r.indexOf(e)?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_resetCurrentTransform:function(){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,skewX:e.original.skewX,skewY:e.original.skewY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(e.target)?("center"!==e.originX&&("right"===e.originX?e.mouseXSign=-1:e.mouseXSign=1),"center"!==e.originY&&("bottom"===e.originY?e.mouseYSign=-1:e.mouseYSign=1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(e,t,n){var r,i=n||this.getPointer(e,!0);return r=t.group&&t.group===this._activeObject&&"activeSelection"===t.group.type?this._normalizePointer(t.group,i):{x:i.x,y:i.y},t.containsPoint(r)||t._findTargetCorner(i)},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=i.util.invertTransform(n),o=this.restorePointerVpt(t);return i.util.transformPoint(o,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),o=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return i.util.isTransparent(e._cacheContext,Math.round(o),Math.round(a),this.targetFindTolerance)}var s=this.contextCache,l=e.selectionBackgroundColor,c=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.render(s),s.restore(),e===this._activeObject&&e._renderControls(s,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),e.selectionBackgroundColor=l,i.util.isTransparent(s,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e){if(e){var t,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?t=this.centeredScaling||e.centeredScaling:"rotate"===n.action&&(t=this.centeredRotation||e.centeredRotation),t?!n.altKey:n.altKey}},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n){if(!t||!e)return"drag";switch(t){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(e,n,r){if(n){var o=this.getPointer(e),a=n._findTargetCorner(this.getPointer(e,!0)),s=this._getActionFromCorner(r,a,e,n),l=this._getOriginFromCorner(n,a);this._currentTransform={target:n,action:s,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:l.x,originY:l.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:t(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:e.shiftKey,altKey:e[this.centeredKey],original:i.util.saveObjectTransform(n)},this._currentTransform.original.originX=l.x,this._currentTransform.original.originY=l.y,this._resetCurrentTransform(),this._beforeTransform(e)}},_translateObject:function(e,t){var n=this._currentTransform,r=n.target,i=e-n.offsetX,o=t-n.offsetY,a=!r.get("lockMovementX")&&r.left!==i,s=!r.get("lockMovementY")&&r.top!==o;return a&&r.set("left",i),s&&r.set("top",o),a||s},_changeSkewTransformOrigin:function(e,t,n){var r="originX",i={0:"center"},o=t.target.skewX,a="left",s="right",l="mt"===t.corner||"ml"===t.corner?1:-1,c=1;e=e>0?1:-1,"y"===n&&(o=t.target.skewY,a="top",s="bottom",r="originY"),i[-1]=a,i[1]=s,t.target.flipX&&(c*=-1),t.target.flipY&&(c*=-1),0===o?(t.skewSign=-l*e*c,t[r]=i[-e]):(o=o>0?1:-1,t.skewSign=o,t[r]=i[o*l*c])},_skewObject:function(e,t,n){var r,o=this._currentTransform,a=o.target,s=a.get("lockSkewingX"),l=a.get("lockSkewingY");if(s&&"x"===n||l&&"y"===n)return!1;var c,u,d=a.getCenterPoint(),h=a.toLocalPoint(new i.Point(e,t),"center","center")[n],p=a.toLocalPoint(new i.Point(o.lastX,o.lastY),"center","center")[n],f=a._getTransformedDimensions();return this._changeSkewTransformOrigin(h-p,o,n),c=a.toLocalPoint(new i.Point(e,t),o.originX,o.originY)[n],u=a.translateToOriginPoint(d,o.originX,o.originY),r=this._setObjectSkew(c,o,n,f),o.lastX=e,o.lastY=t,a.setPositionByOrigin(u,o.originX,o.originY),r},_setObjectSkew:function(e,t,n,r){var o,a,s,l,c,u,d,h,p,f,m=t.target,g=t.skewSign;return"x"===n?(c="y",u="Y",d="X",p=0,f=m.skewY):(c="x",u="X",d="Y",p=m.skewX,f=0),l=m._getTransformedDimensions(p,f),(h=2*Math.abs(e)-l[n])<=2?o=0:(o=g*Math.atan(h/m["scale"+d]/(l[c]/m["scale"+u])),o=i.util.radiansToDegrees(o)),a=m["skew"+d]!==o,m.set("skew"+d,o),0!==m["skew"+u]&&(s=m._getTransformedDimensions(),o=r[c]/s[c]*m["scale"+u],m.set("scale"+u,o)),a},_scaleObject:function(e,t,n){var r=this._currentTransform,o=r.target,a=o.lockScalingX,s=o.lockScalingY,l=o.lockScalingFlip;if(a&&s)return!1;var c,u=o.translateToOriginPoint(o.getCenterPoint(),r.originX,r.originY),d=o.toLocalPoint(new i.Point(e,t),r.originX,r.originY),h=o._getTransformedDimensions();return this._setLocalMouse(d,r),c=this._setObjectScale(d,r,a,s,n,l,h),o.setPositionByOrigin(u,r.originX,r.originY),c},_setObjectScale:function(e,t,n,r,o,a,s){var l=t.target,c=!1,u=!1,d=!1,h=e.x*l.scaleX/s.x,p=e.y*l.scaleY/s.y,f=l.scaleX!==h,m=l.scaleY!==p;if(t.newScaleX=h,t.newScaleY=p,i.Textbox&&"x"===o&&l instanceof i.Textbox){var g=l.width*(e.x/s.x);return g>=l.getMinWidth()&&(d=g!==l.width,l.set("width",g),d)}return a&&h<=0&&h<l.scaleX&&(c=!0,e.x=0),a&&p<=0&&p<l.scaleY&&(u=!0,e.y=0),"equally"!==o||n||r?o?"x"!==o||l.get("lockUniScaling")?"y"!==o||l.get("lockUniScaling")||u||r||l.set("scaleY",p)&&(d=m):c||n||l.set("scaleX",h)&&(d=f):(c||n||l.set("scaleX",h)&&(d=d||f),u||r||l.set("scaleY",p)&&(d=d||m)):d=this._scaleObjectEqually(e,l,t,s),c||u||this._flipObject(t,o),d},_scaleObjectEqually:function(e,t,n,r){var i,o,a,s=e.y+e.x,l=r.y*n.original.scaleY/t.scaleY+r.x*n.original.scaleX/t.scaleX,c=e.x<0?-1:1,u=e.y<0?-1:1;return o=c*Math.abs(n.original.scaleX*s/l),a=u*Math.abs(n.original.scaleY*s/l),i=o!==t.scaleX||a!==t.scaleY,t.set("scaleX",o),t.set("scaleY",a),i},_flipObject:function(e,t){e.newScaleX<0&&"y"!==t&&("left"===e.originX?e.originX="right":"right"===e.originX&&(e.originX="left")),e.newScaleY<0&&"x"!==t&&("top"===e.originY?e.originY="bottom":"bottom"===e.originY&&(e.originY="top"))},_setLocalMouse:function(e,t){var n=t.target,r=this.getZoom(),i=n.padding/r;"right"===t.originX?e.x*=-1:"center"===t.originX&&(e.x*=2*t.mouseXSign,e.x<0&&(t.mouseXSign=-t.mouseXSign)),"bottom"===t.originY?e.y*=-1:"center"===t.originY&&(e.y*=2*t.mouseYSign,e.y<0&&(t.mouseYSign=-t.mouseYSign)),o(e.x)>i?e.x<0?e.x+=i:e.x-=i:e.x=0,o(e.y)>i?e.y<0?e.y+=i:e.y-=i:e.y=0},_rotateObject:function(e,t){var i=this._currentTransform,o=i.target,a=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY);if(o.lockRotation)return!1;var s=r(i.ey-a.y,i.ex-a.x),l=r(t-a.y,e-a.x),c=n(l-s+i.theta),u=!0;if(o.snapAngle>0){var d=o.snapAngle,h=o.snapThreshold||d,p=Math.ceil(c/d)*d,f=Math.floor(c/d)*d;Math.abs(c-f)<h?c=f:Math.abs(c-p)<h&&(c=p)}return c<0&&(c=360+c),c%=360,o.angle===c?u=!1:(o.angle=c,o.setPositionByOrigin(a,i.originX,i.originY)),u},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=t.left,r=t.top,s=o(n),l=o(r);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(n>0?0:-n),t.ey-(r>0?0:-r),s,l)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!a){var c=t.ex+.5-(n>0?0:s),u=t.ey+.5-(r>0?0:l);e.beginPath(),i.util.drawDashedLine(e,c,u,c+s,u,this.selectionDashArray),i.util.drawDashedLine(e,c,u+l-1,c+s,u+l-1,this.selectionDashArray),i.util.drawDashedLine(e,c,u,c,u+l,this.selectionDashArray),i.util.drawDashedLine(e,c+s-1,u,c+s-1,u+l,this.selectionDashArray),e.closePath(),e.stroke()}else i.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+.5-(n>0?0:s),t.ey+.5-(r>0?0:l),s,l)},findTarget:function(e,t){if(!this.skipTargetFind){var n,r,i=this.getPointer(e,!0),o=this._activeObject,a=this.getActiveObjects();if(this.targets=[],a.length>1&&!t&&o===this._searchPossibleTargets([o],i))return o;if(1===a.length&&o._findTargetCorner(i))return o;if(1===a.length&&o===this._searchPossibleTargets([o],i)){if(!this.preserveObjectStacking)return o;n=o,r=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,i);return e[this.altSelectionKey]&&s&&n&&s!==n&&(s=n,this.targets=r),s}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&this.containsPoint(null,t,e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,o=e.length;o--;){var a=e[o],s=a.group&&"activeSelection"!==a.group.type?this._normalizePointer(a.group,t):t;if(this._checkTarget(s,a,t)){(n=e[o]).subTargetCheck&&n instanceof i.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return i.util.transformPoint(e,i.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=e(t),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,l=a.height||0;s&&l||("top"in a&&"bottom"in a&&(l=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),r=0===s||0===l?{width:1,height:1}:{width:o.width/s,height:o.height/l},{x:i.x*r.width,y:i.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),i.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;i.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,i.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),i=[],o=[],a={e:t};e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",a),o.push(e))})),r.forEach((function(t){-1===e.indexOf(t)&&(n=!0,t.fire("selected",a),i.push(t))})),e.length>0&&r.length>0?(a.selected=i,a.deselected=o,a.updated=i[0]||o[0],a.target=this._activeObject,n&&this.fire("selection:updated",a)):r.length>0?(1===r.length&&(a.target=i[0],this.fire("object:selected",a)),a.selected=i,a.target=this._activeObject,this.fire("selection:created",a)):e.length>0&&(a.deselected=o,this.fire("selection:cleared",a))},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),this._activeObject.realizeTransform(e),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),i.StaticCanvas)"prototype"!==s&&(i.Canvas[s]=i.StaticCanvas[s])}(),function(){var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},t=i.util.addListener,n=i.util.removeListener,r={passive:!1};function o(e,t){return e.button&&e.button===t-1}i.util.object.extend(i.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var n=this.upperCanvasEl,o=this._getEventPrefix();e(i.window,"resize",this._onResize),e(n,o+"down",this._onMouseDown),e(n,o+"move",this._onMouseMove,r),e(n,o+"out",this._onMouseOut),e(n,o+"enter",this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,r),"undefined"!==typeof eventjs&&t in eventjs&&(eventjs[t](n,"gesture",this._onGesture),eventjs[t](n,"drag",this._onDrag),eventjs[t](n,"orientation",this._onOrientationChange),eventjs[t](n,"shake",this._onShake),eventjs[t](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var e=this._getEventPrefix();n(i.document,e+"up",this._onMouseUp),n(i.document,"touchend",this._onTouchEnd,r),n(i.document,e+"move",this._onMouseMove,r),n(i.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this.currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(e){e.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,r),t(i.document,"touchmove",this._onMouseMove,r),n(o,a+"down",this._onMouseDown)},_onMouseDown:function(e){this.__onMouseDown(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();n(o,a+"move",this._onMouseMove,r),t(i.document,a+"up",this._onMouseUp),t(i.document,a+"move",this._onMouseMove,r)},_onTouchEnd:function(e){if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();n(i.document,"touchend",this._onTouchEnd,r),n(i.document,"touchmove",this._onMouseMove,r);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,o+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(e){this.__onMouseUp(e),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(e)&&(n(i.document,a+"up",this._onMouseUp),n(i.document,a+"move",this._onMouseMove,r),t(o,a+"move",this._onMouseMove,r))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!==!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,r=this._groupSelector,i=!1,a=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),!o(e,3))return o(e,2)?(this.fireMiddleClick&&this._handleEvent(e,"up",2,a),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(e):this._isMainEvent(e)&&(n&&(this._finalizeCurrentTransform(e),i=n.actionPerformed),a||(this._maybeGroupObjects(e),i||(i=this._shouldRender(t))),t&&(t.isMoving=!1),this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,a),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),i?this.requestRenderAll():a||this.renderTop()));this.fireRightClick&&this._handleEvent(e,"up",3,a)},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,i={e:t,target:n,subTargets:r};if(this.fire(e,i),n&&n.fire(e,i),!r)return n;for(var o=0;o<r.length;o++)r[o].fire(e,i);return n},_handleEvent:function(e,t,n,r){var i=this._target,o=this.targets||[],a={e:e,target:i,subTargets:o,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+t,a),i&&i.fire("mouse"+t,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+t,a)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,r=n.target,i={e:e,target:r,transform:n};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(i,n),this._fire(t,i)),this._fire("modified",i))},_addEventOptions:function(e,t){var n,r;switch(t.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=r,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll(),this.clipTo&&i.util.clipContext(this,this.contextTop);var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){this.clipTo&&this.contextTop.restore();var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(o(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(o(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var r=this._shouldRender(t),i=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):i&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var a=t===this._activeObject;t.selectable&&this.setActiveObject(t,e),t!==this._activeObject||!t.__corner&&i||this._setupCurrentTransform(e,t,a)}this._handleEvent(e,"down"),(r||i)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t}),t.corner&&this.onBeforeScaleRotate(t.target)},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(n=this._pointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],t,{oldTarget:r[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],t,{oldTarget:r[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,i,o,a=n.oldTarget,s=a!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(r={e:t,target:e,previousTarget:a},i={e:t,target:a,nextTarget:e}),o=e&&s,a&&s&&(c&&this.fire(c,i),a.fire(n.evtOut,i)),o&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._beforeScaleTransform(e,n),this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,i=n.y,o=t.action,a=!1,s={target:t.target,e:e,transform:t,pointer:n};"rotate"===o?(a=this._rotateObject(r,i))&&this._fire("rotating",s):"scale"===o?(a=this._onScale(e,t,r,i))&&this._fire("scaling",s):"scaleX"===o?(a=this._scaleObject(r,i,"x"))&&this._fire("scaling",s):"scaleY"===o?(a=this._scaleObject(r,i,"y"))&&this._fire("scaling",s):"skewX"===o?(a=this._skewObject(r,i,"x"))&&this._fire("skewing",s):"skewY"===o?(a=this._skewObject(r,i,"y"))&&this._fire("skewing",s):(a=this._translateObject(r,i))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a},_fire:function(e,t){this.fire("object:"+e,t),t.target.fire(e,t)},_beforeScaleTransform:function(e,t){if("scale"===t.action||"scaleX"===t.action||"scaleY"===t.action){var n=this._shouldCenterTransform(t.target);(n&&("center"!==t.originX||"center"!==t.originY)||!n&&"center"===t.originX&&"center"===t.originY)&&(this._resetCurrentTransform(),t.reset=!0)}},_onScale:function(e,t,n,r){return this._isUniscalePossible(e,t.target)?(t.currentAction="scale",this._scaleObject(n,r)):(t.reset||"scale"!==t.currentAction||this._resetCurrentTransform(),t.currentAction="scaleEqually",this._scaleObject(n,r,"equally"))},_isUniscalePossible:function(e,t){return(e[this.uniScaleKey]||this.uniScaleTransform)&&!t.get("lockUniScaling")},_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,n,r){return this.actionIsDisabled(t,n,r)?this.notAllowedCursor:t in e?this._getRotatedCornerCursor(t,n,r):"mtr"===t&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(e,t,n){return"mt"===e||"mb"===e?n[this.altActionKey]?t.lockSkewingX:t.lockScalingY:"ml"===e||"mr"===e?n[this.altActionKey]?t.lockSkewingY:t.lockScalingX:"mtr"===e?t.lockRotation:this._isUniscalePossible(n,t)?t.lockScalingX&&t.lockScalingY:t.lockScalingX||t.lockScalingY},_getRotatedCornerCursor:function(t,n,r){var i=Math.round(n.angle%360/45);return i<0&&(i+=8),i+=e[t],r[this.altActionKey]&&e[t]%2===0&&(i+=2),i%=8,this.cursorMap[i]}})}(),function(){var e=Math.min,t=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new i.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(n){for(var r,o=[],a=this._groupSelector.ex,s=this._groupSelector.ey,l=a+this._groupSelector.left,c=s+this._groupSelector.top,u=new i.Point(e(a,l),e(s,c)),d=new i.Point(t(a,l),t(s,c)),h=!this.selectionFullyContained,p=a===l&&s===c,f=this._objects.length;f--&&!((r=this._objects[f])&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(u,d)||r.isContainedWithinRect(u,d)||h&&r.containsPoint(u)||h&&r.containsPoint(d))&&(o.push(r),p)););return o.length>1&&(o=o.filter((function(e){return!e.onSelect({e:n})}))),o},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,e);return i.util.toDataURL(o,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,r=(t.height||this.height)*e,o=this.getZoom(),a=this.width,s=this.height,l=o*e,c=this.viewportTransform,u=(c[4]-(t.left||0))*e,d=(c[5]-(t.top||0))*e,h=this.interactive,p=[l,0,0,l,u,d],f=this.enableRetinaScaling,m=i.util.createCanvasElement(),g=this.contextTop;return m.width=n,m.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=p,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),this._objects),this.viewportTransform=c,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=f,this.contextTop=g,m}}),i.util.object.extend(i.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t,n){return this.loadFromJSON(e,t,n)},loadFromJSON:function(e,t,n){if(e){var r="string"===typeof e?JSON.parse(e):i.util.object.clone(e),o=this,a=r.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){o.clear(),o._setBgOverlay(r,(function(){a?o._enlivenObjects([a],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,e,s,t)})):o.__setupCanvas.call(o,r,e,s,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var o=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?i.util.enlivenObjects([t],(function(t){o[e]=t[0],n[e]=!0,r&&r()})):this["set"+i.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=i.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new i.Canvas(t);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.string.capitalize,a=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash"),l=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,i=e.height,o=t.maxCacheSideLimit,a=t.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=n)return r<a&&(e.width=a),i<a&&(e.height=a),e;var s=r/i,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,u=c(a,l.x,o),d=c(a,l.y,o);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),i>d&&(e.zoomY/=i/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,r=e._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var i,o,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,u=s.height,d=s.zoomX,h=s.zoomY,p=c!==this.cacheWidth||u!==this.cacheHeight,f=this.zoomX!==d||this.zoomY!==h,m=p||f,g=0,v=0,_=!1;if(p){var y=this._cacheCanvas.width,b=this._cacheCanvas.height,C=c>y||u>b;_=C||(c<.9*y||u<.9*b)&&y>l&&b>l,C&&!s.capped&&(c>l||u>l)&&(g=.1*c,v=.1*u)}return!!m&&(_?(a.width=Math.ceil(c+g),a.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),i=s.x/2,o=s.y/2,this.cacheTranslationX=Math.round(a.width/2-i)+i,this.cacheTranslationY=Math.round(a.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initClipping(e),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t;t=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){var e=this.scaleX,t=this.scaleY;if(this.group){var n=this.group.getObjectScaling();e*=n.scaleX,t*=n.scaleY}return{scaleX:e,scaleY:t}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=r*i,n*=r*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r="scaleX"===e||"scaleY"===e,i=this[e]!==n,o=!1;return r&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,i&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this.clipTo&&t.util.clipContext(this,e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&e.restore(),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):(this._renderBackground(e),this._setStrokeStyles(e,this),this._setFillStyles(e,this)),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=r},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){t.stroke&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,e.strokeStyle=t.stroke.toLive?t.stroke.toLive(e,this):t.stroke)},_setFillStyles:function(e,t){t.fill&&(e.fillStyle=t.fill.toLive?t.fill.toLive(e,this):t.fill)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var r,i,o,s=this.getViewportTransform(),l=this.calcTransformMatrix();i="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(a(r.angle)),i&&this.drawBordersInGroup(e,r,n)):(e.rotate(a(this.angle)),i&&this.drawBorders(e,n)),o&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,i=this.canvas,o=i&&i.viewportTransform[0]||1,a=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(o*=t.devicePixelRatio,a*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(o+a)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*o*n.scaleX,e.shadowOffsetY=r.offsetY*a*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._applyPatternGradientTransform(e,this.fill),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(e,this.stroke):this._applyPatternGradientTransform(e,this.stroke),e.stroke(),e.restore())},_applyPatternForTransformedGradient:function(e,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),o=t.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=i.x/this.scaleX/a,l=i.y/this.scaleY/a;o.width=s,o.height=l,(r=o.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,l),r.lineTo(0,l),r.closePath(),r.translate(s/2,l/2),r.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),e.strokeStyle=r.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),i=this.group,o=this.shadow,a=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u=t.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),h=this.shadow,p={x:0,y:0};h&&(c=h.blur,l=h.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(a(h.offsetX)+c)*a(l.scaleX),p.y=2*Math.round(a(h.offsetY)+c)*a(l.scaleY)),u.width=d.width+p.x,u.height=d.height+p.y,u.width+=u.width%2?2-u.width%2:0,u.height+=u.height%2?2-u.height%2:0;var f=new t.StaticCanvas(u,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(f.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(f.width/2,f.height/2),"center","center");var m=this.canvas;f.add(this);var g=f.toCanvasElement(s||1,e);return this.shadow=o,this.canvas=m,i&&(this.group=i),this.set(r).setCoords(),f._objects=[],f.dispose(),f=null,g},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},setGradient:function(e,n){n||(n={});var r={colorStops:[]};return r.type=n.type||(n.r1||n.r2?"radial":"linear"),r.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r.gradientUnits=n.gradientUnits||"pixels",(n.r1||n.r2)&&(r.coords.r1=n.r1,r.coords.r2=n.r2),r.gradientTransform=n.gradientTransform,t.Gradient.prototype.addColorStop.call(r,n.colorStops),this.set(e,t.Gradient.forObject(this,r))},setPatternFill:function(e,n){return this.set("fill",new t.Pattern(e,n))},setShadow:function(e){return this.set("shadow",e?new t.Shadow(e):null)},setColor:function(e){return this.set("fill",e),this},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,i,a(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,i,o){var a=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){"undefined"!==typeof e[0]&&(n.fill=e[0]),"undefined"!==typeof e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=o?new a(n[o],n):new a(n);i&&i(t)}))}))},t.Object.__uid=0)}(t),function(){var e=i.util.degreesToRadians,t={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(e,r,o,a,s){var l,c,u,d=e.x,h=e.y;return"string"===typeof r?r=t[r]:r-=.5,"string"===typeof a?a=t[a]:a-=.5,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof s?s=n[s]:s-=.5,c=s-o,((l=a-r)||c)&&(u=this._getTransformedDimensions(),d=e.x+l*u.x,h=e.y+c*u.y),new i.Point(d,h)},translateToCenterPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,n,r,"center","center");return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},translateToOriginPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,"center","center",n,r);return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},getCenterPoint:function(){var e=new i.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(t,n,r){var o,a,s=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(s,"center","center",n,r):new i.Point(this.left,this.top),a=new i.Point(t.x,t.y),this.angle&&(a=i.util.rotatePoint(a,s,-e(this.angle))),a.subtractEquals(o)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,o,a=e(this.angle),s=this.getScaledWidth(),l=i.util.cos(a)*s,c=i.util.sin(a)*s;r="string"===typeof this.originX?t[this.originX]:this.originX-.5,o="string"===typeof n?t[n]:n-.5,this.left+=l*(o-r),this.top+=c*(o-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var e=i.util.degreesToRadians,t=i.util.multiplyTransformMatrices,n=i.util.transformPoint;i.util.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(e,t){this.oCoords||this.setCoords();var n=e?this.aCoords:this.oCoords;return function(e){return[new i.Point(e.tl.x,e.tl.y),new i.Point(e.tr.x,e.tr.y),new i.Point(e.br.x,e.br.y),new i.Point(e.bl.x,e.bl.y)]}(t?this.calcCoords(e):n)},intersectsWithRect:function(e,t,n,r){var o=this.getCoords(n,r);return"Intersection"===i.Intersection.intersectPolygonRectangle(o,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===i.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),i=0,o=e._getImageLines(n?e.calcCoords(t):t?e.aCoords:e.oCoords);i<4;i++)if(!e.containsPoint(r[i],o))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var i=this.getBoundingRect(n,r);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,r){t=t||this._getImageLines(r?this.calcCoords(n):n?this.aCoords:this.oCoords);var i=this._findCrossPoints(e,t);return 0!==i&&i%2===1},isOnScreen:function(e){if(!this.canvas)return!1;for(var t,n=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,i=this.getCoords(!0,e),o=0;o<4;o++)if((t=i[o]).x<=r.x&&t.x>=n.x&&t.y<=r.y&&t.y>=n.y)return!0;return!!this.intersectsWithRect(n,r,!0,e)||this._containsCenterOfCanvas(n,r,e)},_containsCenterOfCanvas:function(e,t,n){var r={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,i,o=0;for(var a in t)if(!((i=t[a]).o.y<e.y&&i.d.y<e.y)&&!(i.o.y>=e.y&&i.d.y>=e.y)&&(i.o.x===i.d.x&&i.o.x>=e.x?r=i.o.x:(0,n=(i.d.y-i.o.y)/(i.d.x-i.o.x),r=-(e.y-0*e.x-(i.o.y-n*i.o.x))/(0-n)),r>=e.x&&(o+=1),2===o))break;return o},getBoundingRect:function(e,t){var n=this.getCoords(e,t);return i.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(r){var o=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),s=t(a,o),l=this.getViewportTransform(),c=r?s:t(l,s),u=this._getTransformedDimensions(),d=u.x/2,h=u.y/2,p=n({x:-d,y:-h},c),f=n({x:d,y:-h},c),m=n({x:-d,y:h},c),g=n({x:d,y:h},c);if(!r){var v=this.padding,_=e(this.angle),y=i.util.cos(_),b=i.util.sin(_),C=y*v,w=b*v,S=C+w,x=C-w;v&&(p.x-=x,p.y-=S,f.x+=S,f.y-=x,m.x-=S,m.y+=x,g.x+=x,g.y+=S);var k=new i.Point((p.x+m.x)/2,(p.y+m.y)/2),E=new i.Point((f.x+p.x)/2,(f.y+p.y)/2),T=new i.Point((g.x+f.x)/2,(g.y+f.y)/2),j=new i.Point((g.x+m.x)/2,(g.y+m.y)/2),O=new i.Point(E.x+b*this.rotatingPointOffset,E.y-y*this.rotatingPointOffset)}var P={tl:p,tr:f,br:g,bl:m};return r||(P.ml=k,P.mt=E,P.mr=T,P.mb=j,P.mtr=O),P},setCoords:function(e,t){return this.oCoords=this.calcCoords(e),t||(this.aCoords=this.calcCoords(!0)),e||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return i.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="";return!e&&this.group&&(t=this.group.transformMatrixKey(e)+"_"),t+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){if(e)return this.calcOwnMatrix();var n=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===n)return r.value;var i=this.calcOwnMatrix();return this.group&&(i=t(this.group.calcTransformMatrix(),i)),r.key=n,r.value=i,i},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var n=this._calcTranslateMatrix();return this.translateX=n[4],this.translateY=n[5],t.key=e,t.value=i.util.composeMatrix(this),t.value},_calcDimensionsTransformMatrix:function(e,t,n){return i.util.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(e,t){"undefined"===typeof e&&(e=this.skewX),"undefined"===typeof t&&(t=this.skewY);var n,r,o=this._getNonTransformedDimensions(),a=0===e&&0===t;if(this.strokeUniform?(n=this.width,r=this.height):(n=o.x,r=o.y),a)return this._finalizeDimensions(n*this.scaleX,r*this.scaleY);var s=[{x:-(n/=2),y:-(r/=2)},{x:n,y:-r},{x:-n,y:r},{x:n,y:r}],l=i.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY}),c=i.util.makeBoundingBoxFromPoints(s,l);return this._finalizeDimensions(c.width,c.height)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return i.util.transformPoint(t,e,!0).scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new i.Color(t),r=e+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=e+"-opacity: "+o.toString()+"; "),r}return e+": none; "}var t=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var r=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+"; ":"",i=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",o=(r=r,t.fontSize?"font-size: "+t.fontSize+"px; ":""),a=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",l=t.fill?e("fill",t.fill):"",c=t.stroke?e("stroke",t.stroke):"",u=this.getSvgTextDecoration(t);return u&&(u="text-decoration: "+u+"; "),[c,i,r,o,a,s,u,l,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return"overline"in e||"underline"in e||"linethrough"in e?(e.overline?"overline ":"")+(e.underline?"underline ":"")+(e.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+i.util.matrixToSVG(n)+(t||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+i.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(e){if(this.backgroundColor){var n=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=t.additionalTransform||"",i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=i,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,o=(t=t||{}).noStyle,a=t.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',l=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,h=this.stroke,p=this.fill,f=this.shadow,m=[],g=e.indexOf("COMMON_PARTS"),v=t.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+i.Object.__uid++,r='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(a)+"</clipPath>\n"),d&&m.push("<g ",l,this.getSvgCommons()," >\n"),m.push("<g ",this.getSvgTransform(!1),d?"":l+this.getSvgCommons()," >\n"),n=[s,u,o?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),e[g]=n,p&&p.toLive&&m.push(p.toSVG(this)),h&&h.toLive&&m.push(h.toSVG(this)),f&&m.push(f.toSVG(this)),c&&m.push(r),m.push(e.join("")),m.push("</g>\n"),d&&m.push("</g>\n"),a?a(m.join("")):m.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=i.util.object.extend;function t(t,n,r){var i={};r.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(e){var t="_"+(e=e||"stateProperties");return Object.keys(this[t]).length<this[e].length||!function e(t,n,r){if(t===n)return!0;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var i=0,o=t.length;i<o;i++)if(!e(t[i],n[i]))return!1;return!0}if(t&&"object"===typeof t){var a,s=Object.keys(t);if(!n||"object"!==typeof n||!r&&s.length!==Object.keys(n).length)return!1;for(i=0,o=s.length;i<o;i++)if("canvas"!==(a=s[i])&&!e(t[a],n[a]))return!1;return!0}}(this[t],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",r="_"+n;return this[r]?(t(this,r,this[n]),e&&e.stateProperties&&t(this,r,e.stateProperties),this):this.setupState(e)},setupState:function(e){var t=(e=e||{}).propertySet||"stateProperties";return e.propertySet=t,this["_"+t]={},this.saveState(e),this}})}(),function(){var e=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var t,n,r=e.x,i=e.y;for(var o in this.__corner=0,this.oCoords)if(this.isControlVisible(o)&&("mtr"!==o||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==o&&"mr"!==o&&"mb"!==o&&"ml"!==o)&&(n=this._getImageLines(this.oCoords[o].corner),0!==(t=this._findCrossPoints({x:r,y:i},n))&&t%2===1))return this.__corner=o,o;return!1},_setCornerCoords:function(){var t,n,r=this.oCoords,o=e(45-this.angle),a=.707106*this.cornerSize,s=a*i.util.cos(o),l=a*i.util.sin(o);for(var c in r)t=r[c].x,n=r[c].y,r[c].corner={tl:{x:t-l,y:n-s},tr:{x:t+s,y:n-l},bl:{x:t-s,y:n+l},br:{x:t+l,y:n+s}}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=1/this.borderScaleFactor,i=n.x+r,o=n.y+r,a="undefined"!==typeof t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,s="undefined"!==typeof t.hasControls?t.hasControls:this.hasControls,l="undefined"!==typeof t.rotatingPointOffset?t.rotatingPointOffset:this.rotatingPointOffset;if(e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-i/2,-o/2,i,o),a&&this.isControlVisible("mtr")&&s){var c=-o/2;e.beginPath(),e.moveTo(0,c),e.lineTo(0,c-l),e.stroke()}return e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=this._getNonTransformedDimensions(),o=i.util.composeMatrix({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX}),a=i.util.transformPoint(r,o),s=1/this.borderScaleFactor,l=a.x+s,c=a.y+s;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-l/2,-c/2,l,c),e.restore(),this},drawControls:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=n.x,i=n.y,o=t.cornerSize||this.cornerSize,a=-(r+o)/2,s=-(i+o)/2,l="undefined"!==typeof t.transparentCorners?t.transparentCorners:this.transparentCorners,c="undefined"!==typeof t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,u=l?"stroke":"fill";return e.save(),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",e,u,a,s,t),this._drawControl("tr",e,u,a+r,s,t),this._drawControl("bl",e,u,a,s+i,t),this._drawControl("br",e,u,a+r,s+i,t),this.get("lockUniScaling")||(this._drawControl("mt",e,u,a+r/2,s,t),this._drawControl("mb",e,u,a+r/2,s+i,t),this._drawControl("mr",e,u,a+r,s+i/2,t),this._drawControl("ml",e,u,a,s+i/2,t)),c&&this._drawControl("mtr",e,u,a+r/2,s-this.rotatingPointOffset,t),e.restore(),this},_drawControl:function(e,t,n,r,i,o){if(o=o||{},this.isControlVisible(e)){var a=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(o.cornerStyle||this.cornerStyle){case"circle":t.beginPath(),t.arc(r+a/2,i+a/2,a/2,0,2*Math.PI,!1),t[n](),s&&t.stroke();break;default:this.transparentCorners||t.clearRect(r,i,a,a),t[n+"Rect"](r,i,a,a),s&&t.strokeRect(r,i,a,a)}}},isControlVisible:function(e){return this._getControlsVisibility()[e]},setControlVisible:function(e,t){return this._getControlsVisibility()[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}}),this},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}}),this},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),o()},onComplete:function(){a.remove(e),r()}}),this}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var e,t,n=[];for(e in arguments[0])n.push(e);for(var r=0,i=n.length;r<i;r++)e=n[r],t=r!==i-1,this._animate(e,arguments[0][e],arguments[1],t)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,r){var o,a=this;t=t.toString(),n=n?i.util.object.clone(n):{},~e.indexOf(".")&&(o=e.split("."));var s=o?this.get(o[0])[o[1]]:this.get(e);"from"in n||(n.from=s),t=~t.indexOf("=")?s+parseFloat(t.replace("=","")):parseFloat(t),i.util.animate({startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(a)},onChange:function(t,i,s){o?a[o[0]][o[1]]=t:a.set(e,t),r||n.onChange&&n.onChange(t,i,s)},onComplete:function(e,t,i){r||(a.setCoords(),n.onComplete&&n.onComplete(e,t,i))}})}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1},o=t.StaticCanvas.supports("setLineDash");function a(e,t){var n=e.origin,r=e.axis1,i=e.axis2,o=e.dimension,a=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case l:return Math.max(this.get(r),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),"undefined"!==typeof i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:a({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:a({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&o){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,r=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:r,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,i){i=i||{};var o=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),a=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];r(new t.Line(a,n(o,i)))},t.Line.fromObject=function(e,n){var i=r(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=t.util.cos(this.startAngle)*this.radius,o=t.util.sin(this.startAngle)*this.radius,a=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius,l=r>n?"1":"0";e=['<path d="M '+i+" "+o," A "+this.radius+" "+this.radius," 0 ",+l+" 1"," "+a+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,r=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,r,0,-r,this.strokeDashArray),t.util.drawDashedLine(e,0,-r,n,r,this.strokeDashArray),t.util.drawDashedLine(e,n,r,-n,r,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,o=-this.width/2,a=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(o+t,a),e.lineTo(o+r-t,a),s&&e.bezierCurveTo(o+r-l*t,a,o+r,a+l*n,o+r,a+n),e.lineTo(o+r,a+i-n),s&&e.bezierCurveTo(o+r,a+i-l*n,o+r-l*t,a+i,o+r-t,a+i),e.lineTo(o+t,a+i),s&&e.bezierCurveTo(o+l*t,a+i,o,a+i-l*n,o,a+i-n),e.lineTo(o,a+n),s&&e.bezierCurveTo(o,a+l*n,o+l*t,a,o+t,a),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,r=-this.height/2,i=this.width,o=this.height;e.beginPath(),t.util.drawDashedLine(e,n,r,n+i,r,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r,n+i,r+o,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r+o,n,r+o,this.strokeDashArray),t.util.drawDashedLine(e,n,r+o,n,r,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,i){if(!e)return r(null);i=i||{};var o=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var a=new t.Rect(n(i?t.util.object.clone(i):{},o));a.visible=a.visible&&a.width>0&&a.height>0,r(a)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,i=t.util.array.max,o=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),"undefined"===typeof e.left&&(this.left=e.fromSVG?n.left:t.x),"undefined"===typeof e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)e.push(o(this.points[a].x-n,i),",",o(this.points[a].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(var o=0;o<n;o++)t=this.points[o],e.lineTo(t.x-r,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,r;e.beginPath();for(var i=0,o=this.points.length;i<o;i++)n=this.points[i],r=this.points[i+1]||n,t.util.drawDashedLine(e,n.x,n.y,r.x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,i,o){if(!r)return i(null);o||(o={});var a=t.parsePointsAttribute(r.getAttribute("points")),s=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,i(new t[e](a,n(s,o)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,i=t.util.object.extend,o=Object.prototype.toString,a=t.util.drawArc,s=t.util.toFixed,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){n=n||{},this.callSuper("initialize",n),e||(e=[]);var r="[object Array]"===o.call(e);this.path=r?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(r||(this.path=this._parsePath()),t.Polyline.prototype._setPositionDimensions.call(this,n))},_renderPathCommands:function(e){var t,n,r,i=null,o=0,s=0,l=0,c=0,u=0,d=0,h=-this.pathOffset.x,p=-this.pathOffset.y;e.beginPath();for(var f=0,m=this.path.length;f<m;++f){switch((t=this.path[f])[0]){case"l":l+=t[1],c+=t[2],e.lineTo(l+h,c+p);break;case"L":l=t[1],c=t[2],e.lineTo(l+h,c+p);break;case"h":l+=t[1],e.lineTo(l+h,c+p);break;case"H":l=t[1],e.lineTo(l+h,c+p);break;case"v":c+=t[1],e.lineTo(l+h,c+p);break;case"V":c=t[1],e.lineTo(l+h,c+p);break;case"m":o=l+=t[1],s=c+=t[2],e.moveTo(l+h,c+p);break;case"M":o=l=t[1],s=c=t[2],e.moveTo(l+h,c+p);break;case"c":n=l+t[5],r=c+t[6],u=l+t[3],d=c+t[4],e.bezierCurveTo(l+t[1]+h,c+t[2]+p,u+h,d+p,n+h,r+p),l=n,c=r;break;case"C":l=t[5],c=t[6],u=t[3],d=t[4],e.bezierCurveTo(t[1]+h,t[2]+p,u+h,d+p,l+h,c+p);break;case"s":n=l+t[3],r=c+t[4],null===i[0].match(/[CcSs]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.bezierCurveTo(u+h,d+p,l+t[1]+h,c+t[2]+p,n+h,r+p),u=l+t[1],d=c+t[2],l=n,c=r;break;case"S":n=t[3],r=t[4],null===i[0].match(/[CcSs]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.bezierCurveTo(u+h,d+p,t[1]+h,t[2]+p,n+h,r+p),l=n,c=r,u=t[1],d=t[2];break;case"q":n=l+t[3],r=c+t[4],u=l+t[1],d=c+t[2],e.quadraticCurveTo(u+h,d+p,n+h,r+p),l=n,c=r;break;case"Q":n=t[3],r=t[4],e.quadraticCurveTo(t[1]+h,t[2]+p,n+h,r+p),l=n,c=r,u=t[1],d=t[2];break;case"t":n=l+t[1],r=c+t[2],null===i[0].match(/[QqTt]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.quadraticCurveTo(u+h,d+p,n+h,r+p),l=n,c=r;break;case"T":n=t[1],r=t[2],null===i[0].match(/[QqTt]/)?(u=l,d=c):(u=2*l-u,d=2*c-d),e.quadraticCurveTo(u+h,d+p,n+h,r+p),l=n,c=r;break;case"a":a(e,l+h,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+l+h,t[7]+c+p]),l+=t[6],c+=t[7];break;case"A":a(e,l+h,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+h,t[7]+p]),l=t[6],c=t[7];break;case"z":case"Z":l=o,c=s,e.closePath()}i=t}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_parsePath:function(){for(var e,n,r,i,o,a=[],s=[],u=t.rePathCommand,d=0,h=this.path.length;d<h;d++){for(i=(e=this.path[d]).slice(1).trim(),s.length=0;r=u.exec(i);)s.push(r[0]);o=[e.charAt(0)];for(var p=0,f=s.length;p<f;p++)n=parseFloat(s[p]),isNaN(n)||o.push(n);var m=o[0],g=l[m.toLowerCase()],v=c[m]||m;if(o.length-1>g)for(var _=1,y=o.length;_<y;_+=g)a.push([m].concat(o.slice(_,_+g))),m=v;else a.push(o)}return a},_calcDimensions:function(){for(var e,i,o,a,s=[],l=[],c=null,u=0,d=0,h=0,p=0,f=0,m=0,g=0,v=this.path.length;g<v;++g){switch((e=this.path[g])[0]){case"l":h+=e[1],p+=e[2],a=[];break;case"L":h=e[1],p=e[2],a=[];break;case"h":h+=e[1],a=[];break;case"H":h=e[1],a=[];break;case"v":p+=e[1],a=[];break;case"V":p=e[1],a=[];break;case"m":u=h+=e[1],d=p+=e[2],a=[];break;case"M":u=h=e[1],d=p=e[2],a=[];break;case"c":i=h+e[5],o=p+e[6],f=h+e[3],m=p+e[4],a=t.util.getBoundsOfCurve(h,p,h+e[1],p+e[2],f,m,i,o),h=i,p=o;break;case"C":f=e[3],m=e[4],a=t.util.getBoundsOfCurve(h,p,e[1],e[2],f,m,e[5],e[6]),h=e[5],p=e[6];break;case"s":i=h+e[3],o=p+e[4],null===c[0].match(/[CcSs]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),a=t.util.getBoundsOfCurve(h,p,f,m,h+e[1],p+e[2],i,o),f=h+e[1],m=p+e[2],h=i,p=o;break;case"S":i=e[3],o=e[4],null===c[0].match(/[CcSs]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),a=t.util.getBoundsOfCurve(h,p,f,m,e[1],e[2],i,o),h=i,p=o,f=e[1],m=e[2];break;case"q":i=h+e[3],o=p+e[4],f=h+e[1],m=p+e[2],a=t.util.getBoundsOfCurve(h,p,f,m,f,m,i,o),h=i,p=o;break;case"Q":f=e[1],m=e[2],a=t.util.getBoundsOfCurve(h,p,f,m,f,m,e[3],e[4]),h=e[3],p=e[4];break;case"t":i=h+e[1],o=p+e[2],null===c[0].match(/[QqTt]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),a=t.util.getBoundsOfCurve(h,p,f,m,f,m,i,o),h=i,p=o;break;case"T":i=e[1],o=e[2],null===c[0].match(/[QqTt]/)?(f=h,m=p):(f=2*h-f,m=2*p-m),a=t.util.getBoundsOfCurve(h,p,f,m,f,m,i,o),h=i,p=o;break;case"a":a=t.util.getBoundsOfArc(h,p,e[1],e[2],e[3],e[4],e[5],e[6]+h,e[7]+p),h+=e[6],p+=e[7];break;case"A":a=t.util.getBoundsOfArc(h,p,e[1],e[2],e[3],e[4],e[5],e[6],e[7]),h=e[6],p=e[7];break;case"z":case"Z":h=u,p=d}c=e,a.forEach((function(e){s.push(e.x),l.push(e.y)})),s.push(h),l.push(p)}var _=n(s)||0,y=n(l)||0;return{left:_,top:y,width:(r(s)||0)-_,height:(r(l)||0)-y}}}),t.Path.fromObject=function(e,n){if("string"===typeof e.sourcePath){var r=e.sourcePath;t.loadSVGFromURL(r,(function(t){var r=t[0];r.setOptions(e),n&&n(r)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var o=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new t.Path(o.d,i(o,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0,!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,r=e.top;e.set({left:n-t.x,top:r-t.y}),e.group=this,e.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=r,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=r,i},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var o=t.Object.prototype.toDatalessObject.call(this,e);return o.objects=n,o},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(this.shadow)return t.Object.prototype.willDrawShadow.call(this);for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(e){var n=e.calcTransformMatrix(),r=t.util.qrDecompose(n),i=new t.Point(r.translateX,r.translateY);return e.flipX=!1,e.flipY=!1,e.set("scaleX",r.scaleX),e.set("scaleY",r.scaleY),e.skewX=r.skewX,e.skewY=r.skewY,e.angle=r.angle,e.setPositionByOrigin(i,"center","center"),e},_restoreObjectState:function(e){return this.realizeTransform(e),e.setCoords(),delete e.group,this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new t.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0,!0)})),this},_calcBounds:function(e){for(var t,n,r,i=[],o=[],a=["tr","br","bl","tl"],s=0,l=this._objects.length,c=a.length;s<l;++s)for((t=this._objects[s]).setCoords(!0),r=0;r<c;r++)n=a[r],i.push(t.oCoords[n].x),o.push(t.oCoords[n].y);this._getBounds(i,o,e)},_getBounds:function(e,i,o){var a=new t.Point(n(e),n(i)),s=new t.Point(r(e),r(i)),l=a.y||0,c=a.x||0,u=s.x-a.x||0,d=s.y-a.y||0;this.width=u,this.height=d,o||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!==typeof r?t.util.enlivenObjects(r,(function(r){t.util.enlivenObjects([e.clipPath],(function(i){var o=t.util.object.clone(e,!0);o.clipPath=i[0],delete o.objects,n&&n(new t.Group(r,o,!0))}))})):t.loadSVGFromURL(r,(function(o){var a=t.util.groupSVGElements(o,e,r);a.set(i),n&&n(a)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),"undefined"===typeof n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=i.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=i.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},setCrossOrigin:function(e){return this.crossOrigin=e,this._element.crossOrigin=e,this},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,r=this.width,o=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),i.util.drawDashedLine(e,t,n,t+r,n,this.strokeDashArray),i.util.drawDashedLine(e,t+r,n,t+r,n+o,this.strokeDashArray),i.util.drawDashedLine(e,t+r,n+o,t,n+o,this.strokeDashArray),i.util.drawDashedLine(e,t,n+o,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(e)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=-this.width/2,o=-this.height/2,a="";if(this.hasCrop()){var s=i.Object.__uid++;t.push('<clipPath id="imageCrop_'+s+'">\n','\t<rect x="'+r+'" y="'+o+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+s+')" '}if(n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',o-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var l=this.fill;this.fill=null,e=["\t<rect ",'x="',r,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=l}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return i.util.loadImage(e,(function(e){this.setElement(e,n),this._setWidthHeight(),t&&t(this)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&o>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);i.filterBackend||(i.filterBackend=i.initFilterBackend());var s=i.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=a.width,u=a.height;s.width=c,s.height=u,this._element=s,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=o,i.filterBackend.applyFilters([e],a,c,u,this._element,l),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element,n=this.width,r=this.height,i=Math.min(t.naturalWidth||t.width,n*this._filterScalingX),o=Math.min(t.naturalHeight||t.height,r*this._filterScalingY),a=-n/2,s=-r/2,l=Math.max(0,this.cropX*this._filterScalingX),c=Math.max(0,this.cropY*this._filterScalingY);t&&e.drawImage(t,l,c,i,o,a,s,n,r)},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(i.util.getById(e),t),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(e,t){e&&e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,a=1,s=0,l=0,c=0,u=0,d=this.width,h=this.height,p={width:d,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(o=d/n,a=h/r):("meet"===t.meetOrSlice&&(e=(d-n*(o=a=i.util.findScaleToFit(this._element,p)))/2,"Min"===t.alignX&&(s=-e),"Max"===t.alignX&&(s=e),e=(h-r*a)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=n-d/(o=a=i.util.findScaleToCover(this._element,p)),"Mid"===t.alignX&&(c=e/2),"Max"===t.alignX&&(c=e),e=r-h/a,"Mid"===t.alignY&&(u=e/2),"Max"===t.alignY&&(u=e),n=d/o,r=h/a)),{width:n,height:r,scaleX:o,scaleY:a,offsetLeft:s,offsetTop:l,cropX:c,cropY:u}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(e,t){var n=i.util.object.clone(e);i.util.loadImage(n.src,(function(e,r){r?t&&t(null,r):i.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],i.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],i.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var o=new i.Image(e,n);t(o)}))}))}))}),null,n.crossOrigin)},i.Image.fromURL=function(e,t,n){i.util.loadImage(e,(function(e){t&&t(new i.Image(e,n))}),null,n&&n.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),i.Image.fromElement=function(e,n,r){var o=i.parseAttributes(e,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(o["xlink:href"],n,t(r?i.util.object.clone(r):{},o))})}(t),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,o=this;return i.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){o.rotate(e),r()},onComplete:function(){o.setCoords(),n()}}),this}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(t){if(i.isLikelyNode)return!1;t=t||i.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){i.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=i.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],s=0;s<3;s++)if(e(r,a[s])){i.webGlPrecision=a[s];break}}return this.isSupported=o,o},i.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(f){n=!1}var o="undefined"!==typeof ArrayBuffer,l="undefined"!==typeof Uint8ClampedArray;if(r&&n&&o&&l){var c=i.util.createCanvasElement(),u=new ArrayBuffer(e*t*4);if(i.forceGLPutImageData)return this.imageBuffer=u,void(this.copyGLTo2D=s);var d,h,p={imageBuffer:u,destinationWidth:e,destinationHeight:t,targetCanvas:c};c.width=e,c.height=t,d=window.performance.now(),a.call(p,this.gl,p),h=window.performance.now()-d,d=window.performance.now(),s.call(p,this.gl,p),h>window.performance.now()-d?(this.imageBuffer=u,this.copyGLTo2D=s):this.copyGLTo2D=a}},createWebGLCanvas:function(e,t){var n=i.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(e,t,n,r,i,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!a&&t),targetTexture:this.createTexture(s,n,r),originalTexture:a||this.createTexture(s,n,r,!a&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,o=e.destinationHeight;n===i&&r===o||(t.width=i,t.height=o)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),i},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}i.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,i){var o=i.getContext("2d");o.drawImage(t,0,0,n,r);var a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:t,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};return e.forEach((function(e){e.applyTo(a)})),a.imageData.width===n&&a.imageData.height===r||(i.width=a.imageData.width,i.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==i.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var s=this.getAttributeLocations(e,a),l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:l}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=i.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(e,t){var n=new i.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,i,o,a=e.imageData.data,s=a.length,l=this.matrix,c=this.colorsOnly;for(o=0;o<s;o+=4)t=a[o],n=a[o+1],r=a[o+2],c?(a[o]=t*l[0]+n*l[1]+r*l[2]+255*l[4],a[o+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],a[o+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(i=a[o+3],a[o]=t*l[0]+n*l[1]+r*l[2]+i*l[3]+255*l[4],a[o+1]=t*l[5]+n*l[6]+r*l[7]+i*l[8]+255*l[9],a[o+2]=t*l[10]+n*l[11]+r*l[12]+i*l[13]+255*l[14],a[o+3]=t*l[15]+n*l[16]+r*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,i,o,a,s,l,c,u,d,h,p,f=e.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),_=Math.floor(v/2),y=f.width,b=f.height,C=e.ctx.createImageData(y,b),w=C.data,S=this.opaque?1:0;for(d=0;d<b;d++)for(u=0;u<y;u++){for(o=4*(d*y+u),t=0,n=0,r=0,i=0,p=0;p<v;p++)for(h=0;h<v;h++)a=u+h-_,(s=d+p-_)<0||s>b||a<0||a>y||(l=4*(s*y+a),c=g[p*v+h],t+=m[l]*c,n+=m[l+1]*c,r+=m[l+2]*c,S||(i+=m[l+3]*c));w[o]=t,w[o+1]=n,w[o+2]=r,w[o+3]=S?m[o+3]:i}e.imageData=C},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,i=r.length,o=this.mode;for(t=0;t<i;t+=4)"average"===o?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===o?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===o&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r=e.imageData.data,i=r.length,o=this.noise;for(t=0,i=r.length;t<i;t+=4)n=(.5-Math.random())*o,r[t]+=n,r[t+1]+=n,r[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,i,o,a,s,l,c,u,d,h=e.imageData,p=h.data,f=h.height,m=h.width;for(n=0;n<f;n+=this.blocksize)for(r=0;r<m;r+=this.blocksize)for(i=p[t=4*n*m+4*r],o=p[t+1],a=p[t+2],s=p[t+3],u=Math.min(n+this.blocksize,f),d=Math.min(r+this.blocksize,m),l=n;l<u;l++)for(c=r;c<d;c++)p[t=4*l*m+4*c]=i,p[t+1]=o,p[t+2]=a,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.RemoveColor=i(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,i,o,a=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<a.length;n+=4)r=a[n],i=a[n+1],o=a[n+2],r>c[0]&&i>c[1]&&o>c[2]&&r<u[0]&&i<u[1]&&o<u[2]&&(a[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),i=parseFloat(this.distance),o=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],a=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,o),e.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)n[o]=r(n.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),t.Image.filters[o].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,i,o,a,s,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,i=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(o=c[h],a=c[h+1],s=c[h+2],this.mode){case"multiply":c[h]=o*n/255,c[h+1]=a*r/255,c[h+2]=s*i/255;break;case"screen":c[h]=255-(255-o)*(255-n)/255,c[h+1]=255-(255-a)*(255-r)/255,c[h+2]=255-(255-s)*(255-i)/255;break;case"add":c[h]=o+n,c[h+1]=a+r,c[h+2]=s+i;break;case"diff":case"difference":c[h]=Math.abs(o-n),c[h+1]=Math.abs(a-r),c[h+2]=Math.abs(s-i);break;case"subtract":c[h]=o-n,c[h+1]=a-r,c[h+2]=s-i;break;case"darken":c[h]=Math.min(o,n),c[h+1]=Math.min(a,r),c[h+2]=Math.min(s,i);break;case"lighten":c[h]=Math.max(o,n),c[h+1]=Math.max(a,r),c[h+2]=Math.max(s,i);break;case"overlay":c[h]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[h+1]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,c[h+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":c[h]=n+o-2*n*o/255,c[h+1]=r+a-2*r*a/255,c[h+2]=i+s-2*i*s/255;break;case"tint":c[h]=n+o*d,c[h+1]=r+a*d,c[h+2]=i+s*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,r,i,o,a,s,l,c,u,d,h,p=e.imageData,f=e.filterBackend.resources,m=p.data,g=m.length,v=p.width,_=p.height,y=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),d=(u=f.blendImage).getContext("2d"),u.width!==v||u.height!==_?(u.width=v,u.height=_):d.clearRect(0,0,v,_),d.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),d.drawImage(y._element,0,0,v,_),h=d.getImageData(0,0,v,_).data;for(var b=0;b<g;b+=4)switch(a=m[b],s=m[b+1],l=m[b+2],c=m[b+3],n=h[b],r=h[b+1],i=h[b+2],o=h[b+3],this.mode){case"multiply":m[b]=a*n/255,m[b+1]=s*r/255,m[b+2]=l*i/255,m[b+3]=c*o/255;break;case"mask":m[b+3]=o}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var i=t.util.object.clone(e);i.image=r,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,a=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=e(i*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,o=t.width,s=t.height,l=a(o*n),c=a(s*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,o,s,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,o,s,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,o,s,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,o,s,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,o,a){var s,l,c=e.imageData,u=!1,d=!1,h=.5*n,p=.5*i,f=t.filterBackend.resources,m=0,g=0,v=n,_=0;for(f.sliceByTwo||(f.sliceByTwo=document.createElement("canvas")),((s=f.sliceByTwo).width<1.5*n||s.height<i)&&(s.width=1.5*n,s.height=i),(l=s.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),o=r(o),a=r(a);!u||!d;)n=h,i=p,o<r(.5*h)?h=r(.5*h):(h=o,u=!0),a<r(.5*p)?p=r(.5*p):(p=a,d=!0),l.drawImage(s,m,g,n,i,v,_,h,p),m=v,g=_,_+=p;return l.getImageData(m,g,o,a)},lanczosResize:function(e,t,a,s,c){var u=e.imageData.data,d=e.ctx.createImageData(s,c),h=d.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,_=l(f*this.lanczosLobes/2),y=l(m*this.lanczosLobes/2),b={},C={},w={};return function e(l){var S,x,k,E,T,j,O,P,D,M,I;for(C.x=(l+.5)*f,w.x=r(C.x),S=0;S<c;S++){for(C.y=(S+.5)*m,w.y=r(C.y),T=0,j=0,O=0,P=0,D=0,x=w.x-_;x<=w.x+_;x++)if(!(x<0||x>=t)){M=r(1e3*o(x-C.x)),b[M]||(b[M]={});for(var R=w.y-y;R<=w.y+y;R++)R<0||R>=a||(I=r(1e3*o(R-C.y)),b[M][I]||(b[M][I]=p(i(n(M*g,2)+n(I*v,2))/1e3)),(k=b[M][I])>0&&(T+=k,j+=k*u[E=4*(R*t+x)],O+=k*u[E+1],P+=k*u[E+2],D+=k*u[E+3]))}h[E=4*(S*s+l)]=j/T,h[E+1]=O/T,h[E+2]=P/T,h[E+3]=D/T}return++l<s?e(l):d}(0)},bilinearFiltering:function(e,t,n,i,o){var a,s,l,c,u,d,h,p,f,m=0,g=this.rcpScaleX,v=this.rcpScaleY,_=4*(t-1),y=e.imageData.data,b=e.ctx.createImageData(i,o),C=b.data;for(l=0;l<o;l++)for(c=0;c<i;c++)for(u=g*c-(a=r(g*c)),d=v*l-(s=r(v*l)),f=4*(s*t+a),h=0;h<4;h++)p=y[f+h]*(1-u)*(1-d)+y[f+4+h]*u*(1-d)+y[f+_+h]*d*(1-u)+y[f+_+4+h]*u*d,C[m++]=p;return b},hermiteFastResize:function(e,t,n,a,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),p=e.imageData.data,f=e.ctx.createImageData(a,s),m=f.data,g=0;g<s;g++)for(var v=0;v<a;v++){for(var _=4*(v+g*a),y=0,b=0,C=0,w=0,S=0,x=0,k=0,E=(g+.5)*u,T=r(g*u);T<(g+1)*u;T++)for(var j=o(E-(T+.5))/h,O=(v+.5)*c,P=j*j,D=r(v*c);D<(v+1)*c;D++){var M=o(O-(D+.5))/d,I=i(P+M*M);I>1&&I<-1||(y=2*I*I*I-3*I*I+1)>0&&(k+=y*p[(M=4*(D+T*t))+3],C+=y,p[M+3]<255&&(y=y*p[M+3]/250),w+=y*p[M],S+=y*p[M+1],x+=y*p[M+2],b+=y)}m[_]=w/b,m[_+1]=S/b,m[_+2]=x/b,m[_+3]=k/C}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,i=Math.floor(255*this.contrast),o=259*(i+255)/(255*(259-i));for(t=0;t<r;t+=4)n[t]=o*(n[t]-128)+128,n[t+1]=o*(n[t+1]-128)+128,n[t+2]=o*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,i=r.length,o=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*o:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*o:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*o:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,i=e.filterBackend.resources,o=e.imageData.width,a=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),n=i.blurLayer1,r=i.blurLayer2,n.width===o&&n.height===a||(r.width=n.width=o,r.height=n.height=a);var s,l,c,u,d=n.getContext("2d"),h=r.getContext("2d"),p=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,o,a),u=-15;u<=15;u++)c=p*(l=u/15)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,s),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(u=-15;u<=15;u++)c=p*(l=u/15)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,s,c),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var f=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),f},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,i=n.length,o=1/r[0],a=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,o),this.gVals[t]=255*Math.pow(t/255,a),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),i=Math.sqrt(1/3)*r,o=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+o/3,this.matrix[1]=1/3*o-i,this.matrix[2]=1/3*o+i,this.matrix[5]=1/3*o+i,this.matrix[6]=n+1/3*o,this.matrix[7]=1/3*o-i,this.matrix[10]=1/3*o-i,this.matrix[11]=1/3*o+i,this.matrix[12]=n+1/3*o},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;t.Text?t.warn("fabric.Text is already defined"):(t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:t.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,i,o,a,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(r=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-t)/n;for(var c=0,u=i.length;c<=u;c++)o=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(o.width+=e,o.kernedWidth+=e,o.left+=r,r+=e):o.left+=r}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,i,o){this._renderChars(e,t,n,r,i,o)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,i,o,a,s=0,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,p=0,f=this._textLines.length;p<f;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),h=0,d=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,g=r.length;m<g;m++)o=this.__charBounds[p][m],(a=this.getValueOfPropertyAt(p,m,"textBackgroundColor"))!==i?(e.fillStyle=i,i&&e.fillRect(c+n+d,u+s,h,t/this.lineHeight),d=o.left,h=o.width,i=a):h+=o.kernedWidth;a&&(e.fillStyle=a,e.fillRect(c+n+d,u+s,h,t/this.lineHeight)),s+=t}else s+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_applyCharStyles:function(e,t,n,r,i){this._setFillStyles(t,i),this._setStrokeStyles(t,i),t.font=this._getFontDeclaration(i)},_measureChar:function(e,t,n,r){var i,o,a,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(a=l[n]),void 0!==l[e]&&(s=i=l[e]),u&&void 0!==l[c]&&(s=(o=l[c])-a),void 0===i||void 0===a||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===i&&(s=i=h.measureText(e).width,l[e]=i),void 0===a&&u&&n&&(a=h.measureText(n).width,l[n]=a),u&&void 0===o&&(o=h.measureText(c).width,l[c]=o,s=o-a),{width:i*d,kernedWidth:s*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var t,n,r,i,o=0,a=this._textLines[e],s=new Array(a.length);for(this.__charBounds[e]=s,t=0;t<a.length;t++)n=a[t],i=this._getGraphemeBox(n,e,t,r),s[t]=i,o+=i.kernedWidth,r=n;return s[t]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:o,numOfSpaces:0}},_getGraphemeBox:function(e,t,n,r,i){var o,a=this.getCompleteStyleDeclaration(t,n),s=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,a,r,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=o=this._getWidthOfCharSpacing(),c+=o);var d={width:u,left:0,height:a.fontSize,kernedWidth:c,deltaY:a.deltaY};if(n>0&&!i){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,i=t.length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=this._applyPatternGradientTransform(e,"fillText"===t?this.fill:this.stroke),a=0,s=this._textLines.length;a<s;a++){var l=this.getHeightOfLine(a),c=l/this.lineHeight,u=this._getLineLeftOffset(a);this._renderTextLine(t,e,this._textLines[a],r+u-o.offsetX,i+n+c-o.offsetY,a),n+=l}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,r,i,o){var a,s,l,c,u=this.getHeightOfLine(o),d=-1!==this.textAlign.indexOf("justify"),h="",p=0,f=!d&&0===this.charSpacing&&this.isEmptyStyles(o);if(t.save(),i-=u*this._fontSizeFraction/this.lineHeight,f)return this._renderChar(e,t,o,0,this.textLines[o],r,i,u),void t.restore();for(var m=0,g=n.length-1;m<=g;m++)c=m===g||this.charSpacing,h+=n[m],l=this.__charBounds[o][m],0===p?(r+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,d&&!c&&this._reSpaceAndTab.test(n[m])&&(c=!0),c||(a=a||this.getCompleteStyleDeclaration(o,m),s=this.getCompleteStyleDeclaration(o,m+1),c=this._hasStyleChanged(a,s)),c&&(this._renderChar(e,t,o,m,h,r,i,u),h="",a=s,r+=p,p=0);t.restore()},_renderChar:function(e,t,n,r,i,o,a){var s=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),c="fillText"===e&&l.fill,u="strokeText"===e&&l.stroke&&l.strokeWidth;(u||c)&&(s&&t.save(),this._applyCharStyles(e,t,n,r,l),s&&s.textBackgroundColor&&this._removeShadow(t),s&&s.deltaY&&(a+=s.deltaY),c&&t.fillText(i,o,a),u&&t.strokeText(i,o,a),s&&t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:i*n.size,deltaY:o+i*n.baseline};return this.setSelectionStyles(a,e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e);return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:"justify-center"===this.textAlign&&this.isEndOfWrapping(e)?(this.width-t)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(e)?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&"undefined"!==typeof r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,i,o,a,s,l,c,u,d,h,p,f,m,g,v,_=this._getLeftOffset(),y=this._getTopOffset(),b=this._getWidthOfCharSpacing(),C=0,w=this._textLines.length;C<w;C++)if(n=this.getHeightOfLine(C),this[t]||this.styleHas(t,C)){l=this._textLines[C],m=n/this.lineHeight,o=this._getLineLeftOffset(C),d=0,h=0,c=this.getValueOfPropertyAt(C,0,t),v=this.getValueOfPropertyAt(C,0,"fill"),u=y+m*(1-this._fontSizeFraction),r=this.getHeightOfChar(C,0),a=this.getValueOfPropertyAt(C,0,"deltaY");for(var S=0,x=l.length;S<x;S++)p=this.__charBounds[C][S],f=this.getValueOfPropertyAt(C,S,t),g=this.getValueOfPropertyAt(C,S,"fill"),i=this.getHeightOfChar(C,S),s=this.getValueOfPropertyAt(C,S,"deltaY"),(f!==c||g!==v||i!==r||s!==a)&&h>0?(e.fillStyle=v,c&&v&&e.fillRect(_+o+d,u+this.offsets[t]*r+a,h,this.fontSize/15),d=p.left,h=p.width,c=f,v=g,r=i,a=s):h+=p.kernedWidth;e.fillStyle=g,f&&g&&e.fillRect(_+o+d,u+this.offsets[t]*r+a,h-b,this.fontSize/15),y+=n}else y+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,i=this.fontFamily,o=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,a=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||o?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",a].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),i=["\n"],o=[],a=0;a<n.length;a++)r[a]=t.util.string.graphemeSplit(n[a]),o=o.concat(r[a],i);return o.pop(),{_unwrappedLines:r,lines:n,graphemeText:o,graphemeLines:r}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(e),r=this.callSuper("toObject",t);return r.styles=n(this.styles,!0),r},set:function(e,t){this.callSuper("set",e,t);var n=!1;if("object"===typeof e)for(var r in e)n=n||-1!==this._dimensionAffectingProps.indexOf(r);else n=-1!==this._dimensionAffectingProps.indexOf(e);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,i){if(!e)return r(null);var o=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},o)).top=i.top||0,i.left=i.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,p=u.getScaledHeight()+h,f=0;"center"===a&&(f=u.getScaledWidth()/2),"right"===a&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),r(u)},t.Text.fromObject=function(e,n){return t.Object._fromObject("Text",e,n,"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text))}(t),i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if("undefined"!==typeof e&&!this.styles[e])return!0;var t="undefined"===typeof e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var i in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if("undefined"!==typeof t&&!this.styles[t])return!1;var n="undefined"===typeof t?this.styles:{0:this.styles[t]};for(var r in n)for(var i in n[r])if("undefined"!==typeof n[r][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,i=0,o=!0,a=0;for(var s in r){for(var l in t=0,r[s]){var c;i++,(c=r[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(o=!1):n=c[e],c[e]===this[e]&&delete c[e]):o=!1,0!==Object.keys(c).length?t++:delete r[s][l]}0===t&&delete r[s]}for(var u=0;u<this._textLines.length;u++)a+=this._textLines[u].length;o&&i===a&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,i=this.styles;for(n in i){for(r in t=i[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){"undefined"===typeof e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof t&&(t=this.selectionEnd||e);for(var r=[],i=e;i<t;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},i={},o=0;o<this._styleProperties.length;o++)i[n=this._styleProperties[o]]="undefined"===typeof r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){"undefined"===typeof e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,i,o=0,a=0,s=this.get2DCursorLocation(e);r=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][r];return c&&(a=c.left),0!==this.charSpacing&&r===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),i={top:o,left:t+(a>0?a:0)},this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,l=e.topOffset,c=this.getValueOfPropertyAt(r,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.getValueOfPropertyAt(r,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,o)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(r),s=o.lineIndex,l=a.lineIndex,c=o.charIndex<0?0:o.charIndex,u=a.charIndex<0?0:a.charIndex,d=s;d<=l;d++){var h,p=this._getLineLeftOffset(d)||0,f=this.getHeightOfLine(d),m=0,g=0;if(d===s&&(m=this.__charBounds[s][c].left),d>=s&&d<l)g=i&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}h=f,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",t.fillRect(e.left+p+m,e.top+e.topOffset+f,g-m,1)):(t.fillStyle=this.selectionColor,t.fillRect(e.left+p+m,e.top+e.topOffset,g-m,f)),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),i.IText.fromObject=function(t,n){if(e(t),t.styles)for(var r in t.styles)for(var o in t.styles[r])e(t.styles[r][o]);i.Object._fromObject("IText",t,n,"text")}}(),function(){var e=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],i.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,o=n[r],a=i.reNonWord;!a.test(o)&&r>0&&r<n.length;)o=n[r+=t];return a.test(o)&&(r+=1===t?0:1),r},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),o=i.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:o,selectionEnd:o};var a=n.slice(e,t);return{selectionStart:o,selectionEnd:o+i.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,o=n.charIndex,a=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,s=t.leftOffset,l=this.calcTransformMatrix(),c={x:t.left+s,y:t.top+t.topOffset+a},u=this.canvas.getRetinaScaling(),d=this.canvas.upperCanvasEl,h=d.width/u,p=d.height/u,f=h-a,m=p-a,g=d.clientWidth/h,v=d.clientHeight/p;return c=i.util.transformPoint(c,l),(c=i.util.transformPoint(c,this.canvas.viewportTransform)).x*=g,c.y*=v,c.x<0&&(c.x=0),c.x>f&&(c.x=f),c.y<0&&(c.y=0),c.y>m&&(c.y=m),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,i=this.get2DCursorLocation(e,!0),o=this.get2DCursorLocation(t,!0),a=i.lineIndex,s=i.charIndex,l=o.lineIndex,c=o.charIndex;if(a!==l){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-c]=r);for(n=a+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){r=this.styles[a];var u,d,h=c-s;for(n=s;n<c;n++)delete r[n];for(d in this.styles[a])(u=parseInt(d,10))>=c&&(r[u-h]=r[d],delete r[d])}},shiftLineStyles:function(t,n){var r=e(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>t&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,n,r,i){var o,a={},s=!1;for(var l in r||(r=1),this.shiftLineStyles(t,r),this.styles[t]&&(o=this.styles[t][0===n?n:n-1]),this.styles[t]){var c=parseInt(l,10);c>=n&&(s=!0,a[c-n]=this.styles[t][l],delete this.styles[t][l])}for(s?this.styles[t+r]=a:delete this.styles[t+r];r>1;)r--,i&&i[r]?this.styles[t+r]={0:e(i[r])}:o?this.styles[t+r]={0:e(o)}:delete this.styles[t+r];this._forceClearCache=!0},insertCharStyleObject:function(t,n,r,i){this.styles||(this.styles={});var o=this.styles[t],a=o?e(o):{};for(var s in r||(r=1),a){var l=parseInt(s,10);l>=n&&(o[l+r]=a[l],a[l-r]||delete o[l])}if(this._forceClearCache=!0,i)for(;r--;)Object.keys(i[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][n+r]=e(i[r]));else if(o)for(var c=o[n?n-1:1];c&&r--;)this.styles[t][n+r]=e(c)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),i=[0],o=0,a=0;a<e.length;a++)"\n"===e[a]?i[++o]=0:i[o]++;i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),o&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],o);for(a=1;a<o;a++)i[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,i[a],n):n&&(this.styles[r.lineIndex+a][0]=n[0]),n=n&&n.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,i[a],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(e.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t=this.getLocalPointer(e),n=0,r=0,i=0,o=0,a=0,s=0,l=this._textLines.length;s<l&&i<=t.y;s++)i+=this.getHeightOfLine(s)*this.scaleY,a=s,s>0&&(o+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));r=this._getLineLeftOffset(a)*this.scaleX;for(var c=0,u=this._textLines[a].length;c<u&&(n=r,(r+=this.__charBounds[a][c].kernedWidth*this.scaleX)<=t.x);c++)o++;return this._getNewSelectionStartFromOffset(t,n,r,o,u)},_getNewSelectionStartFromOffset:function(e,t,n,r,i){var o=e.x-t,a=n-e.x,s=r+(a>o||a<0?0:1);return this.flipX&&(s=i-s),s>this._text.length&&(s=this._text.length),s}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+e.fontSize+";",i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing&&!this.inCompositionMode){if(e.keyCode in this.keysMap)this[this.keysMap[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,o=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,a=this._text.length,s=o.length,l=s-a;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var c=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),u=this.selectionStart>c.selectionStart;this.selectionStart!==this.selectionEnd?(n=this._text.slice(this.selectionStart,this.selectionEnd),l+=this.selectionEnd-this.selectionStart):s<a&&(n=u?this._text.slice(this.selectionEnd+l,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-l)),r=o.slice(c.selectionEnd-l,c.selectionEnd),n&&n.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):u?this.removeStyleFromTo(this.selectionEnd-n.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+n.length)),r.length&&(t&&r.join("")===i.copiedText&&!i.disableStyleCopyPaste?this.insertNewStyleBlock(r,this.selectionStart,i.copiedTextStyle):this.insertNewStyleBlock(r,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+s+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),l=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,i=this._textLines[e],o=this._getLineLeftOffset(e),a=0,s=0,l=i.length;s<l;s++)if((o+=n=this.__charBounds[e][s].width)>t){r=!0;var c=o-n,u=o,d=Math.abs(c-t);a=Math.abs(u-t)<d?s:s-1;break}return r||(a=i.length-1),a},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if(void 0!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){"undefined"===typeof t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=i.util.string.graphemeSplit(e);this.insertNewStyleBlock(o,n,t),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var e=i.util.toFixed,t=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],i=[],o=e;this._setSVGBg(i);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(i,a,t+n,o),this._setSVGTextLineText(r,a,t+n,o),o+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(n,r,o,a){var s=n!==n.trim()||n.match(t),l=this.getSvgSpanStyles(r,s),c=l?'style="'+l+'"':"",u=r.deltaY,d="",h=i.Object.NUM_FRACTION_DIGITS;return u&&(d=' dy="'+e(u,h)+'" '),['<tspan x="',e(o,h),'" y="',e(a,h),'" ',d,c,">",i.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var i,o,a,s,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),d="",h=0,p=this._textLines[t];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,m=p.length-1;f<=m;f++)l=f===m||this.charSpacing,d+=p[f],a=this.__charBounds[t][f],0===h?(n+=a.kernedWidth-a.width,h+=a.width):h+=a.kernedWidth,u&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(t,f),o=this.getCompleteStyleDeclaration(t,f+1),l=this._hasStyleChangedForSvg(i,o)),l&&(s=this._getStyleDeclaration(t,f)||{},e.push(this._createTextCharSpan(d,s,n,r)),d="",i=o,n+=h,h=0)},_pushTextBgRect:function(t,n,r,o,a,s){var l=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(n),' x="',e(r,l),'" y="',e(o,l),'" width="',e(a,l),'" height="',e(s,l),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var i,o,a=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=a.length;d<h;d++)i=this.__charBounds[t][d],(o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,s),c=i.left,l=i.width,u=o):l+=i.kernedWidth;o&&this._pushTextBgRect(e,o,n+c,r,l,s)},_getFillAttributes:function(e){var t=e&&"string"===typeof e?new i.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return i.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,i={},o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[r]&&o>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:t,offset:n},r+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,i=!1,o=this._styleMap[e],a=this._styleMap[e+1];for(var s in o&&(e=o.line,r=o.offset),a&&(i=a.line===e,t=a.offset),n="undefined"===typeof e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=r&&(!i||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];e=r.line,t=r.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,i=0;n=n||0;for(var o=0,a=e.length;o<a;o++){i+=this._getGraphemeBox(e[o],t,o+n,r,!0).kernedWidth,r=e[o]}return i},_wrapLine:function(e,n,r,i){var o=0,a=this.splitByGrapheme,s=[],l=[],c=a?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=a?"":" ",p=0,f=0,m=0,g=!0,v=a?0:this._getWidthOfCharSpacing();i=i||0;0===c.length&&c.push([]),r-=i;for(var _=0;_<c.length;_++)u=a?c[_]:t.util.string.graphemeSplit(c[_]),p=this._measureWord(u,n,d),d+=u.length,(o+=f+p-v)>=r&&!g?(s.push(l),l=[],o=p,g=!0):o+=v,g||a||l.push(h),l=l.concat(u),f=this._measureWord([h],n,d),d++,g=!1,p>m&&(m=p);return _&&s.push(l),m+i>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+i),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),i=new Array(r.length),o=0;o<r.length;o++)i[o]=r[o].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t)}).call(this,n(23).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(25),i=n(26),o=n(27);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l))return new l(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):h(e,t);if("Buffer"===t.type&&o(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return j(this,t,n);case"base64":return k(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var d=!0,h=0;h<l;h++)if(c(e,o+h)!==c(t,h)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return q(H(t,e.length-n),e,n,r)}function C(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return C(e,t,n,r)}function S(e,t,n,r){return q(z(t),e,n,r)}function x(e,t,n,r){return q(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function k(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){o=c[d],a=u[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return C(this,e,t,n);case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function j(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function I(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function L(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return o||L(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function A(e,t,n,r,o){return o||L(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||D(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||D(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||D(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||D(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||D(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||D(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):R(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):R(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):R(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return A(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return A(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:H(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(24))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?i-1:0,h=n?-1:1,p=e[t+d];for(d+=h,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=h,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var r=n(1),i=n(6),o=n(7);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(22),i=n(2),o=n(6),a=n(7),s=n(37),l=0,c={getLength:function(e){var t=0;return a(e,(function(){t+=1})),t},map:function(e,t,n){var r=[];return i(e,(function(){r.push(t.apply(n||null,arguments))})),r},filter:function(e,t,n){var r=[];return o(e,(function(e){t.apply(n||null,arguments)&&r.push(e)})),r},generateId:function(){return l+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}};e.exports=c},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(39),i=n(13),o=n(41),a=n(3),s=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},a(t)&&(t=s.appendHTMLElement("div")),r(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=o(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){i(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)i(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";var r={appendHTMLElement:function(e,t,n){var r=document.createElement(e);return r.className=n||"",t?t.appendChild(r):document.body.appendChild(r),r}};e.exports=r},function(e,t,n){"use strict";var r=n(0),i=n(20),o=n(11),a=n(21),s=n(1),l=n(13),c=n(2),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(e,t){var n="",r=0;if((e+"").length>t)return e+"";for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return r.test(e)},hexToRGB:function(e){return!!i.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var r="#"+i.leadingZero(e.toString(16),2)+i.leadingZero(t.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(r)&&r},rgbToHSV:function(e,t,n){var r,i,o,a,s,l;if(e/=255,t/=255,n/=255,s=r=Math.max(e,t,n),l=r-(i=Math.min(e,t,n)),a=0===r?0:l/r,r===i)o=0;else{switch(r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return[Math.round(360*o),Math.round(100*a),Math.round(100*s)]},hsvToRGB:function(e,t,n){var r,i,o,a,s,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0===(t/=100))return r=i=o=n,[Math.round(255*r),Math.round(255*i),Math.round(255*o)];switch(l=n*(1-t),c=n*(1-t*(s=(e/=60)-(a=Math.floor(e)))),u=n*(1-t*(1-s)),a){case 0:r=n,i=u,o=l;break;case 1:r=c,i=n,o=l;break;case 2:r=l,i=n,o=u;break;case 3:r=l,i=c,o=n;break;case 4:r=u,i=l,o=n;break;default:r=n,i=l,o=c}return[Math.round(255*r),Math.round(255*i),Math.round(255*o)]}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var r=n(11),i=n(2),o=n(26);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var r=n(6),i=n(7),o=n(0),a=n(1),s=n(20),l=n(13),c=n(21),u=n(4),d=Array.prototype.slice;function h(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}h.and=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},h.or=function(e){var t;return e=d.call(arguments),t=e.length,function(n){for(var r=1,i=e[0].call(null,n);r<t;r+=1)i=i||e[r].call(null,n);return i}},h.merge=function(e){var t={},n=new h(e.getItemID);return r(arguments,(function(e){o(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},h.prototype.getItemID=function(e){return e._id+""},h.prototype.add=function(e){var t,n;arguments.length>1?r(d.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},h.prototype.remove=function(e){var t,n,r=[];return this.length?arguments.length>1?r=u.map(d.call(arguments),(function(e){return this.remove(e)}),this):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):r):r},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=s(this.items[e])),n)},h.prototype.doWhenHas=function(e,t,n){var r=this.items[e];s(r)&&t.call(n||this,r)},h.prototype.find=function(e){var t=new h;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},h.prototype.groupBy=function(e,t){var n,i,o={},s=l(e),c=this.getItemID;if(a(e)){if(r(e,(function(e){o[e+""]=new h(c)})),!t)return o;e=t,s=!0}return this.each((function(t){s?i=e(t):(i=t[e],l(i)&&(i=i.apply(t))),(n=o[i])||(n=o[i]=new h(c)),n.add(t)})),o},h.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},h.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},h.prototype.each=function(e,t){i(this.items,e,t||this)},h.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=h},function(e,t,n){"use strict";var r=n(3),i=n(36);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};window&&window.navigator&&function(){var e,t,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(a);e?(r.msie=!0,r.version=parseFloat(e[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(o))r.msie=!0,r.version=11,n=!0;else if(l.exec(o))r.edge=!0,r.version=o.match(l)[1],n=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]))&&t.length>1){r[e]=n=!0,r.version=parseFloat(t[1]||0);break}n||(r.others=!0)}};u[i]&&u[i]()}(),e.exports=r},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var r=n(10),i=n(42),o=n(44),a=n(47),s=n(28),l=n(17),c=n(14),u=n(15),d=n(0);function h(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=d({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(e){var n=this.container;e?(i(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(o(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(e){return{target:s(e),originEvent:e}},h.prototype._onMouseDown=function(e){0===a(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},r.mixin(h),e.exports=h}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in r)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var r=n(10),i=n(28),o=n(17),a=n(14),s=n(30),l=n(0),c=n(18),u=n(9),d=n(12),h=n(8),p=n(51);function f(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),h.call(this,e,t)}c(f,h),f.prototype._onClick=function(e){var t=this.options,n=i(e),r={};if(s(n,t.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);s(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},f.prototype._onChange=function(e){var t=this.options,n=i(e),r={};s(n,t.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},f.prototype._beforeDestroy=function(){this._toggleEvent(!1)},f.prototype._toggleEvent=function(e){var t,n=this.options,r=this.container,i=e?a:o;i(r,"click",this._onClick,this),(t=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&i(t,"change",this._onChange,this)},f.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=p({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:d.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},r.mixin(f),e.exports=f},function(e,t,n){"use strict";var r=n(5),i=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";var r=n(10),i=n(53),o=n(54),a=n(30),s=n(0),l=n(18),c=n(9),u=n(32),d=n(12),h=n(8),p=n(24),f=n(57),m=[-7,112],g=[-3,115];function v(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",h.call(this,e,t),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new p({distance:0},t),this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(v,h),v.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},v.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},v.prototype.isVisible=function(){return"block"===this.container.style.display},v.prototype.render=function(e){var t,n,r=this.container,i=this.options,o=f.layout;d.isValidRGB(e)&&(o=(o=(o=(o=o.replace(/{{slider}}/,f.slider)).replace(/{{huebar}}/,f.huebar)).replace(/{{cssPrefix}}/g,i.cssPrefix)).replace(/{{id}}/g,i.id),this.container.innerHTML=o,this.sliderHandleElement=r.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+i.cssPrefix+"slider-basecolor"),t=d.hexToRGB(e),n=d.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},v.prototype._moveColorSliderHandle=function(e,t,n){var r,i=this.sliderHandleElement;t=Math.max(m[0],t),t=Math.min(m[1],t),e=Math.max(m[0],e),e=Math.min(m[1],e),u.setTranslateXY(i,e,t),r=t>50?"white":"black",u.setStrokeColor(i,r),n||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveSaturationAndValue=function(e,t,n){var r,i,o,a;e=e||0,t=t||0,r=Math.abs(m[0]),o=e*(i=m[1])/100-r,a=i-t*i/100-r,this._moveColorSliderHandle(o,a,n)},v.prototype._moveColorSliderByPosition=function(e,t){var n=m[0];this._moveColorSliderHandle(e+n,t+n)},v.prototype.getSaturationAndValue=function(){var e=Math.abs(m[0]),t=e+m[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},v.prototype._moveHueHandle=function(e,t){var n,r,i=this.huebarHandleElement,o=this.baseColorElement;e=Math.max(g[0],e),e=Math.min(g[1],e),u.setTranslateY(i,e),n=d.hsvToRGB(this.getHue(),100,100),r=d.rgbToHEX.apply(null,n),u.setGradientColorStop(o,r),t||this.fire("_selectColor",{color:d.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveHue=function(e,t){var n,r;n=((r=Math.abs(g[0]))+g[1])*(e=e||0)/359.99-r,this._moveHueHandle(n,t)},v.prototype._moveHueByPosition=function(e){var t=g[0];this._moveHueHandle(e+t)},v.prototype.getHue=function(){var e,t,n=this.huebarHandleElement,r=u.getTranslateXY(n);return t=(e=Math.abs(g[0]))+g[1],359.99*(r[0]+e)/t},v.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},v.prototype.getRGB=function(){return d.hsvToRGB.apply(null,this.getHSV())},v.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=o(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:a(n,t.cssPrefix+"slider-left"),parentElement:n}},v.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},v.prototype._onDragStart=function(e){this._prepareColorSliderForMouseEvent(e)},v.prototype._onDrag=function(e){var t=this._dragDataCache,n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},v.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(v),e.exports=v},function(e,t,n){"use strict";var r=n(4).isOldBrowser,i=/[\.\-0-9]+/g,o={getTranslateXY:function(e){var t;return r?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(i),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){r?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){r?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){r?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){r?e.color=t:e.setAttribute("stop-color",t)}};e.exports=o},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var r={Collection:n(19),View:n(8),Drag:n(24),create:n(48),Palette:n(29),Slider:n(31),colorutil:n(12),svgvml:n(32)};e.exports=r},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(3),i=n(38);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(2),i=n(5),o=n(23),a=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var r=n(1),i=n(3);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(14),i=n(15),o=n(43),a=n(27),s="onselectstart"in document,l=a(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),s?r(e,"selectstart",i):(e=e===document?document.documentElement:e,o(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+r(t),n)}},function(e,t,n){"use strict";var r=n(17),i=n(15),o=n(45),a=n(46),s=n(27),l="onselectstart"in document,c=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?r(e,"selectstart",i):((e=e===document?document.documentElement:e).style[c]=o(e,"prevUserSelect")||"auto",a(e,"prevUserSelect"))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(22),i=n(5),o=["0","1","3","5","7"],a=["2","6"],s=["4"];e.exports=function(e){return r.msie&&r.version<=8?function(e){var t=String(e.button);return i(t,o)>-1?0:i(t,a)>-1?2:i(t,s)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var r=n(10),i=n(0),o=n(4),a=n(12),s=n(49),l=n(29),c=n(31),u=0;function d(e){var t;if(!(this instanceof d))return new d(e);if(!(e=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new s(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&o.sendHostName()}d.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;a.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},d.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},d.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},d.prototype.setColor=function(e){if(!a.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},d.prototype.getColor=function(){return this.options.color},d.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},d.prototype.render=function(e){this.layout.render(e||this.options.color)},d.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(d),e.exports=d},function(e,t,n){"use strict";var r=n(0),i=n(18),o=n(9),a=n(8);function s(e,t){this.options=r({cssPrefix:"tui-colorpicker-"},e),t=o.appendHTMLElement("div",t,this.options.cssPrefix+"container"),a.call(this,e,t),this.render()}i(s,a),s.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(t,e)}},function(e,t,n){"use strict";var r=n(5),i=n(2),o=n(1),a=n(11),s=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,d=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,p=/^["']\w+["']$/,f=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],o=0,a=0;return i(t,(function(e,i){0===e.indexOf("if")?o+=1:"/if"===e?o-=1:o||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(a,i)),a=i+1)})),r.push(t.slice(a)),{exps:n,sourcesInsideIf:r}}(e,t),o=!1,a="";return i(r.exps,(function(e,t){return(o=b(e,n))&&(a=C(r.sourcesInsideIf[t],n)),!o})),a},each:function(e,t,n){var r=b(e,n),a=o(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[a]=r,l["@this"]=e,s(n,l),c+=C(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),o=e[i+1],a=b(e.slice(0,i),n),l={};return l[o]=a,C(t,s(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],o=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)r=n.index,i.push(e.slice(o,r)),o=r+n[0].length,n=t.exec(e);return i.push(e.slice(o)),i};function _(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:p.test(e)?r=e.replace(f,""):c.test(e)?r=_((n=e.split(u))[0],t)[_(n[1],t)]:d.test(e)?r=_((n=e.split(h))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function y(e,t,n){for(var r,i=g[e],o=1,s=2,l=t[s];o&&a(l);)0===l.indexOf(e)?o+=1:0===l.indexOf("/"+e)&&(o-=1,r=s),l=t[s+=2];if(o)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=i(t[0].split(" ").slice(1),function(e,t,n){var r=e.splice(t+1,n-t);return r.pop(),r}(t,0,r),n),t}function b(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(_(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function C(e,t){for(var n,r,i,o=1,s=e[o];a(s);)r=(n=s.split(" "))[0],g[r]?(i=y(r,e.splice(o,e.length-o),t),e=e.concat(i)):e[o]=b(n,t),s=e[o+=2];return e.join("")}e.exports=function(e,t){return C(v(e,l),t)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){var n,i=r(e),o=i?e[0]:e.clientX,a=i?e[1]:e.clientY;return t?[o-(n=t.getBoundingClientRect()).left-t.clientLeft,a-n.top-t.clientTop]:[o,a]}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var r=n(5),i=n(56),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var r=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),o=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:i,slider:r?a:o,huebar:r?l:s}}).call(this,n(25))}])},e.exports=r()},function(e,t,n){var r;window,r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=65)}([function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(8),a=n.n(o),s=n(9),l=n.n(s),c=n(3),u=n.n(c),d=n(5),h=n.n(d),p=n(6),f=n.n(p),m=n(16),g=n.n(m),v=n(13),_=n.n(v),y=/\u200B/g,b=window.getComputedStyle,C=function(e){return e&&e.nodeType===Node.TEXT_NODE},w=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},S=function(e){return w(e)?e.tagName:"TEXT"},x=function(e){var t;return w(e)?t=e.textContent.replace(y,"").length:C(e)&&(t=e.nodeValue.replace(y,"").length),t},k=function(e){var t,n,r,i=e.parentNode.childNodes;for(t=0,n=i.length;t<n;t+=1)if(i[t]===e){r=t;break}return r},E=function(e,t){var n;return C(e)?n=e:e.childNodes.length&&t>=0&&(n=e.childNodes[t]),n},T=function(e,t,n){for(var r,i,o=e+"Sibling";t&&!t[o]&&(r=S(t.parentNode))!==n&&"BODY"!==r;)t=t.parentNode;return t[o]&&(i=t[o]),i},j=function(e,t,n){for(var r;e.parentNode&&!t(e.parentNode)&&(e=e.parentNode,!n||!n(e.parentNode)););return t(e.parentNode)&&(r=e),r},O=function(e,t){return l()(t)?j(e,(function(e){return t===S(e)})):j(e,(function(e){return t===e}))},P=function(e,t,n){var r,i=e+"Sibling";return(t=O(t,n))&&t[i]&&(r=t[i]),r},D=function(e){var t={};t.tagName=e.nodeName,e.id&&(t.id=e.id);var n=e.className.trim();return n&&(t.className=n),t},M=function(e,t,n){var r=t;if(r&&e===r.parentNode)for(;r!==n;){var i=r.nextSibling;e.removeChild(r),r=i}},I=function(e){return!!e&&("UL"===e.nodeName||"OL"===e.nodeName)},R=function(e,t){e.hasChildNodes()&&(i()(e.childNodes).forEach((function(){t.appendChild(e.firstChild)})),t.normalize()),e.parentNode&&e.parentNode.removeChild(e)},L=function(e,t){if("SPAN"!==e.nodeName)for(var n=e.parentNode,r=e;r.childNodes&&1===r.childNodes.length&&!C(r.firstChild)&&"SPAN"!==(r=r.firstChild).nodeName;)if(r.nodeName===t){var i=document.createElement(t);return R(r,r.parentNode),n.replaceChild(i,e),i.appendChild(e),i}return e},N=function(e,t,n){var r=L(e,n);if(r.nodeName===n)for(var i=L(t,n),o=r,a=r.nextSibling;a;){var s=a.nextSibling;if((a=L(a,n)).nodeName===n?o?R(a,o):o=a:o=null,a===i)break;a=s}};function A(e,t){var n=i()(e.querySelectorAll(t));return n.length?n:[]}function F(e,t){var n;for(n=l()(t)?function(e){return _()(e,t)}:function(e){return e===t};e&&e!==document;){if(w(e)&&n(e))return e;e=e.parentNode}return null}function B(e,t){for(var n=[];e&&e!==document;)(e=F(e.parentNode,t))&&n.push(e);return n}function H(e,t){var n;return n=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:e.children,i()(n).filter((function(e){return _()(e,t)}))}function z(e){e.parentNode&&e.parentNode.removeChild(e)}t.a={getNodeName:S,isTextNode:C,isElemNode:w,isBlockNode:function(e){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(e))},getTextLength:x,getOffsetLength:function(e){var t;return w(e)?t=e.childNodes.length:C(e)&&(t=e.nodeValue.replace(y,"").length),t},getPrevOffsetNodeUntil:function(e,t,n){return t>0?E(e,t-1):T("previous",e,n)},getNodeOffsetOfParent:k,getChildNodeByOffset:E,getNodeWithDirectionUntil:T,containsNode:function(e,t){for(var n=document.createTreeWalker(e,4,null,!1),r=e===t;!r&&n.nextNode();)r=n.currentNode===t;return r},getTopPrevNodeUnder:function(e,t){return P("previous",e,t)},getTopNextNodeUnder:function(e,t){return P("next",e,t)},getParentUntilBy:j,getParentUntil:O,getTopBlockNode:function(e){return O(e,"BODY")},getPrevTextNode:function(e){for(e=e.previousSibling||e.parentNode;!C(e)&&"BODY"!==S(e);)if(e.previousSibling)for(e=e.previousSibling;e.lastChild;)e=e.lastChild;else e=e.parentNode;return"BODY"===S(e)&&(e=null),e},findOffsetNode:function(e,t,n){var r,i=[],o="",s=0;if(!t.length)return i;for(var l=t.shift(),c=document.createTreeWalker(e,4,null,!1);c.nextNode();){for(o=c.currentNode.nodeValue||"",n&&(o=n(o)),r=s+o.length;r>=l;){if(i.push({container:c.currentNode,offsetInContainer:l-s,offset:l}),!t.length)return i;l=t.shift()}s=r}do{i.push({container:c.currentNode,offsetInContainer:o.length,offset:l}),l=t.shift()}while(!a()(l));return i},getPath:function(e,t){for(var n=[];e&&e!==t;)w(e)&&n.unshift(D(e)),e=e.parentNode;return n},getNodeInfo:D,getTableCellByDirection:function(e,t){var n=null;return a()(t)||"next"!==t&&"previous"!==t||(n="next"===t?e.nextElementSibling:e.previousElementSibling),n},getSiblingRowCellByDirection:function(e,t,n){var r,i,o,s,l,c=null;return a()(t)||"next"!==t&&"previous"!==t||e&&("next"===t?(i=e.parentNode&&e.parentNode.nextSibling,l=(s=(o=B(e,"thead"))[0]&&o[0].nextSibling)&&"TBODY"===S(s),r=0):(i=e.parentNode&&e.parentNode.previousSibling,l=(s=(o=B(e,"tbody"))[0]&&o[0].previousSibling)&&"THEAD"===S(s),r=e.parentNode.childNodes.length-1),!a()(n)&&n||(r=k(e)),i?c=H(i,"td,th")[r]:o[0]&&l&&(c=A(s,"td,th")[r])),c},isMDSupportInlineNode:function(e){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(e.nodeName)},isStyledNode:function(e){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(e.nodeName)},removeChildFromStartToEndNode:M,removeNodesByDirection:function(e,t,n){for(var r=t;r!==e;){var i=r.parentNode,o=r,a=o.nextSibling,s=o.previousSibling;!n&&a?M(i,a,null):n&&s&&M(i,i.childNodes[0],r),r=i}},getLeafNode:function(e){for(var t=e;t.childNodes&&t.childNodes.length;){var n=t.firstChild;t=C(n)&&!x(n)&&n.nextSibling||n}return t},isInsideTaskBox:function(e,t,n){var r=parseInt(e.left,10),i=parseInt(e.top,10),o=parseInt(e.width,10),a=parseInt(e.height,10);return t>=r&&t<=r+o&&n>=i&&n<=i+a},isListNode:I,isFirstListItem:function(e){var t=e.nodeName,n=e.parentNode;return"LI"===t&&e===n.firstChild},isFirstLevelListItem:function(e){var t=e.nodeName,n=e.parentNode.parentNode;return"LI"===t&&!I(n)},mergeNode:R,createHorizontalRule:function(){var e=document.createElement("div"),t=document.createElement("hr");return e.setAttribute("contenteditable",!1),t.setAttribute("contenteditable",!1),e.appendChild(t),e},createEmptyLine:function(){var e=document.createElement("div");return e.appendChild(document.createElement("br")),e},changeTagOrder:L,mergeSameNodes:N,optimizeRange:function(e,t){var n=e.collapsed,r=e.commonAncestorContainer,i=e.startContainer,o=e.endContainer;if(!n){var a=null;if(i!==o){var s=O(i,r),l=O(o,r);s&&l&&N(s,l,t),a=r}else C(i)&&(a=i.parentNode);if(a&&a.nodeName===t){var c,u=a.previousSibling;u&&(c=L(u)).nodeName===t&&R(a,c);var d=a.nextSibling;d&&(c=L(d)).nodeName===t&&R(c,a)}}},getAllTextNode:function(e){for(var t=document.createTreeWalker(e,4,null,!1),n=[];t.nextNode();){var r=t.currentNode;C(r)&&n.push(r)}return n},isCellNode:function(e){return!!e&&("TD"===e.nodeName||"TH"===e.nodeName)},getLastNodeBy:function(e,t){for(var n=e&&e.lastChild;n&&t(n);)n=n.lastChild;return n},getParentNodeBy:function(e,t){for(;e&&t(e.parentNode,e);)e=e.parentNode;return e},getSiblingNodeBy:function(e,t,n){for(var r=t+"Sibling";e&&n(e[r],e);)e=e[r];return e},createElementWith:function(e,t){var n=document.createElement("div");l()(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r},findAll:A,isContain:function(e,t){return e!==t&&e.contains(t)},closest:F,parent:function(e,t){var n=e.parentNode;return t?n&&_()(n,t)?n:null:n},parents:B,parentsUntil:function(e,t){for(var n=[];e.parentNode&&!_()(e.parentNode,t);)(e=e.parentNode)&&n.push(e);return n},children:H,append:function(e,t){if(l()(t))e.insertAdjacentHTML("beforeEnd",t);else for(var n=0,r=(t=t.length?i()(t):[t]).length;n<r;n+=1)e.appendChild(t[n])},prepend:function(e,t){if(l()(t))e.insertAdjacentHTML("afterBegin",t);else for(var n=(t=t.length?i()(t):[t]).length-1;n>=0;n-=1)e.insertBefore(t[n],e.firstChild)},insertBefore:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)},insertAfter:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t.nextSibling)},replaceWith:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){e.insertAdjacentHTML("afterEnd",t),e.parentNode.removeChild(e)}))},wrap:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){var n=document.createElement(t);e.parentNode.insertBefore(n,e),n.appendChild(e)}))},wrapInner:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){var n=document.createElement(t);for(e.appendChild(n);e.firstChild!==n;)n.appendChild(e.firstChild)}))},unwrap:function(e){for(var t=[];e.firstChild;)t.push(e.firstChild),e.parentNode.insertBefore(e.firstChild,e);return z(e),t},remove:z,empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOffset:function(e,t){var n=e.parentNode.getBoundingClientRect(),r=n.top,i=n.left;u()(e,{top:t.top-r-document.body.scrollTop+"px"}),u()(e,{left:t.left-i-document.body.scrollLeft+"px"})},getOffset:function(e,t){void 0===t&&(t="document");var n=0,r=0;do{n+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e&&!_()(e,t));return{top:n,left:r}},getOuterWidth:function(e,t){var n=e.offsetWidth;if(t){var r=b(e),i=r.marginLeft,o=r.marginRight;n+=parseInt(i,10)+parseInt(o,10)}return n},getOuterHeight:function(e,t){var n=e.offsetHeight;if(t){var r=b(e),i=r.marginTop,o=r.marginBottom;n+=parseInt(i,10)+parseInt(o,10)}return n},toggleClass:function(e,t,n){a()(n)&&(n=!g()(e,t)),(n?h.a:f.a)(e,t)},finalizeHtml:function(e,t){var n;if(t)n=e.innerHTML;else{for(var r=document.createDocumentFragment(),o=i()(e.childNodes),a=o.length,s=0;s<a;s+=1)r.appendChild(o[s]);n=r}return n}}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=function(){function e(e,t,n){this.name=e,this.type=t,n&&this.setKeyMap(n)}var t=e.prototype;return t.getName=function(){return this.name},t.getType=function(){return this.type},t.isMDType=function(){return this.type===e.TYPE.MD},t.isWWType=function(){return this.type===e.TYPE.WW},t.isGlobalType=function(){return this.type===e.TYPE.GB},t.setKeyMap=function(e,t){this.keyMap=[e,t]},e}();o.factory=function(e,t){var n;"markdown"===e?n=o.TYPE.MD:"wysiwyg"===e?n=o.TYPE.WW:"global"===e&&(n=o.TYPE.GB);var r=new o(t.name,n);return i()(r,t),r},o.TYPE={MD:0,WW:1,GB:2};var a=o,s=n(12),l=n(23),c=s.b?1:0,u=function(){function e(e,t){void 0===t&&(t={}),this._command=new l.a,this._mdCommand=new l.a,this._wwCommand=new l.a,this._options=i()({useCommandShortcut:!0},t),this.base=e,this.keyMapCommand={},this._initEvent()}var t=e.prototype;return t._addCommandBefore=function(e){var t={command:e};return this.base.eventManager.emit("addCommandBefore",t),t.command||e},t.addCommand=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(t=e.command.apply(e,[t].concat(r)));var o,a=(t=this._addCommandBefore(t)).getName();return t.isMDType()?o=this._mdCommand:t.isWWType()?o=this._wwCommand:t.isGlobalType()&&(o=this._command),o.set(a,t),t.keyMap&&(this.keyMapCommand[t.keyMap[c]]=a),t},t._initEvent=function(){var e=this;this.base.eventManager.listen("command",(function(){e.exec.apply(e,arguments)})),this.base.eventManager.listen("keyMap",(function(t){if(e._options.useCommandShortcut){var n=e.keyMapCommand[t.keyMap];n&&(t.data.preventDefault(),e.exec(n))}}))},t.exec=function(e){var t,n,r=this.base;if((t=this._command.get(e))||(this.base.isMarkdownMode()?(t=this._mdCommand.get(e),r=this.base.mdEditor):(t=this._wwCommand.get(e),r=this.base.wwEditor)),t){for(var i,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];a.unshift(r),n=(i=t).exec.apply(i,a)}return n},e}();u.command=function(e,t){var n=a.factory(e,t.name,t.keyMap);return i()(n,t),n},t.a=u},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";var r=n(9),i=n(26);e.exports=function(e,t,n){var o=e.style;r(t)?o[t]=n:i(t,(function(e,t){o[t]=e}))}},function(e,t,n){"use strict";function r(e){return e.sourcepos[0][0]}function i(e){return e.sourcepos[1][0]}function o(e){return e.sourcepos[0][1]}function a(e){return e.sourcepos[1][1]}function s(e){var t=e.type;return"codeBlock"===t||"paragraph"===t}function l(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}function c(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t}function u(e){return"item"===e.type}function d(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":return!0;default:return!1}}function h(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;){if(t(e))return e;e=e.parent}return null}function p(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;)t(e),e=e.parent}function f(e,t){return{line:e.line,ch:e.ch+t}}function m(e,t){return{line:e.line,ch:t}}n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return m})),n(12)},function(e,t,n){"use strict";var r=n(26),i=n(14),o=n(33),a=n(39);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var r=n(21),i=n(14),o=n(33),a=n(39);e.exports=function(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!==typeof window&&window.navigator&&function(){var e,t,n=window.navigator,i=n.appName.replace(/\s/g,"_"),o=n.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,s=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,c={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},u={Microsoft_Internet_Explorer:function(){var e=o.match(a);e?(r.msie=!0,r.version=parseFloat(e[1])):r.others=!0},Netscape:function(){var n=!1;if(s.exec(o))r.msie=!0,r.version=11,n=!0;else if(l.exec(o))r.edge=!0,r.version=o.match(l)[1],n=!0;else for(e in c)if(c.hasOwnProperty(e)&&(t=o.match(c[e]))&&t.length>1){r[e]=n=!0,r.version=parseFloat(t[1]||0);break}n||(r.others=!0)}};u[i]&&u[i]()}(),e.exports=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(8),i=n.n(r),o=n(43),a=n.n(o),s=/Mac/.test(navigator.platform);function l(){a()("editor","UA-129966929-1")}function c(e,t){return-1!==e.indexOf(t)}var u=["rel","target","contenteditable","hreflang","type"];function d(e){if(!e)return null;var t={};return u.forEach((function(n){i()(e[n])||(t[n]=e[n])})),t}},function(e,t,n){"use strict";var r=n(14),i=n(2),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(14),i=n(33);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g}));var r=n(12),i=n(4),o=["list","blockQuote"],a=["UL","OL","BLOCKQUOTE"],s=["TR","TH","TBODY","TD"];function l(e){return!Object(r.a)(o,e.type)}function c(e,t,n,r){var i=(e-t)/n;return i<1?i*r:r}function u(e){for(var t=document.querySelector('[data-nodeid="'+e.id+'"]');!t||Object(r.a)(s,e.type)||Object(i.k)(e);)e=e.parent,t=document.querySelector('[data-nodeid="'+e.id+'"]');return function(e){for(var t=e.mdNode,n=e.node;Object(r.a)(o,t.type)&&t.firstChild;)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,node:n}}(function(e){for(var t=e;e&&"document"!==e;){if("item"===e.type){t=e;break}e=e.parent}return{mdNode:t,node:document.querySelector('[data-nodeid="'+t.id+'"]')}}(e))}function d(e,t){var n=Object(i.f)(e),r=Object(i.d)(e),o=t.lineInfo(n-1).handle.height,a=t.heightAtLine(r,"local")-t.heightAtLine(n-1,"local");return a<=0?o:a+h(t,Object(i.d)(e))}function h(e,t,n){void 0===n&&(n=Number.MAX_VALUE);var r=e.lineInfo(t);if(!r)return 0;for(var i=r.handle,o=0;t<=n&&!i.text.trim();)o+=i.height,t+=1,i=e.lineInfo(t).handle;return o}function p(e,t){for(var n=0;e&&e!==t&&(Object(r.a)(a,e.tagName)||(n+=e.offsetTop),e.offsetParent!==t.offsetParent);)e=e.parentElement;return n}function f(e,t){for(var n=t,r=null;n;){var i=n.firstElementChild;if(!i)break;r=n,n=m(i,e,p(n,t))}var o=n||r;return o===t?null:o}function m(e,t,n){return e&&t>n+e.offsetTop?m(e.nextElementSibling,t,n)||e:null}function g(e){var t=e.latestScrollTop,n=e.scrollTop,r=e.targetScrollTop,i=e.sourceScrollTop;return null===t?r:t<n?Math.max(r,i):Math.min(r,i)}},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=10)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importDefault(n(17));function o(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":return!0;default:return!1}}t.isContainer=o;var a=1,s={};t.getNodeById=function(e){return s[e]},t.removeNodeById=function(e){delete s[e]},t.removeAllNode=function(){s={}};var l=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:a++,this.type=e,this.sourcepos=t,s[this.id]=this}return e.prototype.isContainer=function(){return o(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new i.default(this)},e}();t.Node=l;var c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return r.__extends(t,e),t}(l);t.BlockNode=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return r.__extends(t,e),t}(c);t.ListNode=u;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return r.__extends(t,e),t}(c);t.HeadingNode=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return r.__extends(t,e),t}(l);t.LinkNode=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return r.__extends(t,e),t}(c);t.CodeBlockNode=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return r.__extends(t,e),t}(c);t.HtmlBlockNode=f;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return r.__extends(t,e),t}(l);t.CodeNode=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return r.__extends(t,e),t}(c);t.TableNode=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return r.__extends(t,e),t}(c);t.TableCellNode=v;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return r.__extends(t,e),t}(c);function y(e,t){switch(e){case"heading":return new d(e,t);case"list":case"item":return new u(e,t);case"link":case"image":return new h(e,t);case"codeBlock":return new p(e,t);case"htmlBlock":return new f(e,t);case"table":return new g(e,t);case"tableCell":return new v(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":return new c(e,t);case"code":return new m(e,t);case"refDef":return new _(e,t);default:return new l(e,t)}}t.RefDefNode=_,t.createNode=y,t.isCodeBlock=function(e){return"codeBlock"===e.type},t.isHtmlBlock=function(e){return"htmlBlock"===e.type},t.isHeading=function(e){return"heading"===e.type},t.isList=function(e){return"list"===e.type},t.isTable=function(e){return"table"===e.type},t.isRefDef=function(e){return"refDef"===e.type},t.text=function(e,t){var n=y("text",t);return n.literal=e,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(11)),i=n(7);t.ENTITY="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});";var o=/[\\&]/;t.ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]";var a=new RegExp("\\\\"+t.ESCAPABLE+"|"+t.ENTITY,"gi"),s=new RegExp('[&<>"]',"g"),l=function(e){return 92===e.charCodeAt(0)?e.charAt(1):i.decodeHTML(e)};function c(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}t.unescapeString=function(e){return o.test(e)?e.replace(a,l):e},t.normalizeURI=function(e){try{return r.default(e)}catch(t){return e}},t.escapeXml=function(e){return s.test(e)?e.replace(s,c):e},t.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")},t.last=function(e){return e.length?e[e.length-1]:null},t.isEmpty=function(e){return!e||!/[^ \t]+/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.last=function(e){return e[e.length-1]},t.normalizeReference=function(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()},t.iterateObject=function(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))},t.omit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.__assign({},e);return t.forEach((function(e){delete i[e]})),i},t.isEmptyObj=function(e){return!Object.keys(e).length},t.clearObj=function(e){Object.keys(e).forEach((function(t){delete e[t]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE_INDENT=4,t.C_TAB=9,t.C_NEWLINE=10,t.C_GREATERTHAN=62,t.C_LESSTHAN=60,t.C_SPACE=32,t.C_OPEN_BRACKET=91,t.reNonSpace=/[^ \t\f\v\r\n]/,t.reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/,t.endsWithBlankLine=function(e){for(var t=e;t;){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1},t.peek=function(e,t){return t<e.length?e.charCodeAt(t):-1},t.isBlank=function(e){return!t.reNonSpace.test(e)},t.isSpaceOrTab=function(e){return e===t.C_SPACE||e===t.C_TAB}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(1),a=n(25),s=n(9),l=n(3),c=n(4),u=/\r\n|\n|\r/;function d(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}t.createRefDefState=d;var h=function(){function e(e,t){var n;this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===(n=t)||void 0===n?void 0:n.referenceDefinition),this.parser=new i.Parser(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(u),this.root=this.parser.parse(e)}return e.prototype.updateLineTexts=function(e,t,n){var i,o=e[0],a=e[1],s=t[0],l=t[1],c=n.split(u),d=c.length,h=this.lineTexts[o-1],p=this.lineTexts[s-1];c[0]=h.slice(0,a-1)+c[0],c[d-1]=c[d-1]+p.slice(l-1);var f=s-o+1;return(i=this.lineTexts).splice.apply(i,r.__spreadArrays([o-1,f],c)),d-f},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(a.insertNodesBefore(e,n),a.removeNextUntil(e,t),[e.id,t.id].forEach((function(e){return o.removeNodeById(e)})),e.unlink()):t?(a.insertNodesBefore(t,n),o.removeNodeById(t.id),t.unlink()):a.prependChildNodes(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=a.findChildNodeAtLine(this.root,e[0]),r=a.findChildNodeAtLine(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},e.prototype.parseRange=function(e,t,n,r){var i;e&&e.prev&&(o.isList(e.prev)&&function(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return s.reBulletListMarker.test(n)||s.reOrderedListMarker.test(n)}(this.lineTexts[n-1])||o.isTable(e.prev)&&(i=this.lineTexts[n-1],!c.isBlank(i)&&-1!==i.indexOf("|")))&&(n=(e=e.prev).sourcepos[0][0]);for(var l=this.lineTexts.slice(n-1,r),u=this.parser.partialParseStart(n,l),d=t?t.next:this.root.firstChild;u.lastChild&&o.isList(u.lastChild)&&d&&("list"===d.type||d.sourcepos[0][1]>=2);){var h=this.extendEndLine(d.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,h)),e||(e=t),t=d,r=h,d=d.next}return this.parser.partialParseFinish(),{newNodes:a.getChildNodes(u),extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&o.isRefDef(e)||t&&o.isRefDef(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!l.isEmptyObj(this.refMap)){var r=function(e){if(o.isRefDef(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&a.invokeNextUntil(r,e.parent,t),t&&a.invokeNextUntil(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!l.isEmptyObj(this.refMap)){var n=function(e){if(o.isRefDef(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=d(e))}};e.forEach((function(e){a.invokeNextUntil(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;l.isEmptyObj(this.refDefCandidateMap)||l.iterateObject(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=d(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!l.isEmptyObj(this.refMap)){var s=a.findChildNodeAtLine(this.root,e-1),c=a.findChildNodeAtLine(this.root,t+1);s&&o.isRefDef(s)&&s!==n&&s!==r&&(e=(n=s).sourcepos[0][0]),c&&o.isRefDef(c)&&c!==n&&c!==r&&(r=c,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,d=l.extEndNode,h=this.getRemovedNodeRange(u,d),p=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,d),this.replaceRangeNodes(u,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,d,c),{nodes:c,removedNodeRange:h,nextNode:p}},e.prototype.parseRefLink=function(){var e=this,t=[];return l.isEmptyObj(this.refMap)||l.iterateObject(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],l.iterateObject(e.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){l.isEmptyObj(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){l.iterateObject(e,(function(t){a.isUnlinked(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),i=this.parse(e,t,r),o=l.omit(i,"nextNode");a.updateNextLineNumbers(i.nextNode,r),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=a.findNodeAtPosition(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return a.findFirstNodeAtLine(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return a.findNodeById(e)},e.prototype.removeAllNode=function(){o.removeAllNode()},e}();t.ToastMark=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(1),a=n(18),s=n(21),l=n(4),c=n(9),u=n(3),d=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],h=/^[#`~*+_=<>0-9-]/,p=/\r\n|\n|\r/;function f(){return o.createNode("document",[[1,1],[0,0]])}var m={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null},g=function(){function e(e){this.options=r.__assign(r.__assign({},m),e),this.doc=f(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.inlineParser=new a.InlineParser(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,i,o=this.currentLine;e>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=l.CODE_INDENT},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=i.repeat(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){for(;!s.blockHandlers[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=o.createNode(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],s.blockHandlers[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=r.next();){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"\ufffd")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),s.blockHandlers[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i="paragraph"!==t.type&&s.blockHandlers[t.type].acceptsLines,a=c.blockStarts.length;!i;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!h.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<a;){var u=c.blockStarts[l](this,t);if(1===u){t=this.tip;break}if(2===u){t=this.tip,i=!0;break}l++}if(l===a){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var p=t.type,f=this.blank&&!("blockQuote"===p||o.isCodeBlock(t)&&t.isFenced||"item"===p&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),m=t;m;)m.lastLineBlank=f,m=m.parent;s.blockHandlers[p].acceptsLines?(this.addLine(),o.isHtmlBlock(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&d[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e){this.doc=f(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var t=e.split(p),n=t.length;this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===a.C_NEWLINE&&(n-=1);for(var r=0;r<n;r++)this.incorporateLine(t[r]);for(;this.tip;)this.finalize(this.tip,n);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=f(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){u.clearObj(e)}))},e}();t.Parser=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=r(n(13)),a=r(n(14)),s=r(n(15));function l(e){var t=Object.keys(e).join("|"),n=u(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}t.decodeXML=l(a.default),t.decodeHTMLStrict=l(i.default);var c=function(e,t){return e<t?1:-1};function u(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(c),t=Object.keys(i.default).sort(c),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPENTAG="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",t.CLOSETAG="</[A-Za-z][A-Za-z0-9-]*\\s*[>]";var r="(?:"+t.OPENTAG+"|"+t.CLOSETAG+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)";t.reHtmlTag=new RegExp("^"+r,"i")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),o=n(4),a=n(24),s=/^`{3,}(?!.*`)|^~{3,}/,l=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+i.OPENTAG+"|"+i.CLOSETAG+")\\s*$","i")],c=/^(?:=+|-+)[ \t]*$/,u=/^#{1,6}(?:[ \t]+|$)/,d=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/;function h(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}t.reBulletListMarker=/^[*+-]/,t.reOrderedListMarker=/^(\d{1,9})([.)])/,t.blockStarts=[function(e){return e.indented||o.peek(e.currentLine,e.nextNonspace)!==o.C_GREATERTHAN?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;if(!e.indented&&!h(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(u))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(s))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&o.peek(e.currentLine,e.nextNonspace)===o.C_LESSTHAN){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=n.match(l[i]);if(a){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0&&new RegExp("</?(?:"+r.join("|")+")","i").test(a[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=i,2}}}return 0},function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!h(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(c))){e.closeUnmatchedBlocks();for(var i=void 0;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(i=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(i);if(t.stringContent.length>0){var a=r.createNode("heading",t.sourcepos);return a.level="="===n[0][0]?1:2,a.headingType="setext",a.stringContent=t.stringContent,t.insertAfter(a),t.unlink(),e.tip=a,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},function(e){return!e.indented&&d.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,n){var r,i,a,s=n;return e.indented&&"list"!==n.type||!(r=function(e,n){var r,i,a=e.currentLine.slice(e.nextNonspace),s={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(r=a.match(t.reBulletListMarker))s.type="bullet",s.bulletChar=r[0][0];else{if(!(r=a.match(t.reOrderedListMarker))||"paragraph"===n.type&&"1"!==r[1])return null;s.type="ordered",s.start=parseInt(r[1],10),s.delimiter=r[2]}if(-1!==(i=o.peek(e.currentLine,e.nextNonspace+r[0].length))&&i!==o.C_TAB&&i!==o.C_SPACE)return null;if("paragraph"===n.type&&!e.currentLine.slice(e.nextNonspace+r[0].length).match(o.reNonSpace))return null;e.advanceNextNonspace(),e.advanceOffset(r[0].length,!0);var l=e.column,c=e.offset;do{e.advanceOffset(1,!0),i=o.peek(e.currentLine,e.offset)}while(e.column-l<5&&o.isSpaceOrTab(i));var u=-1===o.peek(e.currentLine,e.offset),d=e.column-l;return d>=5||d<1||u?(s.padding=r[0].length+1,e.column=l,e.offset=c,o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):s.padding=r[0].length+d,s}(e,s))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(a=r,(i=s.listData).type===a.type&&i.delimiter===a.delimiter&&i.bulletChar===a.bulletChar)||((s=e.addChild("list",e.nextNonspace)).listData=r),(s=e.addChild("item",e.nextNonspace)).listData=r,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(o.CODE_INDENT,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},a.tableHead,a.tableBody]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.ToastMark=r.ToastMark;var i=n(26);t.createRenderHTML=i.createRenderHTML;var o=n(6);t.Parser=o.Parser},function(e,t,n){"use strict";var r={};function i(e,t,n){var o,a,s,l,c,u="";for("string"!=typeof t&&(n=t,t=i.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}(t),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(l=e.charCodeAt(o+1))>=56320&&l<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(16));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in i.default&&(e=i.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=r.isContainer(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(8),s=r.__importDefault(n(19)),l=n(7),c=n(20),u=n(3),d=n(5);t.C_NEWLINE=10;var h="\\\\"+o.ESCAPABLE,p=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),f=new RegExp('^(?:"('+h+'|[^"\\x00])*"|\'('+h+"|[^'\\x00])*'|\\(("+h+"|[^()\\x00])*\\))"),m=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,g=new RegExp("^"+o.ESCAPABLE),v=new RegExp("^"+o.ENTITY,"i"),_=/`+/,y=/^`+/,b=/\.\.\./g,C=/--+/g,w=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,S=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,x=/^ *(?:\n *)?/,k=/^[ \t\n\x0b\x0c\x0d]/,E=/^\s/,T=/ *$/,j=/^ */,O=/^ *(?:\n|$)/,P=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,D=/^[^\n`\[\]\\!<&*_'"~]+/m,M=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"==typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(x),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(y);if(null===n)return!1;for(var r,o=this.pos;null!==(r=this.match(_));)if(r===n){var a=this.subject.slice(o,this.pos-n.length),s=this.sourcepos(t,this.pos),l=a.split("\n");if(l.length>1){var c=u.last(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-c.length-n.length),s[1]=this.sourcepos(this.pos),a=l.join(" ")}var d=i.createNode("code",s);return a.length>0&&null!==a.match(/[^ ]/)&&" "==a[0]&&" "==a[a.length-1]?d.literal=a.slice(1,a.length-1):d.literal=a,d.tickCount=n.length,e.appendChild(d),!0}return this.pos=o,e.appendChild(i.text(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var n,r=this.subject;this.pos+=1;var o=this.pos;return this.peek()===t.C_NEWLINE?(this.pos+=1,n=i.createNode("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):g.test(r.charAt(this.pos))?(e.appendChild(i.text(r.charAt(this.pos),this.sourcepos(o,this.pos))),this.pos+=1):e.appendChild(i.text("\\",this.sourcepos(o,o))),!0},e.prototype.parseAutolink=function(e){var t,n,r,a=this.pos+1;return(t=this.match(w))?(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI("mailto:"+n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(S))&&(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI(n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(a.reHtmlTag);if(null===n)return!1;var r=i.createNode("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(39===e||34===e)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&126===e)return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":s.default(o);var a,l,c=E.test(r),u=p.test(r),d=E.test(i),h=p.test(i),f=!c&&(!u||d||h),m=!d&&(!h||c||u);return 95===e?(a=f&&(!m||h),l=m&&(!f||u)):39===e||34===e?(a=f&&!m,l=m):(a=f,l=m),this.pos=n,{numdelims:t,canOpen:a,canClose:l}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,o=n.numdelims,a=this.pos+1;this.pos+=o,r=39===e?"\u2019":34===e?"\u201c":this.subject.slice(a-1,this.pos);var s=i.text(r,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||39!==e&&34!==e)&&(this.delimiters={cc:e,numdelims:o,origdelims:o,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,o,a,s,l,c=!1,u=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t);for(r=this.delimiters;null!==r&&r.previous!==e;)r=r.previous;for(;null!==r;){var d=r.cc,h=95===d||42===d;if(r.canClose){for(n=r.previous,l=!1;null!==n&&n!==e&&n!==u[d][h?r.origdelims%3:0];){if(c=h&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!c){l=!0;break}n=n.previous}if(o=r,h||126===d)if(l){if(n){var p=r.numdelims>=2&&n.numdelims>=2?2:1,f=h?0:1;a=n.node,s=r.node;var m=i.createNode(h?1===p?"emph":"strong":"strike"),g=a.sourcepos[1],v=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-p+1],[v[0],v[1]+p-1]],a.sourcepos[1][1]-=p,s.sourcepos[0][1]+=p,a.literal=a.literal.slice(p),s.literal=s.literal.slice(p),n.numdelims-=p,r.numdelims-=p;for(var _=a.next,y=void 0;_&&_!==s;)y=_.next,_.unlink(),m.appendChild(_),_=y;if(a.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=f&&(0===n.numdelims&&a.unlink(),this.removeDelimiter(n)),r.numdelims<=f){0===r.numdelims&&s.unlink();var b=r.next;this.removeDelimiter(r),r=b}}}else r=r.next;else 39===d?(r.node.literal="\u2019",l&&(n.node.literal="\u2018"),r=r.next):34===d&&(r.node.literal="\u201d",l&&(n.node.literal="\u201c"),r=r.next);l||(u[d][h?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(f);return null===e?null:o.unescapeString(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(m);if(null===e){if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&g.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==k.exec(s.default(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:(e=this.subject.substr(t,this.pos-t),o.normalizeURI(o.unescapeString(e)))}return o.normalizeURI(o.unescapeString(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(P);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=i.text("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=i.text("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else n=i.text("!",this.sourcepos(this.pos,this.pos)),e.appendChild(n);return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var o=this.pos,a=this.brackets;if(null===a)return e.appendChild(i.text("]",this.sourcepos(o,o))),!0;if(!a.active)return e.appendChild(i.text("]",this.sourcepos(o,o))),this.removeBracket(),!0;var s=a.image,l=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(k.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=l);var c="";if(!r){var d=this.pos,h=this.parseLinkLabel();if(h>2?c=this.subject.slice(d,d+h):a.bracketAfter||(c=this.subject.slice(a.index,o)),0===h&&(this.pos=l),c){c=u.normalizeReference(c);var p=this.refMap[c];p&&(t=p.destination,n=p.title,r=!0)}}if(r){var f=i.createNode(s?"image":"link");f.destination=t,f.title=n||"",f.sourcepos=[a.startpos,this.sourcepos(this.pos)];for(var m=a.node.next,g=void 0;m;)g=m.next,m.unlink(),f.appendChild(m),m=g;if(e.appendChild(f),this.processEmphasis(a.previousDelimiter),this.removeBracket(),a.node.unlink(),!s)for(a=this.brackets;null!==a;)a.image||(a.active=!1),a=a.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0}return this.removeBracket(),this.pos=o,e.appendChild(i.text("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(v))&&(e.appendChild(i.text(l.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(D)){if(this.options.smart){var r=t.replace(b,"\u2026").replace(C,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),o.repeat("\u2014",n)+o.repeat("\u2013",t)}));e.appendChild(i.text(r,this.sourcepos(n,this.pos)))}else{var a=i.text(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(T,"");var o=r-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(i.createNode(n?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(i.createNode("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(j),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,o=this.parseLinkLabel();if(0===o)return 0;var a=this.subject.substr(0,o);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var s=this.parseLinkDestination();if(null===s)return this.pos=r,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=l);var c=!0;if(null===this.match(O)&&(""===n?c=!1:(n="",this.pos=l,c=null!==this.match(O))),!c)return this.pos=r,0;var h=u.normalizeReference(a);if(""===h)return this.pos=r,0;var p=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=p[1][0]+1;var f=i.createNode("refDef",p);return f.title=n,f.dest=s,f.label=h,e.insertBefore(f),t[h]?this.refDefCandidateMap[f.id]=f:t[h]=d.createRefDefState(f),this.pos-r},e.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(k.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var n,r=!1,o=this.peek();if(-1===o)return!1;switch(o){case t.C_NEWLINE:r=this.parseNewline(e);break;case 92:r=this.parseBackslash(e);break;case 96:r=this.parseBackticks(e);break;case 42:case 95:case 126:r=this.handleDelim(o,e);break;case 39:case 34:r=!!(null===(n=this.options)||void 0===n?void 0:n.smart)&&this.handleDelim(o,e);break;case 91:r=this.parseOpenBracket(e);break;case 33:r=this.parseBang(e);break;case 93:r=this.parseCloseBracket(e);break;case 60:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:r=this.parseEntity(e);break;default:r=this.parseString(e)}return r||(this.pos+=1,e.appendChild(i.text(s.default(o),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],i.isHeading(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&c.convertExtAutoLinks(e.walker(),n),r&&e.firstChild)for(var o,a=e.firstChild.walker();o=a.next();){var s=o.node,l=o.entering;r[s.type]&&r[s.type](s,{entering:l})}},e}();t.InlineParser=M},function(e,t,n){"use strict";var r;if(Object.defineProperty(t,"__esModule",{value:!0}),String.fromCodePoint)r=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var i=String.fromCharCode,o=Math.floor;r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,a=16384,s=[],l=-1,c=e.length;if(!c)return"";for(var u="";++l<c;){var d=Number(e[l]);if(!isFinite(d)||d<0||d>1114111||o(d)!==d)return String.fromCharCode(65533);d<=65535?s.push(d):(n=55296+((d-=65536)>>10),r=d%1024+56320,s.push(n,r)),(l+1===c||s.length>a)&&(u+=i.apply(void 0,s),s.length=0)}return u}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);function o(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function a(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function s(e){for(var t,n=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),r=[];t=n.exec(e);){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}function l(e){for(var t,n=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),r=[];t=n.exec(e);){var i=a(o(t[0])),s="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+s+i})}return r}function c(e){return r.__spreadArrays(l(e),s(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}t.parseEmailLink=s,t.parseUrlLink=l,t.convertExtAutoLinks=function(e,t){var n;"boolean"==typeof t&&(t=c);for(var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var o=r.literal,a=t(o);if(!a||!a.length)return"continue";for(var s=0,l=r.sourcepos[0],c=l[0],u=l[1],d=function(e,t){return[[c,u+e],[c,u+t]]},h=[],p=0,f=a;p<f.length;p++){var m=f[p],g=m.range,v=m.url,_=m.text;g[0]>s&&h.push(i.text(o.substring(s,g[0]),d(s,g[0]-1)));var y=i.createNode("link",d.apply(void 0,g));y.appendChild(i.text(_,d.apply(void 0,g))),y.destination=v,y.extendedAutolink=!0,h.push(y),s=g[1]+1}s<o.length&&h.push(i.text(o.substring(s),d(s,o.length-1)));for(var b=0,C=h;b<C.length;b++){var w=C[b];r.insertBefore(w)}r.unlink()}};n=e.next();)r()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(23),o=n(4),a=n(2),s={continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(o.endsWithBlankLine(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(o.endsWithBlankLine(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},l={continue:function(e){var t=e.currentLine;return e.indented||o.peek(t,e.nextNonspace)!==o.C_GREATERTHAN?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},c={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:r.taskListItemFinalize,canContain:function(e){return"item"!==e},acceptsLines:!1},u={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(o.reClosingCodeFence);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;for(var a=t.fenceOffset;a>0&&o.isSpaceOrTab(o.peek(n,e.offset));)e.advanceOffset(1,!0),a--}else if(r>=o.CODE_INDENT)e.advanceOffset(o.CODE_INDENT,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),l=o.match(/^(\s*)(.*)/);t.infoPadding=l[1].length,t.info=a.unescapeString(l[2].trim()),t.literal=s}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},d={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&o.isBlank(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0};t.blockHandlers={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:s,blockQuote:l,item:c,heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:u,htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:d,table:i.table,tableBody:i.tableBody,tableHead:i.tableHead,tableRow:i.tableRow,tableCell:i.tableCell,tableDelimRow:i.tableDelimRow,tableDelimCell:i.tableDelimCell,refDef:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\[([ \txX])\][ \t]+/;t.taskListItemFinalize=function(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,i=n.stringContent.match(r);if(i){var o=i[0].length;n.stringContent=n.stringContent.substring(o-1),n.sourcepos[0][1]+=o,n.lineOffsets[0]+=o,t.listData.task=!0,t.listData.checked=/[xX]/.test(i[1])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.table={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},t.tableBody={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},t.tableHead={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},t.tableDelimRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},t.tableDelimCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},t.tableRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},t.tableCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(3);function a(e){for(var t=0,n=0,i=[],o=0;o<e.length;o+=1)if("|"===e[o]&&"\\"!==e[o-1]){var a=e.substring(t,o);0===t&&r.isEmpty(a)?n=o+1:i.push(a),t=o+1}return t<e.length&&(a=e.substring(t,e.length),r.isEmpty(a)||i.push(a)),[n,i]}function s(e,t,n,r){for(var o=[],a=0,s=t;a<s.length;a++){var l=s[a],c=l.match(/^[ \t]+/),u=c?c[0].length:0,d=void 0,h=void 0;if(u===l.length)u=0,d=0,h="";else{var p=l.match(/[ \t]+$/);d=p?p[0].length:0,h=l.slice(u,l.length-d)}var f=r+u,m=i.createNode(e,[[n,r],[n,r+l.length-1]]);m.stringContent=h.replace(/\\\|/g,"|"),m.startIdx=o.length,m.endIdx=o.length,m.lineOffsets=[f-1],m.paddingLeft=u,m.paddingRight=d,o.push(m),r+=l.length+1}return o}function l(e){var t="left",n=e.stringContent,r=n[0];return":"===n[n.length-1]&&(t=":"===r?"center":"right"),{align:t}}t.tableHead=function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,c=n.lastIndexOf("\n",r-1)+1,u=n.slice(c,r),d=e.currentLine.slice(e.nextNonspace),h=a(u),p=h[0],f=h[1],m=a(d),g=m[0],v=m[1],_=/^[ \t]*:?-+:?[ \t]*$/;if(!f.length||!v.length||v.some((function(e){return!_.test(e)}))||1===v.length&&0!==d.indexOf("|"))return 0;var y=t.lineOffsets,b=e.lineNumber-1,C=o.last(y)+1,w=i.createNode("table",[[b,C],[e.lineNumber,e.offset]]);if(w.columns=v.map((function(){return{align:"left"}})),t.insertAfter(w),1===y.length)t.unlink();else{t.stringContent=n.slice(0,c);var S=c-(n.lastIndexOf("\n",c-2)+1)-1;e.lastLineLength=y[y.length-2]+S,e.finalize(t,b-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var x=i.createNode("tableHead",[[b,C],[e.lineNumber,e.offset]]);w.appendChild(x);var k=i.createNode("tableRow",[[b,C],[b,C+u.length-1]]),E=i.createNode("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);x.appendChild(k),x.appendChild(E),s("tableCell",f,b,C+p).forEach((function(e){k.appendChild(e)}));var T=s("tableDelimCell",v,e.lineNumber,e.nextNonspace+1+g);return T.forEach((function(e){E.appendChild(e)})),w.columns=T.map(l),e.tip=w,2}return 0},t.tableBody=function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber)),e.finalize(n,e.lineNumber),0}var r=t;"table"===t.type&&((r=e.addChild("tableBody",e.nextNonspace)).stringContent=null);var o=i.createNode("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(o);var l=r.parent,c=a(e.currentLine.slice(e.nextNonspace)),u=c[0];return s("tableCell",c[1],e.lineNumber,e.nextNonspace+1+u).forEach((function(e,t){t>=l.columns.length&&(e.ignored=!0),o.appendChild(e)})),2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function o(e,t){var n=e[0];return 1===i(e[1],t)?1:-1===i(n,t)?-1:0}function a(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function s(e){return r.getNodeById(e)||null}t.getAllParents=function(e){for(var t=[];e.parent;)t.push(e.parent),e=e.parent;return t.reverse()},t.removeNextUntil=function(e,t){if(e.parent===t.parent&&e!==t){for(var n=e.next;n&&n!==t;){for(var i=n.next,o=0,a=["parent","prev","next"];o<a.length;o++){var s=a[o];n[s]&&(r.removeNodeById(n[s].id),n[s]=null)}n=i}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}},t.getChildNodes=function(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.next;return t},t.insertNodesBefore=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}},t.prependChildNodes=function(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])},t.updateNextLineNumbers=function(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();for(r.resumeAt(e,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}},t.findChildNodeAtLine=function(e,t){for(var n=e.firstChild;n;){var r=a(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild},t.findFirstNodeAtLine=function(e,t){for(var n=e.firstChild,r=null;n;){var i=a(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(e){for(;e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0];)e=e.parent;return e}(function(e){for(;e.lastChild;)e=e.lastChild;return e}(r)):null},t.findNodeAtPosition=function(e,t){for(var n=e,r=null;n;){var i=o(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n},t.toString=function(e){return e?"type: "+e.type+", sourcepos: "+e.sourcepos+", firstChild: "+(e.firstChild&&e.firstChild.type)+", lastChild: "+(e.lastChild&&e.lastChild.type)+", prev: "+(e.prev&&e.prev.type)+", next: "+(e.next&&e.next.type):"null"},t.findNodeById=s,t.invokeNextUntil=function(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var i=r.next();if(!i)break;t=i.node}},t.isUnlinked=function(e){var t=s(e);if(!t)return!0;for(;t&&"document"!==t.type;){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(3),s=n(27),l=n(29),c={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function u(e){e.length&&"\n"!==a.last(a.last(e))&&e.push("\n")}function d(e,t){e.outerNewLine&&u(t)}function h(e,t){e.innerNewLine&&u(t)}function p(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}t.createRenderHTML=function(e){var t=r.__assign(r.__assign({},c),e),n=r.__assign({},s.baseConvertors);if(t.gfm&&(n=r.__assign(r.__assign({},n),l.gfmConvertors)),t.convertors){var a=t.convertors;Object.keys(a).forEach((function(e){var t=n[e],r=a[e];n[e]=t?function(e,n){return n.origin=function(){return t(e,n)},r(e,n)}:r})),delete t.convertors}return function(e){return function(e,t,n){for(var r=[],a=e.walker(),s=null,l=function(){var e=s.node,l=s.entering,c=t[e.type];if(!c)return"continue";var u=!1,f={entering:l,leaf:!i.isContainer(e),options:n,getChildrenText:p,skipChildren:function(){u=!0}},m=c(e,f);m&&((Array.isArray(m)?m:[m]).forEach((function(t,i){"openTag"===t.type&&n.nodeId&&0===i&&(t.attributes||(t.attributes={}),t.attributes["data-nodeid"]=String(e.id)),function(e,t){switch(e.type){case"openTag":case"closeTag":!function(e,t){"openTag"===e.type?(d(e,t),t.push(function(e){var t=[],n=e.tagName,r=e.classNames,i=e.attributes;return t.push("<"+n),r&&r.length>0&&t.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.push(" "+e+'="'+n+'"')})),e.selfClose&&t.push(" /"),t.push(">"),t.join("")}(e)),e.selfClose?d(e,t):h(e,t)):(h(e,t),t.push("</"+e.tagName+">"),d(e,t))}(e,t);break;case"text":!function(e,t){t.push(o.escapeXml(e.content))}(e,t);break;case"html":!function(e,t){d(e,t),t.push(e.content),d(e,t)}(e,t)}}(t,r)})),u&&(a.resumeAt(e,!1),a.next()))};s=a.next();)l();return u(r),r.join("")}(e,n,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(28);t.baseConvertors={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?o.filterDisallowedTags(e.literal):e.literal}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?o.filterDisallowedTags(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+i.escapeXml(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){if(t.entering){var n=e,o=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:r.__assign({href:i.escapeXml(a)},o&&{title:i.escapeXml(o)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,o=t.skipChildren,a=e,s=a.title,l=a.destination;return o(),{type:"openTag",tagName:"img",selfClose:!0,attributes:r.__assign({src:i.escapeXml(l),alt:n(e)},s&&{title:i.escapeXml(s)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");t.filterDisallowedTags=function(e){return r.test(e)?e.replace(r,(function(e,t){return"&lt;"+t})):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.gfmConvertors={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,i=e.listData,o=i.checked,a=i.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:r.__assign(r.__assign({},o&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,i=e.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var i=e.parent.parent,o="tableHead"===i.type?"th":"td",a=i.parent.columns[e.startIdx],s=a&&"left"!==a.align?a.align:null,l=s?{align:s}:null;return n?r.__assign({type:"openTag",tagName:o,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:o,outerNewLine:!0}}}}]))},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(21),a=n.n(o),s=function(){function e(){this._keys=[],this._values=[]}var t=e.prototype;return t._getKeyIndex=function(e){return i()(e,this._keys)},t.get=function(e){return this._values[this._getKeyIndex(e)]},t.set=function(e,t){var n=this._getKeyIndex(e);n>-1?this._values[n]=t:(this._keys.push(e),this._values.push(t))},t.has=function(e){return this._getKeyIndex(e)>-1},t.delete=function(e){var t=this._getKeyIndex(e);t>-1&&(this._keys.splice(t,1),this._values.splice(t,1))},t.forEach=function(e,t){var n=this;void 0===t&&(t=this),a()(this._values,(function(r,i){r&&n._keys[i]&&e.call(t,r,n._keys[i],n)}))},e}();t.a=s},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(2),i=n.n(r),o={};function a(e,t){o[e]=o[e]||{},o[e].height=t}function s(e,t){o[e]=o[e]||{},o[e].offsetTop=t}function l(e){return o[e]&&o[e].height}function c(e){return o[e]&&o[e].offsetTop}function u(e){e&&(delete o[e.getAttribute("data-nodeid")],i()(e.children).forEach((function(e){u(e)})))}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(9),a=n.n(o),s=n(0),l=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),c=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),u=/href|src|background/gi,d=/((java|vb|live)script|x):/gi,h=/^on\S+/;t.a=function(e,t){var n=document.createElement("div");return a()(e)?(e=e.replace(/<!--[\s\S]*?-->/g,""),n.innerHTML=e):n.appendChild(e),function(e){s.a.findAll(e,"script, iframe, textarea, form, button, select, input, meta, style, link, title, embed, object, details, summary").forEach((function(e){s.a.remove(e)}))}(n),function(e){s.a.findAll(e,"*").forEach((function(e){var t=e.attributes;!function(e,t){i()(t).forEach((function(t){var n=t.name;h.test(n)&&(e[n]=null),e.getAttribute(n)&&e.removeAttribute(n)}))}(e,i()(t).filter((function(e){var t,n=e.name,r=e.value,i=n.match(l),o=n.match(c),a=i&&(t=r,n.match(u)&&t.match(d));return!i&&!o||a})))}))}(n),s.a.finalizeHtml(n,t)}},function(e,t,n){"use strict";var r=n(17),i=n(21),o=n(10);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(8),i=n(48);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}));var i={paragraph:function(e,t){var n=t.entering,r=t.origin;return t.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){return{type:"html",content:e.prev&&"htmlInline"===e.prev.type&&/<br ?\/?>/.test(e.prev.literal)?"\n":"<br>\n"}},item:function(e,t){if(t.entering){var n={},r=[];return e.listData.task&&(n["data-te-task"]="",r.push("task-list-item"),e.listData.checked&&r.push("checked")),{type:"openTag",tagName:"li",classNames:r,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":e.tickCount}},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info?e.info.split(/\s+/):[],n=[],r={};if(e.fenceLength>3&&(r["data-backticks"]=e.fenceLength),t.length>0&&t[0].length>0){var i=t[0];n.push("lang-"+i),r["data-language"]=i}return[{type:"openTag",tagName:"pre",classNames:n},{type:"openTag",tagName:"code",attributes:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}};function o(e,t){var n=r({},i);return e&&(n.link=function(t,n){var i=n.entering,o=(0,n.origin)();return i&&(o.attributes=r({},o.attributes,{},e)),o}),t&&Object.keys(t).forEach((function(e){var i=n[e],o=t[e];n[e]=i?function(e,t){var n=r({},t);return n.origin=function(){return i(e,t)},o(e,n)}:o})),n}},function(e,t,n){"use strict";var r=function(){function e(){this._replacers={}}var t=e.prototype;return t.setReplacer=function(e,t){e=e.toLowerCase(),this._replacers[e]=t},t.getReplacer=function(e){return this._replacers[e]},t.createCodeBlockHtml=function(e,t){e=e.toLowerCase();var n,r=this.getReplacer(e);return r?r(t,e):(n=!1,t.replace(n?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))},e}();t.a=new r},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(17),i=n.n(r),o=n(27),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.forEach((function(e){if(a()(e))e(t);else if(i()(e)){var n=e[0],r=e[1];n(t,void 0===r?{}:r)}}))}function c(e){return e?e.reduce((function(e,t){var n=i()(t)?t[0]:t;if(!a()(n)){var r=n.renderer,o=n.parser,l=n.pluginFn;t=i()(t)?[l,t[1]]:l,r&&(e.renderer=s({},e.renderer,{},r)),o&&(e.parser=s({},e.parser,{},o))}return e.plugins.push(t),e}),{plugins:[],renderer:{},parser:{}}):{}}},function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(1),i=/\n$/g,o=/[ \xA0]+\n\n/g,a=/([ \xA0]+\n){2,}/g,s=/href\=\"(.*?)\"/,l=/^/gm,c=r.factory({TEXT_NODE:function(e){var t=this.trim(this.getSpaceCollapsedText(e.nodeValue));return this._isNeedEscapeBackSlash(t)&&(t=this.escapeTextBackSlash(t)),t=this.escapePairedCharacters(t),this._isNeedEscapeHtml(t)&&(t=this.escapeTextHtml(t)),this._isNeedEscape(t)&&(t=this.escapeText(t)),this.getSpaceControlled(t,e)},"CODE TEXT_NODE":function(e){return e.nodeValue},"EM, I":function(e,t){var n="";return this.isEmptyText(t)||(n="*"+t+"*"),n},"STRONG, B":function(e,t){var n="";return this.isEmptyText(t)||(n="**"+t+"**"),n},A:function(e,t){var n,r,i=t,o="";return(n=s.exec(e.outerHTML))&&(r=n[1].replace(/&amp;/g,"&")),e.title&&(o=' "'+e.title+'"'),!this.isEmptyText(t)&&r&&(i="["+this.escapeTextForLink(t)+"]("+r+o+")"),i},IMG:function(e){var t="",n=e.getAttribute("src"),r=e.alt;return n&&(t="!["+this.escapeTextForLink(r)+"]("+n+")"),t},BR:function(){return"  \n"},CODE:function(e,t){var n,r,i="";return this.isEmptyText(t)||(r=parseInt(e.getAttribute("data-backticks"),10),i=(n=isNaN(r)?"`":Array(r+1).join("`"))+t+n),i},P:function(e,t){var n="";return t=t.replace(a,"  \n"),this.isEmptyText(t)||(n="\n\n"+t+"\n\n"),n},"BLOCKQUOTE P":function(e,t){return t},"LI P":function(e,t){var n="";return this.isEmptyText(t)||(n=t),n},"H1, H2, H3, H4, H5, H6":function(e,t){for(var n="",r=parseInt(e.tagName.charAt(1),10);r;)n+="#",r-=1;return n+=" ","\n\n"+(n+=t)+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(e,t){var n=parseInt(e.tagName.charAt(1),10);return Array(n+1).join("#")+" "+t},"UL, OL":function(e,t){return"\n\n"+t+"\n\n"},"LI OL, LI UL":function(e,t){return"\n"+t.replace(o,"\n").replace(i,"").replace(l,"    ")},"UL LI":function(e,t){var n="";return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+="* "+t+"\n"},"OL LI":function(e,t){for(var n="",r=parseInt(e.parentNode.getAttribute("start")||1,10);e.previousSibling;)1===(e=e.previousSibling).nodeType&&"LI"===e.tagName&&(r+=1);return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+=r+". "+t+"\n"},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(e,t){return t=t.replace(a,"\n\n"),"\n\n"+this.trim(t).replace(l,"> ")+"\n\n"},"PRE CODE":function(e,t){return"\n\n"+t.replace(i,"").replace(l,"    ")+"\n\n"}});e.exports=c},function(e,t,n){"use strict";var r=/^\u0020/,i=/.+\u0020$/,o=/[\n\s\t]+/g,a=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,s=/[\u0020]+/g,l=/[>(){}\[\]+-.!#|]/g,c=/[\[\]]/g,u=/!\[.*\]\(.*\)/g;function d(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}function h(e){this.rules={},e&&this.addRules(e)}function p(e){var t=e.tagName;return"S"===t||"B"===t||"I"===t||"EM"===t||"STRONG"===t||"A"===t||"IMG"===t||"CODE"===t}h.prototype.lineFeedReplacement="\u200b\u200b",h.prototype.addRule=function(e,t){var n=e.split(", "),r=n.pop();for(t.fname=e;r;)this._setConverterWithSelector(r,t),r=n.pop()},h.prototype.addRules=function(e){d(e,(function(e,t){this.addRule(t,e)}),this)},h.prototype.getSpaceControlled=function(e,t){var n,o="",a="";return t.previousSibling&&(3===t.previousSibling.nodeType||p(t.previousSibling))&&(n=t.previousSibling.innerHTML||t.previousSibling.nodeValue,(i.test(n)||r.test(t.innerHTML||t.nodeValue))&&(o=" ")),t.nextSibling&&(3===t.nextSibling.nodeType||p(t.nextSibling))&&(n=t.nextSibling.innerHTML||t.nextSibling.nodeValue,(r.test(n)||i.test(t.innerHTML||t.nodeValue))&&(a=" ")),o+e+a},h.prototype.convert=function(e,t){var n,r=this._getConverter(e);return e&&e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-tomark-pass")?(e.removeAttribute("data-tomark-pass"),n=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,n.outerHTML}(e,t)):r?n=r.call(this,e,t):e&&(n=this.getSpaceControlled(this._getInlineHtml(e,t),e)),n||""},h.prototype._getInlineHtml=function(e,t){var n=e.outerHTML,r=e.tagName,i=t.replace(/\$/g,"$$$$");return n.replace(new RegExp("(<"+r+" ?.*?>).*(</"+r+">)","i"),"$1"+i+"$2")},h.prototype._getConverter=function(e){for(var t,n=this.rules;e&&n;)n=this._getNextRule(n,this._getRuleNameFromNode(e)),e=this._getPrevNode(e),n&&n.converter&&(t=n.converter);return t},h.prototype._getNextRule=function(e,t){return e[t]},h.prototype._getRuleNameFromNode=function(e){return e.tagName||"TEXT_NODE"},h.prototype._getPrevNode=function(e){var t,n=e.parentNode;return n&&!n.__htmlRootByToMark&&(t=n),t},h.prototype._setConverterWithSelector=function(e,t){var n=this.rules;this._eachSelector(e,(function(e){n[e]||(n[e]={}),n=n[e]})),n.converter=t},h.prototype._eachSelector=function(e,t){var n,r;for(r=(n=e.split(" ")).length-1;r>=0;)t(n[r]),r-=1},h.prototype.trim=function(e){return e.replace(a,"")},h.prototype.isEmptyText=function(e){return""===e.replace(o,"")},h.prototype.getSpaceCollapsedText=function(e){return e.replace(s," ")},h.prototype.escapeText=function(e){return e.replace(l,(function(e){return"\\"+e}))},h.prototype.escapeTextForLink=function(e){for(var t=[],n=u.exec(e);n;)t.push([n.index,n.index+n[0].length]),n=u.exec(e);return e.replace(c,(function(e,n){return t.some((function(e){return n>e[0]&&n<e[1]}))?e:"\\"+e}))},h.prototype.escapeTextHtml=function(e){return e.replace(new RegExp(h.markdownTextToEscapeHtmlRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapeTextBackSlash=function(e){return e.replace(new RegExp(h.markdownTextToEscapeBackSlashRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapePairedCharacters=function(e){return e.replace(new RegExp(h.markdownTextToEscapePairedCharsRx.source,"g"),(function(e){return"\\"+e}))},h.markdownTextToEscapeRx={codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/},h.markdownTextToEscapeHtmlRx=/<([a-zA-Z_][a-zA-Z0-9\-\._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-\._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-\.:/]*)>/,h.markdownTextToEscapeBackSlashRx=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/,h.markdownTextToEscapePairedCharsRx=/[*_~`]/,h.prototype._isNeedEscape=function(e){var t,n=!1,r=h.markdownTextToEscapeRx;for(t in r)if(r.hasOwnProperty(t)&&r[t].test(e)){n=!0;break}return n},h.prototype._isNeedEscapeHtml=function(e){return h.markdownTextToEscapeHtmlRx.test(e)},h.prototype._isNeedEscapeBackSlash=function(e){return h.markdownTextToEscapeBackSlashRx.test(e)},h.prototype.mix=function(e){!function e(t,n){d(n,(function(n,r){"converter"!==r?(t[r]||(t[r]={}),e(t[r],n)):t[r]=n}))}(this.rules,e.rules)},h.factory=function(e,t){var n=new h;return t?n.mix(e):t=e,n.addRules(t),n},e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0),o=r.factory(i,{"DEL, S":function(e,t){return"~~"+t+"~~"},"PRE CODE":function(e,t){var n,r="",i=e.getAttribute("data-backticks");return e.getAttribute("data-language")&&(r=" "+e.getAttribute("data-language")),i=parseInt(i,10),"\n\n"+(n=isNaN(i)?"```":Array(i+1).join("`"))+r+"\n"+(t=t.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement))+"\n"+n+"\n\n"},PRE:function(e,t){return t},"UL LI":function(e,t){return i.convert(e,a(e,t))},"OL LI":function(e,t){return i.convert(e,a(e,t))},TABLE:function(e,t){return"\n\n"+t+"\n\n"},"TBODY, TFOOT":function(e,t){return t},"TR TD, TR TH":function(e,t){return" "+(t=t.replace(/(\r\n)|(\r)|(\n)/g,""))+" |"},"TD BR, TH BR":function(){return"<br>"},TR:function(e,t){return"|"+t+"\n"},THEAD:function(e,t){var n,r,i,o="";for(i=(r=l(l(e,"TR")[0],"TH")).length,n=0;n<i;n+=1)o+=" "+s(r[n])+" |";return t?t+"|"+o+"\n":""}});function a(e,t){return-1!==e.className.indexOf("task-list-item")&&(t="["+(-1!==e.className.indexOf("checked")?"x":" ")+"] "+t),t}function s(e){var t,n,r,i;return t=e.align,i=e.textContent?e.textContent.length:e.innerText.length,n="",r="",t&&("left"===t?(n=":",i-=1):"right"===t?(r=":",i-=1):"center"===t&&(r=":",n=":",i-=2)),n+function(e,t){var n=e;for(t=Math.max(t,3);t>1;)n+=e,t-=1;return n}("-",i)+r}function l(e,t){var n,r=e.childNodes,i=r.length,o=[];for(n=0;n<i;n+=1)r[n].tagName&&r[n].tagName===t&&o.push(r[n]);return o}e.exports=o},function(e,t,n){"use strict";var r=n(4),i=n(1),o=n(0),a=n(2);r.Renderer=i,r.basicRenderer=o,r.gfmRenderer=a,e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(0),a=n(2),s=/[ \xA0]+(\n\n)/g,l=/^[\n]+|[\s\n]+$/g,c=/([ \xA0]+\n){2,}/g,u=/([ \xA0]){2,}\n/g,d=/[ \xA0\n]+/g;function h(e,t){var n,r,i="",o=e.getNode();for(n=0,r=o.childNodes.length;n<r;n+=1)e.next(),i+=h(e,t);return t.convert(o,i)}e.exports=function(e,t){var n,p=!0;return e?(n=a,t&&(!1===(p=t.gfm)&&(n=o),n=t.renderer||n),function(e,t,n){return e=(e=(e=(e=(e=e.replace(s,"\n")).replace(c,"\n\n")).replace(d,(function(e){return(e.match(/\n/g)||[]).length>=3?"\n\n":e>=1?"\n":e}))).replace(l,"")).replace(new RegExp(n,"g"),"\n"),t&&(e=e.replace(u,"\n")),e}(function(e,t){for(var n="";e.next();)n+=h(e,t);return n}(new r(i(e)),n),p,n.lineFeedReplacement)):""}},function(e,t,n){"use strict";var r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3};function i(e){this._normalizeTextChildren(e),this._root=e,this._current=e}i.prototype.next=function(){var e,t=this._current;if(this._current){for(e=this._getNextNode(t);this._isNeedNextSearch(e,t);)e=(t=t.parentNode).nextSibling;this._current=e}return this._current},i.prototype.getNode=function(){return this._normalizeTextChildren(this._current),this._current},i.prototype._normalizeTextChildren=function(e){var t,n;if(e&&!(e.childNodes.length<2))for(t=e.firstChild;t.nextSibling;)n=t.nextSibling,t.nodeType===r.TEXT_NODE&&n.nodeType===r.TEXT_NODE?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n},i.prototype.getNodeText=function(){var e=this.getNode();return e.nodeType===r.TEXT_NODE?e.nodeValue:e.textContent||e.innerText},i.prototype._isNeedNextSearch=function(e,t){return!e&&t!==this._root&&t.parentNode!==this._root},i.prototype._getNextNode=function(e){return e.firstChild||e.nextSibling},i.NODE_TYPE=r,e.exports=i},function(e,t,n){"use strict";var r=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,i=/>[\r\n\t]+</g,o=/>[ ]+</g;function a(e){var t;return"[object String]"===Object.prototype.toString.call(e)?(t=document.createElement("div")).innerHTML=s(e):t=e,t.__htmlRootByToMark=!0,t}function s(e){return e=(e=(e=e.replace(r,"")).replace(i,"><")).replace(o,"> <")}a.preProcess=s,e.exports=a}])},e.exports=r()},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(19),i=n.n(r),o=n(20),a=n.n(o),s=n(5),l=n.n(s),c=n(6),u=n.n(c),d=n(22),h=n(38),p=n(0),f=n(29),m=n(18),g=n(24),v=n(4),_=function(e){var t,n;function r(t,n,r,i){var o;(o=e.call(this,t,n,r,i.isViewer)||this).lazyRunner.registerLazyRunFunction("invokeCodeBlock",o.invokeCodeBlockPlugins,o.delayCodeBlockTime,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o));var a=i.linkAttribute,s=i.customHTMLRenderer,l=i.highlight,c=void 0!==l&&l;return o.renderHTML=Object(d.createRenderHTML)({gfm:!0,nodeId:!0,convertors:Object(f.a)(a,s)}),o.cursorNodeId=null,o._initEvent(c),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o._initEvent=function(e){var t=this;this.eventManager.listen("contentChangedFromMarkdown",this.update.bind(this)),e&&this.eventManager.listen("cursorActivity",(function(e){var n=e.markdownNode,r=e.cursor;t._updateCursorNode(n,r)})),i()(this.el,"scroll",(function(e){t.eventManager.emit("scroll",{source:"preview",data:Object(m.a)(e.target.scrollTop,t._previewContent)})}))},o._updateCursorNode=function(e,t){e&&("tableRow"===(e=Object(v.b)(e,(function(e){return!Object(v.h)(e)}))).type?e=function(e,t){for(var n=t.ch,r=e.firstChild;r&&r.next&&!(Object(v.e)(r.next)>n+1);)r=r.next;return r}(e,t):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this._getElementByNodeId(this.cursorNodeId),i=this._getElementByNodeId(n);r&&u()(r,"te-preview-highlight"),i&&l()(i,"te-preview-highlight"),this.cursorNodeId=n}},o._getElementByNodeId=function(e){return e?this._previewContent.querySelector('[data-nodeid="'+e+'"]'):null},o.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventManager.emit("previewRenderAfter",this)},o.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this._previewContent,o=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",n.map((function(e){return t.renderHTML(e)})).join(""));if(r){var a=r.id,s=a[0],l=a[1],c=this._getElementByNodeId(s),u=this._getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);for(var d=c;d!==u;){var h=d.nextElementSibling;d.parentNode.removeChild(d),Object(g.c)(d),d=h}d.parentNode&&(p.a.remove(d),Object(g.c)(d))}}else i.insertAdjacentHTML("afterbegin",o);var f=this.getCodeBlockElements(n.map((function(e){return e.id})));f.length&&this.lazyRunner.run("invokeCodeBlock",f)},o.render=function(t){e.prototype.render.call(this,t),this.eventManager.emit("previewRenderAfter",this)},o.remove=function(){a()(this.el,"scroll"),this.el=null},r}(h.a);t.a=_},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(8),a=n.n(o),s=n(44),l=n.n(s),c=n(45),u=n.n(c),d=n(23),h=["previewBeforeHook","previewRenderAfter","previewNeedsRefresh","addImageBlobHook","setMarkdownAfter","contentChangedFromWysiwyg","changeFromWysiwyg","contentChangedFromMarkdown","changeFromMarkdown","change","changeModeToWysiwyg","changeModeToMarkdown","changeModeBefore","changeMode","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","openPopupAddLink","openPopupAddImage","openPopupAddTable","openPopupTableUtils","openHeadingSelect","openPopupCodeBlockLanguages","openPopupCodeBlockEditor","openDropdownToolbar","closePopupCodeBlockLanguages","closePopupCodeBlockEditor","closeAllPopup","command","addCommandBefore","htmlUpdate","markdownUpdate","renderedHtmlUpdated","removeEditor","convertorAfterMarkdownToHtmlConverted","convertorBeforeHtmlToMarkdownConverted","convertorAfterHtmlToMarkdownConverted","stateChange","wysiwygSetValueAfter","wysiwygSetValueBefore","wysiwygGetValueBefore","wysiwygProcessHTMLText","wysiwygRangeChangeAfter","wysiwygKeyEvent","scroll","click","mousedown","mouseover","mouseout","mouseup","contextmenu","keydown","keyup","keyMap","load","focus","blur","paste","pasteBefore","willPaste","copy","copyBefore","copyAfter","cut","cutAfter","drop","show","hide","changeLanguage","cursorActivity","requireScrollSync","requireScrollIntoView","setCodeBlockLanguages"],p=function(){function e(){this.events=new d.a,this.TYPE=new u.a(h)}var t=e.prototype;return t.listen=function(e,t){var n=this._getTypeInfo(e),r=this.events.get(n.type)||[];if(!this._hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},t.emit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t.shift(),s=this._getTypeInfo(o),l=this.events.get(s.type);return l&&i()(l,(function(e){var n=e.apply(void 0,t);a()(n)||(r=r||[]).push(n)})),r},t.emitReduce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),o=this.events.get(r);return o&&i()(o,(function(e){var n=e.apply(void 0,t);l()(n)||(t[0]=n)})),t[0]},t._getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},t._hasEventType=function(e){return!a()(this.TYPE[this._getTypeInfo(e).type])},t.addEventType=function(e){if(this._hasEventType(e))throw new Error("There is already have event type "+e);this.TYPE.set(e)},t.removeEventHandler=function(e,t){var n=this,r=this._getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this._removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n._removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this._removeEventHandlerWithTypeInfo(i,o)},t._removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)},t._removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e}();t.a=p},function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(22),a=n(29),s=n(0),l=new RegExp("(\\\\<|<)([A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*)(\\/?>)","g"),c=function(){function e(e,t){void 0===t&&(t={});var n=t,r=n.linkAttribute,i=n.customHTMLRenderer,s=n.extendedAutolinks,l=n.referenceDefinition,c=n.customParser;this.mdReader=new o.Parser({extendedAutolinks:s,disallowedHtmlBlockTags:["br"],referenceDefinition:l,disallowDeepHeading:!0,customParser:c}),this.renderHTML=Object(o.createRenderHTML)({gfm:!0,convertors:Object(a.a)(r,i)}),this.eventManager=e}var t=e.prototype;return t._markdownToHtmlWithCodeHighlight=function(e){return this.renderHTML(this.mdReader.parse(e))},t._markdownToHtml=function(e){return e=e.replace(l,(function(e,t,n,r){return"\\"!==e[0]?""+t+n+" data-tomark-pass "+r:e})),this.renderHTML(this.mdReader.parse(e))},t._removeBrToMarkPassAttributeInCode=function(e){var t=s.a.createElementWith("<div>"+e+"</div>");return s.a.findAll(t,"code, pre").forEach((function(e){var t=e;t.innerHTML=t.innerHTML.replace(/\sdata-tomark-pass\s(\/?)&gt;/g,"$1&gt;")})),e=t.innerHTML},t.toHTMLWithCodeHighlight=function(e){var t=this._markdownToHtmlWithCodeHighlight(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t)},t.toHTML=function(e){var t=this._markdownToHtml(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t),t=this._removeBrToMarkPassAttributeInCode(t)},t.initHtmlSanitizer=function(e){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",(function(t){return e(t,!0)}))},t.toMarkdown=function(e,t){var n=[];e=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",e),e=this._appendAttributeForLinkIfNeed(e),e=this._appendAttributeForBrIfNeed(e);var r=i()(e,t);return r=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",r),(r=this._removeNewlinesBeforeAfterAndBlockElement(r)).split("\n").forEach((function(e,t){/^(<br>)+\||\|[^|]*\|/gi.test(e)?e=e.replace(/^(<br>)+\|/gi,(function(e){return e.replace(/<br>/gi,"<br>\n")})):/`[^`]*<br>[^`]*`/gi.test(e)||(e=e.replace(/<br>/gi,"<br>\n")),n[t]=e})),n.join("\n")},t._removeNewlinesBeforeAfterAndBlockElement=function(e){return e=(e=e.replace(/<br>\n\n(#{1,6} .*|```|\||(\*+|-+|\d+\.) .*| *>[^\n]+.*)/g,"<br>$1")).replace(/(#{1,6} .*|```|\|)\n\n<br>/g,"$1\n<br>")},t._appendAttributeForLinkIfNeed=function(e){return e.replace(/!?\[.*\]\(<\s*a[^>]*>(.*?)<\s*\/\s*a>\)/gi,(function(e){return e.replace(/<a /gi,'<a data-tomark-pass="" ')}))},t._appendAttributeForBrIfNeed=function(e){var t=new RegExp(/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/.source+/<br data-tomark-pass \/><br data-tomark-pass \/>/.source,"g");return e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br \/><br \/>/gi,"<br data-tomark-pass /><br data-tomark-pass />")).replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />")).replace(/<br data-tomark-pass \/><br \/>(.)/gi,"<br data-tomark-pass /><br data-tomark-pass />$1")).replace(t,"$1<br /><br />")).replace(/(.)<br \/><br \/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g,"$1<br /><br data-tomark-pass />$2")).replace(/(<\/h[1-6]>|<\/pre>|<\/table>|<\/ul>|<\/ol>|<\/blockquote>)<br \/>(.)/g,"$1<br data-tomark-pass />$2")},e}();t.a=c},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(9),a=n.n(o),s=function(){function e(){this.globalTOID=null,this.lazyRunFunctions={}}var t=e.prototype;return t.run=function(e,t,n,r){var i;return a()(e)?i=this._runRegisteredRun(e,t,n,r):(i=this._runSingleRun(e,t,n,r,this.globalTOID),this.globalTOID=i),i},t.registerLazyRunFunction=function(e,t,n,r){r=r||this,this.lazyRunFunctions[e]={fn:t,delay:n,context:r,TOID:null}},t._runSingleRun=function(e,t,n,r,i){return this._clearTOIDIfNeed(i),i=setTimeout((function(){e.call(n,t)}),r)},t._runRegisteredRun=function(e,t,n,r){var i=this.lazyRunFunctions[e],o=i.fn,a=i.TOID;return r=r||i.delay,n=n||i.context,a=this._runSingleRun(o,t,n,r,a),i.TOID=a,a},t._clearTOIDIfNeed=function(e){e&&clearTimeout(e)},e}(),l=n(0),c=n(30),u=function(){function e(e,t,n,r){this.eventManager=t,this.convertor=n,this.el=e,this.isViewer=!!r,this.delayCodeBlockTime=500,this._initContentSection(),this.lazyRunner=new s}var t=e.prototype;return t._initContentSection=function(){this._previewContent=l.a.createElementWith('<div class="tui-editor-contents"></div>'),this.el.appendChild(this._previewContent)},t.getCodeBlockElements=function(e){var t=this._previewContent,n=[];return(e?e.map((function(e){return t.querySelector('[data-nodeid="'+e+'"]')})).filter(Boolean):[t]).forEach((function(e){n.push.apply(n,l.a.findAll(e,"code[data-language]"))})),n},t.invokeCodeBlockPlugins=function(e){e.forEach((function(e){var t=e.getAttribute("data-language"),n=c.a.createCodeBlockHtml(t,e.textContent);e.innerHTML=n}))},t.refresh=function(e){void 0===e&&(e=""),this.render(this.convertor.toHTMLWithCodeHighlight(e)),this.invokeCodeBlockPlugins(this.getCodeBlockElements())},t.getHTML=function(){return this._previewContent.innerHTML},t.setHTML=function(e){this._previewContent.innerHTML=e},t.render=function(e){var t=this._previewContent;e=this.eventManager.emit("previewBeforeHook",e)||e,l.a.empty(t),t.innerHTML=e},t.setHeight=function(e){i()(this.el,{height:e+"px"})},t.setMinHeight=function(e){i()(this.el,{minHeight:e+"px"})},t.isVisible=function(){return"none"!==this.el.style.display},e}();t.a=u},function(e,t,n){"use strict";var r=n(17),i=n(8);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){},function(e,t,n){"use strict";var r=n(28);e.exports=function(e){return r(e)&&!1!==e}},function(e,t,n){"use strict";var r=n(8),i=n(49);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e){return!r(e)}},function(e,t,n){"use strict";var r=n(34),i=n(17),o=n(2),a=n(26),s=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),l=0;function c(e){e&&this.set.apply(this,arguments)}c.prototype.set=function(e){var t=this;i(e)||(e=o(arguments)),a(e,(function(e){t._addItem(e)}))},c.prototype.getName=function(e){var t,n=this;return a(this,(function(r,i){if(n._isEnumItem(i)&&e===r)return t=i,!1})),t},c.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),s?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},c.prototype._makeEnumValue=function(){var e;return e=l,l+=1,e},c.prototype._isEnumItem=function(e){return r(this[e])},e.exports=c},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(7),a=n.n(o),s=n(19),l=n.n(s),c=n(20),u=n.n(c),d=n(35),h=n(36),p=n(1),f=n(37),m=n(0),g=n(30),v=n(31),_=n(12),y=n(25);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(){function e(e){var t=this;this.options=a()({useDefaultHTMLSanitizer:!0,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null},e),this.codeBlockLanguages=[],this.eventManager=new h.a,this.commandManager=new p.a(this);var n=Object(_.c)(this.options.linkAttribute),r=Object(v.a)(this.options.plugins),o=r.renderer,s=r.parser,c=r.plugins,u=this.options,m=u.customHTMLRenderer,g=u.customHTMLSanitizer,C=u.extendedAutolinks,w=u.referenceDefinition,S={linkAttribute:n,customHTMLRenderer:b({},o,{},m),extendedAutolinks:C,referenceDefinition:w,customParser:s};this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager,S):this.convertor=new f.a(this.eventManager,S);var x=g||(this.options.useDefaultHTMLSanitizer?y.a:null);x&&this.convertor.initHtmlSanitizer(x),this.options.hooks&&i()(this.options.hooks,(function(e,n){t.addHook(n,e)})),this.options.events&&i()(this.options.events,(function(e,n){t.on(n,e)}));var k=this.options,E=k.el,T=k.initialValue,j=E.innerHTML;E.innerHTML="",this.preview=new d.a(E,this.eventManager,this.convertor,b({},S,{isViewer:!0})),l()(this.preview.el,"mousedown",this._toggleTask.bind(this)),c&&Object(v.b)(c,this),T?this.setMarkdown(T):j&&this.preview.setHTML(j),this.eventManager.emit("load",this)}var t=e.prototype;return t._toggleTask=function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute("data-te-task")&&m.a.isInsideTaskBox(t,e.offsetX,e.offsetY)&&(m.a.toggleClass(e.target,"checked"),this.eventManager.emit("change",{source:"viewer",data:e}))},t.setMarkdown=function(e){this.markdownValue=e=e||"",this.preview.refresh(this.markdownValue),this.eventManager.emit("setMarkdownAfter",this.markdownValue)},t.on=function(e,t){this.eventManager.listen(e,t)},t.off=function(e){this.eventManager.removeEventHandler(e)},t.remove=function(){this.eventManager.emit("removeEditor"),u()(this.preview.el,"mousedown",this._toggleTask.bind(this)),this.preview.remove(),this.options=null,this.eventManager=null,this.commandManager=null,this.convertor=null,this.preview=null},t.addHook=function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)},t.isViewer=function(){return!0},t.isMarkdownMode=function(){return!1},t.isWysiwygMode=function(){return!1},t.setCodeBlockLanguages=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.codeBlockLanguages.indexOf(e)<0&&t.codeBlockLanguages.push(e)}))},e}();C.isViewer=!0,C.domUtils=m.a,C.codeBlockManager=g.a,C.WwCodeBlockManager=null,C.WwTableManager=null,C.WwTableSelectionManager=null,t.a=C},function(e,t,n){"use strict";e.exports=function(e,t){var n,r;return t=t||0,function(){r=Array.prototype.slice.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,r)}),t)}}},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){!function(t,n){"use strict";function r(e,t,n){this.root=this.currentNode=e,this.nodeType=t,this.filter=n||le}function i(e){return e.nodeType===L&&!!ue[e.nodeName]}function o(e){switch(e.nodeType){case N:return he;case L:case F:if(ie&&me.has(e))return me.get(e);break;default:return de}var t;return t=function(e,t){for(var n=e.length;n--;)if(!t(e[n]))return!1;return!0}(e.childNodes,a)?ce.test(e.nodeName)?he:pe:fe,ie&&me.set(e,t),t}function a(e){return o(e)===he}function s(e){return o(e)===pe}function l(e){return o(e)===fe}function c(e,t){var n=new r(t,B,s);return n.currentNode=e,n}function u(e,t){return(e=c(e,t).previousNode())!==t?e:null}function d(e,t){return(e=c(e,t).nextNode())!==t?e:null}function h(e,t){return!i(e)&&e.nodeType===t.nodeType&&e.nodeName===t.nodeName&&"A"!==e.nodeName&&e.className===t.className&&(!e.style&&!t.style||e.style.cssText===t.style.cssText)}function p(e,t,n){if(e.nodeName!==t)return!1;for(var r in n)if(e.getAttribute(r)!==n[r])return!1;return!0}function f(e,t,n,r){for(;e&&e!==t;){if(p(e,n,r))return e;e=e.parentNode}return null}function m(e,t){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function g(e){var t=e.nodeType;return t===L||t===F?e.childNodes.length:e.length||0}function v(e){var t=e.parentNode;return t&&t.removeChild(e),e}function _(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)}function y(e){for(var t=e.ownerDocument.createDocumentFragment(),n=e.childNodes,r=n?n.length:0;r--;)t.appendChild(e.firstChild);return t}function b(e,t,r,i){var o,a,s,l=e.createElement(t);if(r instanceof Array&&(i=r,r=null),r)for(o in r)r[o]!==n&&l.setAttribute(o,r[o]);if(i)for(a=0,s=i.length;a<s;a+=1)l.appendChild(i[a]);return l}function C(e,t){var n,r,o=t.__squire__,s=e.ownerDocument,l=e;if(e===t&&((r=e.firstChild)&&"BR"!==r.nodeName||(n=o.createDefaultBlock(),r?e.replaceChild(n,r):e.appendChild(n),e=n,n=null)),e.nodeType===N)return l;if(a(e)){for(r=e.firstChild;te&&r&&r.nodeType===N&&!r.data;)e.removeChild(r),r=e.firstChild;r||(te?(n=s.createTextNode(H),o._didAddZWS()):n=s.createTextNode(""))}else if(ee){for(;e.nodeType!==N&&!i(e);){if(!(r=e.firstChild)){n=s.createTextNode("");break}e=r}e.nodeType===N?/^ +$/.test(e.data)&&(e.data=""):i(e)&&e.parentNode.insertBefore(s.createTextNode(""),e)}else if("HR"!==e.nodeName&&!e.querySelector("BR"))for(n=b(s,"BR");(r=e.lastElementChild)&&!a(r);)e=r;if(n)try{e.appendChild(n)}catch(t){o.didError({name:"Squire: fixCursor \u2013\xa0"+t,message:"Parent: "+e.nodeName+"/"+e.innerHTML+" appendChild: "+n.nodeName})}return l}function w(e,t){var n,r,i,o,s=e.childNodes,c=e.ownerDocument,u=null,d=t.__squire__._config;for(n=0,r=s.length;n<r;n+=1)!(o="BR"===(i=s[n]).nodeName)&&a(i)?(u||(u=b(c,d.blockTag,d.blockAttributes)),u.appendChild(i),n-=1,r-=1):(o||u)&&(u||(u=b(c,d.blockTag,d.blockAttributes)),C(u,t),o?e.replaceChild(u,i):(e.insertBefore(u,i),n+=1,r+=1),u=null),l(i)&&w(i,t);return u&&e.appendChild(C(u,t)),e}function S(e,t,n,r){var i,o,a,s=e.nodeType;if(s===N&&e!==n)return S(e.parentNode,e.splitText(t),n,r);if(s===L){if("number"==typeof t&&(t=t<e.childNodes.length?e.childNodes[t]:null),e===n)return t;for(i=e.parentNode,o=e.cloneNode(!1);t;)a=t.nextSibling,o.appendChild(t),t=a;return"OL"===e.nodeName&&f(e,r,"BLOCKQUOTE")&&(o.start=(+e.start||1)+e.childNodes.length-1),C(e,r),C(o,r),(a=e.nextSibling)?i.insertBefore(o,a):i.appendChild(o),S(i,o,n,r)}return t}function x(e,t){if(e.nodeType===N&&(e=e.parentNode),e.nodeType===L){var n={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};(function e(t,n){for(var r,i,o,s=t.childNodes,l=s.length,c=[];l--;)if(r=s[l],i=l&&s[l-1],l&&a(r)&&h(r,i)&&!ue[r.nodeName])n.startContainer===r&&(n.startContainer=i,n.startOffset+=g(i)),n.endContainer===r&&(n.endContainer=i,n.endOffset+=g(i)),n.startContainer===t&&(n.startOffset>l?n.startOffset-=1:n.startOffset===l&&(n.startContainer=i,n.startOffset=g(i))),n.endContainer===t&&(n.endOffset>l?n.endOffset-=1:n.endOffset===l&&(n.endContainer=i,n.endOffset=g(i))),v(r),r.nodeType===N?i.appendData(r.data):c.push(y(r));else if(r.nodeType===L){for(o=c.length;o--;)r.appendChild(c.pop());e(r,n)}})(e,n),t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset)}}function k(e){var t=e.nodeName;return"TD"===t||"TH"===t||"TR"===t||"TBODY"===t||"THEAD"===t}function E(e,t,n,r){var i,o,a,s=t;if(!k(e)||!k(t)){for(;(i=s.parentNode)&&i!==r&&i.nodeType===L&&1===i.childNodes.length;)s=i;v(s),a=e.childNodes.length,(o=e.lastChild)&&"BR"===o.nodeName&&(e.removeChild(o),a-=1),e.appendChild(y(t)),n.setStart(e,a),n.collapse(!0),x(e,n),K&&(o=e.lastChild)&&"BR"===o.nodeName&&e.removeChild(o)}}function T(e,t){var n,r,i=e.previousSibling,o=e.firstChild,a=e.ownerDocument,s="LI"===e.nodeName;if((!s||o&&/^[OU]L$/.test(o.nodeName))&&!k(e))if(i&&h(i,e)&&i.isContentEditable&&e.isContentEditable){if(!l(i)){if(!s)return;(r=b(a,"DIV")).appendChild(y(i)),i.appendChild(r)}v(e),n=!l(e),i.appendChild(y(e)),n&&w(i,t),o&&T(o,t)}else s&&(i=b(a,"DIV"),e.insertBefore(i,o),C(i,t))}function j(e){this.isShiftDown=e.shiftKey}function O(e,t,n){var r,i;if(e||(e={}),t)for(r in t)!n&&r in e||(i=t[r],e[r]=i&&i.constructor===Object?O(e[r],i,n):i);return e}function P(e,t){e.nodeType===A&&(e=e.body);var n,r=e.ownerDocument,i=r.defaultView;this._win=i,this._doc=r,this._root=e,this._events={},this._isFocused=!1,this._lastSelection=null,ne&&this.addEventListener("beforedeactivate",this.getSelection),this._hasZWS=!1,this._lastAnchorNode=null,this._lastFocusNode=null,this._path="",this._willUpdatePath=!1,"onselectionchange"in r?this.addEventListener("selectionchange",this._updatePathOnEvent):(this.addEventListener("keyup",this._updatePathOnEvent),this.addEventListener("mouseup",this._updatePathOnEvent)),this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0,this._isInUndoState=!1,this._ignoreChange=!1,this._ignoreAllChanges=!1,re?((n=new MutationObserver(this._docWasChanged.bind(this))).observe(e,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=n):this.addEventListener("keyup",this._keyUpDetectChange),this._restoreSelection=!1,this.addEventListener("blur",D),this.addEventListener("mousedown",M),this.addEventListener("touchstart",M),this.addEventListener("focus",I),this._awaitingPaste=!1,this.addEventListener(Y?"beforecut":"cut",Ze),this.addEventListener("copy",Qe),this.addEventListener("keydown",j),this.addEventListener("keyup",j),this.addEventListener(Y?"beforepaste":"paste",et),this.addEventListener("drop",tt),this.addEventListener(K?"keypress":"keydown",Me),this._keyHandlers=Object.create(Ne),this.setConfig(t),Y&&(i.Text.prototype.splitText=function(e){var t=this.ownerDocument.createTextNode(this.data.slice(e)),n=this.nextSibling,r=this.parentNode,i=this.length-e;return n?r.insertBefore(t,n):r.appendChild(t),i&&this.deleteData(e,i),t}),e.setAttribute("contenteditable","true");try{r.execCommand("enableObjectResizing",!1,"false"),r.execCommand("enableInlineTableEditing",!1,"false")}catch(e){}e.__squire__=this,this.setHTML("")}function D(){this._restoreSelection=!0}function M(){this._restoreSelection=!1}function I(){this._restoreSelection&&this.setSelection(this._lastSelection)}function R(e,t,n){var r,i;for(r=t.firstChild;r;r=i){if(i=r.nextSibling,a(r)){if(r.nodeType===N||"BR"===r.nodeName||"IMG"===r.nodeName){n.appendChild(r);continue}}else if(s(r)){n.appendChild(e.createDefaultBlock([R(e,r,e._doc.createDocumentFragment())]));continue}R(e,r,n)}return n}var L=1,N=3,A=9,F=11,B=1,H="\u200b",z=t.defaultView,q=navigator.userAgent,U=/Android/.test(q),X=/iP(?:ad|hone|od)/.test(q),W=/Mac OS X/.test(q),V=/Windows NT/.test(q),G=/Gecko\//.test(q),Y=/Trident\/[456]\./.test(q),K=!!z.opera,$=/Edge\//.test(q),J=!$&&/WebKit\//.test(q),Z=/Trident\/[4567]\./.test(q),Q=W?"meta-":"ctrl-",ee=Y||K,te=Y||J,ne=Y,re="undefined"!=typeof MutationObserver,ie="undefined"!=typeof WeakMap,oe=/[^ \t\r\n]/,ae=Array.prototype.indexOf;Object.create||(Object.create=function(e){var t=function(){};return t.prototype=e,new t});var se={1:1,2:2,3:4,8:128,9:256,11:1024},le=function(){return!0};r.prototype.nextNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){for(e=t.firstChild;!e&&t&&t!==n;)(e=t.nextSibling)||(t=t.parentNode);if(!e)return null;if(se[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}},r.prototype.previousNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){if(t===n)return null;if(e=t.previousSibling)for(;t=e.lastChild;)e=t;else e=t.parentNode;if(!e)return null;if(se[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}},r.prototype.previousPONode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,i=this.filter;;){for(e=t.lastChild;!e&&t&&t!==n;)(e=t.previousSibling)||(t=t.parentNode);if(!e)return null;if(se[e.nodeType]&r&&i(e))return this.currentNode=e,e;t=e}};var ce=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|EL|FN)|EM|FONT|I(?:FRAME|MG|NPUT|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:AMP|MALL|PAN|TR(?:IKE|ONG)|U[BP])?|TIME|U|VAR|WBR)$/,ue={BR:1,HR:1,IFRAME:1,IMG:1,INPUT:1},de=0,he=1,pe=2,fe=3,me=ie?new WeakMap:null,ge=function(e,t){for(var n=e.childNodes;t&&e.nodeType===L;)t=(n=(e=n[t-1]).childNodes).length;return e},ve=function(e,t){if(e.nodeType===L){var n=e.childNodes;if(t<n.length)e=n[t];else{for(;e&&!e.nextSibling;)e=e.parentNode;e&&(e=e.nextSibling)}}return e},_e=function(e,t){var n,r,i,o,a=e.startContainer,s=e.startOffset,l=e.endContainer,c=e.endOffset;a.nodeType===N?(r=(n=a.parentNode).childNodes,s===a.length?(s=ae.call(r,a)+1,e.collapsed&&(l=n,c=s)):(s&&(o=a.splitText(s),l===a?(c-=s,l=o):l===n&&(c+=1),a=o),s=ae.call(r,a)),a=n):r=a.childNodes,s===(i=r.length)?a.appendChild(t):a.insertBefore(t,r[s]),a===l&&(c+=r.length-i),e.setStart(a,s),e.setEnd(l,c)},ye=function(e,t,n){var r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset;t||(t=e.commonAncestorContainer),t.nodeType===N&&(t=t.parentNode);for(var s,l,c,u,d,h=S(o,a,t,n),p=S(r,i,t,n),f=t.ownerDocument.createDocumentFragment();p!==h;)s=p.nextSibling,f.appendChild(p),p=s;return r=t,i=h?ae.call(t.childNodes,h):t.childNodes.length,(l=(c=t.childNodes[i])&&c.previousSibling)&&l.nodeType===N&&c.nodeType===N&&(r=l,i=l.length,u=l.data,d=c.data," "===u.charAt(u.length-1)&&" "===d.charAt(0)&&(d="\xa0"+d.slice(1)),l.appendData(d),v(c)),e.setStart(r,i),e.collapse(!0),C(t,n),f},be=function(e,t){var n,r,i=ke(e,t),o=Ee(e,t),a=i!==o;return Se(e),xe(e,i,o,t),n=ye(e,null,t),Se(e),a&&(o=Ee(e,t),i&&o&&i!==o&&E(i,o,e,t)),i&&C(i,t),(r=t.firstChild)&&"BR"!==r.nodeName?e.collapse(!0):(C(t,t),e.selectNodeContents(t.firstChild)),n},Ce=function(e,t,n){var r,i,o,s,c,h,p,m,v,_;for(w(t,n),r=t;r=d(r,n);)C(r,n);if(e.collapsed||be(e,n),Se(e),e.collapse(!1),s=f(e.endContainer,n,"BLOCKQUOTE")||n,i=ke(e,n),p=d(t,t),i&&p&&!function(e,t,n){for(;e&&e!==t;){if(n.test(e.nodeName))return e;e=e.parentNode}return null}(p,t,/PRE|TABLE|H[1-6]|OL|UL|BLOCKQUOTE/)){if(xe(e,i,i,n),e.collapse(!0),c=e.endContainer,h=e.endOffset,$e(i,n,!1),a(c)&&(c=(m=S(c,h,u(c,n),n)).parentNode,h=ae.call(c.childNodes,m)),h!==g(c))for(o=n.ownerDocument.createDocumentFragment();r=c.childNodes[h];)o.appendChild(r);E(c,p,e,n),h=ae.call(c.parentNode.childNodes,c)+1,c=c.parentNode,e.setEnd(c,h)}g(t)&&(xe(e,s,s,n),v=(m=S(e.endContainer,e.endOffset,s,n))?m.previousSibling:s.lastChild,s.insertBefore(t,m),m?e.setEndBefore(m):e.setEnd(s,g(s)),i=Ee(e,n),Se(e),c=e.endContainer,h=e.endOffset,m&&l(m)&&T(m,n),(m=v&&v.nextSibling)&&l(m)&&T(m,n),e.setEnd(c,h)),o&&(E(i,o,_=e.cloneRange(),n),e.setEnd(_.endContainer,_.endOffset)),Se(e)},we=function(e,t,n){var r=t.ownerDocument.createRange();if(r.selectNode(t),n){var i=e.compareBoundaryPoints(3,r)>-1,o=e.compareBoundaryPoints(1,r)<1;return!i&&!o}var a=e.compareBoundaryPoints(0,r)<1,s=e.compareBoundaryPoints(2,r)>-1;return a&&s},Se=function(e){for(var t,n=e.startContainer,r=e.startOffset,o=e.endContainer,a=e.endOffset,s=!0;n.nodeType!==N&&(t=n.childNodes[r])&&!i(t);)n=t,r=0;if(a)for(;o.nodeType!==N;){if(!(t=o.childNodes[a-1])||i(t)){if(s&&t&&"BR"===t.nodeName){a-=1,s=!1;continue}break}a=g(o=t)}else for(;o.nodeType!==N&&(t=o.firstChild)&&!i(t);)o=t;e.collapsed?(e.setStart(o,a),e.setEnd(n,r)):(e.setStart(n,r),e.setEnd(o,a))},xe=function(e,t,n,r){var i,o=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,c=!0;for(t||(t=e.commonAncestorContainer),n||(n=t);!a&&o!==t&&o!==r;)i=o.parentNode,a=ae.call(i.childNodes,o),o=i;for(;c&&s.nodeType!==N&&s.childNodes[l]&&"BR"===s.childNodes[l].nodeName&&(l+=1,c=!1),s!==n&&s!==r&&l===g(s);)i=s.parentNode,l=ae.call(i.childNodes,s)+1,s=i;e.setStart(o,a),e.setEnd(s,l)},ke=function(e,t){var n,r=e.startContainer;return(n=a(r)?u(r,t):r!==t&&s(r)?r:d(n=ge(r,e.startOffset),t))&&we(e,n,!0)?n:null},Ee=function(e,t){var n,r,i=e.endContainer;if(a(i))n=u(i,t);else if(i!==t&&s(i))n=i;else{if(!(n=ve(i,e.endOffset))||!m(t,n))for(n=t;r=n.lastChild;)n=r;n=u(n,t)}return n&&we(e,n,!0)?n:null},Te=new r(null,4|B,(function(e){return e.nodeType===N?oe.test(e.data):"IMG"===e.nodeName})),je=function(e,t){var n,r=e.startContainer,i=e.startOffset;if(Te.root=null,r.nodeType===N){if(i)return!1;n=r}else if((n=ve(r,i))&&!m(t,n)&&(n=null),!n&&(n=ge(r,i)).nodeType===N&&n.length)return!1;return Te.currentNode=n,Te.root=ke(e,t),!Te.previousNode()},Oe=function(e,t){var n,r=e.endContainer,i=e.endOffset;if(Te.root=null,r.nodeType===N){if((n=r.data.length)&&i<n)return!1;Te.currentNode=r}else Te.currentNode=ge(r,i);return Te.root=Ee(e,t),!Te.nextNode()},Pe=function(e,t){var n,r=ke(e,t),i=Ee(e,t);r&&i&&(n=r.parentNode,e.setStart(n,ae.call(n.childNodes,r)),n=i.parentNode,e.setEnd(n,ae.call(n.childNodes,i)+1))},De={8:"backspace",9:"tab",13:"enter",32:"space",33:"pageup",34:"pagedown",37:"left",39:"right",46:"delete",219:"[",221:"]"},Me=function(e){var t=e.keyCode,n=De[t],r="",i=this.getSelection();e.defaultPrevented||(n||(n=String.fromCharCode(t).toLowerCase(),/^[A-Za-z0-9]$/.test(n)||(n="")),K&&46===e.which&&(n="."),111<t&&t<124&&(n="f"+(t-111)),"backspace"!==n&&"delete"!==n&&(e.altKey&&(r+="alt-"),e.ctrlKey&&(r+="ctrl-"),e.metaKey&&(r+="meta-")),e.shiftKey&&(r+="shift-"),n=r+n,this._keyHandlers[n]?this._keyHandlers[n](this,e,i):i.collapsed||e.isComposing||e.ctrlKey||e.metaKey||1!==(Z?n:e.key||n).length||(this.saveUndoState(i),be(i,this._root),this._ensureBottomLine(),this.setSelection(i),this._updatePath(i,!0)))},Ie=function(e){return function(t,n){n.preventDefault(),t[e]()}},Re=function(e,t){return t=t||null,function(n,r){r.preventDefault();var i=n.getSelection();n.hasFormat(e,null,i)?n.changeFormat(null,{tag:e},i):n.changeFormat({tag:e},t,i)}},Le=function(e,t){try{t||(t=e.getSelection());var n,r=t.startContainer;for(r.nodeType===N&&(r=r.parentNode),n=r;a(n)&&(!n.textContent||n.textContent===H);)n=(r=n).parentNode;r!==n&&(t.setStart(n,ae.call(n.childNodes,r)),t.collapse(!0),n.removeChild(r),s(n)||(n=u(n,e._root)),C(n,e._root),Se(t)),r===e._root&&(r=r.firstChild)&&"BR"===r.nodeName&&v(r),e._ensureBottomLine(),e.setSelection(t),e._updatePath(t,!0)}catch(t){e.didError(t)}},Ne={enter:function(e,t,n){var r,i,o,a,s,l=e._root;if(t.preventDefault(),e._recordUndoState(n),f(n.startContainer,l,"PRE",{"data-te-codeblock":""})||ft(n.startContainer,l,e),e._removeZWS(),e._getRangeAndRemoveBookmark(n),n.collapsed||be(n,l),(r=ke(n,l))&&(i=f(r,l,"PRE")))return Se(n),o=n.startContainer,a=n.startOffset,o.nodeType!==N&&(o=e._doc.createTextNode(""),i.insertBefore(o,i.firstChild)),t.shiftKey||"\n"!==o.data.charAt(a-1)&&!je(n,l)||"\n"!==o.data.charAt(a)&&!Oe(n,l)?(o.insertData(a,"\n"),C(i,l),o.length===a+1?n.setStartAfter(o):n.setStart(o,a+1)):(o.deleteData(a&&a-1,a?2:1),(o=(s=S(o,a&&a-1,l,l)).previousSibling).textContent||v(o),o=e.createDefaultBlock(),s.parentNode.insertBefore(o,s),s.textContent||v(s),n.setStart(o,0)),n.collapse(!0),e.setSelection(n),e._updatePath(n,!0),void e._docWasChanged();if(!r||t.shiftKey||/^T[HD]$/.test(r.nodeName))return(i=f(n.endContainer,l,"A"))&&(i=i.parentNode,xe(n,i,i,l),n.collapse(!1)),_e(n,e.createElement("BR")),n.collapse(!1),e.setSelection(n),void e._updatePath(n,!0);if((i=f(r,l,"LI"))&&(r=i),function(e){return!e.textContent&&!e.querySelector("IMG")}(r)){if(f(r,l,"UL")||f(r,l,"OL"))return e.decreaseListLevel(n);if(f(r,l,"BLOCKQUOTE"))return e.modifyBlocks(dt,n)}for(s=ct(e,r,n.startContainer,n.startOffset),at(r),Ge(r),C(r,l);s.nodeType===L;){var c,u=s.firstChild;if("A"===s.nodeName&&(!s.textContent||s.textContent===H)){_(s,u=e._doc.createTextNode("")),s=u;break}for(;u&&u.nodeType===N&&!u.data&&(c=u.nextSibling)&&"BR"!==c.nodeName;)v(u),u=c;if(!u||"BR"===u.nodeName||u.nodeType===N&&!K)break;s=u}n=e.createRange(s,0),e.setSelection(n),e._updatePath(n,!0)},"shift-enter":function(e,t,n){return e._keyHandlers.enter(e,t,n)},backspace:function(e,t,n){var r=e._root;if(e._removeZWS(),e.saveUndoState(n),n.collapsed)if(je(n,r)){t.preventDefault();var i,o=ke(n,r);if(!o)return;if(w(o.parentNode,r),i=u(o,r)){if(!i.isContentEditable){for(;!i.parentNode.isContentEditable;)i=i.parentNode;return void v(i)}for(E(i,o,n,r),o=i.parentNode;o!==r&&!o.nextSibling;)o=o.parentNode;o!==r&&(o=o.nextSibling)&&T(o,r),e.setSelection(n)}else if(o){if(f(o,r,"UL")||f(o,r,"OL"))return e.decreaseListLevel(n);if(f(o,r,"BLOCKQUOTE"))return e.modifyBlocks(ut,n);e.setSelection(n),e._updatePath(n,!0)}}else e.setSelection(n),setTimeout((function(){Le(e)}),0);else t.preventDefault(),be(n,r),Le(e,n)},delete:function(e,t,n){var r,i,o,a,s,l,c=e._root;if(e._removeZWS(),e.saveUndoState(n),n.collapsed)if(Oe(n,c)){if(t.preventDefault(),!(r=ke(n,c)))return;if(w(r.parentNode,c),i=d(r,c)){if(!i.isContentEditable){for(;!i.parentNode.isContentEditable;)i=i.parentNode;return void v(i)}for(E(r,i,n,c),i=r.parentNode;i!==c&&!i.nextSibling;)i=i.parentNode;i!==c&&(i=i.nextSibling)&&T(i,c),e.setSelection(n),e._updatePath(n,!0)}}else{if(o=n.cloneRange(),xe(n,c,c,c),a=n.endContainer,s=n.endOffset,a.nodeType===L&&(l=a.childNodes[s])&&"IMG"===l.nodeName)return t.preventDefault(),v(l),Se(n),void Le(e,n);e.setSelection(o),setTimeout((function(){Le(e)}),0)}else t.preventDefault(),be(n,c),Le(e,n)},tab:function(e,t,n){var r,i,o=e._root;if(e._removeZWS(),n.collapsed&&je(n,o))for(r=ke(n,o);i=r.parentNode;){if("UL"===i.nodeName||"OL"===i.nodeName){t.preventDefault(),e.increaseListLevel(n);break}r=i}},"shift-tab":function(e,t,n){var r,i=e._root;e._removeZWS(),n.collapsed&&je(n,i)&&(f(r=n.startContainer,i,"UL")||f(r,i,"OL"))&&(t.preventDefault(),e.decreaseListLevel(n))},space:function(e,t,n){var r,i=e._root;if(e._recordUndoState(n),ft(n.startContainer,i,e),e._getRangeAndRemoveBookmark(n),r=n.endContainer,n.collapsed&&n.endOffset===g(r))do{if("A"===r.nodeName){n.setStartAfter(r);break}}while(!r.nextSibling&&(r=r.parentNode)&&r!==i);n.collapsed||(be(n,i),e._ensureBottomLine(),e.setSelection(n),e._updatePath(n,!0)),e.setSelection(n)},left:function(e){e._removeZWS()},right:function(e){e._removeZWS()}};W&&G&&(Ne["meta-left"]=function(e,t){t.preventDefault();var n=ot(e);n&&n.modify&&n.modify("move","backward","lineboundary")},Ne["meta-right"]=function(e,t){t.preventDefault();var n=ot(e);n&&n.modify&&n.modify("move","forward","lineboundary")}),W||(Ne.pageup=function(e){e.moveCursorToStart()},Ne.pagedown=function(e){e.moveCursorToEnd()}),Ne[Q+"b"]=Re("B"),Ne[Q+"i"]=Re("I"),Ne[Q+"u"]=Re("U"),Ne[Q+"shift-7"]=Re("S"),Ne[Q+"shift-5"]=Re("SUB",{tag:"SUP"}),Ne[Q+"shift-6"]=Re("SUP",{tag:"SUB"}),Ne[Q+"shift-8"]=Ie("makeUnorderedList"),Ne[Q+"shift-9"]=Ie("makeOrderedList"),Ne[Q+"["]=Ie("decreaseQuoteLevel"),Ne[Q+"]"]=Ie("increaseQuoteLevel"),Ne[Q+"d"]=Ie("toggleCode"),Ne[Q+"y"]=Ie("redo"),Ne[Q+"z"]=Ie("undo"),Ne[Q+"shift-z"]=Ie("redo");var Ae={1:10,2:13,3:16,4:18,5:24,6:32,7:48},Fe={backgroundColor:{regexp:oe,replace:function(e,t,n){return b(e,"SPAN",{class:t.highlight,style:"background-color:"+n})}},color:{regexp:oe,replace:function(e,t,n){return b(e,"SPAN",{class:t.colour,style:"color:"+n})}},fontWeight:{regexp:/^bold|^700/i,replace:function(e){return b(e,"B")}},fontStyle:{regexp:/^italic/i,replace:function(e){return b(e,"I")}},fontFamily:{regexp:oe,replace:function(e,t,n){return b(e,"SPAN",{class:t.fontFamily,style:"font-family:"+n})}},fontSize:{regexp:oe,replace:function(e,t,n){return b(e,"SPAN",{class:t.fontSize,style:"font-size:"+n})}},textDecoration:{regexp:/^underline/i,replace:function(e){return b(e,"U")}}},Be=function(e){return function(t,n){var r=b(t.ownerDocument,e);return n.replaceChild(r,t),r.appendChild(y(t)),r}},He=function(e,t,n){var r,i,o,a,s,l,c=e.style,u=e.ownerDocument;for(r in Fe)i=Fe[r],(o=c[r])&&i.regexp.test(o)&&(l=i.replace(u,n.classNames,o),s||(s=l),a&&a.appendChild(l),a=l,e.style[r]="");return s&&(a.appendChild(y(e)),"SPAN"===e.nodeName?t.replaceChild(s,e):e.appendChild(s)),a||e},ze={P:He,SPAN:He,STRONG:Be("B"),EM:Be("I"),INS:Be("U"),STRIKE:Be("S"),FONT:function(e,t,n){var r,i,o,a,s,l=e.face,c=e.size,u=e.color,d=e.ownerDocument,h=n.classNames;return l&&(s=r=b(d,"SPAN",{class:h.fontFamily,style:"font-family:"+l}),a=r),c&&(i=b(d,"SPAN",{class:h.fontSize,style:"font-size:"+Ae[c]+"px"}),s||(s=i),a&&a.appendChild(i),a=i),u&&/^#?([\dA-F]{3}){1,2}$/i.test(u)&&("#"!==u.charAt(0)&&(u="#"+u),o=b(d,"SPAN",{class:h.colour,style:"color:"+u}),s||(s=o),a&&a.appendChild(o),a=o),s||(s=a=b(d,"SPAN")),t.replaceChild(s,e),a.appendChild(y(e)),a},TT:function(e,t,n){var r=b(e.ownerDocument,"SPAN",{class:n.classNames.fontFamily,style:'font-family:menlo,consolas,"courier new",monospace'});return t.replaceChild(r,e),r.appendChild(y(e)),r}},qe=/^(?:A(?:DDRESS|RTICLE|SIDE|UDIO)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|IGCAPTION|OOTER)|H[1-6]|HEADER|HR|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|COL(?:GROUP)?|UL)$/,Ue=/^(?:HEAD|META|STYLE)/,Xe=new r(null,4|B),We=function(e,t){var n,r=t.allowedBlocks,i=!1,o=r.length;if(o){for(n=0;n<o;n+=1)r[n]=r[n].toUpperCase();i=new RegExp(r.join("|")).test(e)}return qe.test(e)||i},Ve=function e(t,n,r){var i,o,s,l,c,u,d,h,p,f,m,g,v=t.childNodes;for(i=t;a(i);)i=i.parentNode;for(Xe.root=i,o=0,s=v.length;o<s;o+=1)if(c=(l=v[o]).nodeName,u=l.nodeType,d=ze[c],u===L){if(h=l.childNodes.length,d)l=d(l,t,n);else{if(Ue.test(c)){t.removeChild(l),o-=1,s-=1;continue}if(!We(c,n)&&!a(l)){o-=1,s+=h-1,t.replaceChild(y(l),l);continue}}h&&e(l,n,r||"PRE"===c)}else{if(u===N){if(m=l.data,p=!oe.test(m.charAt(0)),f=!oe.test(m.charAt(m.length-1)),r||!p&&!f)continue;if(p){for(Xe.currentNode=l;(g=Xe.previousPONode())&&!("IMG"===(c=g.nodeName)||"#text"===c&&oe.test(g.data));)if(!a(g)){g=null;break}m=m.replace(/^[ \t\r\n]+/g,g?" ":"")}if(f){for(Xe.currentNode=l;(g=Xe.nextNode())&&!("IMG"===c||"#text"===c&&oe.test(g.data));)if(!a(g)){g=null;break}m=m.replace(/[ \t\r\n]+$/g,g?" ":"")}if(m){l.data=m;continue}}t.removeChild(l),o-=1,s-=1}return t},Ge=function e(t){for(var n,r=t.childNodes,o=r.length;o--;)if((n=r[o]).nodeType!==L||i(n))n.nodeType!==N||n.data||t.removeChild(n);else{e(n);var s="FIGURE"===n.tagName;!a(n)&&!s||n.firstChild||t.removeChild(n)}},Ye=function(e){return e.nodeType===L?"BR"===e.nodeName||"IMG"===e.nodeName:oe.test(e.data)},Ke=function(e,t){for(var n,i=e.parentNode;a(i);)i=i.parentNode;return(n=new r(i,4|B,Ye)).currentNode=e,!!n.nextNode()||t&&!n.previousNode()},$e=function(e,t,n){var r,i,o,s=e.querySelectorAll("BR"),l=[],c=s.length;for(r=0;r<c;r+=1)l[r]=Ke(s[r],n);for(;c--;)(o=(i=s[c]).parentNode)&&(l[c]?a(o)||w(o,t):v(i))},Je=function(e,t,n,r){var i,o,a=t.ownerDocument.body,s=r.willCutCopy;$e(t,n,!0),t.setAttribute("style","position:fixed;overflow:hidden;bottom:100%;right:100%;"),a.appendChild(t),i=t.innerHTML,o=t.innerText||t.textContent,s&&(i=s(i)),V&&(o=o.replace(/\r?\n/g,"\r\n")),e.setData("text/html",i),e.setData("text/plain",o),a.removeChild(t)},Ze=function(e){var t,n,r,i,o,a,s=e.clipboardData,l=this.getSelection(),c=this._root,u=this;if(l.collapsed)e.preventDefault();else{if(this.saveUndoState(l),$||X||!s)setTimeout((function(){try{u._ensureBottomLine()}catch(e){u.didError(e)}}),0);else{for(n=(t=ke(l,c))===Ee(l,c)&&t||c,r=be(l,c),(i=l.commonAncestorContainer).nodeType===N&&(i=i.parentNode);i&&i!==n;)(o=i.cloneNode(!1)).appendChild(r),r=o,i=i.parentNode;(a=this.createElement("div")).appendChild(r),Je(s,a,c,this._config),e.preventDefault()}this.setSelection(l)}},Qe=function(e){var t,n,r,i,o,a,s=e.clipboardData,l=this.getSelection(),c=this._root;if(!$&&!X&&s){for(n=(t=ke(l,c))===Ee(l,c)&&t||c,l=l.cloneRange(),Se(l),xe(l,n,n,c),r=l.cloneContents(),(i=l.commonAncestorContainer).nodeType===N&&(i=i.parentNode);i&&i!==n;)(o=i.cloneNode(!1)).appendChild(r),r=o,i=i.parentNode;(a=this.createElement("div")).appendChild(r),Je(s,a,c,this._config),e.preventDefault()}},et=function(e){var t,n,r,i,o,a=e.clipboardData,s=a&&a.items,l=this.isShiftDown,c=!1,u=!1,d=null,h=this;if($&&s){for(t=s.length;t--;)!l&&/^image\/.*/.test(s[t].type)&&(u=!0);u||(s=null)}if(s){for(e.preventDefault(),t=s.length;t--;){if(r=(n=s[t]).type,!l&&"text/html"===r)return void n.getAsString((function(e){h.insertHTML(e,!0)}));"text/plain"===r&&(d=n),!l&&/^image\/.*/.test(r)&&(u=!0)}u?(this.fireEvent("dragover",{dataTransfer:a,preventDefault:function(){c=!0}}),c&&this.fireEvent("drop",{dataTransfer:a})):d&&d.getAsString((function(e){h.insertPlainText(e,!0)}))}else{if(i=a&&a.types,!$&&i&&(ae.call(i,"text/html")>-1||!G&&ae.call(i,"text/plain")>-1&&ae.call(i,"text/rtf")<0))return e.preventDefault(),void(!l&&(o=a.getData("text/html"))?this.insertHTML(o,!0):((o=a.getData("text/plain"))||(o=a.getData("text/uri-list")))&&this.insertPlainText(o,!0));this._awaitingPaste=!0;var p=this._doc.body,f=this.getSelection(),m=f.startContainer,g=f.startOffset,_=f.endContainer,y=f.endOffset,b=this.createElement("DIV",{contenteditable:"true",style:"position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"});p.appendChild(b),f.selectNodeContents(b),this.setSelection(f),setTimeout((function(){try{h._awaitingPaste=!1;for(var e,t,n="",r=b;b=r;)r=b.nextSibling,v(b),(e=b.firstChild)&&e===b.lastChild&&"DIV"===e.nodeName&&(b=e),n+=b.innerHTML;t=h.createRange(m,g,_,y),h.setSelection(t),n&&h.insertHTML(n,!0)}catch(e){h.didError(e)}}),0)}},tt=function(e){for(var t=e.dataTransfer.types,n=t.length,r=!1,i=!1;n--;)switch(t[n]){case"text/plain":r=!0;break;case"text/html":i=!0;break;default:return}(i||r)&&this.saveUndoState()},nt=P.prototype,rt=function(e,t,n){var r=n._doc,i=e?DOMPurify.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!1,RETURN_DOM:!0,RETURN_DOM_FRAGMENT:!0}):null;return i?r.importNode(i,!0):r.createDocumentFragment()};nt.setConfig=function(e){return(e=O({blockTag:"DIV",blockAttributes:null,tagAttributes:{blockquote:null,ul:null,ol:null,li:null,a:null},classNames:{colour:"colour",fontFamily:"font",fontSize:"size",highlight:"highlight"},leafNodeNames:ue,undo:{documentSizeThreshold:-1,undoLimit:-1},isInsertedHTMLSanitized:!0,isSetHTMLSanitized:!0,sanitizeToDOMFragment:"undefined"!=typeof DOMPurify&&DOMPurify.isSupported?rt:null,willCutCopy:null,allowedBlocks:[]},e,!0)).blockTag=e.blockTag.toUpperCase(),this._config=e,this},nt.createElement=function(e,t,n){return b(this._doc,e,t,n)},nt.createDefaultBlock=function(e){var t=this._config;return C(this.createElement(t.blockTag,t.blockAttributes,e),this._root)},nt.didError=function(e){console.log(e)},nt.getDocument=function(){return this._doc},nt.getRoot=function(){return this._root},nt.modifyDocument=function(e){var t=this._mutation;t&&(t.takeRecords().length&&this._docWasChanged(),t.disconnect()),this._ignoreAllChanges=!0,e(),this._ignoreAllChanges=!1,t&&(t.observe(this._root,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._ignoreChange=!1)};var it={pathChange:1,select:1,input:1,undoStateChange:1};nt.fireEvent=function(e,t){var n,r,i,o=this._events[e];if(/^(?:focus|blur)/.test(e))if(n=this._root===this._doc.activeElement,"focus"===e){if(!n||this._isFocused)return this;this._isFocused=!0}else{if(n||!this._isFocused)return this;this._isFocused=!1}if(o)for(t||(t={}),t.type!==e&&(t.type=e),r=(o=o.slice()).length;r--;){i=o[r];try{i.handleEvent?i.handleEvent(t):i.call(this,t)}catch(t){t.details="Squire: fireEvent error. Event type: "+e,this.didError(t)}}return this},nt.destroy=function(){var e,t=this._events;for(e in t)this.removeEventListener(e);this._mutation&&this._mutation.disconnect(),delete this._root.__squire__,this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0},nt.handleEvent=function(e){this.fireEvent(e.type,e)},nt.addEventListener=function(e,t){var n=this._events[e],r=this._root;return t?(n||(n=this._events[e]=[],it[e]||("selectionchange"===e&&(r=this._doc),r.addEventListener(e,this,!0))),n.push(t),this):(this.didError({name:"Squire: addEventListener with null or undefined fn",message:"Event type: "+e}),this)},nt.removeEventListener=function(e,t){var n,r=this._events[e],i=this._root;if(r){if(t)for(n=r.length;n--;)r[n]===t&&r.splice(n,1);else r.length=0;r.length||(delete this._events[e],it[e]||("selectionchange"===e&&(i=this._doc),i.removeEventListener(e,this,!0)))}return this},nt.createRange=function(e,t,n,r){if(e instanceof this._win.Range)return e.cloneRange();var i=this._doc.createRange();return i.setStart(e,t),n?i.setEnd(n,r):i.setEnd(e,t),i},nt.getCursorPosition=function(e){if(!e&&!(e=this.getSelection())||!e.getBoundingClientRect)return null;var t,n,r=e.getBoundingClientRect();return r&&!r.top&&(this._ignoreChange=!0,(t=this._doc.createElement("SPAN")).textContent=H,_e(e,t),r=t.getBoundingClientRect(),(n=t.parentNode).removeChild(t),x(n,e),this._ignoreChange=!1),r},nt._moveCursorTo=function(e){var t=this._root,n=this.createRange(t,e?0:t.childNodes.length);return Se(n),this.setSelection(n),this},nt.moveCursorToStart=function(){return this._moveCursorTo(!0)},nt.moveCursorToEnd=function(){return this._moveCursorTo(!1)};var ot=function(e){return e._win.getSelection()||null};nt.setSelection=function(e){if(e)if(this._lastSelection=e,this._isFocused)if(U&&!this._restoreSelection)D.call(this),this.blur(),this.focus();else{X&&this._win.focus();var t=ot(this);t&&(t.removeAllRanges(),t.addRange(e))}else D.call(this);return this},nt.getSelection=function(){var e,t,n,r,o=ot(this),a=this._root;return this._isFocused&&o&&o.rangeCount&&(t=(e=o.getRangeAt(0).cloneRange()).startContainer,n=e.endContainer,t&&i(t)&&e.setStartBefore(t),n&&i(n)&&e.setEndBefore(n)),e&&m(a,e.commonAncestorContainer)?this._lastSelection=e:m((r=(e=this._lastSelection).commonAncestorContainer).ownerDocument,r)||(e=null),e||(e=this.createRange(a.firstChild,0)),e},nt.getSelectedText=function(){var e=this.getSelection();if(!e||e.collapsed)return"";var t,n=new r(e.commonAncestorContainer,4|B,(function(t){return we(e,t,!0)})),i=e.startContainer,o=e.endContainer,s=n.currentNode=i,l="",c=!1;for(n.filter(s)||(s=n.nextNode());s;)s.nodeType===N?(t=s.data)&&/\S/.test(t)&&(s===o&&(t=t.slice(0,e.endOffset)),s===i&&(t=t.slice(e.startOffset)),l+=t,c=!0):("BR"===s.nodeName||c&&!a(s))&&(l+="\n",c=!1),s=n.nextNode();return l},nt.getPath=function(){return this._path};var at=function(e,t){for(var n,i,o,s=new r(e,4);i=s.nextNode();)for(;(o=i.data.indexOf(H))>-1&&(!t||i.parentNode!==t);){if(1===i.length){do{(n=i.parentNode).removeChild(i),i=n,s.currentNode=n}while(a(i)&&!g(i));break}i.deleteData(o,1)}};nt._didAddZWS=function(){this._hasZWS=!0},nt._removeZWS=function(){this._hasZWS&&(at(this._root),this._hasZWS=!1)},nt._updatePath=function(e,t){if(e){var n,r=e.startContainer,i=e.endContainer;(t||r!==this._lastAnchorNode||i!==this._lastFocusNode)&&(this._lastAnchorNode=r,this._lastFocusNode=i,n=r&&i?r===i?function e(t,n,r){var i,o,a,s,l,c="";return t&&t!==n&&(c=e(t.parentNode,n,r),t.nodeType===L&&(c+=(c?">":"")+t.nodeName,(i=t.id)&&(c+="#"+i),(o=t.className.trim())&&((a=o.split(/\s\s*/)).sort(),c+=".",c+=a.join(".")),(s=t.dir)&&(c+="[dir="+s+"]"),a&&(l=r.classNames,ae.call(a,l.highlight)>-1&&(c+="[backgroundColor="+t.style.backgroundColor.replace(/ /g,"")+"]"),ae.call(a,l.colour)>-1&&(c+="[color="+t.style.color.replace(/ /g,"")+"]"),ae.call(a,l.fontFamily)>-1&&(c+="[fontFamily="+t.style.fontFamily.replace(/ /g,"")+"]"),ae.call(a,l.fontSize)>-1&&(c+="[fontSize="+t.style.fontSize+"]")))),c}(i,this._root,this._config):"(selection)":"",this._path!==n&&(this._path=n,this.fireEvent("pathChange",{path:n}))),this.fireEvent(e.collapsed?"cursor":"select",{range:e})}},nt._updatePathOnEvent=function(e){var t=this;t._isFocused&&!t._willUpdatePath&&(t._willUpdatePath=!0,setTimeout((function(){t._willUpdatePath=!1,t._updatePath(t.getSelection())}),0))},nt.focus=function(){if(Z){try{this._root.setActive()}catch(t){}this.fireEvent("focus")}else this._root.focus();return this},nt.blur=function(){return this._root.blur(),Z&&this.fireEvent("blur"),this};var st="squire-selection-end";nt._saveRangeToBookmark=function(e){var t,n=this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),r=this.createElement("INPUT",{id:st,type:"hidden"});_e(e,n),e.collapse(!1),_e(e,r),2&n.compareDocumentPosition(r)&&(n.id=st,r.id="squire-selection-start",t=n,n=r,r=t),e.setStartAfter(n),e.setEndBefore(r)},nt._getRangeAndRemoveBookmark=function(e){var t=this._root,n=t.querySelector("#squire-selection-start"),r=t.querySelector("#"+st);if(n&&r){var i=n.parentNode,o=r.parentNode,a=ae.call(i.childNodes,n),s=ae.call(o.childNodes,r);i===o&&(s-=1),v(n),v(r),e||(e=this._doc.createRange()),e.setStart(i,a),e.setEnd(o,s),x(i,e),i!==o&&x(o,e),e.collapsed&&(i=e.startContainer).nodeType===N&&((o=i.childNodes[e.startOffset])&&o.nodeType===N||(o=i.childNodes[e.startOffset-1]),o&&o.nodeType===N&&(e.setStart(o,0),e.collapse(!0)))}return e||null},nt._keyUpDetectChange=function(e){var t=e.keyCode;e.ctrlKey||e.metaKey||e.altKey||!(t<16||t>20)||!(t<33||t>45)||this._docWasChanged()},nt._docWasChanged=function(){if(ie&&(me=new WeakMap),!this._ignoreAllChanges){if(re&&this._ignoreChange)return void(this._ignoreChange=!1);this._isInUndoState&&(this._isInUndoState=!1,this.fireEvent("undoStateChange",{canUndo:!0,canRedo:!1})),this.fireEvent("input")}},nt._recordUndoState=function(e,t){if(!this._isInUndoState||t){var n,r=this._undoIndex,i=this._undoStack,o=this._config.undo,a=o.documentSizeThreshold,s=o.undoLimit;t||(r+=1),r<this._undoStackLength&&(i.length=this._undoStackLength=r),e&&this._saveRangeToBookmark(e),n=this._getHTML(),a>-1&&2*n.length>a&&s>-1&&r>s&&(i.splice(0,r-s),r=s,this._undoStackLength=s),i[r]=n,this._undoIndex=r,this._undoStackLength+=1,this._isInUndoState=!0}},nt.saveUndoState=function(e){return e===n&&(e=this.getSelection()),this._recordUndoState(e,this._isInUndoState),this._getRangeAndRemoveBookmark(e),this},nt.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection(),!1),this._undoIndex-=1,this._setHTML(this._undoStack[this._undoIndex]);var e=this._getRangeAndRemoveBookmark();e&&this.setSelection(e),this._isInUndoState=!0,this.fireEvent("undoStateChange",{canUndo:0!==this._undoIndex,canRedo:!0}),this.fireEvent("input")}return this},nt.redo=function(){var e=this._undoIndex,t=this._undoStackLength;if(e+1<t&&this._isInUndoState){this._undoIndex+=1,this._setHTML(this._undoStack[this._undoIndex]);var n=this._getRangeAndRemoveBookmark();n&&this.setSelection(n),this.fireEvent("undoStateChange",{canUndo:!0,canRedo:e+2<t}),this.fireEvent("input")}return this},nt.hasFormat=function(e,t,n){if(e=e.toUpperCase(),t||(t={}),!n&&!(n=this.getSelection()))return!1;!n.collapsed&&n.startContainer.nodeType===N&&n.startOffset===n.startContainer.length&&n.startContainer.nextSibling&&n.setStartBefore(n.startContainer.nextSibling),!n.collapsed&&n.endContainer.nodeType===N&&0===n.endOffset&&n.endContainer.previousSibling&&n.setEndAfter(n.endContainer.previousSibling);var i,o,a=this._root,s=n.commonAncestorContainer;if(f(s,a,e,t))return!0;if(s.nodeType===N)return!1;i=new r(s,4,(function(e){return we(n,e,!0)}));for(var l=!1;o=i.nextNode();){if(!f(o,a,e,t))return!1;l=!0}return l},nt.getFontInfo=function(e){var t,r,i,o={color:n,backgroundColor:n,family:n,size:n},a=0;if(!e&&!(e=this.getSelection()))return o;if(t=e.commonAncestorContainer,e.collapsed||t.nodeType===N)for(t.nodeType===N&&(t=t.parentNode);a<4&&t;)(r=t.style)&&(!o.color&&(i=r.color)&&(o.color=i,a+=1),!o.backgroundColor&&(i=r.backgroundColor)&&(o.backgroundColor=i,a+=1),!o.family&&(i=r.fontFamily)&&(o.family=i,a+=1),!o.size&&(i=r.fontSize)&&(o.size=i,a+=1)),t=t.parentNode;return o},nt._addFormat=function(e,t,n){var i,o,s,l,c,u,d,h,p=this._root;if(n.collapsed){for(i=C(this.createElement(e,t),p),_e(n,i),n.setStart(i.firstChild,i.firstChild.length),n.collapse(!0),h=i;a(h);)h=h.parentNode;at(h,i)}else{if(o=new r(n.commonAncestorContainer,4|B,(function(e){return(e.nodeType===N||"BR"===e.nodeName||"IMG"===e.nodeName)&&we(n,e,!0)})),s=n.startContainer,c=n.startOffset,l=n.endContainer,u=n.endOffset,o.currentNode=s,o.filter(s)||(s=o.nextNode(),c=0),!s)return n;do{!f(d=o.currentNode,p,e,t)&&(d===l&&d.length>u&&d.splitText(u),d===s&&c&&(d=d.splitText(c),l===s&&(l=d,u-=c),s=d,c=0),_(d,i=this.createElement(e,t)),i.appendChild(d))}while(o.nextNode());l.nodeType!==N&&(d.nodeType===N?(l=d,u=d.length):(l=d.parentNode,u=1)),n=this.createRange(s,c,l,u)}return n},nt._removeFormat=function(e,t,n,r){this._saveRangeToBookmark(n);var i,o=this._doc;n.collapsed&&(te?(i=o.createTextNode(H),this._didAddZWS()):i=o.createTextNode(""),_e(n,i));for(var s=n.commonAncestorContainer;a(s);)s=s.parentNode;var l=n.startContainer,c=n.startOffset,u=n.endContainer,d=n.endOffset,h=[],f=Array.prototype.filter.call(s.getElementsByTagName(e),(function(r){return we(n,r,!0)&&p(r,e,t)}));return r||f.forEach((function(e){!function e(t,r){if(!we(n,t,!1)){var i,o,a=t.nodeType===N;if(!we(n,t,!0))return void("INPUT"===t.nodeName||a&&!t.data||h.push([r,t]));if(a)t===u&&d!==t.length&&h.push([r,t.splitText(d)]),t===l&&c&&(t.splitText(c),h.push([r,t]));else for(i=t.firstChild;i;i=o)o=i.nextSibling,e(i,r)}}(e,e)})),h.forEach((function(e){var t=e[0].cloneNode(!1),n=e[1];_(n,t),t.appendChild(n)})),f.forEach((function(e){_(e,y(e))})),this._getRangeAndRemoveBookmark(n),i&&n.collapse(!1),x(s,n),n},nt.changeFormat=function(e,t,n,r){return n||(n=this.getSelection())?(this.saveUndoState(n),t&&(n=this._removeFormat(t.tag.toUpperCase(),t.attributes||{},n,r)),e&&(n=this._addFormat(e.tag.toUpperCase(),e.attributes||{},n)),this.setSelection(n),this._updatePath(n,!0),re||this._docWasChanged(),this):this};var lt={DT:"DD",DD:"DT",LI:"LI",PRE:"PRE"},ct=function(e,t,n,r){var i=lt[t.nodeName],o=null,a=S(n,r,t.parentNode,e._root),s=e._config;return i||(i=s.blockTag,o=s.blockAttributes),p(a,i,o)||(t=b(a.ownerDocument,i,o),a.dir&&(t.dir=a.dir),_(a,t),t.appendChild(y(a)),a=t),a};nt.forEachBlock=function(e,t,n){if(!n&&!(n=this.getSelection()))return this;t&&this.saveUndoState(n);var r=this._root,i=ke(n,r),o=Ee(n,r);if(i&&o)do{if(e(i)||i===o)break}while(i=d(i,r));return t&&(this.setSelection(n),this._updatePath(n,!0),re||this._docWasChanged()),this},nt.modifyBlocks=function(e,t){if(!t&&!(t=this.getSelection()))return this;this._recordUndoState(t,this._isInUndoState);var n,r=this._root;return Pe(t,r),xe(t,r,r,r),n=ye(t,r,r),_e(t,e.call(this,n)),t.endOffset<t.endContainer.childNodes.length&&T(t.endContainer.childNodes[t.endOffset],r),T(t.startContainer.childNodes[t.startOffset],r),this._getRangeAndRemoveBookmark(t),this.setSelection(t),this._updatePath(t,!0),re||this._docWasChanged(),this};var ut=function(e){var t=this._root,n=e.querySelectorAll("blockquote");return Array.prototype.filter.call(n,(function(e){return!f(e.parentNode,t,"BLOCKQUOTE")})).forEach((function(e){_(e,y(e))})),e},dt=function(){return this.createDefaultBlock([this.createElement("INPUT",{id:"squire-selection-start",type:"hidden"}),this.createElement("INPUT",{id:st,type:"hidden"})])},ht=function(e,t,n){for(var r,i,o,a,s=c(t,e._root),l=e._config.tagAttributes,u=l[n.toLowerCase()],d=l.li;r=s.nextNode();)"LI"===r.parentNode.nodeName&&(r=r.parentNode,s.currentNode=r.lastChild),"LI"!==r.nodeName?(a=e.createElement("LI",d),r.dir&&(a.dir=r.dir),(o=r.previousSibling)&&o.nodeName===n?(o.appendChild(a),v(r)):_(r,e.createElement(n,u,[a])),a.appendChild(y(r)),s.currentNode=a):(i=(r=r.parentNode).nodeName)!==n&&/^[OU]L$/.test(i)&&_(r,e.createElement(n,u,[y(r)]))},pt=function(e,t){for(var n=e.commonAncestorContainer,r=e.startContainer,i=e.endContainer;n&&n!==t&&!/^[OU]L$/.test(n.nodeName);)n=n.parentNode;if(!n||n===t)return null;for(r===n&&(r=r.childNodes[e.startOffset]),i===n&&(i=i.childNodes[e.endOffset]);r&&r.parentNode!==n;)r=r.parentNode;for(;i&&i.parentNode!==n;)i=i.parentNode;return[n,r,i]};nt.increaseListLevel=function(e){if(!e&&!(e=this.getSelection()))return this.focus();var t=this._root,n=pt(e,t);if(!n)return this.focus();var r=n[0],i=n[1],o=n[2];if(!i||i===r.firstChild)return this.focus();this._recordUndoState(e,this._isInUndoState);var a,s,l=r.nodeName,c=i.previousSibling;c.nodeName!==l&&(a=this._config.tagAttributes[l.toLowerCase()],c=this.createElement(l,a),r.insertBefore(c,i));do{s=i===o?null:i.nextSibling,c.appendChild(i)}while(i=s);return(s=c.nextSibling)&&T(s,t),this._getRangeAndRemoveBookmark(e),this.setSelection(e),this._updatePath(e,!0),re||this._docWasChanged(),this.focus()},nt.decreaseListLevel=function(e){if(!e&&!(e=this.getSelection()))return this.focus();var t=this._root,n=pt(e,t);if(!n)return this.focus();var r=n[0],i=n[1],o=n[2];i||(i=r.firstChild),o||(o=r.lastChild),this._recordUndoState(e,this._isInUndoState);var a,s=r.parentNode,l=o.nextSibling?S(r,o.nextSibling,s,t):r.nextSibling;if(s!==t&&"LI"===s.nodeName){for(s=s.parentNode;l;)a=l.nextSibling,o.appendChild(l),l=a;l=r.parentNode.nextSibling}var c=!/^[OU]L$/.test(s.nodeName);do{a=i===o?null:i.nextSibling,r.removeChild(i),c&&"LI"===i.nodeName&&(i=this.createDefaultBlock([y(i)])),s.insertBefore(i,l)}while(i=a);return r.firstChild||v(r),l&&T(l,t),this._getRangeAndRemoveBookmark(e),this.setSelection(e),this._updatePath(e,!0),re||this._docWasChanged(),this.focus()},nt._ensureBottomLine=function(){var e=this._root,t=e.lastElementChild;t&&t.nodeName===this._config.blockTag&&s(t)||e.appendChild(this.createDefaultBlock())},nt.setKeyHandler=function(e,t){return this._keyHandlers[e]=t,this},nt._getHTML=function(){return this._root.innerHTML},nt._setHTML=function(e){var t=this._root,n=t;n.innerHTML=e;do{C(n,t)}while(n=d(n,t));this._ignoreChange=!0},nt.getHTML=function(e){var t,n,r,i,o,a,s=[];if(e&&(a=this.getSelection())&&this._saveRangeToBookmark(a),ee)for(n=t=this._root;n=d(n,t);)n.textContent||n.querySelector("BR")||(r=this.createElement("BR"),n.appendChild(r),s.push(r));if(i=this._getHTML().replace(/\u200B/g,""),ee)for(o=s.length;o--;)v(s[o]);return a&&this._getRangeAndRemoveBookmark(a),i},nt.setHTML=function(e){var t,n,r,i=this._config,o=i.isSetHTMLSanitized?i.sanitizeToDOMFragment:null,a=this._root;"function"==typeof o?n=o(e,!1,this):((t=this.createElement("DIV")).innerHTML=e,(n=this._doc.createDocumentFragment()).appendChild(y(t))),Ve(n,i),$e(n,a,!1),w(n,a);for(var s=n;s=d(s,a);)C(s,a);for(this._ignoreChange=!0;r=a.lastChild;)a.removeChild(r);a.appendChild(n),C(a,a),this._undoIndex=-1,this._undoStack.length=0,this._undoStackLength=0,this._isInUndoState=!1;var l=this._getRangeAndRemoveBookmark()||this.createRange(a.firstChild,0);return this.saveUndoState(l),this._lastSelection=l,D.call(this),this._updatePath(l,!0),this},nt.insertElement=function(e,t){if(t||(t=this.getSelection()),t.collapse(!0),a(e))_e(t,e),t.setStartAfter(e);else{for(var n,r=this._root,i=ke(t,r)||r;i!==r&&!i.nextSibling;)i=i.parentNode;i!==r&&(n=S(i.parentNode,i.nextSibling,r,r)),n?r.insertBefore(e,n):(r.appendChild(e),n=this.createDefaultBlock(),r.appendChild(n)),t.setStart(n,0),t.setEnd(n,0),Se(t)}return this.focus(),this.setSelection(t),this._updatePath(t),re||this._docWasChanged(),this},nt.insertImage=function(e,t){var n=this.createElement("IMG",O({src:e},t,!0));return this.insertElement(n),n},nt.linkRegExp=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()<>]+|\([^\s()<>]+\))+(?:\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)(?:\?[^&?\s]+=[^&?\s]+(?:&[^&?\s]+=[^&?\s]+)*)?/i;var ft=function(e,t,n){var i,o,a,s,l,c,u,d=e.ownerDocument,h=new r(e,4,(function(e){return!f(e,t,"A")})),p=n.linkRegExp,m=n._config.tagAttributes.a;if(p)for(;i=h.nextNode();)for(o=i.data,a=i.parentNode;s=p.exec(o);)c=(l=s.index)+s[0].length,l&&(u=d.createTextNode(o.slice(0,l)),a.insertBefore(u,i)),(u=n.createElement("A",O({href:s[1]?/^(?:ht|f)tps?:/i.test(s[1])?s[1]:"http://"+s[1]:"mailto:"+s[0]},m,!1))).textContent=o.slice(l,c),a.insertBefore(u,i),i.data=o=o.slice(c)};nt.insertHTML=function(e,t){var n,r,i,o,a,s,l,c=this._config,u=c.isInsertedHTMLSanitized?c.sanitizeToDOMFragment:null,h=this.getSelection(),p=this._doc;"function"==typeof u?o=u(e,t,this):(t&&(n=e.indexOf("\x3c!--StartFragment--\x3e"),r=e.lastIndexOf("\x3c!--EndFragment--\x3e"),n>-1&&r>-1&&(e=e.slice(n+20,r))),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<TR>"+e+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<TABLE>"+e+"</TABLE>"),(i=this.createElement("DIV")).innerHTML=e,(o=p.createDocumentFragment()).appendChild(y(i))),this.saveUndoState(h);try{for(a=this._root,s=o,l={fragment:o,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},ft(o,o,this),Ve(o,c),$e(o,a,!1),Ge(o),o.normalize();s=d(s,o);)C(s,a);t&&this.fireEvent("willPaste",l),l.defaultPrevented||(Ce(h,l.fragment,a),re||this._docWasChanged(),h.collapse(!1),this._ensureBottomLine()),this.setSelection(h),this._updatePath(h,!0),t&&this.focus()}catch(e){this.didError(e)}return this};var mt=function(e){return e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;")};nt.insertPlainText=function(e,t){var n=this.getSelection();if(n.collapsed&&f(n.startContainer,this._root,"PRE")){var r,i,o=n.startContainer,a=n.startOffset;return o&&o.nodeType===N||(r=this._doc.createTextNode(""),o.insertBefore(r,o.childNodes[a]),o=r,a=0),i={text:e,preventDefault:function(){this.defaultPrevented=!0},defaultPrevented:!1},t&&this.fireEvent("willPaste",i),i.defaultPrevented||(e=i.text,o.insertData(a,e),n.setStart(o,a+e.length),n.collapse(!0)),this.setSelection(n),this}var s,l,c,u,d=e.split("\n"),h=this._config,p=h.blockTag,m=h.blockAttributes,g="</"+p+">",v="<"+p;for(s in m)v+=" "+s+'="'+mt(m[s])+'"';for(v+=">",l=0,c=d.length;l<c;l+=1)u=d[l],u=mt(u).replace(/ (?= )/g,"&nbsp;"),d[l]=v+(u||"<BR>")+g;return this.insertHTML(d.join(""),t)};var gt=function(e,t,n){return function(){return this[e](t,n),this.focus()}};nt.addStyles=function(e){if(e){var t=this._doc.documentElement.firstChild,n=this.createElement("STYLE",{type:"text/css"});n.appendChild(this._doc.createTextNode(e)),t.appendChild(n)}return this},nt.bold=gt("changeFormat",{tag:"B"}),nt.italic=gt("changeFormat",{tag:"I"}),nt.underline=gt("changeFormat",{tag:"U"}),nt.strikethrough=gt("changeFormat",{tag:"S"}),nt.subscript=gt("changeFormat",{tag:"SUB"},{tag:"SUP"}),nt.superscript=gt("changeFormat",{tag:"SUP"},{tag:"SUB"}),nt.removeBold=gt("changeFormat",null,{tag:"B"}),nt.removeItalic=gt("changeFormat",null,{tag:"I"}),nt.removeUnderline=gt("changeFormat",null,{tag:"U"}),nt.removeStrikethrough=gt("changeFormat",null,{tag:"S"}),nt.removeSubscript=gt("changeFormat",null,{tag:"SUB"}),nt.removeSuperscript=gt("changeFormat",null,{tag:"SUP"}),nt.makeLink=function(e,t){var n=this.getSelection();if(n.collapsed){var r=e.indexOf(":")+1;if(r)for(;"/"===e[r];)r+=1;_e(n,this._doc.createTextNode(e.slice(r)))}return t=O(O({href:e},t,!0),this._config.tagAttributes.a,!1),this.changeFormat({tag:"A",attributes:t},{tag:"A"},n),this.focus()},nt.removeLink=function(){return this.changeFormat(null,{tag:"A"},this.getSelection(),!0),this.focus()},nt.setFontFace=function(e){var t=this._config.classNames.fontFamily;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"font-family: "+e+", sans-serif;"}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},nt.setFontSize=function(e){var t=this._config.classNames.fontSize;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"font-size: "+("number"==typeof e?e+"px":e)}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},nt.setTextColour=function(e){var t=this._config.classNames.colour;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"color:"+e}}:null,{tag:"SPAN",attributes:{class:t}}),this.focus()},nt.setHighlightColour=function(e){var t=this._config.classNames.highlight;return this.changeFormat(e?{tag:"SPAN",attributes:{class:t,style:"background-color:"+e}}:e,{tag:"SPAN",attributes:{class:t}}),this.focus()},nt.setTextAlignment=function(e){return this.forEachBlock((function(t){var n=t.className.split(/\s+/).filter((function(e){return!!e&&!/^align/.test(e)})).join(" ");e?(t.className=n+" align-"+e,t.style.textAlign=e):(t.className=n,t.style.textAlign="")}),!0),this.focus()},nt.setTextDirection=function(e){return this.forEachBlock((function(t){e?t.dir=e:t.removeAttribute("dir")}),!0),this.focus()};var vt=function(e){for(var t,n=this._root,i=this._doc,o=i.createDocumentFragment(),a=c(e,n);t=a.nextNode();){var s,l,u=t.querySelectorAll("BR"),d=[],h=u.length;for(s=0;s<h;s+=1)d[s]=Ke(u[s],!1);for(;h--;)l=u[h],d[h]?_(l,i.createTextNode("\n")):v(l);for(h=(u=t.querySelectorAll("CODE")).length;h--;)v(u[h]);o.childNodes.length&&o.appendChild(i.createTextNode("\n")),o.appendChild(y(t))}for(a=new r(o,4);t=a.nextNode();)t.data=t.data.replace(/\xa0/g," ");return o.normalize(),C(this.createElement("PRE",this._config.tagAttributes.pre,[o]),n)},_t=function(e){for(var t,n,i,o,a,s,l=this._doc,c=this._root,u=e.querySelectorAll("PRE"),d=u.length;d--;){for(n=new r(t=u[d],4);i=n.nextNode();){for(o=(o=i.data).replace(/ (?= )/g,"\xa0"),a=l.createDocumentFragment();(s=o.indexOf("\n"))>-1;)a.appendChild(l.createTextNode(o.slice(0,s))),a.appendChild(l.createElement("BR")),o=o.slice(s+1);i.parentNode.insertBefore(a,i),i.data=o}w(t,c),_(t,y(t))}return e};nt.code=function(){var e=this.getSelection();return e.collapsed||l(e.commonAncestorContainer)?this.modifyBlocks(vt,e):this.changeFormat({tag:"CODE",attributes:this._config.tagAttributes.code},null,e),this.focus()},nt.removeCode=function(){var e=this.getSelection();return f(e.commonAncestorContainer,this._root,"PRE")?this.modifyBlocks(_t,e):this.changeFormat(null,{tag:"CODE"},e),this.focus()},nt.toggleCode=function(){return this.hasFormat("PRE")||this.hasFormat("CODE")?this.removeCode():this.code(),this},nt.removeAllFormatting=function(e){if(!e&&!(e=this.getSelection())||e.collapsed)return this;for(var t=this._root,n=e.commonAncestorContainer;n&&!s(n);)n=n.parentNode;if(n||(Pe(e,t),n=t),n.nodeType===N)return this;this.saveUndoState(e),xe(e,n,n,t);for(var r,i,o=n.ownerDocument,a=e.startContainer,l=e.startOffset,c=e.endContainer,u=e.endOffset,d=o.createDocumentFragment(),h=o.createDocumentFragment(),p=S(c,u,n,t),f=S(a,l,n,t);f!==p;)r=f.nextSibling,d.appendChild(f),f=r;return R(this,d,h),h.normalize(),f=h.firstChild,r=h.lastChild,i=n.childNodes,f?(n.insertBefore(h,p),l=ae.call(i,f),u=ae.call(i,r)+1):u=l=ae.call(i,p),e.setStart(n,l),e.setEnd(n,u),x(n,e),Se(e),this.setSelection(e),this._updatePath(e,!0),this.focus()},nt.increaseQuoteLevel=gt("modifyBlocks",(function(e){return this.createElement("BLOCKQUOTE",this._config.tagAttributes.blockquote,[e])})),nt.decreaseQuoteLevel=gt("modifyBlocks",ut),nt.makeUnorderedList=gt("modifyBlocks",(function(e){return ht(this,e,"UL"),e})),nt.makeOrderedList=gt("modifyBlocks",(function(e){return ht(this,e,"OL"),e})),nt.removeList=gt("modifyBlocks",(function(e){var t,n,r,i,o,a=e.querySelectorAll("UL, OL"),l=e.querySelectorAll("LI"),c=this._root;for(t=0,n=a.length;t<n;t+=1)w(i=y(r=a[t]),c),_(r,i);for(t=0,n=l.length;t<n;t+=1)s(o=l[t])?_(o,this.createDefaultBlock([y(o)])):(w(o,c),_(o,y(o)));return e})),P.isInline=a,P.isBlock=s,P.isContainer=l,P.getBlockWalker=c,P.getPreviousBlock=u,P.getNextBlock=d,P.areAlike=h,P.hasTagAttributes=p,P.getNearest=f,P.isOrContains=m,P.detach=v,P.replaceWith=_,P.empty=y,P.getNodeBefore=ge,P.getNodeAfter=ve,P.insertNodeInRange=_e,P.extractContentsOfRange=ye,P.deleteContentsOfRange=be,P.insertTreeFragmentIntoRange=Ce,P.isNodeContainedInRange=we,P.moveRangeBoundariesDownTree=Se,P.moveRangeBoundariesUpTree=xe,P.getStartBlockOfRange=ke,P.getEndBlockOfRange=Ee,P.contentWalker=Te,P.rangeDoesStartAtBlockBoundary=je,P.rangeDoesEndAtBlockBoundary=Oe,P.expandRangeToBlockBoundaries=Pe,P.onPaste=et,P.addLinks=ft,P.splitBlock=ct,P.startSelectionId="squire-selection-start",P.endSelectionId=st,e.exports=P}(document)},function(e,t,n){"use strict";e.exports=function(e){return"boolean"===typeof e||e instanceof Boolean}},function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),r="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,i="undefined"!==typeof e&&e.Math===Math?e:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),o="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},a=["top","right","bottom","left","width","height","size","weight"],s="undefined"!==typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&l()}function s(){o(a)}function l(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return l}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;a.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),c=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},u=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},d=v(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function f(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=u(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),l=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(l+a)!==n&&(l-=p(r,"top","bottom")+a)),!function(e){return e===u(e).document.documentElement}(e)){var c=Math.round(s+o)-t,f=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(f)&&(l-=f)}return v(i.left,i.top,s,l)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof u(e).SVGGraphicsElement}:function(e){return e instanceof u(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return r?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):f(e):d}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var _=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return c(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);c(this,{target:e,contentRect:n})},b=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new _(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof u(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),C="undefined"!==typeof WeakMap?new WeakMap:new n,w=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=l.getInstance(),r=new b(t,n,this);C.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){w.prototype[e]=function(){var t;return(t=C.get(this))[e].apply(t,arguments)}}));var S="undefined"!==typeof i.ResizeObserver?i.ResizeObserver:w;t.a=S}).call(this,n(59))},function(e,t,n){"use strict";var r=n(7),i=n(28),o=n(9),a=n(54),s=n(17),l=n(27),c=n(26),u=/\s+/g;function d(){this.events=null,this.contexts=null}d.mixin=function(e){r(e.prototype,d.prototype)},d.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},d.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(t=[],n[e]=t),n=t),n},d.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},d.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},d.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},d.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},d.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},d.prototype.on=function(e,t,n){var r=this;o(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):a(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},d.prototype.once=function(e,t,n){var r=this;if(a(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},d.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},d.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},d.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},d.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler,o=t===r.context,a=i&&o;return a&&n._forgetContext(r.context),a}},d.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},d.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},d.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):o(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},d.prototype.off=function(e,t){o(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):a(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},d.prototype.fire=function(e){this.invoke.apply(this,arguments)},d.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},d.prototype.hasListener=function(e){return this.getListenerLength(e)>0},d.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=d},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},,,,,,function(e,t,n){"use strict";n.r(t);var r=n(10),i=n.n(r),o=n(28),a=n.n(o),s=n(34),l=n.n(s),c=n(7),u=n.n(c),d=n(3),h=n.n(d),p=n(5),f=n.n(p),m=n(6),g=n.n(m),v=n(22),_=n(29),y=n(12),b=n(56),C=n.n(b),w=n(15),S=n.n(w),x=/^(\s*)((\d+)([.)]\s(?:\[(?:x|\s)\]\s)?))(.*)/;function k(e,t,n,r){var i,o,a,s,l=n,c=r.getLine(e);do{var u=x.exec(c);if(i=u[1],o=u[4],a=u[5],(s=i.length)===t)r.replaceRange(""+i+l+o+a,{line:e,ch:0},{line:e,ch:c.length}),l+=1,e+=1;else{if(!(s>t))return e;e=k(e,s,1,r)}c=r.getLine(e)}while(x.test(c));return e}function E(e,t){for(var n=e,r=t.getLine(e);x.test(r);)n-=1,r=t.getLine(n);return e===n?n=-1:n+=1,n}S.a.commands.indentLessOrderedList=function(e){return e.getOption("disableInput")?S.a.Pass:(e.execCommand("indentLess"),e.execCommand("fixOrderedListNumber"),null)},S.a.commands.fixOrderedListNumber=function(e){if(e.getOption("disableInput")||e.state.isCursorInCodeBlock)return S.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n+=1){var r=E(t[n].head.line,e);if(r>=0){var i=e.getLine(r),o=x.exec(i),a=o[1],s=o[3];k(r,a.length,parseInt(s,10),e)}}return null},S.a.overlayMode=function(e,t,n){return{startState:function(){return{base:S.a.startState(e),overlay:S.a.startState(t),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(n){return{base:S.a.copyState(e,n.base),overlay:S.a.copyState(t,n.overlay),basePos:n.basePos,baseCur:null,overlayPos:n.overlayPos,overlayCur:null}},token:function(r,i){return(r!=i.streamSeen||Math.min(i.basePos,i.overlayPos)<r.start)&&(i.streamSeen=r,i.basePos=i.overlayPos=r.start),r.start==i.basePos&&(i.baseCur=e.token(r,i.base),i.basePos=r.pos),r.start==i.overlayPos&&(r.pos=r.start,i.overlayCur=t.token(r,i.overlay),i.overlayPos=r.pos),r.pos=Math.min(i.basePos,i.overlayPos),null==i.overlayCur?i.baseCur:null!=i.baseCur&&i.overlay.combineTokens||n&&null==i.overlay.combineTokens?i.baseCur+" "+i.overlayCur:i.overlayCur},indent:e.indent&&function(t,n){return e.indent(t.base,n)},electricChars:e.electricChars,innerMode:function(t){return{state:t.base,mode:e}},blankLine:function(n){e.blankLine&&e.blankLine(n.base),t.blankLine&&t.blankLine(n.overlay)}}};var T=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]\s))(\s*)/,j=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,O=/[*+-]\s/;function P(e,t){var n=t.line,r=0,i=0,o=T.exec(e.getLine(n)),a=o[1];do{var s=n+(r+=1),l=e.getLine(s),c=T.exec(l);if(c){var u=c[1],d=parseInt(o[3],10)+r-i,h=parseInt(c[3],10),p=h;if(a!==u||isNaN(h)){if(a.length>u.length)return;if(a.length<u.length&&1===r)return;i+=1}else d===h&&(p=h+1),d>h&&(p=d+1),e.replaceRange(l.replace(T,u+p+c[4]+c[5]),{line:s,ch:0},{line:s,ch:l.length})}}while(c)}function D(e){return M(e)&&e.anchor.ch===e.head.ch}function M(e){return e.anchor.line===e.head.line}function I(e,t,n,r){var i=e.getLine(n.line),o=e.getLine(n.line+r),a={anchor:t,head:n};e.replaceRange(o,{line:n.line,ch:0},{line:n.line,ch:i.length},"+input"),e.replaceRange(i,{line:n.line+r,ch:0},{line:n.line+r,ch:o.length},"+input"),D(a)?e.setCursor({line:n.line+r,ch:n.ch}):e.setSelection({line:t.line+r,ch:t.ch},{line:n.line+r,ch:n.ch})}function R(e,t,n,r){var i,o=e.getRange({line:t.line,ch:0},{line:n.line,ch:e.getLine(n.line).length}),a=r>0?n:t,s=e.getLine(a.line+r);i=r>0?t:n,e.replaceRange(s,{line:i.line,ch:0},{line:i.line,ch:e.getLine(i.line).length},"+input"),e.replaceRange(o,{line:t.line+r,ch:0},{line:n.line+r,ch:e.getLine(n.line+r).length},"+input"),e.setSelection({line:t.line+r,ch:t.ch},{line:n.line+r,ch:n.ch})}function L(e){e.state.placeholder&&(e.state.placeholder.parentNode.removeChild(e.state.placeholder),e.state.placeholder=null)}function N(e){L(e);var t=e.state.placeholder=document.createElement("pre");t.style.cssText="height: 0; overflow: visible",t.className="CodeMirror-placeholder";var n=e.getOption("placeholder");"string"==typeof n&&(n=document.createTextNode(n)),t.appendChild(n),e.display.lineSpace.insertBefore(t,e.display.lineSpace.firstChild)}function A(e){B(e)&&N(e)}function F(e){var t=e.getWrapperElement(),n=B(e);t.className=t.className.replace(" CodeMirror-empty","")+(n?" CodeMirror-empty":""),n?N(e):L(e)}function B(e){return 1===e.lineCount()&&""===e.getLine(0)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}S.a.commands.indentOrderedList=function(e){if(e.getOption("disableInput"))return S.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n].head,i=e.getLine(r.line).substr(0,r.ch);T.test(i)||e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertSoftTab")}e.execCommand("fixOrderedListNumber")},S.a.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput")||e.state.isCursorInCodeBlock)return S.a.Pass;for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=e.getLine(i.line),a=T.exec(o),s=/^\s*$/.test(o.slice(0,i.ch));if(!t[r].empty()||!a||s)return void e.execCommand("newlineAndIndent");if(j.test(o))/>\s*$/.test(o)||e.replaceRange("",{line:i.line,ch:0},{line:i.line,ch:i.ch+1}),n[r]="\n";else{var l=a[1],c=a[5],u=!(O.test(a[2])||a[2].indexOf(">")>=0),d=u?parseInt(a[3],10)+1+a[4]:a[2].replace("x"," ");n[r]="\n"+l+d+c,u&&P(e,i)}}e.replaceSelections(n)},S.a.commands.replaceLineTextToUpper=function(e){if(e.getOption("disableInput"))return S.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n],i=r.anchor,o=r.head;if(M(r)&&o.line>0)I(e,i,o,-1);else if(!D(r)){var a=i.line<o.line?i.line:o.line;a>0&&R(e,i.line===a?i:o,i.line===a?o:i,-1)}}},S.a.commands.replaceLineTextToLower=function(e){if(e.getOption("disableInput"))return S.a.Pass;for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n],i=r.anchor,o=r.head,a=o.line===e.lastLine();if(M(r)&&!a)I(e,i,o,1);else if(!D(r)){var s=i.line<o.line?i.line:o.line,l=i.line===s?i:o,c=i.line===s?o:i;c.line<e.lastLine()&&R(e,l,c,1)}}},S.a.defineOption("placeholder","",(function(e,t,n){var r=n&&n!=S.a.Init;if(t&&!r)e.on("blur",A),e.on("change",F),e.on("swapDoc",F),F(e);else if(!t&&r){e.off("blur",A),e.off("change",F),e.off("swapDoc",F),L(e);var i=e.getWrapperElement();i.className=i.className.replace(" CodeMirror-empty","")}t&&!e.hasFocus()&&A(e)}));var z,q=function(){function e(e,t){void 0===t&&(t={}),this.editorContainerEl=e,this.cm=null,this._init(t)}var t=e.prototype;return t._init=function(e){var t=document.createElement("textarea");this.editorContainerEl.appendChild(t),e=H({},e,{lineWrapping:!0,theme:"default",extraKeys:H({"Shift-Tab":"indentLess","Alt-Up":"replaceLineTextToUpper","Alt-Down":"replaceLineTextToLower"},e.extraKeys),indentUnit:4,cursorScrollMargin:12,specialCharPlaceholder:function(){return document.createElement("span")}}),this.cm=S.a.fromTextArea(t,e)},t.getCurrentRange=function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{from:e,to:t,collapsed:e.line===t.line&&e.ch===t.ch}},t.focus=function(){this.cm.focus()},t.blur=function(){this.cm.getInputField().blur()},t.remove=function(){this.cm.toTextArea()},t.setValue=function(e,t){void 0===t&&(t=!0),this.cm.setValue(e),t&&this.moveCursorToEnd(),this.cm.doc.clearHistory(),this.cm.refresh()},t.getValue=function(){return this.cm.getValue("\n")},t.getEditor=function(){return this.cm},t.reset=function(){this.setValue("")},t.getCaretPosition=function(){return this.cm.cursorCoords()},t.addWidget=function(e,t,n,r){r&&(e.ch+=r),this.cm.addWidget(e.end,t,!0,n)},t.replaceSelection=function(e,t){t&&this.cm.setSelection(t.from,t.to),this.cm.replaceSelection(e),this.focus()},t.replaceRelativeOffset=function(e,t,n){var r=this.cm.getCursor(),i={from:{line:r.line,ch:r.ch+t},to:{line:r.line,ch:r.ch+t+n}};this.replaceSelection(e,i)},t.setHeight=function(e){var t=this.getWrapperElement();h()(t,{height:e+"px"})},t.setMinHeight=function(e){var t=this.getWrapperElement();h()(t,{minHeight:e+"px"})},t.setPlaceholder=function(e){e&&this.cm.setOption("placeholder",e)},t.getWrapperElement=function(){return this.cm.getWrapperElement()},t.getCursor=function(e){return this.cm.getCursor(e)},t.moveCursorToEnd=function(){var e=this.getEditor().getDoc(),t=e.lastLine();e.setCursor(t,e.getLine(t).length)},t.moveCursorToStart=function(){var e=this.getEditor().getDoc(),t=e.firstLine();e.setCursor(t,0)},t.scrollTop=function(e){return e&&this.cm.scrollTo(0,e),this.cm.getScrollInfo().top},t.getRange=function(){var e=this.cm.getCursor("from"),t=this.cm.getCursor("to");return{start:{line:e.line,ch:e.ch},end:{line:t.line,ch:t.ch}}},t.on=function(e,t){this.cm.on(e,t)},t.off=function(e,t){this.cm.off(e,t)},e}(),U=["","","","CANCEL","","","HELP","","BACK_SPACE","TAB","","","CLEAR","ENTER","ENTER_SPECIAL","","","","","PAUSE","CAPS_LOCK","KANA","EISU","JUNJA","FINAL","HANJA","","ESCAPE","CONVERT","NONCONVERT","ACCEPT","MODECHANGE","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","LEFT","UP","RIGHT","DOWN","SELECT","PRINT","EXECUTE","PRINTSCREEN","INSERT","DELETE","","0","1","2","3","4","5","6","7","8","9",":",";","<","=",">","?","AT","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","","","CONTEXT_MENU","","SLEEP","NUMPAD0","NUMPAD1","NUMPAD2","NUMPAD3","NUMPAD4","NUMPAD5","NUMPAD6","NUMPAD7","NUMPAD8","NUMPAD9","MULTIPLY","ADD","SEPARATOR","SUBTRACT","DECIMAL","DIVIDE","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","F13","F14","F15","F16","F17","F18","F19","F20","F21","F22","F23","F24","","","","","","","","","NUM_LOCK","SCROLL_LOCK","WIN_OEM_FJ_JISHO","WIN_OEM_FJ_MASSHOU","WIN_OEM_FJ_TOUROKU","WIN_OEM_FJ_LOYA","WIN_OEM_FJ_ROYA","","","","","","","","","","@","!",'"',"#","$","%","&","_","(",")","*","+","|","-","{","}","~","","","","","VOLUME_MUTE","VOLUME_DOWN","VOLUME_UP","","",";","=",",","-",".","/","`","","","","","","","","","","","","","","","","","","","","","","","","","","","[","\\","]","'","","META","ALTGR","","WIN_ICO_HELP","WIN_ICO_00","","WIN_ICO_CLEAR","","","WIN_OEM_RESET","WIN_OEM_JUMP","WIN_OEM_PA1","WIN_OEM_PA2","WIN_OEM_PA3","WIN_OEM_WSCTRL","WIN_OEM_CUSEL","WIN_OEM_ATTN","WIN_OEM_FINISH","WIN_OEM_COPY","WIN_OEM_AUTO","WIN_OEM_ENLW","WIN_OEM_BACKTAB","ATTN","CRSEL","EXSEL","EREOF","PLAY","ZOOM","","PA1","WIN_OEM_CLEAR",""],X=function(){function e(e){this._setSplitter(e)}var t=e.prototype;return t._setSplitter=function(e){var t=e?e.splitter:"+";this._splitter=t},t.convert=function(e){var t=[];e.shiftKey&&t.push("SHIFT"),e.ctrlKey&&t.push("CTRL"),e.metaKey&&t.push("META"),e.altKey&&t.push("ALT");var n=this._getKeyCodeChar(e.keyCode);return n&&t.push(n),t.join(this._splitter)},t._getKeyCodeChar=function(e){return U[e]},e.getSharedInstance=function(){return z||(z=new e),z},e.keyCode=function(e){return U.indexOf(e)},e}(),W=/^[ \t]*([-*]|[\d]+\.)( \[[ xX]])? /,V=/^[ \t]*([*-] |[\d]+\. )(\[[ xX]] )/,G=/^[ \t]*[-*] .*/,Y=/^[ \t]*[\d]+\. \[[ xX]] .*/,K=/([*-] |[\d]+\. )/,$=/([-*] |[\d]+\. )(\[[ xX]] )/,J=/([-*]|[\d]+\.)( \[[ xX]])? /,Z=/([-*])( \[[ xX]]) /,Q=/([\d])+\.( \[[ xX]])? /,ee=/^\|([-\s\w\d\t<>?!@#$%^&*()_=+\\/'";: \r[\]]*\|+)+/i,te=/^#+\s/,ne=/^ {0,3}(```|\||>)/,re=function(){function e(e){this.cm=e.getEditor(),this.doc=this.cm.getDoc(),this.toastMark=e.getToastMark(),this.name="list"}var t=e.prototype;return t._createSortedLineRange=function(e){var t=e.from.line>e.to.line,n={line:t?e.to.line:e.from.line,ch:0},r={line:t?e.from.line:e.to.line,ch:0};return{start:n.line,end:r.line}},t._calculateOrdinalNumber=function(e){for(var t=1,n=e-1;n>=0;n-=1){var r=this._getListDepth(n);if(1===r&&Q.exec(this.doc.getLine(n))){t=parseInt(RegExp.$1,10)+1;break}if(0===r)break}return t},t._isListLine=function(e){return!!W.exec(this.doc.getLine(e))},t._isCanBeList=function(e){var t=this.doc.getLine(e);return!ne.test(t)&&!ee.test(t)&&!te.test(t)},t._getChangeFn=function(e){var t,n=this;switch(e){case"ol":case"ul":t=function(t){return n._changeToList(t,e)};break;case"task":t=function(e){return n._changeToTask(e)}}return t},t.changeSyntax=function(e,t){for(var n=[],r=this._createSortedLineRange(e),i=r.start,o=r.end,a=this._getChangeFn(t),s=i;s<=o&&this._isCanBeList(s);s+=1)this._isListLine(s)||n.push(s),a(s);this._insertBlankLineForNewList(n),this.cm.focus()},t._replaceLineText=function(e,t){this.doc.replaceRange(e,{line:t,ch:0})},t._changeToList=function(e,t){var n=this;this._isListLine(e)?this._changeSameDepthList(e,"ol"===t?function(e,t){n._replaceListTypeToOL(e,t)}:function(e){n._replaceListTypeToUL(e)}):this._replaceLineText("ol"===t?this._calculateOrdinalNumber(e)+". ":"* ",e)},t._changeToTask=function(e){V.exec(this.doc.getLine(e))?this._replaceLineTextByRegexp(e,$,"$1"):this._isListLine(e)?this._replaceLineTextByRegexp(e,K,"$1[ ] "):this._replaceLineText("* [ ] ",e)},t._getListDepth=function(e){var t=0;if(this.doc.getLine(e))for(var n=this.toastMark.findFirstNodeAtLine(e+1);n&&"document"!==n.type;)"list"===n.type&&(t+=1),n=n.parent;return t},t._findSameDepthList=function(e,t,n){for(var r,i=this.doc.lineCount(),o=[],a=e;n?a<i-1:a>0;)if(a=n?a+1:a-1,(r=this._getListDepth(a))===t)o.push(a);else if(r<t)break;return o},t._changeSameDepthList=function(e,t){var n=this._getListDepth(e),r=this._findSameDepthList(e,n,!1).reverse(),i=this._findSameDepthList(e,n,!0);r.concat([e]).concat(i).forEach((function(e,n){t(e,n+1)}))},t._replaceLineTextByRegexp=function(e,t,n){var r=this.doc.getLine(e),i={line:e,ch:0},o={line:e,ch:r.length};r=r.replace(t,n),this.doc.replaceRange(r,i,o)},t._replaceListTypeToUL=function(e){var t=this.doc.getLine(e);Z.exec(t)?this._replaceLineTextByRegexp(e,Z,"$1 "):Q.exec(t)&&this._replaceLineTextByRegexp(e,Q,"* ")},t._replaceListTypeToOL=function(e,t){var n=this.doc.getLine(e);G.exec(n)||Y.exec(n)?this._replaceLineTextByRegexp(e,J,t+". "):Q.exec(n)&&parseInt(RegExp.$1,10)!==t&&this._replaceLineTextByRegexp(e,Q,t+". ")},t._insertBlankLineForNewList=function(e){var t=e.length;if(t){var n=e[0],r=e[t-1];this._isNotBlankNotListLine(r+1)&&this.doc.replaceRange("\n",{line:r,ch:this.doc.getLine(r).length}),n>0&&this._isNotBlankNotListLine(n-1)&&this.doc.replaceRange("\n",{line:n,ch:0})}},t._isNotBlankNotListLine=function(e){return!!this.doc.getLine(e)&&!this._isListLine(e)},e}(),ie=function(){function e(e){this._managers={},this._editor=e}var t=e.prototype;return t.addManager=function(e,t){t||(t=e,e=null);var n=new t(this._editor);this._managers[e||n.name]=n},t.getManager=function(e){return this._managers[e]},t.removeManager=function(e){var t=this.getManager(e);t&&(t.destroy&&t.destroy(),delete this._managers[e])},e}(),oe=function(){function e(e,t){this._mde=e,this.setRange(t||e.getRange())}var t=e.prototype;return t._setStart=function(e){this._start=e},t._setEnd=function(e){this._end=e},t.setRange=function(e){this._setStart(e.start),this._setEnd(e.end)},t.setEndBeforeRange=function(e){this._setEnd(e.start)},t.expandStartOffset=function(){var e=this._start;0!==e.ch&&(e.ch-=1)},t.expandEndOffset=function(){var e=this._end;e.ch<this._mde.getEditor().getDoc().getLine(e.line).length&&(e.ch+=1)},t.getTextContent=function(){return this._mde.getEditor().getRange(this._start,this._end)},t.replaceContent=function(e){this._mde.getEditor().replaceRange(e,this._start,this._end,"+input")},t.deleteContent=function(){this._mde.getEditor().replaceRange("",this._start,this._end,"+delete")},t.peekStartBeforeOffset=function(e){var t={line:this._start.line,ch:Math.max(this._start.ch-e,0)};return this._mde.getEditor().getRange(t,this._start)},e}(),ae=n(4),se=n(27),le=n.n(se);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ue,de=(ue={DELIM:"delimiter",META:"meta",TEXT:"marked-text",THEMATIC_BREAK:"thematic-break",CODE_BLOCK:"code-block",TABLE:"table",HTML:"html"},i()(ue,(function(e,t){ue[t]=pe(e)})),ue),he={strong:2,emph:1,strike:2};function pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map((function(e){return"tui-md-"+e})).join(" ")}function fe(e,t,n){return{start:e,end:t,className:n}}function me(e,t,n){var r=e.type;return{marks:[fe(t,n,pe(""+r)),fe(t,Object(ae.a)(t,he[r]),de.DELIM),fe(Object(ae.a)(n,-he[r]),n,de.DELIM)]}}function ge(e,t,n,r){return[fe(e,t,pe("link")),fe(n,Object(ae.l)(t,r),pe("link-desc")),fe(Object(ae.l)(e,n.ch+1),Object(ae.l)(t,r-1),de.TEXT),fe(Object(ae.l)(t,r),t,pe("link-url")),fe(Object(ae.l)(t,r+1),Object(ae.a)(t,-1),de.TEXT)]}function ve(e,t){for(var n=[];e;){var r=e.type;"paragraph"!==r&&"codeBlock"!==r||n.push(fe({line:Object(ae.f)(e)-1,ch:Object(ae.e)(e)-1},{line:Object(ae.d)(e)-1,ch:Object(ae.c)(e)},t)),e=e.next}return n}var _e={heading:function(e,t,n){var r=e.level,i=e.headingType,o=[fe(t,n,pe("heading","heading"+r))];return"atx"===i?o.push(fe(t,Object(ae.a)(t,r),de.DELIM)):o.push(fe(Object(ae.l)(n,0),n,de.DELIM+" setext")),{marks:o}},strong:me,emph:me,strike:me,link:function(e,t,n){var r=e.lastChild,i=e.extendedAutolink,o=r?Object(ae.c)(r)+1:2;return{marks:i?[fe(t,n,pe("link","link-desc")+" "+de.TEXT)]:ge(t,n,t,o)}},image:function(e,t,n){var r=e.lastChild,i=r?Object(ae.c)(r)+1:3,o=Object(ae.a)(t,1);return{marks:[fe(t,o,de.META)].concat(ge(t,n,o,i))}},code:function(e,t,n){var r=e.tickCount,i=Object(ae.a)(t,r),o=Object(ae.a)(n,-r);return{marks:[fe(t,n,pe("code")),fe(t,i,de.DELIM+" start"),fe(i,o,de.TEXT),fe(o,n,de.DELIM+" end")]}},codeBlock:function(e,t,n,r){var i=e.fenceOffset,o=e.fenceLength,a=e.fenceChar,s=e.info,l=e.infoPadding,c=e.parent,u=i+o,d=[fe(Object(ae.l)(t,0),n,de.CODE_BLOCK)];return a&&d.push(fe(t,Object(ae.a)(t,u),de.DELIM)),s&&d.push(fe(Object(ae.l)(t,u),Object(ae.l)(t,u+l+s.length),de.META)),new RegExp("^(\\s{0,3})("+a+"{"+o+",})").test(r)&&d.push(fe(Object(ae.l)(n,0),n,de.DELIM)),{marks:d,lineBackground:ce({},"item"!==c.type&&"blockQuote"!==c.type?{start:t.line,end:n.line,className:de.CODE_BLOCK}:null)}},blockQuote:function(e,t,n){var r=e.parent&&"blockQuote"!==e.parent.type?[fe(t,n,pe("block-quote"))]:[];if(e.firstChild){var i=[];"paragraph"===e.firstChild.type?i=function(e){for(var t=[];e;)t.push(fe({line:Object(ae.f)(e)-1,ch:Object(ae.e)(e)-1},{line:Object(ae.d)(e)-1,ch:Object(ae.c)(e)},de.TEXT)),e=e.next;return t}(e.firstChild.firstChild,de.TEXT):"list"===e.firstChild.type&&(i=ve(e.firstChild,de.TEXT)),r=[].concat(r,i)}return{marks:r}},item:function(e,t){var n=function(e){for(var t=0;e.parent.parent&&"item"===e.parent.parent.type;)e=e.parent.parent,t+=1;var n=["fisrt","second","third"][t%3];return pe("list-item",""+["list-item-odd","list-item-even"][t%2])+" "+n}(e),r=e.listData,i=r.padding,o=r.task;return{marks:[fe(t,Object(ae.a)(t,i),n+" "+pe("list-item-bullet"))].concat(o?[fe(Object(ae.a)(t,i),Object(ae.a)(t,i+3),n+" "+de.DELIM),fe(Object(ae.a)(t,i+1),Object(ae.a)(t,i+2),de.META)]:[],ve(e.firstChild,n+" "+de.TEXT))}}},ye={thematicBreak:de.THEMATIC_BREAK,table:de.TABLE,tableCell:de.TEXT,htmlInline:de.HTML};function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ce=X.getSharedInstance(),we={strong:!1,emph:!1,strike:!1,thematicBreak:!1,blockQuote:!1,code:!1,codeBlock:!1,list:!1,taskList:!1,orderedList:!1,heading:!1,table:!1},Se=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,{dragDrop:!0,allowDropFileTypes:["image"],extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:"indentOrderedList","Shift-Tab":"indentLessOrderedList"},viewportMargin:i&&"auto"===i.height?1/0:10})||this).eventManager=n,o.componentManager=new ie(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o)),o.toastMark=r,o.componentManager.addManager(re),o._latestState=null,o._markedLines={},o._initEvent(),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initEvent=function(){var e=this;this.cm.getWrapperElement().addEventListener("click",(function(){e.eventManager.emit("click",{source:"markdown"})})),this.cm.on("beforeChange",(function(t,n){"paste"===n.origin&&e.eventManager.emit("pasteBefore",{source:"markdown",data:n})})),this.cm.on("change",(function(t,n){e._refreshCodeMirrorMarks(n),e._emitMarkdownEditorChangeEvent(n)})),this.cm.on("focus",(function(){e.eventManager.emit("focus",{source:"markdown"})})),this.cm.on("blur",(function(){e.eventManager.emit("blur",{source:"markdown"})})),this.cm.on("scroll",(function(t,n){e.eventManager.emit("scroll",{source:"markdown",data:n})})),this.cm.on("keydown",(function(t,n){e.eventManager.emit("keydown",{source:"markdown",data:n}),e.eventManager.emit("keyMap",{source:"markdown",keyMap:Ce.convert(n),data:n})})),this.cm.on("keyup",(function(t,n){e.eventManager.emit("keyup",{source:"markdown",data:n})})),this.cm.on("copy",(function(t,n){e.eventManager.emit("copy",{source:"markdown",data:n})})),this.cm.on("cut",(function(t,n){e.eventManager.emit("cut",{source:"markdown",data:n})})),this.cm.on("paste",(function(t,n){e.eventManager.emit("paste",{source:"markdown",data:n})})),this.cm.on("drop",(function(t,n){n.preventDefault(),e.eventManager.emit("drop",{source:"markdown",data:n})})),this.cm.on("cursorActivity",(function(){return e._onChangeCursorActivity()}))},i.setValue=function(t,n){e.prototype.setValue.call(this,t,n)},i.getTextObject=function(e){return new oe(this,e)},i._emitMarkdownEditorContentChangedEvent=function(e){this.eventManager.emit("contentChangedFromMarkdown",e)},i._emitMarkdownEditorChangeEvent=function(e){if("setValue"!==e.origin){var t={source:"markdown"};this.eventManager.emit("changeFromMarkdown",t),this.eventManager.emit("change",t)}},i._refreshCodeMirrorMarks=function(e){var t=this,n=e.from,r=e.to,i=e.text,o=this.toastMark.editMarkdown([n.line+1,n.ch+1],[r.line+1,r.ch+1],i.join("\n"));this._emitMarkdownEditorContentChangedEvent(o),o.length&&o.forEach((function(e){return t._markNodes(e)}))},i._markNodes=function(e){var t=e.nodes,n=e.removedNodeRange;if(n&&this._removeBackgroundOfLines(n),t.length){var r=t[0].sourcepos[0],i=t[t.length-1].sourcepos[1],o={line:r[0]-1,ch:r[1]-1},a={line:i[0]-1,ch:i[1]},s=this.cm.findMarks(o,a),l=Array.isArray(s),c=0;for(s=l?s:s[Symbol.iterator]();;){var u;if(l){if(c>=s.length)break;u=s[c++]}else{if((c=s.next()).done)break;u=c.value}var d=u;d.attributes&&"data-tui-mark"in d.attributes&&d.clear()}var h=t,p=Array.isArray(h),f=0;for(h=p?h:h[Symbol.iterator]();;){var m;if(p){if(f>=h.length)break;m=h[f++]}else{if((f=h.next()).done)break;m=f.value}for(var g=m.walker(),v=g.next();v;){var _=v,y=_.node;_.entering&&this._markNode(y),v=g.next()}}}},i._removeBackgroundOfLines=function(e){for(var t=e.line,n=t[0],r=t[1],i=n;i<=r;i+=1)this._markedLines[i]&&(this.cm.removeLineClass(i,"background"),this._markedLines[i]=!1)},i._markCodeBlockBackground=function(e){for(var t=e.start,n=e.end,r=e.className,i=t;i<=n;i+=1){var o=r;i===t?o+=" start":i===n&&(o+=" end"),this.cm.addLineClass(i,"background",o),this._markedLines[i]=!0}},i._markNode=function(e){var t=this,n={line:Object(ae.f)(e)-1,ch:Object(ae.e)(e)-1},r={line:Object(ae.d)(e)-1,ch:Object(ae.c)(e)},i=function(e,t,n,r){var i=e.type;return le()(_e[i])?_e[i](e,t,n,r):ye[i]?{marks:[fe(t,n,ye[i])]}:null}(e,n,r,this.cm.getLine(r.line));if(i){var o=i.marks,a=void 0===o?[]:o,s=i.lineBackground,l=void 0===s?{}:s;a.forEach((function(e){var n,r=e.start,i=e.end,o=e.className,a=((n={})["data-tui-mark"]="",n);t.cm.markText(r,i,{className:o,attributes:a})})),this._markCodeBlockBackground(l)}},i._setToolbarState=function(e){if(n=this._latestState,r=e,(n||r)&&(!n&&r||n&&!r||Object.keys(r).some((function(e){return n[e]!==r[e]})))){var t=be({source:"markdown"},e||we);this.eventManager.emit("stateChange",t)}var n,r;this._latestState=e},i._onChangeCursorActivity=function(){var e=this.cm.getCursor(),t=e.line,n=e.ch,r=t+1,i=this.cm.getLine(t).length===n?n:n+1,o=this.toastMark.findNodeAtPosition([r,i]),a=null;this.cm.state.isCursorInCodeBlock=o&&"codeBlock"===o.type,this.eventManager.emit("cursorActivity",{source:"markdown",cursor:{line:t,ch:n},markdownNode:o}),o&&(a=function(e,t,n,r){var i=be({},we),o=!1;return Object(ae.m)(e,(function(e){var t=function(e){var t=e.type,n=e.listData;return"list"===t||"item"===t?n.task?"taskList":"ordered"===n.type?"orderedList":"list":-1!==t.indexOf("table")?"table":t}(e);C()(i[t])&&("list"===t||"orderedList"===t?o||(i[t]=!0,o=!0):i[t]=!0)})),Object(ae.k)(e)&&(r===t&&Object(ae.d)(e)===n||r===Object(ae.c)(e)+1&&n===Object(ae.d)(e)||r===Object(ae.e)(e)&&n===Object(ae.f)(e))&&(i[e.type]=!1),i}(o="text"===o.type?o.parent:o,n,r,i)),this._setToolbarState(a)},i.resetState=function(){this._latestState=null},i.getToastMark=function(){return this.toastMark},r.factory=function(e,t,n,i){return new r(e,t,n,i)},r}(q),xe=n(35),ke=n(2),Ee=n.n(ke),Te=n(21),je=n.n(Te),Oe=n(8),Pe=n.n(Oe),De=n(17),Me=n.n(De),Ie=n(11),Re=n.n(Ie),Le=n(47),Ne=n.n(Le),Ae=n(19),Fe=n.n(Ae),Be=n(20),He=n.n(Be),ze=n(0),qe=n(13),Ue=n.n(qe),Xe=n(25),We=function(){function e(e){this.wwe=e}var t=e.prototype;return t.preparePaste=function(e){var t,n,r,i=this.wwe.getEditor().getSelection().cloneRange(),o=this.wwe.componentManager.getManager("codeblock"),a=!1,s=document.createElement("div");this._pasteFirstAid(e);for(var l=Ee()(e.childNodes);l.length;)n=l[0],r="LI"===(t=ze.a.getNodeName(n))||"UL"===t||"OL"===t,o.isInCodeBlock(i)?ze.a.append(s,o.prepareToPasteOnCodeblock(l)):r?(ze.a.append(s,this._prepareToPasteList(l,i,a)),a=!0):ze.a.append(s,l.shift());e.innerHTML=s.innerHTML},t._wrapOrphanNodeWithDiv=function(e){var t,n=document.createElement("div");return Ee()(e.childNodes).forEach((function(e){var r=3===e.nodeType,i=/^(SPAN|A|CODE|EM|I|STRONG|B|S|U|ABBR|ACRONYM|CITE|DFN|KBD|SAMP|VAR|BDO|Q|SUB|SUP)$/gi.test(e.tagName),o="BR"===e.nodeName;r||i||o?(t||(t=document.createElement("div"),n.appendChild(t)),t.appendChild(e),o&&(t=null)):(t&&"BR"!==t.lastChild.tagName&&t.appendChild(document.createElement("br")),t=null,n.appendChild(e))})),n.innerHTML},t._sanitizeHtml=function(e){var t=this.wwe.getSanitizer(),n=Object(Xe.a)(e.innerHTML,!0);t&&t!==Xe.a&&(n=t(n)),e.innerHTML=n},t._pasteFirstAid=function(e){var t=this;this._sanitizeHtml(e),ze.a.findAll(e,"*").forEach((function(e){t._removeStyles(e)}));var n="div, section, article, aside, nav, menus, p";this._unwrapIfNonBlockElementHasBr(e),this._unwrapNestedBlocks(e,n),this._removeUnnecessaryBlocks(e,n),e.innerHTML=this._wrapOrphanNodeWithDiv(e),this._preElementAid(e),this._tableElementAid(e),Ee()(e.children).forEach((function(e){"BR"===ze.a.getNodeName(e)&&ze.a.remove(e)}))},t._preElementAid=function(e){this.wwe.componentManager.getManager("codeblock").modifyCodeBlockForWysiwyg(e)},t._unwrapIfNonBlockElementHasBr=function(e){ze.a.findAll(e,"span, a, b, em, i, s").forEach((function(e){ze.a.children(e,"br").length&&"LI"!==e.nodeName&&"UL"!==e.nodeName&&ze.a.unwrap(e)}))},t._unwrapNestedBlocks=function(e,t){ze.a.findAll(e,"*").filter((function(e){return!Ue()(e,"b,s,i,em,code,span,hr")&&!e.firstChild})).forEach((function(n){for(var r="BR"===n.nodeName?n.parentNode:n;ze.a.parents(r,t).length;){var i=ze.a.parent(r,t);i&&i!==e?ze.a.unwrap(i):r=r.parentElement}}))},t._removeUnnecessaryBlocks=function(e,t){ze.a.findAll(e,t).forEach((function(e){var n="DIV"===e.tagName,r=!!ze.a.parent(e,"li"),i=!!ze.a.parent(e,"blockquote"),o=!!ze.a.children(e,t).length;n&&(r||i||!o)||(e.lastChild&&"BR"!==e.lastChild.nodeName&&e.appendChild(document.createElement("br")),ze.a.replaceWith(e,e.innerHTML))}))},t._removeStyles=function(e){var t;"SPAN"!==ze.a.getNodeName(e)?e.removeAttribute("style"):(e.getAttribute("style")&&(t=e.style.color),e.removeAttribute("style"),t&&"rgb(34, 34, 34)"!==t?h()(e,{color:t}):ze.a.unwrap(e))},t._prepareToPasteList=function(e,t,n){var r=ze.a.getNodeName(e[0]),i=e.shift(),o=this.wwe.getEditor().getDocument().createDocumentFragment();if("LI"!==r&&e.length&&"LI"===e[0].tagName&&(r="LI",i=this._makeNodeAndAppend({tagName:r},i)),"OL"===r||"UL"===r)!n&&this.wwe.getEditor().hasFormat("LI")?ze.a.append(o,this._wrapCurrentFormat(i)):o.appendChild(i);else if("LI"===r){var a=this.wwe.getEditor().getDocument().createDocumentFragment();for(a.appendChild(i);e.length&&"LI"===e[0].tagName;)a.appendChild(e.shift());!n&&this.wwe.getEditor().hasFormat("LI")?ze.a.append(o,this._wrapCurrentFormat(a)):!t||"UL"!==t.commonAncestorName&&"OL"!==t.commonAncestorName?ze.a.append(o,this._makeNodeAndAppend({tagName:"UL"},a)):ze.a.append(o,this._makeNodeAndAppend({tagName:t.commonAncestorName},a))}return o},t._unwrapFragmentFirstChildForPasteAsInline=function(e){return ze.a.findAll(e,"br").forEach((function(e){return ze.a.remove(e)})),e.childNodes},t._wrapCurrentFormat=function(e){var t,n=this;return this._eachCurrentPath((function(r){"DIV"!==r.tagName&&(t=ze.a.isElemNode(e)?e.tagName:e.firstChild.tagName,r.tagName!==t&&(e=n._makeNodeAndAppend(r,e)))})),e},t._eachCurrentPath=function(e){for(var t=ze.a.getPath(this.wwe.getEditor().getSelection().startContainer,this.wwe.getBody()),n=t.length-1;n>-1;n-=1)e(t[n])},t._makeNodeAndAppend=function(e,t){var n=document.createElement(""+e.tagName);return n.appendChild(t),e.id&&n.setAttribute("id",e.id),e.className&&f()(n,e.className),n},t._tableElementAid=function(e){this._removeColgroup(e),this._completeTableIfNeed(e),this._updateTableIDClassName(e)},t._removeColgroup=function(e){var t=e.querySelector("colgroup");t&&ze.a.remove(t)},t._completeTableIfNeed=function(e){var t=this.wwe.componentManager.getManager("table"),n=t.wrapDanglingTableCellsIntoTrIfNeed(e);n&&ze.a.append(e,n);var r=t.wrapTrsIntoTbodyIfNeed(e);r&&ze.a.append(e,r);var i=t.wrapTheadAndTbodyIntoTableIfNeed(e);i&&ze.a.append(e,i)},t._updateTableIDClassName=function(e){var t=this.wwe.componentManager.getManager("table"),n=ze.a.findAll(e,"table");n.forEach((function(e){var t=e.className.match(/.*\s*(te-content-table-\d+)\s*.*/);t&&g()(e,t[0])})),n.forEach((function(e){f()(e,t.getTableIDClassName())}))},e}(),Ve=function(){function e(e){this.wwe=e}var t=e.prototype;return t.pasteClipboard=function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items;n?(this._pasteClipboardItem(n),e.preventDefault()):(this._pasteClipboardUsingPasteArea(),e.squirePrevented=!0)},t._pasteClipboardUsingPasteArea=function(){var e=this,t=this.wwe.getEditor(),n=t.getSelection(),r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset,s=document.createElement("div"),l=document.body;s.setAttribute("contenteditable",!0),s.setAttribute("style","position:fixed; overflow:hidden; top:0; right:100%; width:1px; height:1px;"),l.appendChild(s),n.selectNodeContents(s),t.setSelection(n),setTimeout((function(){var c=l.removeChild(s);n.setStart(r,i),n.setEnd(o,a),t.focus(),t.setSelection(n),e._pasteClipboardHtml(c.innerHTML)}))},t._pasteClipboardItem=function(e){var t=this,n=null,r=null;Ee()(e).forEach((function(e){"text/html"===e.type?r=e:"text/plain"===e.type&&(n=e)})),r?r.getAsString((function(e){t._pasteClipboardHtml(e)})):n&&n.getAsString((function(e){t._pasteClipboardContainer(document.createTextNode(e))}))},t._getSanitizedHtml=function(e){var t=this.wwe.getSanitizer();e=Object(Xe.a)(e,!0),t&&t!==Xe.a&&(e=t(e));var n=document.createElement("div");return n.innerHTML=e,ze.a.finalizeHtml(n)},t._pasteClipboardHtml=function(e){var t=document.createDocumentFragment(),n=e.indexOf("\x3c!--StartFragment--\x3e"),r=e.lastIndexOf("\x3c!--EndFragment--\x3e");n>-1&&r>-1&&(e=e.slice(n+"\x3c!--StartFragment--\x3e".length,r)),/<\/td>((?!<\/tr>)[\s\S])*$/i.test(e)&&(e="<TR>"+e+"</TR>"),/<\/tr>((?!<\/table>)[\s\S])*$/i.test(e)&&(e="<TABLE>"+e+"</TABLE>"),t.appendChild(this._getSanitizedHtml(e)),this._pasteClipboardContainer(t)},t._pasteClipboardContainer=function(e){var t=this.wwe.getEditor(),n=e.childNodes;if(1===n.length&&"TABLE"===n[0].nodeName)this.wwe.componentManager.getManager("table").pasteTableData(e);else{var r=t.getSelection().cloneRange(),i=this._preparePasteDocumentFragment(e);t.saveUndoState(r),r.collapsed||this._deleteContentsRange(r),ze.a.isTextNode(r.startContainer)?this._pasteIntoTextNode(r,i):this._pasteIntoElements(r,i),t.setSelection(r)}},t._preparePasteDocumentFragment=function(e){var t=e.childNodes,n=document.createDocumentFragment();return t.length?n.appendChild(this._unwrapBlock(e)):this._isPossibleInsertToTable(e)&&n.appendChild(e),n},t._unwrapBlock=function(e){for(var t=document.createDocumentFragment(),n=Ee()(e.childNodes);n.length;){var r=n.shift();if(this._isPossibleInsertToTable(r))t.appendChild(r);else{t.appendChild(this._unwrapBlock(r));var i=t.lastChild;n.length&&i&&"BR"!==i.nodeName&&t.appendChild(document.createElement("br"))}}return t},t._isPossibleInsertToTable=function(e){var t=e.nodeName;return!("CODE"===t&&e.childNodes.length>1)&&("UL"===t||"OL"===t||ze.a.isMDSupportInlineNode(e)||ze.a.isTextNode(e))},t._pasteIntoElements=function(e,t){var n=e.startContainer,r=e.startOffset,i=ze.a.getChildNodeByOffset(n,r);if(i)n.insertBefore(t,i),e.setStart(i,0);else if("TD"===n.nodeName)n.appendChild(t),e.setStart(n,n.childNodes.length);else{var o=n.parentNode,a=n.nextSibling;o.insertBefore(t,a),a?e.setStart(a,0):e.setStartAfter(o.lastChild)}e.collapse(!0)},t._pasteIntoTextNode=function(e,t){var n=e.startContainer,r=e.startOffset,i=n.parentNode,o=n.textContent,a=o.slice(0,r),s=o.slice(r,o.length),l=t.childNodes,c=l[0],u=1===l.length&&ze.a.isTextNode(c);if(a)if(s)if(u){var d=c.textContent;n.textContent=""+a+d+s,e.setStart(n,a.length+d.length)}else{var h=document.createDocumentFragment();h.appendChild(document.createTextNode(a)),h.appendChild(t),h.appendChild(document.createTextNode(s)),i.replaceChild(h,n);var p=Ee()(i.childNodes),f=0;p.forEach((function(e,t){e.textContent===s&&(f=t)})),e.setStart(i.childNodes[f],0)}else{var m=n.nextSibling;i.insertBefore(t,m),e.setStartAfter(m)}else i.insertBefore(t,n),e.setStart(n,0);e.collapse(!0)},t._deleteContentsRange=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;t===r?(this._deleteContentsByOffset(t,n,i),e.setStart(t,n),e.collapse(!0)):this._deleteNotCollapsedRangeContents(e)},t._deleteNotCollapsedRangeContents=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset,o=e.commonAncestorContainer,a=this._getBlock(t,o,n),s=this._getBlock(r,o,i-1);if(a===s)this._removeInSameBlock(a,t,r,n,i),s=r!==s?null:s;else{var l=a.nextSibling;"TD"===t.nodeName?l=this._removeOneLine(a):(this._deleteContentsByOffset(t,n,ze.a.getOffsetLength(t)),ze.a.removeNodesByDirection(a,t,!1)),"TD"===r.nodeName?s=this._removeOneLine(s):(this._deleteContentsByOffset(r,0,i),ze.a.removeNodesByDirection(s,r,!0)),ze.a.removeChildFromStartToEndNode(o,l,s)}s?e.setStart(s,0):e.setStartAfter(a),e.collapse(!0)},t._removeInSameBlock=function(e,t,n,r,i){var o=t===e?r:0,a=n===e?i:ze.a.getOffsetLength(e);this._deleteContentsByOffset(e,o,a)},t._removeOneLine=function(e){var t=e.nextSibling,n=e.parentNode,r=t;return n.removeChild(e),t&&"BR"===t.nodeName&&(r=t.nextSibling,n.removeChild(t)),r},t._getBlock=function(e,t,n){return ze.a.getParentUntil(e,t)||ze.a.getChildNodeByOffset(e,n)},t._deleteContentsByOffset=function(e,t,n){if(ze.a.isTextNode(e)){var r=e.textContent,i=r.slice(0,t),o=r.slice(n,r.length);e.textContent=""+i+o}else{var a=ze.a.getChildNodeByOffset(e,t),s=ze.a.getChildNodeByOffset(e,n);a&&ze.a.removeChildFromStartToEndNode(e,a,s||null)}},e}(),Ge=function(){function e(e){this.wwe=e,this._pch=new We(this.wwe),this._tablePasteHelper=new Ve(this.wwe),this._selectedSellCount=0,this._clipboardArea=null}var t=e.prototype;return t.init=function(){var e=this;this.wwe.eventManager.listen("willPaste",(function(t){return e._executeHandler(e._onWillPaste.bind(e),t)})),this.wwe.eventManager.listen("copy",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("copyAfter",(function(t){return e._executeHandler(e._onCopyAfter.bind(e),t)})),this.wwe.eventManager.listen("cut",(function(t){return e._executeHandler(e._onCopyCut.bind(e),t)})),this.wwe.eventManager.listen("cutAfter",(function(t){return e._executeHandler(e._onCutAfter.bind(e),t)})),this.wwe.eventManager.listen("paste",(function(t){return e._executeHandler(e._onPasteIntoTable.bind(e),t)}))},t._executeHandler=function(e,t){"wysiwyg"===t.source&&e(t)},t._onCopyCut=function(e){var t=this.wwe.componentManager.getManager("tableSelection");if(t.getSelectedCells().length)if(t.mergedTableSelectionManager){var n=this.wwe.getEditor(),r=e.data,i=n.getSelection().cloneRange(),o=document.createElement("div");this._extendRange(i),o.innerHTML=i.cloneContents(),this._updateCopyDataForListTypeIfNeed(i,o),this.wwe.eventManager.emit("copyBefore",{source:"wysiwyg",clipboardContainer:o}),this._setClipboardData(r,o.innerHTML,o.textContent)}else t.createRangeBySelectedCells()},t._clearClipboardArea=function(){this._clipboardArea&&(ze.a.remove(this._clipboardArea),this._clipboardArea=null)},t._onCopyAfter=function(){this.wwe.getEditor().getBody().focus(),this._clearClipboardArea()},t._onCutAfter=function(){this.wwe.getEditor().getSelection().deleteContents(),this.wwe.getEditor().focus(),this._clearClipboardArea()},t._onPasteIntoTable=function(e){var t=e.data,n=this.wwe.getEditor().getSelection();this.wwe.isInTable(n)&&this._isSingleCellSelected(n)&&this._tablePasteHelper.pasteClipboard(t)},t._isSingleCellSelected=function(e){var t=e.startContainer,n=e.endContainer;return this._getCell(t)===this._getCell(n)},t._getCell=function(e){return"TD"===e.nodeName?e:ze.a.getParentUntil(e,"TR")},t._replaceNewLineToBr=function(e){ze.a.getAllTextNode(e).forEach((function(e){/\n/.test(e.nodeValue)&&(e.parentNode.innerHTML=e.nodeValue.replace(/\n/g,"<br>"))}))},t._onWillPaste=function(e){var t=this,n=e.data,r=document.createElement("div");r.appendChild(n.fragment.cloneNode(!0)),this._preparePaste(r),this._setTableBookmark(r),n.fragment=document.createDocumentFragment(),Ee()(r.childNodes).forEach((function(e){"DIV"===ze.a.getNodeName(e)&&t._replaceNewLineToBr(e),n.fragment.appendChild(e)})),this.wwe.getEditor().addEventListener("input",(function e(){t.wwe.getEditor().removeEventListener("input",e),t.wwe.eventManager.emit("wysiwygRangeChangeAfter",t),t._focusTableBookmark()}))},t._setClipboardData=function(e,t,n){Re.a.msie?(e.squirePrevented=!0,this._clipboardArea=this._createClipboardArea(),this._clipboardArea.innerHTML=t,this._clipboardArea.focus(),window.getSelection().selectAllChildren(this._clipboardArea)):(e.preventDefault(),e.stopPropagation(),e.clipboardData.setData("text/html",t),e.clipboardData.setData("text/plain",n))},t._createClipboardArea=function(){var e=document.createElement("div");return e.setAttribute("contenteditable",!0),h()(e,{position:"fixed",overflow:"hidden",top:0,right:"100%",width:"1px",height:"1px"}),document.body.appendChild(e),e},t._updateCopyDataForListTypeIfNeed=function(e,t){var n=e.commonAncestorContainer.nodeName;if("UL"===n||"OL"===n){var r=document.createElement(n);r.appendChild(t),t.innerHTML="",t.appendChild(r)}},t._removeEmptyFontElement=function(e){ze.a.children(e,"font").forEach((function(e){e.textContent.trim()||ze.a.remove(e)}))},t._isFromMs=function(e){return/<p style="[^>]*mso-/.test(e)},t._preProcessPtag=function(e){ze.a.findAll(e,"p").forEach((function(e){e.lastChild&&"BR"!==e.lastChild.nodeName&&e.appendChild(document.createElement("br")),e.appendChild(document.createElement("br"))}))},t._preparePaste=function(e){this._isFromMs(e.innerText)||this._preProcessPtag(e),this._removeEmptyFontElement(e),this._pch.preparePaste(e),this.wwe.eventManager.emit("pasteBefore",{source:"wysiwyg",clipboardContainer:e})},t._setTableBookmark=function(e){var t=e.lastChild;t&&"TABLE"===t.nodeName&&f()(t,"tui-paste-table-bookmark")},t._focusTableBookmark=function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=e.getBody().querySelector(".tui-paste-table-bookmark"),r=e.getBody().querySelector(".tui-paste-table-cell-bookmark");n&&(g()(n,"tui-paste-table-bookmark"),t.setEndAfter(n),t.collapse(!1),e.setSelection(t)),r&&(g()(r,"tui-paste-table-cell-bookmark"),t.selectNodeContents(r),t.collapse(!1),e.setSelection(t))},t._extendRange=function(e){(!ze.a.isTextNode(e.commonAncestorContainer)||0===e.startOffset&&e.commonAncestorContainer.textContent.length===e.endOffset||"TD"===e.commonAncestorContainer.nodeName)&&(0===e.startOffset&&(e=this._extendStartRange(e)),e.endOffset===ze.a.getOffsetLength(e.endContainer)&&(e=this._extendEndRange(e)),this._isWholeCommonAncestorContainerSelected(e)&&e.selectNode(e.commonAncestorContainer),this.wwe.getEditor().setSelection(e))},t._extendStartRange=function(e){for(var t=e.startContainer;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.getBody()&&!t.previousSibling;)t=t.parentNode;return e.setStart(t.parentNode,ze.a.getNodeOffsetOfParent(t)),e},t._extendEndRange=function(e){for(var t=e.endContainer,n=t.nextSibling;t.parentNode!==e.commonAncestorContainer&&t.parentNode!==this.wwe.getBody()&&(!n||"BR"===ze.a.getNodeName(n)&&t.parentNode.lastChild===n);)n=(t=t.parentNode).nextSibling;return e.setEnd(t.parentNode,ze.a.getNodeOffsetOfParent(t)+1),e},t._isWholeCommonAncestorContainerSelected=function(e){return e.commonAncestorContainer.nodeType===Node.ELEMENT_NODE&&e.commonAncestorContainer!==this.wwe.getBody()&&0===e.startOffset&&e.endOffset===e.commonAncestorContainer.childNodes.length&&e.commonAncestorContainer===e.startContainer&&e.commonAncestorContainer===e.endContainer},e}(),Ye=/<li/i,Ke=/(<(?:th|td)[^>]*>)(.*?)(<\/(?:th|td)>)/g,$e=/<(ul|ol|li)([^>]*)>/g,Je=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="list",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),this._initKeyHandler()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._convertToArbitraryNestingList(t)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){e._findAndRemoveEmptyList(),e._removeBranchListAll()})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeBranchListAll()})),this.eventManager.listen("wysiwygProcessHTMLText",(function(t){return t=e._convertFromArbitraryNestingList(t)})),this.eventManager.listen("convertorBeforeHtmlToMarkdownConverted",(function(t){return e._insertDataToMarkPassForListInTable(t)}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler(["TAB","CTRL+]","META+]"],(function(t){var n;return e.wwe.getEditor().hasFormat("LI")&&(t.preventDefault(),e.eventManager.emit("command","Indent"),n=!1),n})),this.wwe.addKeyEventHandler(["SHIFT+TAB","CTRL+[","META+["],(function(t,n){var r;if(e.wwe.getEditor().hasFormat("LI")){t.preventDefault();var i=ze.a.children(ze.a.closest(n.startContainer,"li"),"OL,UL");e.eventManager.emit("command","Outdent"),i.length&&!i.previousSibling&&e._removeBranchList(i),r=!1}return r})),this.wwe.addKeyEventHandler("ENTER",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=ze.a.parents(t.startContainer,"li")[0];e._removeBranchListAll(n)}))})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){n.collapsed&&e.wwe.getEditor().hasFormat("LI")&&e.wwe.defer((function(){e._removeBranchListAll()}))}))},t._findAndRemoveEmptyList=function(){ze.a.findAll(this.wwe.getBody(),"OL,UL").forEach((function(e){Ye.test(e.innerHTML)||ze.a.remove(e)}))},t._removeBranchListAll=function(e){var t=this;e=e||this.wwe.getBody(),ze.a.findAll(e,"li > ul, li > ol").forEach((function(e){e&&!e.previousSibling&&t._removeBranchList(e)}))},t._removeBranchList=function(e){for(var t=e;!t.previousSibling&&t.parentElement.tagName.match(/UL|OL|LI/g);)t=t.parentElement;var n=ze.a.children(t,"li")[0],r=ze.a.unwrap(e);ze.a.prepend(t,r),ze.a.remove(n)},t._convertToArbitraryNestingList=function(e){for(var t=ze.a.createElementWith("<div>"+e+"</div>"),n=t.querySelector("li > ul, li > ol");null!==n;){var r=n.parentNode;r.parentNode.insertBefore(n,r.nextElementSibling),n=t.querySelector("li > ul, li > ol")}return t.innerHTML},t._convertFromArbitraryNestingList=function(e){for(var t=ze.a.createElementWith("<div>"+e+"</div>"),n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul");null!==n;){for(var r=n.previousElementSibling;r&&"LI"!==r.tagName;)r=r.previousElementSibling;r?r.appendChild(n):this._unwrap(n),n=t.querySelector("ol > ol, ol > ul, ul > ol, ul > ul")}return t.innerHTML},t._unwrap=function(e){for(var t=document.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e)},t._insertDataToMarkPassForListInTable=function(e){return e.replace(Ke,(function(e,t,n,r){return""+t+n.replace($e,'<$1 data-tomark-pass="" $2>')+r}))},t.getLinesOfSelection=function(e,t){var n,r=[],i=!1,o=!0;ze.a.isTextNode(e)&&(e=ze.a.parents(e,"DIV,LI")[0]),ze.a.isTextNode(t)&&(t=ze.a.parents(t,"DIV,LI")[0]);for(var a=e;o&&Ue()(a,"DIV,LI");a=n)r.push(a),a===t?i=!0:n=this._getNextLine(a,t),o=n&&!i;return r},t._getNextLine=function(e,t){var n=e.nextElementSibling;return n?Ue()(n,"OL,UL")&&(n=n.querySelector("li")):n=e.parentNode.nextElementSibling,Ue()(n,"DIV,LI")||n===t?n:this._getNextLine(n)},t.mergeList=function(e){var t=e.parentNode,n=t.previousElementSibling,r=t.nextElementSibling;t.firstElementChild===e&&n&&Ue()(n,"OL,UL")&&(this._mergeList(t,n),t=n),t.lastElementChild===e&&r&&Ue()(r,"OL,UL")&&this._mergeList(r,t)},t._mergeList=function(e,t){var n=e.firstElementChild;if(t&&Ue()(t,"OL,UL")){for(;n;){var r=n.nextElementSibling;t.appendChild(n),n=r}e.parentNode.removeChild(e)}},t.isAvailableMakeListInTable=function(){var e=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),t=this.wwe.getEditor();return e&&t.hasFormat("table")&&!t.hasFormat("OL")&&!t.hasFormat("UL")},t._getParentNodeBeforeTD=function(e,t){var n=ze.a.getParentUntil(e,"TD");if(!n){var r=e.childNodes,i=r?r.length:0,o=t>0&&t===i?t-1:t;n=ze.a.getChildNodeByOffset(e,o)}return n},t._findLINodeInsideTD=function(e,t){var n=null,r=ze.a.getParentUntilBy(e,(function(e){return e&&ze.a.isListNode(e)}),(function(e){return e&&"TD"===e.nodeName}));if(r)n=r;else if("LI"===e.nodeName)n=e;else if(ze.a.isListNode(e)){var i=e.childNodes.length;n=e.childNodes[t>=i?i-1:t]}return n},t._getFirstNodeInLineOfTable=function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n)for(var r=(n=this._getParentNodeBeforeTD(e,t)).previousSibling;r&&"BR"!==r.nodeName&&!ze.a.isListNode(r);)r=(n=r).previousSibling;return n},t._getLastNodeInLineOfTable=function(e,t){var n=this._findLINodeInsideTD(e,t);if(!n)for(n=this._getParentNodeBeforeTD(e,t);n.nextSibling&&"BR"!==n.nodeName&&!ze.a.isListNode(n);)n=n.nextSibling;return n},t._isLastNodeInLineOfTable=function(e){var t=e.nodeName;return"LI"===t||"BR"===t},t._getNextNodeInLineOfTable=function(e){var t=e.nextSibling;if("LI"!==e.nodeName||t)ze.a.isListNode(t)&&(t=t.firstChild);else for(var n=e.parentNode;"TD"!==n.nodeName;){if(n.nextSibling){t=n.nextSibling;break}n=n.parentNode}return t},t._getLinesOfSelectionInTable=function(e){for(var t=e.startContainer,n=e.endContainer,r=e.startOffset,i=e.endOffset,o=this._getFirstNodeInLineOfTable(t,r),a=this._getLastNodeInLineOfTable(n,i),s=[],l=[];o;){if(l.push(o),this._isLastNodeInLineOfTable(o)&&(s.push(l),l=[]),o===a){l.length&&s.push(l);break}o=this._getNextNodeInLineOfTable(o)}return s},t._createListElement=function(e){return document.createElement("TASK"===e?"UL":e)},t._createListItemElement=function(e,t){var n=document.createElement("li");return e.forEach((function(e){n.appendChild(e)})),"TASK"===t&&this.wwe.componentManager.getManager("task").formatTask(n),n},t._mergeListWithPreviousSibiling=function(e){var t=e.previousSibling,n=e;return t&&e.nodeName===t.nodeName&&(this._mergeList(e,t),n=t),n},t._mergeListWithNextSibiling=function(e){var t=e.nextSibling;return t&&e.nodeName===t.nodeName&&this._mergeList(t,e),e},t.createListInTable=function(e,t){var n=this,r=this._getLinesOfSelectionInTable(e),i=r[r.length-1],o=i[i.length-1],a=o.nextSibling,s=o.parentNode,l=this._createListElement(t),c=l.nodeName,u=[];return r.forEach((function(e){var r,i=e[0];if("LI"===i.nodeName){var o=i.parentNode;if(r=i,o.nodeName!==c){var a=o.childNodes;Ee()(a).forEach((function(){l.appendChild(o.firstChild)})),o.parentNode.replaceChild(l,o)}l=r.parentNode}else r=n._createListItemElement(e,t),l.appendChild(r);u.push(r)})),l.parentNode||s.insertBefore(l,a),l=this._mergeListWithPreviousSibiling(l),this._mergeListWithNextSibiling(l),u},t.adjustRange=function(e,t,n,r,i){var o=ze.a.containsNode(i[0],e)?e:i[0],a=ze.a.containsNode(i[i.length-1],t)?t:i[i.length-1],s="TD"===e.nodeName?0:n,l="TD"===t.nodeName?0:r;this.wwe.setSelectionByContainerAndOffset(o,s,a,l)},e}(),Ze=n(16),Qe=n.n(Ze),et=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="task",this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent(),this.wwe.getEditor().addEventListener("mousedown",(function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute("data-te-task")&&ze.a.isInsideTaskBox(t,e.offsetX,e.offsetY)&&(e.preventDefault(),ze.a.toggleClass(e.target,"checked"))}))},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._removeTaskListClass()}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){e.isInTaskList(n)&&e.wwe.defer((function(){var t=e.wwe.getRange(),n=ze.a.closest(t.startContainer,"li");n&&g()(n,"checked")}))}))},t.isInTaskList=function(e){var t;return e||(e=this.wwe.getEditor().getSelection().cloneRange()),!!(t=e.startContainer.nodeType===Node.ELEMENT_NODE&&"LI"===e.startContainer.tagName?e.startContainer:ze.a.parents(e.startContainer,"li")[0])&&Qe()(t,"task-list-item")},t.unformatTask=function(e){var t=ze.a.closest(e,"li");g()(t,"task-list-item"),g()(t,"checked"),t.removeAttribute("data-te-task"),t.getAttribute("class")||t.removeAttribute("class")},t.formatTask=function(e){var t=ze.a.closest(e,"li");f()(t,"task-list-item"),t.setAttribute("data-te-task","")},t._formatTaskIfNeed=function(){var e=this.wwe.getEditor().getSelection().cloneRange();this.isInTaskList(e)&&this.formatTask(e.startContainer)},t._removeTaskListClass=function(){ze.a.findAll(this.wwe.getBody(),".task-list").forEach((function(e){g()(e,"task-list")}))},e}(),tt=Re.a.msie&&10===Re.a.version,nt=Re.a.msie&&(10===Re.a.version||11===Re.a.version),rt=Re.a.msie?"":"<br>";function it(e,t){for(var n="<"+t+"><br /></"+t+">",r="",i=0;i<e;i+=1)r+=n;return r}var ot=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="table",this._lastCellNode=null,this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent(),this.tableID=0},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygRangeChangeAfter.table",(function(){var t=e.wwe.getEditor().getSelection(),n=e.wwe.isInTable(t);e._unwrapBlockInTable(),e._completeTableIfNeed(),n||e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed(),e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygSetValueAfter.table",(function(){e._unwrapBlockInTable(),e._insertDefaultBlockBetweenTable()})),this.eventManager.listen("wysiwygProcessHTMLText.table",(function(e){return e.replace(/<br \/>(<\/td>|<\/th>)/g,"$1")})),this.eventManager.listen("cut.table",(function(){var t=e.wwe.componentManager.getManager("tableSelection"),n=t.getSelectedCells();n.length&&n.forEach((function(e){e.innerHTML=rt})),t.removeClassAttrbuteFromAllCellsIfNeed()})),this.eventManager.listen("copyBefore.table",(function(t){var n=t.clipboardContainer;return e.updateTableHtmlOfClipboardIfNeed(n)}))},t.updateTableHtmlOfClipboardIfNeed=function(e){var t=this,n=this.wwe.componentManager.getManager("tableSelection");if(n.getSelectedCells().length){n.createRangeBySelectedCells();var r=this.wwe.getEditor().getSelection().cloneContents();Ee()(r.children).forEach((function(e){if(t.isTableOrSubTableElement(e.nodeName))if("TABLE"===e.nodeName&&e.querySelector("thead")&&e.querySelector("tbody"))ze.a.remove(e);else if(e.previousSibling&&"TABLE"===e.previousSibling.nodeName)e.previousSibling.appendChild(e);else if(t._completeIncompleteTable(e),"TABLE"!==e.nodeName&&"THEAD"!==e.nodeName){var n=ze.a.closest(e,"table").querySelector("thead");ze.a.remove(n)}})),e.appendChild(r),ze.a.findAll(e,".te-cell-selected").forEach((function(e){g()(e,"te-cell-selected")}))}},t.pasteTableData=function(e){this._expandTableIfNeed(e),this._pasteDataIntoTable(e)},t._initKeyHandler=function(){var e=this;this.keyEventHandlers={DEFAULT:function(t,n,r){var i=e.wwe.isInTable(n);i&&!e._isModifierKey(r)?(e._recordUndoStateIfNeed(n),e._removeContentsAndChangeSelectionIfNeed(n,r,t)):!i&&e._lastCellNode&&e._recordUndoStateAndResetCellNode(n),i&&!e._isModifierKeyPushed(t)&&e.wwe.getEditor().modifyDocument((function(){e.wwe.componentManager.getManager("tableSelection").removeClassAttrbuteFromAllCellsIfNeed()}))},ENTER:function(t,n){var r;return e._isAfterTable(n)?(t.preventDefault(),n.setStart(n.startContainer,n.startOffset-1),e.wwe.breakToNewDefaultBlock(n),r=!1):e._isBeforeTable(n)?(t.preventDefault(),e.wwe.breakToNewDefaultBlock(n,"before"),r=!1):e.wwe.isInTable(n)&&(!e._isInList(n.startContainer)&&e._isInStyledText(n)?e.wwe.defer((function(){e._removeBRinStyleText()})):e._isEmptyFirstLevelLI(n)&&e.wwe.defer((function(){var t=e.wwe.getRange().cloneRange(),n=t.startContainer,r=document.createElement("br");n.parentNode.replaceChild(r,n),t.setStartBefore(r),t.collapse(!0),e.wwe.getEditor().setSelection(t)})),e._appendBrIfTdOrThNotHaveAsLastChild(n),r=!1),r},BACK_SPACE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},DELETE:function(t,n,r){return e._handleBackspaceAndDeleteKeyEvent(t,n,r)},TAB:function(){return e._moveCursorTo("next","cell")},"SHIFT+TAB":function(t){return e._moveCursorTo("previous","cell",t)},UP:function(t){return e._moveCursorTo("previous","row",t)},DOWN:function(t){return e._moveCursorTo("next","row",t)}},i()(this.keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))},t._isEmptyListItem=function(e){var t=e.childNodes;return"LI"===e.nodeName&&1===t.length&&"BR"===t[0].nodeName},t._isEmptyFirstLevelLI=function(e){var t=e.collapsed,n=e.startContainer,r=e.startOffset;return t&&0===r&&this._isEmptyListItem(n)&&ze.a.isFirstLevelListItem(n)},t._isInStyledText=function(e){var t,n=e.startContainer;return t=ze.a.isTextNode(n)?n.parentNode:n,e.collapsed&&ze.a.isStyledNode(t)},t._removeBRinStyleText=function(){var e,t=this.wwe.getRange(),n=t.startContainer,r=t.startOffset,i=(e="TD"===n.nodeName?ze.a.getChildNodeByOffset(n,r-1):ze.a.getParentUntil(n,"TD")).querySelector("br");if(i){var o=e,a=o.parentNode,s=o.nodeName;if("CODE"!==s||i.previousSibling)if("CODE"!==s||i.nextSibling){var l=this._splitByBR(e,i);t.setStart(l,0)}else a.insertBefore(i,e.nextSibling),t.setStart(a,ze.a.getNodeOffsetOfParent(i)+1);else a.insertBefore(i,e),t.setStart(e,0);t.collapse(!0),this.wwe.getEditor().setSelection(t)}},t._splitByBR=function(e,t){var n=e.cloneNode(!0),r=document.createElement("br"),i=e.parentNode;ze.a.removeNodesByDirection(e,t,!1),t.parentNode.removeChild(t);var o=n.querySelector("br");ze.a.removeNodesByDirection(n,o,!0),o.parentNode.removeChild(o),i.insertBefore(n,e.nextSibling),i.insertBefore(r,n);var a=ze.a.getLeafNode(n);return ze.a.getTextLength(a)||(a.textContent="\u200b"),a},t._isBeforeTable=function(e){return"TABLE"===ze.a.getNodeName(ze.a.getChildNodeByOffset(e.startContainer,e.startOffset))},t._isAfterTable=function(e){var t=ze.a.getPrevOffsetNodeUntil(e.startContainer,e.startOffset);return"TABLE"===ze.a.getNodeName(t)&&e.commonAncestorContainer===this.wwe.getBody()},t._handleBackspaceAndDeleteKeyEvent=function(e,t,n){var r="BACK_SPACE"===n,i=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),o=!0;if(t.collapsed){if(this.wwe.isInTable(t))r?this._tableHandlerOnBackspace(t,e):this._tableHandlerOnDelete(t,e),this._removeContentsAndChangeSelectionIfNeed(t,n,e),o=!1;else if(!r&&this._isBeforeTable(t)||r&&this._isAfterTable(t)){e.preventDefault();var a=r?t.startOffset-1:t.startOffset;this._removeTable(t,ze.a.getChildNodeByOffset(t.startContainer,a)),o=!1}}else this.wwe.isInTable(t)&&i.length>0&&this._removeContentsAndChangeSelectionIfNeed(t,n,e)&&(e.preventDefault(),o=!1);return o},t._moveListItemToPreviousOfList=function(e,t){var n=e.parentNode,r=e.firstChild,i=document.createDocumentFragment();ze.a.mergeNode(e,i),n.parentNode.insertBefore(i,n),t.setStart(r,0),t.collapse(!0),this.wwe.getEditor().setSelection(t),n.hasChildNodes()||n.parentNode.removeChild(n)},t._isInList=function(e){return ze.a.getParentUntilBy(e,(function(e){return e&&(ze.a.isListNode(e)||"LI"===e.nodeName)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))},t._findListItem=function(e){return ze.a.getParentUntilBy(e,(function(e){return e&&ze.a.isListNode(e)}),(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}))},t._tableHandlerOnBackspace=function(e,t){var n=e.startContainer,r=e.startOffset,i=this._findListItem(n);if(i&&0===r&&ze.a.isFirstListItem(i)&&ze.a.isFirstLevelListItem(i))this.wwe.getEditor().saveUndoState(e),this._moveListItemToPreviousOfList(i,e),t.preventDefault();else{var o=ze.a.getPrevOffsetNodeUntil(n,r,"TR");"BR"===ze.a.getNodeName(o)&&1!==o.parentNode.childNodes.length&&(t.preventDefault(),ze.a.remove(o))}},t._isDeletingBR=function(e){var t=this._getCurrentNodeInCell(e),n=t&&t.nextSibling;return"BR"===ze.a.getNodeName(t)&&!!n&&"BR"===ze.a.getNodeName(n)},t._getCurrentNodeInCell=function(e){var t,n=e.startContainer,r=e.startOffset;return"TD"===ze.a.getNodeName(n)?t=ze.a.getChildNodeByOffset(n,r):ze.a.getParentUntil(n,"TD")&&(t=n),t},t._isEndOfList=function(e,t){var n=t.startContainer,r=t.startOffset,i=!1;if(!e.nextSibling)if(e===n){var o=ze.a.getOffsetLength(e);"BR"===e.lastChild.nodeName&&(o-=1),i=o===r}else{var a=ze.a.getParentUntil(n,"li")||n,s=ze.a.getOffsetLength(n),l=e.lastChild;"BR"===l.nodeName&&(l=l.previousSibling),i=l===a&&s===r}return i},t._getNextLineNode=function(e){for(var t=document.createDocumentFragment(),n=ze.a.getParentUntil(e,"TD").nextSibling;n;){var r=n.nextSibling;if(t.appendChild(n),"BR"===n.nodeName)break;n=r}return t},t._tableHandlerOnDelete=function(e,t){var n=this._findListItem(e.startContainer);if(n&&this._isEndOfList(n,e))this.wwe.getEditor().saveUndoState(e),"BR"===n.lastChild.nodeName&&n.removeChild(n.lastChild),ze.a.mergeNode(this._getNextLineNode(n),n),t.preventDefault();else if(this._isDeletingBR(e)){var r=this._getCurrentNodeInCell(e);r.parentNode.removeChild(r.nextSibling),t.preventDefault()}},t._appendBrIfTdOrThNotHaveAsLastChild=function(e){var t,n=ze.a.getNodeName(e.startContainer);if("TD"===n||"TH"===n)t=e.startContainer;else{var r=ze.a.parentsUntil(e.startContainer,"tr");t=r[r.length-1]}var i=ze.a.getNodeName(t.lastChild);"BR"===i||"DIV"===i||"UL"===i||"OL"===i||nt||ze.a.append(t,"<br />")},t._unwrapBlockInTable=function(){ze.a.findAll(this.wwe.getBody(),"td div,th div,tr>br,td>br,th>br").forEach((function(e){if("BR"===ze.a.getNodeName(e)){var t=ze.a.getNodeName(e.parentNode),n=/TD|TH/.test(t),r=0===e.parentNode.textContent.length,i=e.parentNode.lastChild===e;("TR"===t||n&&!r&&i)&&ze.a.remove(e)}else ze.a.unwrap(e)}))},t._insertDefaultBlockBetweenTable=function(){ze.a.findAll(this.wwe.getBody(),"table").forEach((function(e){if(e.nextElementSibling&&"TABLE"===e.nextElementSibling.nodeName){var t=document.createElement("div");t.appendChild(document.createElement("br")),ze.a.insertAfter(t,e)}}))},t._removeTable=function(e,t){"TABLE"===t.tagName&&(this.wwe.getEditor().saveUndoState(e),this.wwe.saveSelection(e),ze.a.remove(t),this.wwe.restoreSavedSelection())},t._recordUndoStateIfNeed=function(e){var t=ze.a.getParentUntil(e.startContainer,"TR");e.collapsed&&t&&this._lastCellNode!==t&&(this.wwe.getEditor().saveUndoState(e),this._lastCellNode=t)},t._recordUndoStateAndResetCellNode=function(e){this.wwe.getEditor().saveUndoState(e),this.resetLastCellNode()},t._pasteDataIntoTable=function(e){var t,n,r,i,o=this.wwe.getEditor().getSelection().startContainer,a=this._getTableDataFromTable(e),s="TD"===o.nodeName||"TH"===o.nodeName,l=tt?"":"<br />";for(n=t=(t=s?o:(t=ze.a.getParentUntilBy(o,(function(e){return e&&("TD"===e.nodeName||"TH"===e.nodeName)}),(function(e){return!!ze.a.closest(e,"table")})))?t.parentNode:null)||o.querySelector("th,td");a.length;){for(r=a.shift();n&&r.length;)(i=r.shift()).length?n.textContent=i:n.innerHTML=l,n=ze.a.getTableCellByDirection(n,"next");t=n=ze.a.getSiblingRowCellByDirection(t,"next",!1)}},t._getTableDataFromTable=function(e){var t=[];return ze.a.findAll(e,"tr").forEach((function(e){var n=[];Ee()(e.children).forEach((function(e){n.push(e.textContent)})),n.length&&t.push(n)})),t},t._removeTableContents=function(e){this.wwe.getEditor().saveUndoState(),Ee()(e).forEach((function(e){var t=tt?"":"<br />";e.innerHTML=t}))},t.wrapDanglingTableCellsIntoTrIfNeed=function(e){var t,n=ze.a.children(e,"td,th");if(n.length){var r=document.createElement("tr");Ee()(n).forEach((function(e){ze.a.append(r,e)})),t=r}return t},t.wrapTrsIntoTbodyIfNeed=function(e){var t,n=ze.a.children(e,"tr"),r=[];if(Ee()(n).forEach((function(e){r=r.concat(e.querySelectorAll("th"))})),r.length&&Ee()(r).forEach((function(e){var t=document.createElement("td");t.innerHTML=e.innerHTML,ze.a.insertBefore(e,t),ze.a.remove(e)})),n.length){var i=document.createElement("tbody");Ee()(n).forEach((function(e){ze.a.append(i,e)})),t=i}return t},t.wrapTheadAndTbodyIntoTableIfNeed=function(e){var t,n=ze.a.children(e,"thead"),r=ze.a.children(e,"tbody"),i=document.createElement("table");return!r.length&&n.length?(ze.a.append(i,n[0]),ze.a.append(i,this._createTheadOrTboday("tbody")),t=i):r.length&&!n.length?(ze.a.append(i,this._createTheadOrTboday("thead")),ze.a.append(i,r[0]),t=i):r.length&&n.length&&(ze.a.append(i,n[0]),ze.a.append(i,r[0]),t=i),t},t.isTableOrSubTableElement=function(e){return"TABLE"===e||"TBODY"===e||"THEAD"===e||"TR"===e||"TD"===e},t._createTheadOrTboday=function(e){var t=document.createElement(e),n=document.createElement("tr");return t.appendChild(n),t},t._stuffTableCellsIntoIncompleteRow=function(e,t){Ee()(e).forEach((function(e){for(var n=e.querySelectorAll("th,td"),r="THEAD"===ze.a.getNodeName(e.parentNode)?"th":"td",i=n.length;i<t;i+=1)ze.a.append(e,it(1,r))}))},t.prepareToTableCellStuffing=function(e){var t=e[0].querySelectorAll("th,td").length,n=!1;return Ee()(e).forEach((function(e){var r=e.querySelectorAll("th,td").length;t!==r&&(n=!0,t<r&&(t=r))})),{maximumCellLength:t,needTableCellStuffingAid:n}},t._addTbodyOrTheadIfNeed=function(e){var t=!e.querySelector("thead"),n=!e.querySelector("tbody");t?ze.a.prepend(e,"<thead><tr></tr></thead>"):n&&ze.a.append(e,"<tbody><tr></tr></tbody>")},t.tableCellAppendAidForTableElement=function(e){this._addTbodyOrTheadIfNeed(e),this._addTrIntoContainerIfNeed(e);var t=e.querySelectorAll("tr"),n=this.prepareToTableCellStuffing(t),r=n.maximumCellLength;n.needTableCellStuffingAid&&this._stuffTableCellsIntoIncompleteRow(t,r)},t._generateTheadAndTbodyFromTbody=function(e){var t=document.createElement("tr"),n=document.createElement("thead");return ze.a.append(t,it(e.querySelector("tr > td").length,"th")),ze.a.append(n,t),{thead:n,tbody:e}},t._generateTheadAndTbodyFromThead=function(e){var t=document.createElement("tr"),n=document.createElement("tbody");return ze.a.append(t,it(e.querySelectorAll("th").length,"td")),ze.a.append(n,t),{thead:e,tbody:n}},t._generateTheadAndTbodyFromTr=function(e){var t,n,r=document.createElement("thead"),i=document.createElement("tbody");return"TH"===e.children[0].tagName?(t=e,n=ze.a.createElementWith("<tr>"+it(e.querySelectorAll("th").length,"td")+"</tr>")):(t=ze.a.createElementWith("<tr>"+it(e.querySelectorAll("td").length,"th")+"</tr>"),n=e),ze.a.append(r,t),ze.a.append(i,n),{thead:r,tbody:i}},t._completeIncompleteTable=function(e){var t,n,r=e.tagName;"TABLE"===r?t=e:(t=document.createElement("table"),e.parentNode.insertBefore(t,e.nextSibling),"TBODY"===r?n=this._generateTheadAndTbodyFromTbody(e):"THEAD"===r?n=this._generateTheadAndTbodyFromThead(e):"TR"===r&&(n=this._generateTheadAndTbodyFromTr(e)),t.appendChild(n.thead),t.appendChild(n.tbody)),this._removeEmptyRows(t),this.tableCellAppendAidForTableElement(t)},t._removeEmptyRows=function(e){ze.a.findAll(e,"tr").forEach((function(e){e.cells.length||e.parentNode.removeChild(e)}))},t._completeTableIfNeed=function(){var e=this,t=this.wwe.getEditor().getBody();Ee()(t.children).forEach((function(t){e.isTableOrSubTableElement(t.nodeName)&&("TABLE"!==t.nodeName||t.querySelector("tbody")?e._completeIncompleteTable(t):ze.a.remove(t))}))},t.resetLastCellNode=function(){this._lastCellNode=null},t.setLastCellNode=function(e){this._lastCellNode=e},t._isModifierKey=function(e){return/((META|SHIFT|ALT|CONTROL)\+?)/g.test(e)},t._isModifierKeyPushed=function(e){return e.metaKey||e.ctrlKey||e.altKey||e.shiftKey},t._addTrIntoContainerIfNeed=function(e){Ee()(e.children).forEach((function(e){0===e.querySelectorAll("tr").length&&ze.a.append(e,"<tr></tr>")}))},t._expandTableIfNeed=function(e){var t=this.wwe.getEditor().getSelection().cloneRange(),n=ze.a.parents(t.startContainer,"table")[0],r=this._getColumnAndRowDifference(e,t);r.column<0&&this._appendCellForAllRow(n,r.column),r.row<0&&this._appendRow(n,r.row)},t._getColumnAndRowDifference=function(e,t){var n=this._getTableDataFromTable(e),r=n.length,i=n[0].length,o=ze.a.closest(t.startContainer,"th,td"),a=o.parentNode,s=ze.a.getNodeOffsetOfParent(o),l=ze.a.getNodeOffsetOfParent(o.parentNode),c=ze.a.parents(a,"table")[0],u=c.querySelector("tr").children.length,d=c.querySelectorAll("tr").length;return!!ze.a.parents(a,"tbody").length&&(l+=1),{row:d-(l+r),column:u-(s+i)}},t._appendCellForAllRow=function(e,t){var n=tt?"":"<br />";ze.a.findAll(e,"tr").forEach((function(e,r){for(var i,o=t;o<0;o+=1)i=0===r?"th":"td",ze.a.append(e,"<"+i+">"+n+"</"+i+">")}))},t._appendRow=function(e,t){var n=e.querySelectorAll("tr"),r=n[n.length-1].cloneNode(!0),i=tt?"":"<br />";for(ze.a.findAll(r,"td").forEach((function(e){e.innerHTML=i}));t<0;t+=1)ze.a.append(e.querySelector("tbody"),r.cloneNode(!0))},t._changeSelectionToTargetCell=function(e,t,n,r){var i,o="next"===n,a="row"===r;a?i=ze.a.getSiblingRowCellByDirection(e,n,!1):(i=ze.a.getTableCellByDirection(e,n))||(i=ze.a.getSiblingRowCellByDirection(e,n,!0)),i?(a&&!o?this._moveToCursorEndOfCell(i,t):t.setStart(i,0),t.collapse(!0)):(i=ze.a.parents(e,"table")[0],o?t.setStart(i.nextElementSibling,0):i.previousElementSibling&&"TABLE"!==i.previousElementSibling.nodeName?t.setStart(i.previousElementSibling,1):t.setStartBefore(i),t.collapse(!0))},t._moveToCursorEndOfCell=function(e,t){var n;ze.a.isListNode(e.lastChild)&&(n=ze.a.getLastNodeBy(e.lastChild,(function(e){return"LI"!==e.nodeName||null!==e.nextSibling})));var r=ze.a.getLastNodeBy(n||e,(function(e){return!ze.a.isTextNode(e)})),i=r||n||e,o=r?r.length:i.childNodes.length-1;t.setStart(i,o)},t._moveCursorTo=function(e,t,n){var r,i=this.wwe.getEditor(),o=i.getSelection().cloneRange(),a=ze.a.closest(o.startContainer,"td,th");if(o.collapsed&&this.wwe.isInTable(o)&&a){if("row"===t&&!this._isMovedCursorToRow(o,e))return r;"previous"!==e&&"row"!==t||Pe()(n)||n.preventDefault(),this._changeSelectionToTargetCell(a,o,e,t),i.setSelection(o),r=!1}return r},t._isMovedCursorToRow=function(e,t){var n=e.startContainer;return this._isInList(n)?this._isMovedCursorFromListToRow(n,t):this._isMovedCursorFromTextToRow(e,t)},t._isMovedCursorFromListToRow=function(e,t){var n=t+"Sibling",r=this._findListItem(e),i=ze.a.getParentNodeBy(r,(function(e,t){var r=null===t[n]&&null===e[n];return!ze.a.isCellNode(e)&&r})),o=ze.a.isListNode(i)&&null===i[n];return ze.a.isCellNode(i.parentNode)&&o},t._isMovedCursorFromTextToRow=function(e,t){var n=e.startContainer,r=e.startOffset,i=ze.a.isCellNode(n)?n.childNodes[r]:n,o=ze.a.getParentNodeBy(i,(function(e){return!ze.a.isCellNode(e)&&!ze.a.isTextNode(e)})),a=ze.a.getSiblingNodeBy(o,t,(function(e){return null!==e&&"BR"!==e.nodeName}));return a&&null===a[t+"Sibling"]},t._removeContentsAndChangeSelectionIfNeed=function(e,t,n){var r=t.length<=1,i="BACK_SPACE"===t||"DELETE"===t,o=this.wwe.componentManager.getManager("tableSelection").getSelectedCells(),a=o[0],s=!1;return(r||i)&&!this._isModifierKeyPushed(n)&&o.length&&(i&&this._recordUndoStateIfNeed(e),this._removeTableContents(o),this._lastCellNode=a,e.setStart(a,0),e.collapse(!0),this.wwe.getEditor().setSelection(e),s=!0),s},t.getTableIDClassName=function(){var e="te-content-table-"+this.tableID;return this.tableID+=1,e},t.destroy=function(){var e=this;this.eventManager.removeEventHandler("wysiwygRangeChangeAfter.table"),this.eventManager.removeEventHandler("wysiwygSetValueAfter.table"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.table"),this.eventManager.removeEventHandler("cut.table"),this.eventManager.removeEventHandler("copyBefore.table"),i()(this.keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))},e}(),at=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="tableSelection",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),Re.a.firefox&&(document.execCommand("enableObjectResizing",!1,"false"),document.execCommand("enableInlineTableEditing",!1,"false"))},t._initEvent=function(){var e,t,n,r=this;this._tableSelectionTimer=null,this._removeSelectionTimer=null,this._isSelectionStarted=!1;var i=function(i){t=ze.a.closest(i.data.target,"[contenteditable=true] td,th");var o=r.wwe.getEditor().getSelection(),a=ze.a.parents(t,"[contenteditable=true] table"),s=e===t,l=r._isTextSelect(o,s)&&!Qe()(e,"te-cell-selected");r._isSelectionStarted&&a&&!l&&(window.getSelection().removeAllRanges(),Re.a.firefox&&!r._removeSelectionTimer&&(r._removeSelectionTimer=setInterval((function(){window.getSelection().removeAllRanges()}),10)),r.highlightTableCellsBy(e,t),n=t)},o=function(){r._isSelectionStarted&&(r._isSelectionStarted=!1,r.eventManager.removeEventHandler("mouseover.tableSelection"),r.eventManager.removeEventHandler("mouseup.tableSelection"))},a=function(i){t=ze.a.closest(i.data.target,"[contenteditable=true] td,th");var a=r.wwe.getEditor().getSelection(),s=e===t,l=r._isTextSelect(a,s)&&!Qe()(e,"te-cell-selected");r._clearTableSelectionTimerIfNeed(),r._isSelectionStarted&&(l||r._isListSelect(a)?r.removeClassAttrbuteFromAllCellsIfNeed():(r.wwe.componentManager.getManager("table").resetLastCellNode(),t=t||n,(a=r.wwe.getEditor().getSelection()).setStart(t,0),Re.a.msie?a.setEnd(t,1):(a.setEnd(t,0),a.collapse(!1)),r.wwe.getEditor().setSelection(a)),r.onDragEnd&&r.onDragEnd()),o()};this.eventManager.listen("mousedown.tableSelection",(function(n){var s=!!(e=ze.a.closest(n.data.target,"[contenteditable=true] td,th"))&&Qe()(e,"te-cell-selected");t=null,!s||s&&2!==n.data.button?(r.removeClassAttrbuteFromAllCellsIfNeed(),e&&(r.setTableSelectionTimerIfNeed(e),r.eventManager.listen("mouseover.tableSelection",i),r.eventManager.listen("mouseup.tableSelection",a),r.onDragStart&&r.onDragStart(e))):2===n.data.button&&o()})),this.eventManager.listen("copyBefore.tableSelection",o),this.eventManager.listen("pasteBefore.tableSelection",o)},t._isTextSelect=function(e,t){return/TD|TH|TEXT/i.test(e.commonAncestorContainer.nodeName)&&t},t._isListSelect=function(e){return/UL|OL|LI/i.test(e.commonAncestorContainer.nodeName)},t.setTableSelectionTimerIfNeed=function(e){ze.a.parents(e,"[contenteditable=true] table").length&&(this._isSelectionStarted=!0)},t._clearTableSelectionTimerIfNeed=function(){clearTimeout(this._tableSelectionTimer),Re.a.firefox&&this._removeSelectionTimer&&(clearTimeout(this._removeSelectionTimer),this._removeSelectionTimer=null)},t._reArrangeSelectionIfneed=function(e,t){var n=ze.a.parents(e,"[contenteditable=true] table").length,r=ze.a.parents(t,"[contenteditable=true] table").length,i=!r&&n;if(r&&!n)e=ze.a.parents(t,"[contenteditable=true] table")[0].querySelectorAll("th")[0];else if(i){var o=ze.a.parents(e,"[contenteditable=true] table")[0].querySelectorAll("td");t=o[o.length-1]}return{startContainer:e,endContainer:t}},t._applySelectionDirection=function(e,t){var n=ze.a.getNodeOffsetOfParent,r=e.startContainer,i=e.endContainer,o=n(ze.a.closest(r,"[contenteditable=true] tr"))-n(ze.a.closest(i,"[contenteditable=true] tr")),a=n(r)-n(i),s=o<0;return 0===o?a>0?(t.setStart(i,0),t.setEnd(r,1)):(t.setStart(r,0),t.setEnd(i,1)):s?(t.setStart(r,0),t.setEnd(i,1)):(t.setStart(i,0),t.setEnd(r,1)),t},t.getSelectionRangeFromTable=function(e,t){var n,r,i=ze.a.getNodeOffsetOfParent,o=i(e.parentNode),a=i(t.parentNode),s=i(e),l=i(t),c=ze.a.getParentUntil(e,"TABLE"),u=ze.a.getParentUntil(t,"TABLE"),d="TBODY"===ze.a.getNodeName(c)&&"THEAD"===ze.a.getNodeName(u),h=c!==u,p=!!ze.a.parents(e,"tbody").length&&!!ze.a.parents(t,"tbody").length,f={row:o,cell:s},m={row:a,cell:l};return d?f.row+=1:h?m.row+=1:p&&(f.row+=1,m.row+=1),o>a||o===a&&s>l?(n=m,r=f):(n=f,r=m),{from:n,to:r}},t.highlightTableCellsBy=function(e,t){var n=ze.a.findAll(ze.a.parents(e,"[contenteditable=true] table")[0],"tr"),r=this.getSelectionRangeFromTable(e,t),i=r.from.row,o=r.from.cell,a=r.to.row,s=r.to.cell;n.forEach((function(e,t){ze.a.findAll(e,"td,th").forEach((function(e,n){t===i&&n<o||t===a&&n>s||t<i||t>a?g()(e,"te-cell-selected"):f()(e,"te-cell-selected")}))}))},t.removeClassAttrbuteFromAllCellsIfNeed=function(){ze.a.findAll(this.wwe.getBody(),"td.te-cell-selected,th.te-cell-selected").forEach((function(e){g()(e,"te-cell-selected"),e.getAttribute("class")||e.removeAttribute("class")}))},t.getSelectedCells=function(){return this.wwe.getBody().querySelectorAll(".te-cell-selected")},t.createRangeBySelectedCells=function(){var e=this.wwe.getEditor(),t=e.getSelection().cloneRange(),n=this.getSelectedCells(),r=n[0],i=n[n.length-1];n.length&&this.wwe.isInTable(t)&&(t.setStart(r,0),t.setEnd(i,i.childNodes.length),e.setSelection(t))},t.styleToSelectedCells=function(e,t){this.createRangeBySelectedCells(),e(this.wwe.getEditor(),t)},t.destroy=function(){this.eventManager.removeEventHandler("mousedown.tableSelection"),this.eventManager.removeEventHandler("mouseover.tableSelection"),this.eventManager.removeEventHandler("mouseup.tableSelection"),this.eventManager.removeEventHandler("copyBefore.tableSelection"),this.eventManager.removeEventHandler("pasteBefore.tableSelection")},e}(),st=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="hr",this._init()}var t=e.prototype;return t._init=function(){this._initEvent()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._insertEmptyLineIfNeed(),e._changeHRForWysiwyg()}))},t._insertEmptyLineIfNeed=function(){var e=this.wwe.getBody(),t=e.firstChild,n=e.lastChild;t&&"HR"===t.nodeName?e.insertBefore(ze.a.createEmptyLine(),t):n&&"HR"===n.nodeName&&e.appendChild(ze.a.createEmptyLine())},t._changeHRForWysiwyg=function(){var e=this.wwe.getBody();ze.a.findAll(e,"hr").forEach((function(e){e.parentNode.replaceChild(ze.a.createHorizontalRule(),e)}))},e}(),lt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="p",this._initEvent()}var t=e.prototype;return t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueBefore",(function(t){return e._splitPtagContentLines(t)})),this.eventManager.listen("wysiwygSetValueAfter",(function(){e._ensurePtagContentWrappedWithDiv(),e._unwrapPtags()}))},t._splitPtagContentLines=function(e){if(e){var t=ze.a.createElementWith("<div>"+e+"</div>");ze.a.findAll(t,"p").forEach((function(e){var t=e.attributes,n=e.nextElementSibling,r=e.innerHTML.split(/<br>/gi),i=r.length-1,o="";o=r.map((function(e,n){if(n>0&&n<i&&(e=e||"<br>"),e){var r=document.createElement("div");return Object.keys(t).forEach((function(e){var n=t[e],i=n.name,o=n.value;r.setAttribute(i,o)})),r.innerHTML=e,r.outerHTML}return""})),(n&&"P"===n.nodeName||"false"===e.getAttribute("contenteditable"))&&o.push("<div><br></div>"),ze.a.replaceWith(e,o.join(""))})),e=t.innerHTML}return e},t._ensurePtagContentWrappedWithDiv=function(){var e=this;ze.a.findAll(this.wwe.getBody(),"p").forEach((function(t){t.querySelectorAll("div").length||ze.a.wrapInner(t,"div"),e._findNextParagraph(t,"p")&&ze.a.append(t,"<div><br></div>")}))},t._unwrapPtags=function(){ze.a.findAll(this.wwe.getBody(),"div").forEach((function(e){var t=e.parentNode;"P"===t.tagName&&ze.a.unwrap(t)}))},t._findNextParagraph=function(e,t){var n=e.nextElementSibling;return t?n&&Ue()(n,t)?n:null:n},e}(),ct=/h[\d]/i,ut=Re.a.msie&&10===Re.a.version,dt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="heading",this._init()}var t=e.prototype;return t._init=function(){this._initEvent(),this._initKeyHandler()},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter",(function(){e._wrapDefaultBlockToHeadingInner()}))},t._initKeyHandler=function(){var e=this;this.wwe.addKeyEventHandler("ENTER",(function(t,n){return!e.wwe.hasFormatWithRx(ct)||(e._onEnter(t,n),!1)})),this.wwe.addKeyEventHandler("BACK_SPACE",(function(t,n){return!e.wwe.hasFormatWithRx(ct)||(e._addBrToEmptyBlock(n),e._removePrevTopNodeIfNeed(t,n),!1)}))},t._wrapDefaultBlockToHeadingInner=function(){ze.a.findAll(this.wwe.getBody(),"h1, h2, h3, h4, h5, h6").forEach((function(e){!ze.a.children(e,"div, p").length&&ze.a.wrapInner(e,"div")}))},t._unwrapHeading=function(){this.wwe.unwrapBlockTag((function(e){return ct.test(e)}))},t._onEnter=function(e,t){var n=this;t.startOffset>0?this.wwe.defer((function(e){n._unwrapHeading(),e.getEditor().removeLastUndoStack()})):(e.preventDefault(),this._insertEmptyBlockToPrevious(t))},t._insertEmptyBlockToPrevious=function(e){this.wwe.getEditor().saveUndoState(e);var t=ze.a.createElementWith("<div><br></div>");ze.a.insertBefore(t,ze.a.getParentUntil(e.startContainer,this.wwe.getBody()))},t._removePrevTopNodeIfNeed=function(e,t){var n=!1;if(t.collapsed&&0===t.startOffset){var r=t.startContainer,i=ze.a.getTopPrevNodeUnder(r,this.wwe.getBody()),o=i&&0===i.textContent.length,a=this.wwe.getEditor();0===r.textContent.length?n=this._removeHedingAndChangeSelection(e,t,i):o&&(e.preventDefault(),a.saveUndoState(t),ze.a.remove(i),n=!0)}return n},t._getHeadingElement=function(e){return ct.test(ze.a.getNodeName(e))?e:ze.a.parents(e,"h1,h2,h3,h4,h5,h6")[0]},t._addBrToEmptyBlock=function(e){var t=e.collapsed,n=e.startOffset,r=e.startContainer;if(t&&1===n){var i=this._getHeadingElement(r),o=ze.a.children(i.firstChild,"br");if(!ut&&!o.length){var a=document.createElement("br");r.parentNode.appendChild(a)}}},t._removeHedingAndChangeSelection=function(e,t,n){var r=t.startContainer,i=this.wwe.getEditor(),o=this.wwe.getBody(),a=this._getHeadingElement(r),s=n,l=1;return e.defaultPrevented||(e.preventDefault(),i.saveUndoState(t)),ze.a.remove(a),n||(s=ze.a.children(o,"div")[0],l=0),t.setStart(s,l),t.collapse(!0),i.setSelection(t),!0},e}(),ht=n(42),pt=n.n(ht),ft=Re.a.msie&&10===Re.a.version,mt=ft?"":"<br>",gt={"&":"&amp;","<":"&lt;",">":"&gt;"},vt=/\u200B/g;function _t(e){return e?e.replace(/[<>&]/g,(function(e){return gt[e]||e})):""}var yt=function(){function e(e){this.wwe=e,this.eventManager=e.eventManager,this.name="codeblock",this._init()}var t=e.prototype;return t._init=function(){this._initKeyHandler(),this._initEvent()},t._initKeyHandler=function(){var e=this;this._keyEventHandlers={BACK_SPACE:this._onBackspaceKeyEventHandler.bind(this),ENTER:function(t,n){!e.wwe.isInTable(n)&&e.wwe.getEditor().hasFormat("CODE")&&e.wwe.defer((function(){var t=e.wwe.getRange().startContainer,n=e._getCodeNode(t);n&&!ze.a.getTextLength(n)&&n.parentNode.removeChild(n)}))}},i()(this._keyEventHandlers,(function(t,n){return e.wwe.addKeyEventHandler(n,t)}))},t._getCodeNode=function(e){var t;return"CODE"===e.nodeName?t=e:"CODE"===e.parentNode.nodeName&&(t=e.parentNode),t},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygSetValueAfter.codeblock",(function(){e.modifyCodeBlockForWysiwyg()})),this.eventManager.listen("wysiwygProcessHTMLText.codeblock",(function(t){return e._changePreToPreCode(t)}))},t.prepareToPasteOnCodeblock=function(e){var t=this.wwe.getEditor().getDocument().createDocumentFragment(),n=this.convertNodesToText(e);return n=n.replace(/\n$/,""),t.appendChild(document.createTextNode(n)),t},t.convertNodesToText=function(e){for(var t="",n=e.shift();pt()(n);)n.childNodes&&ze.a.isBlockNode(n)?t+=this.convertNodesToText(Ee()(n.childNodes)):"BR"===n.nodeName?t+="\n":t+=n.textContent,n=e.shift();return t},t._copyCodeblockTypeFromRangeCodeblock=function(e,t){var n=ze.a.getParentUntil(t.commonAncestorContainer,this.wwe.getBody());if("PRE"===ze.a.getNodeName(n)){var r=n.attributes;i()(r,(function(t){e.setAttribute(t.name,t.value)}))}return e},t._changePreToPreCode=function(e){return e.replace(/<pre( .*?)?>((.|\n)*?)<\/pre>/g,(function(e,t,n){return"<pre><code"+(t||"")+">"+n+"</code></pre>"}))},t.modifyCodeBlockForWysiwyg=function(e){e||(e=this.wwe.getBody()),ze.a.findAll(e,"pre").forEach((function(e){var t,n,r=e.querySelector("code");r&&(t=r.getAttribute("data-language"),n=r.getAttribute("data-backticks")),e.children.length>1&&Ee()(e.children).forEach((function(e){"DIV"!==e.nodeName&&"P"!==e.nodeName||e.querySelectorAll("br").length||(e.innerHTML+=e.innerHTML+"\n")}));var i=e.querySelectorAll("br");i.length&&ze.a.replaceWith(i,"\n");var o=e.textContent.replace(/\s+$/,"");ze.a.empty(e),e.innerHTML=o?_t(o):mt,t&&(e.setAttribute("data-language",t),f()(e,"lang-"+t)),n&&e.setAttribute("data-backticks",n),e.setAttribute("data-te-codeblock","")}))},t._onBackspaceKeyEventHandler=function(e,t){var n=!0,r=this.wwe.getEditor(),i=t.commonAncestorContainer;if(this._isCodeBlockFirstLine(t)&&!this._isFrontCodeblock(t))this._removeCodeblockFirstLine(i),t.collapse(!0),n=!1;else if(t.collapsed&&this._isEmptyLine(i)&&this._isBetweenSameCodeblocks(i)){var o=i.previousSibling,a=i.nextSibling,s=o.textContent.length;r.saveUndoState(t),i.parentNode.removeChild(i),this._mergeCodeblocks(o,a),t.setStart(o.childNodes[0],s),t.collapse(!0),n=!1}return n||(r.setSelection(t),e.preventDefault()),n},t._isEmptyLine=function(e){var t=e.nodeName,n=e.childNodes,r=ft?""===e.textContent:1===n.length&&"BR"===n[0].nodeName;return"DIV"===t&&r},t._isBetweenSameCodeblocks=function(e){var t=e.previousSibling,n=e.nextSibling;return"PRE"===ze.a.getNodeName(t)&&"PRE"===ze.a.getNodeName(n)&&t.getAttribute("data-language")===n.getAttribute("data-language")},t._mergeCodeblocks=function(e,t){var n=t.textContent;e.childNodes[0].textContent+="\n"+n,t.parentNode.removeChild(t)},t._isCodeBlockFirstLine=function(e){return this.isInCodeBlock(e)&&e.collapsed&&0===e.startOffset},t._isFrontCodeblock=function(e){var t=ze.a.getParentUntil(e.startContainer,this.wwe.getEditor().getRoot()).previousSibling;return t&&"PRE"===t.nodeName},t._removeCodeblockFirstLine=function(e){var t=this.wwe.getEditor(),n="PRE"===e.nodeName?e:e.parentNode,r=n.textContent.replace(vt,"");t.modifyBlocks((function(){var e=t.getDocument().createDocumentFragment(),i=r.split("\n"),o=document.createElement("div"),a=i.shift();if(o.innerHTML=""+_t(a)+mt,e.appendChild(o),i.length){var s=n.cloneNode();s.textContent=i.join("\n"),e.appendChild(s)}return e}))},t.isInCodeBlock=function(e){var t;return t=e.collapsed?e.startContainer:e.commonAncestorContainer,!!ze.a.closest(t,"pre")},t.destroy=function(){var e=this;this.eventManager.removeEventHandler("wysiwygSetValueAfter.codeblock"),this.eventManager.removeEventHandler("wysiwygProcessHTMLText.codeblock"),i()(this._keyEventHandlers,(function(t,n){return e.wwe.removeKeyEventHandler(n,t)}))},e}(),bt=n(55),Ct=n.n(bt),wt=/\b(H[\d]|LI|P|BLOCKQUOTE|TD)\b/,St=/Trident\/[456]\./.test(navigator.userAgent),xt=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._decorateHandlerToCancelable("copy"),t._decorateHandlerToCancelable(St?"beforecut":"cut"),t._decorateHandlerToCancelable(St?"beforepaste":"paste"),t.getBody=function(){return t.body=t.body||t.getRoot(),t.body},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._decorateHandlerToCancelable=function(e){var t=this._events[e];if(t.length>1)throw new Error("too many"+e+"handlers in squire");var n=t[0].bind(this);t[0]=function(e){e.defaultPrevented||e.squirePrevented||n(e)}},i.changeBlockFormat=function(e,t){var n=this;this.modifyBlocks((function(r){var i,o,a,s,l,c,u;if(r.childNodes.length?i=r.childNodes.item(0):(i=n.createDefaultBlock(),r.appendChild(i)),e){for(;i.firstChild;)i=i.firstChild;for(u=function(e){s.appendChild(e)};i!==r;){if(l=i.tagName,le()(e)?e(l):l===e){s=i.childNodes.item(0),(!ze.a.isElemNode(s)||i.childNodes.length>1)&&(s=n.createDefaultBlock(),Ee()(i.childNodes).forEach(u),(c=s.lastChild)&&"BR"===ze.a.getNodeName(c)&&s.removeChild(c)),a=t?n.createElement(t,[s]):s,(o=n.getDocument().createDocumentFragment()).appendChild(a),r=o;break}i=i.parentNode}}return o&&e||!t||"DIV"!==ze.a.getNodeName(r.childNodes[0])||(r=n.createElement(t,[r.childNodes[0]])),r}))},i.changeBlockFormatTo=function(e){this.changeBlockFormat((function(e){return wt.test(e)}),e)},i.getCaretPosition=function(){return this.getCursorPosition()},i.replaceSelection=function(e,t){t&&this.setSelection(t),this._ignoreChange=!0,this.insertHTML(e)},i.replaceRelativeOffset=function(e,t,n){var r=this.getSelection().cloneRange();this._replaceRelativeOffsetOfSelection(e,t,n,r)},i._replaceRelativeOffsetOfSelection=function(e,t,n,r){var i,o,a,s=r.endContainer,l=r.endOffset;"TEXT"!==ze.a.getNodeName(s)&&(s=this._getClosestTextNode(s,l))&&(l=ze.a.isTextNode(s)?s.nodeValue.length:s.textContent.length),s?(i=this.getSelectionInfoByOffset(s,l+t),r.setStart(i.element,i.offset),a=l+(t+n),o=this.getSelectionInfoByOffset(s,a),r.setEnd(o.element,o.offset),this.replaceSelection(e,r)):this.replaceSelection(e)},i._getClosestTextNode=function(e,t){var n=ze.a.getChildNodeByOffset(e,t-1);return"TEXT"!==ze.a.getNodeName(n)&&(n=n.previousSibling),n},i.getSelectionInfoByOffset=function(e,t){var n,r,i,o,a=t>=0?"next":"previous",s=Math.abs(t),l=n;for(n="next"===a?e:e.previousSibling,i=s,o=0;n&&!(s<=(o+=r=ze.a.isTextNode(n)?n.nodeValue.length:n.textContent.length));)i-=r,ze.a.getTextLength(n)>0&&(l=n),n=n[a+"Sibling"];return n||(n=l,i=ze.a.getTextLength(n)),"previous"===a&&(i=ze.a.getTextLength(n)-i),{element:n,offset:i}},i.getSelectionPosition=function(e,t,n){var r=this.createElement("INPUT"),i=e.cloneRange(),o=this.getSelectionInfoByOffset(e.endContainer,e.endOffset+(n||0));i.setStart(i.startContainer,i.startOffset),i.setEnd(o.element,o.offset),this._ignoreChange=!0,this.insertElement(r,i);var a=ze.a.getOffset(r);return"over"!==t&&(a.top+=r.offsetHeight),r.parentNode.removeChild(r),e.setStart(e.endContainer,e.endOffset),e.collapse(!0),this.setSelection(e),a},i.removeLastUndoStack=function(){this._undoStack.length&&(this._undoStackLength-=1,this._undoIndex-=1,this._undoStack.pop(),this._isInUndoState=!1)},i.replaceParent=function(e,t,n){var r=ze.a.closest(e,t);r&&(ze.a.wrapInner(r,n),ze.a.unwrap(r))},i.preserveLastLine=function(){var e=this.getBody().children,t=e[e.length-1];t&&"DIV"!==ze.a.getNodeName(t)&&(this._ignoreChange=!0,ze.a.insertAfter(this.createDefaultBlock(),t))},i.scrollTop=function(e){return Pe()(e)||(this.getBody().scrollTop=e),this.getBody().scrollTop},i.isIgnoreChange=function(){return this._ignoreChange},i.focus=function(){Ct.a.prototype.focus.call(this)},i.blockCommandShortcuts=function(){var e=this,t=y.b?"meta":"ctrl";["b","i","u","shift-7","shift-5","shift-6","shift-8","shift-9","[","]","d"].forEach((function(n){e.setKeyHandler(t+"-"+n,(function(e,t){t.preventDefault()}))}))},r}(Ct.a),kt=Re.a.msie&&11===Re.a.version,Et=-1!==navigator.appVersion.indexOf("Win")&&Re.a.chrome,Tt=/Windows (NT )?10/g.test(navigator.appVersion),jt=kt||Et&&!Tt,Ot=function(){function e(e,t){this._wwe=e,jt&&(this.isComposition=!1,this._initCompositionEvent()),this.setRange(t||this._wwe.getRange())}var t=e.prototype;return t._initCompositionEvent=function(){var e=this;this._wwe.getEditor().addEventListener("compositionstart",(function(){e.isComposition=!0})),this._wwe.getEditor().addEventListener("compositionend",(function(){e.isComposition=!1}))},t.setRange=function(e){this._range&&this._range.detach(),this._range=e},t.expandStartOffset=function(){var e=this._range;ze.a.isTextNode(e.startContainer)&&e.startOffset>0&&e.setStart(e.startContainer,e.startOffset-1)},t.expandEndOffset=function(){var e=this._range;ze.a.isTextNode(e.endContainer)&&e.endOffset<e.endContainer.nodeValue.length&&e.setEnd(e.endContainer,e.endOffset+1)},t.setEndBeforeRange=function(e){var t=e.startOffset;this.isComposition&&(t+=1),this._range.setEnd(e.startContainer,t)},t.getTextContent=function(){return this._range.cloneContents().textContent},t.replaceContent=function(e){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(e),this._wwe.isInTable(this._range)&&this._wwe.eventManager.emit("wysiwygRangeChangeAfter",this._wwe),this._range=this._wwe.getRange()},t.deleteContent=function(){this._wwe.getEditor().setSelection(this._range),this._wwe.getEditor().insertHTML(""),this._range=this._wwe.getRange()},t.peekStartBeforeOffset=function(e){var t=this._range.cloneRange();return t.setStart(t.startContainer,Math.max(t.startOffset-e,0)),t.setEnd(this._range.startContainer,this._range.startOffset),t.cloneContents().textContent},e}(),Pt=function(e){var t,n;function r(t){var n,r=t.eventManager,i=t.container,o=t.wysiwygEditor;return(n=e.call(this,{eventManager:r,container:i,attachedSelector:"pre"})||this)._wysiwygEditor=o,n._popupCodeBlockLanguages=null,n._initDOM(),n._initDOMEvent(),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initDOM=function(){var e=this;f()(this.el,"code-block-header"),this._languageLabel=ze.a.createElementWith("<span>text</span>"),ze.a.append(this.el,this._languageLabel),this._buttonOpenModalEditor=ze.a.createElementWith('<button type="button">Editor</button>'),ze.a.append(this.el,this._buttonOpenModalEditor),this._eventManager.emit("removeEditor",(function(){He()(e._buttonOpenModalEditor,"click"),e._buttonOpenModalEditor=null}))},i._initDOMEvent=function(){var e=this;Fe()(this._buttonOpenModalEditor,"click",(function(){return e._openPopupCodeBlockEditor()}))},i._openPopupCodeBlockEditor=function(){this._eventManager.emit("openPopupCodeBlockEditor",this.getAttachedElement())},i._updateLanguage=function(){var e=this.getAttachedElement(),t=e?e.getAttribute("data-language"):null;this._languageLabel.textContent=t||"text"},i.syncLayout=function(){var e=this.getAttachedElement(),t=ze.a.getOffset(e,".te-editor").top;h()(this.el,{top:t+"px",right:"26px",width:"250px",height:"30px"})},i.onShow=function(){var t=this;e.prototype.onShow.call(this),this._onAttachedElementChange=function(){return t._updateLanguage()},this._eventManager.listen("changeLanguage",this._onAttachedElementChange),this._updateLanguage()},i.onHide=function(){this._eventManager.removeEventHandler("changeLanguage",this._onAttachedElementChange),e.prototype.onHide.call(this)},r}(function(){function e(e){var t=e.eventManager,n=e.container,r=e.attachedSelector;this._eventManager=t,this._attachedSelector="[contenteditable=true] "+r,this._container=n,this._attachedElement=null,this.active=!1,this._createElement(),this._initEvent()}var t=e.prototype;return t._createElement=function(){this.el=ze.a.createElementWith('<div class="te-ww-block-overlay"></div>'),h()(this.el,{position:"absolute",display:"none",zIndex:1}),ze.a.append(this._container,this.el)},t._initEvent=function(){var e=this;this._eventManager.listen("change",this._onChange.bind(this)),this._eventManager.listen("mouseover",this._onMouseOver.bind(this)),this._eventManager.listen("focus",(function(){e.setVisibility(!1)})),this._eventManager.listen("mousedown",(function(){e.setVisibility(!1)}))},t._onChange=function(){this._attachedElement&&ze.a.isContain(document.body,this._attachedElement)?this.syncLayout():this.setVisibility(!1)},t._onMouseOver=function(e){var t=e.data.target,n=ze.a.closest(t,this._attachedSelector);n?(this._attachedElement=n,this.setVisibility(!0)):ze.a.closest(t,this.el)?this.setVisibility(!0):this.active||this.setVisibility(!1)},t.syncLayout=function(){var e=ze.a.getOffset(this._attachedElement),t=ze.a.getOuterWidth(this._attachedElement),n=ze.a.getOuterHeight(this._attachedElement);ze.a.setOffset(this.el,e),h()(this.el,{width:t+"px"}),h()(this.el,{height:n+"px"})},t.getAttachedElement=function(){return this._attachedElement||null},t.getVisibility=function(){return"block"===this.el.style.display},t.setVisibility=function(e){e&&this._attachedElement?this.getVisibility()||(h()(this.el,{display:"block"}),this.syncLayout(),this.onShow()):e||this.getVisibility()&&(h()(this.el,{display:"none"}),this.onHide())},t.onShow=function(){},t.onHide=function(){this.active=!1,this._attachedElement=null},e}()),Dt=X.getSharedInstance(),Mt=/<([a-z]+|h\d)>(<br>|<br \/>)<\/\1>/gi,It=/(?:<br>|<br \/>)<\/(.+?)>/gi,Rt=/\b(H[\d]|LI|P|BLOCKQUOTE|TD|PRE)\b/,Lt=/<span([^>]*)>[\u0020]/g,Nt=/[\u0020]<\/span>/g,At=/^(TABLE|H[1-6])$/,Ft="undefined"!==typeof MutationObserver,Bt=function(){function e(e,t,n){var r=this;void 0===n&&(n={}),this.componentManager=new ie(this),this.eventManager=t,this.editorContainerEl=e,this._height=0,this._silentChange=!1,this._keyEventHandlers={},this._managers={},this._linkAttribute=n.linkAttribute||{},this._sanitizer=n.sanitizer,this._initEvent(),this._initDefaultKeyEventHandler(),this.debouncedPostProcessForChange=Ne()((function(){return r.postProcessForChange()}),0)}var t=e.prototype;return t.init=function(){var e=document.createElement("div");this.editorContainerEl.appendChild(e),this.editor=new xt(e,{blockTag:"DIV",leafNodeNames:{HR:!1},allowedBlocks:this._sanitizer?[]:["details","summary"]}),this.editor.blockCommandShortcuts(),this._clipboardManager=new Ge(this),this._initSquireEvent(),this._clipboardManager.init(),f()(this.getBody(),"tui-editor-contents"),h()(this.editorContainerEl,"position","relative"),this._togglePlaceholder(),this.codeBlockGadget=new Pt({eventManager:this.eventManager,container:this.editorContainerEl,wysiwygEditor:this})},t._initEvent=function(){var e=this;this.eventManager.listen("wysiwygKeyEvent",(function(t){return e._runKeyEventHandlers(t.data,t.keyMap)})),this.eventManager.listen("wysiwygRangeChangeAfter",(function(){return e.scrollIntoCursor()})),this.eventManager.listen("contentChangedFromWysiwyg",(function(){e._togglePlaceholder()}))},t.addKeyEventHandler=function(e,t){var n=this;t||(t=e,e="DEFAULT"),Me()(e)||(e=[e]),e.forEach((function(e){n._keyEventHandlers[e]||(n._keyEventHandlers[e]=[]),n._keyEventHandlers[e].push(t)}))},t.removeKeyEventHandler=function(e,t){t||(t=e,e="DEFAULT");var n=this._keyEventHandlers[e];n&&(this._keyEventHandlers[e]=n.filter((function(e){return e!==t})))},t._runKeyEventHandlers=function(e,t){var n,r,i=this.getRange();(n=this._keyEventHandlers.DEFAULT)&&je()(n,(function(n){return r=n(e,i,t)})),(n=this._keyEventHandlers[t])&&!1!==r&&je()(n,(function(n){return n(e,i,t)}))},t._initSquireEvent=function(){var e=this,t=this.getEditor(),n=!1;t.addEventListener("copy",(function(t){e.eventManager.emit("copy",{source:"wysiwyg",data:t}),Ne()((function(){e.isEditorValid()&&e.eventManager.emit("copyAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(Re.a.msie?"beforecut":"cut",(function(t){e.eventManager.emit("cut",{source:"wysiwyg",data:t}),Ne()((function(){e.isEditorValid()&&e.eventManager.emit("cutAfter",{source:"wysiwyg",data:t})}))()})),t.addEventListener(Re.a.msie?"beforepaste":"paste",(function(t){e.eventManager.emit("paste",{source:"wysiwyg",data:t})})),t.addEventListener("dragover",(function(e){return e.preventDefault(),!1})),t.addEventListener("drop",(function(t){return t.preventDefault(),e.eventManager.emit("drop",{source:"wysiwyg",data:t}),!1})),t.addEventListener("input",Ne()((function(){if(e.isEditorValid()){if(e._silentChange)e._silentChange=!1;else{var t={source:"wysiwyg"};e.eventManager.emit("changeFromWysiwyg",t),e.eventManager.emit("change",t),e.eventManager.emit("contentChangedFromWysiwyg",e)}e.getEditor().preserveLastLine()}}),0)),t.addEventListener("keydown",(function(t){e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t)})),Re.a.firefox&&(t.addEventListener("keypress",(function(t){var r=t.keyCode;13!==r&&9!==r||(e.getEditor().getSelection().collapsed||(n=!0),e.eventManager.emit("keydown",{source:"wysiwyg",data:t}),e._onKeyDown(t))})),t.addEventListener("keyup",(function(){var t=e.getRange();if(ze.a.isTextNode(t.commonAncestorContainer)&&ze.a.isTextNode(t.commonAncestorContainer.previousSibling)){var n=t.commonAncestorContainer.previousSibling.length,r=t.commonAncestorContainer;t.commonAncestorContainer.previousSibling.appendData(t.commonAncestorContainer.data),t.setStart(t.commonAncestorContainer.previousSibling,n+t.startOffset),t.collapse(!0),ze.a.remove(r),e.setRange(t),t.detach()}}))),t.addEventListener("keyup",(function(t){n&&(e.debouncedPostProcessForChange(),n=!1),e.eventManager.emit("keyup",{source:"wysiwyg",data:t})})),Fe()(this.editorContainerEl,"scroll",(function(t){e.eventManager.emit("scroll",{source:"wysiwyg",data:t})})),t.addEventListener("click",(function(t){e.eventManager.emit("click",{source:"wysiwyg",data:t})})),t.addEventListener("mousedown",(function(t){e.eventManager.emit("mousedown",{source:"wysiwyg",data:t})})),t.addEventListener("mouseover",(function(t){e.eventManager.emit("mouseover",{source:"wysiwyg",data:t})})),t.addEventListener("mouseout",(function(t){e.eventManager.emit("mouseout",{source:"wysiwyg",data:t})})),t.addEventListener("mouseup",(function(t){e.eventManager.emit("mouseup",{source:"wysiwyg",data:t})})),t.addEventListener("contextmenu",(function(t){e.eventManager.emit("contextmenu",{source:"wysiwyg",data:t})})),t.addEventListener("focus",(function(){e.eventManager.emit("focus",{source:"wysiwyg"})})),t.addEventListener("blur",(function(){e.fixIMERange(),e.eventManager.emit("blur",{source:"wysiwyg"})})),t.addEventListener("pathChange",(function(t){var n={strong:/(^B>|>B$|>B>|^B$|STRONG)/.test(t.path),emph:/(>I|>EM|^I$|^EM$)/.test(t.path),strike:/(^S>|>S$|>S>|^S$|DEL)/.test(t.path),code:/CODE/.test(t.path),codeBlock:/PRE/.test(t.path),blockQuote:/BLOCKQUOTE/.test(t.path),table:/TABLE/.test(t.path),heading:/H[1-6]/.test(t.path),list:/UL>LI(?!.task-list-item)/.test(t.path),orderedList:/OL>LI(?!.task-list-item)/.test(t.path),taskList:/[UL|OL]>LI.task-list-item/.test(t.path),source:"wysiwyg"};e.eventManager.emit("stateChange",n)})),t.addEventListener("willPaste",(function(t){t.fragment&&e.eventManager.emit("willPaste",{source:"wysiwyg",data:t})}))},t._togglePlaceholder=function(){var e=this.getEditor();e.modifyDocument((function(){var t=e.getRoot();t.textContent||t.childNodes.length>1?t.classList.remove("tui-editor-contents-placeholder"):t.classList.add("tui-editor-contents-placeholder")}))},t._onKeyDown=function(e){var t=Dt.convert(e);e.keyCode&&(this.eventManager.emit("keyMap",{source:"wysiwyg",keyMap:t,data:e}),e.defaultPrevented||this.eventManager.emit("wysiwygKeyEvent",{keyMap:t,data:e}))},t._initDefaultKeyEventHandler=function(){var e=this;this.addKeyEventHandler("ENTER",(function(t,n){e._isInOrphanText(n)&&e.defer((function(){e._wrapDefaultBlockToOrphanTexts(),e.breakToNewDefaultBlock(n,"before")})),e.defer((function(){return e.scrollIntoCursor()}))})),this.addKeyEventHandler("TAB",(function(t){var n=e.getEditor(),r=n.getSelection(),i=r.collapsed&&e._isCursorNotInRestrictedAreaOfTabAction(n),o=!r.collapsed&&ze.a.isTextNode(r.commonAncestorContainer);return t.preventDefault(),!i&&!o||(n.insertPlainText("\xa0\xa0\xa0\xa0"),!1)})),this.addKeyEventHandler("BACK_SPACE",(function(t,n,r){return e._handleRemoveKeyEvent(t,n,r)})),this.addKeyEventHandler("DELETE",(function(t,n,r){return e._handleRemoveKeyEvent(t,n,r)}))},t._handleRemoveKeyEvent=function(e,t,n){var r=this.getEditor();if(this._isStartHeadingOrTableAndContainsThem(t)){var i="BACK_SPACE"===n?"backspace":"delete";return r.removeAllFormatting(),r._keyHandlers[i](r,e,r.getSelection()),r.removeLastUndoStack(),!1}return!0},t._isStartHeadingOrTableAndContainsThem=function(e){var t=e.startContainer,n=e.startOffset,r=e.commonAncestorContainer,i=e.collapsed,o=this.getEditor().getRoot(),a=!1;return i||r!==o||(t===o?a=At.test(ze.a.getChildNodeByOffset(t,n).nodeName):0===n&&(a=At.test(ze.a.getParentUntil(t,o).nodeName))),a},t._wrapDefaultBlockToOrphanTexts=function(){var e=Ee()(this.getBody().childNodes).filter((function(e){return ze.a.isTextNode(e)}));ze.a.getAllTextNode(this.getBody()),e.forEach((function(e){e.nextSibling&&"BR"===e.nextSibling.tagName&&ze.a.remove(e.nextSibling),ze.a.wrap(e,document.createElement("div"))}))},t._isInOrphanText=function(e){return e.startContainer.nodeType===Node.TEXT_NODE&&e.startContainer.parentNode===this.getBody()},t._wrapDefaultBlockTo=function(e){this.saveSelection(e),this._joinSplitedTextNodes(),this.restoreSavedSelection();var t=(e=this.getRange()).startContainer,n=e.startOffset,r=this.getEditor().createDefaultBlock([e.startContainer]),i=ze.a.getChildNodeByOffset(e.startContainer,e.startOffset);i?e.setStartBefore(i):e.selectNodeContents(e.startContainer),e.collapse(!0),e.insertNode(r),e.setStart(t,n),e.collapse(!0),this.setRange(e)},t._joinSplitedTextNodes=function(){var e,t,n=[];Ee()(this.getBody().childNodes).filter((function(e){return ze.a.isTextNode(e)})).forEach((function(r){e===r.previousSibling?(t.nodeValue+=r.nodeValue,n.push(r)):t=r,e=r})),ze.a.remove(n)},t.saveSelection=function(e){e||(e=this.getRange()),this.getEditor()._saveRangeToBookmark(e)},t.setSelectionByContainerAndOffset=function(e,t,n,r){var i=this.getEditor(),o=i.getSelection();return o.setStart(e,t),o.setEnd(n,r),i.setSelection(o),o},t.restoreSavedSelection=function(){this.setRange(this.getEditor()._getRangeAndRemoveBookmark())},t.reset=function(){this.setValue("")},t.changeBlockFormatTo=function(e){this.getEditor().changeBlockFormatTo(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)},t.makeEmptyBlockCurrentSelection=function(){var e=this;this.getEditor().modifyBlocks((function(t){return t.textContent||(t=e.getEditor().createDefaultBlock()),t}))},t.focus=function(){var e=this.scrollTop();this.editor.focus(),e!==this.scrollTop()&&this.scrollTop(e)},t.blur=function(){this.editor.blur()},t.remove=function(){He()(this.editorContainerEl,"scroll"),this.getEditor().destroy(),this.editor=null,this.body=null,this.eventManager=null},t.setHeight=function(e){this._height=e,h()(this.editorContainerEl,{overflow:"auto",height:"100%"}),h()(this.editorContainerEl.parentNode,{height:l()(e)?e+"px":e});var t=this.editorContainerEl.style,n=this.getBody().style,r=parseInt(t.paddingTop,10)-parseInt(t.paddingBottom,10),i=parseInt(n.marginTop,10)-parseInt(n.marginBottom,10);h()(this.getBody(),{minHeight:e-i-r+"px"})},t.setMinHeight=function(e){var t=this.getBody();h()(t,"minHeight",e+"px")},t.setPlaceholder=function(e){e&&this.getEditor().getRoot().setAttribute("data-placeholder",e)},t.getLinkAttribute=function(){return this._linkAttribute},t.setValue=function(e,t){void 0===t&&(t=!0),e=this.eventManager.emitReduce("wysiwygSetValueBefore",e),this.editor.setHTML(e),this.eventManager.emit("wysiwygSetValueAfter",this),this.eventManager.emit("contentChangedFromWysiwyg",this),t&&this.moveCursorToEnd(),this.getEditor().preserveLastLine(),this.getEditor().removeLastUndoStack(),this.getEditor().saveUndoState()},t.insertText=function(e){this.editor.insertPlainText(e)},t.getValue=function(){this._prepareGetHTML();var e=this.editor.getHTML();return e=(e=(e=(e=(e=(e=e.replace(Mt,(function(e,t){return"li"===t?e:"td"===t||"th"===t?"<"+t+"></"+t+">":"<br />"}))).replace(Lt,"<span$1>&nbsp;")).replace(Nt,"&nbsp;</span>")).replace(It,"</$1>")).replace(/<div[^>]*>/g,"")).replace(/<\/div>/g,"<br />"),e=this.eventManager.emitReduce("wysiwygProcessHTMLText",e)},t._prepareGetHTML=function(){var e=this;this.getEditor().modifyDocument((function(){e._joinSplitedTextNodes(),e.eventManager.emit("wysiwygGetValueBefore",e)}))},t.postProcessForChange=function(){var e=this;this.isEditorValid()&&this.getEditor().modifyDocument((function(){e.eventManager.emit("wysiwygRangeChangeAfter",e)}))},t.readySilentChange=function(){Ft&&!this.getEditor().isIgnoreChange()&&(this._silentChange=!0)},t.getEditor=function(){return this.editor},t.replaceSelection=function(e,t){this.getEditor().replaceSelection(e,t)},t.replaceRelativeOffset=function(e,t,n){this.getEditor().replaceRelativeOffset(e,t,n)},t.addWidget=function(e,t,n,r){var i=this.getEditor().getSelectionPosition(e,n,r),o=ze.a.getOffset(this.editorContainerEl);this.editorContainerEl.appendChild(t),h()(t,{position:"absolute",top:i.top-o.top+this.scrollTop()+"px",left:i.left-o.left+"px"})},t.getBody=function(){return this.getEditor().getBody()},t.hasFormatWithRx=function(e){return this.getEditor().getPath().match(e)},t.breakToNewDefaultBlock=function(e,t){var n=this.editor.createDefaultBlock(),r=ze.a.getChildNodeByOffset(e.startContainer,e.startOffset)||ze.a.getChildNodeByOffset(e.startContainer,e.startOffset-1),i=ze.a.getParentUntil(r,this.getBody());"before"===t?ze.a.insertBefore(n,i):ze.a.insertAfter(n,i),e.setStart(n,0),e.collapse(!0),this.setRange(e)},t.replaceContentText=function(e,t,n){var r=e.innerHTML;e.innerHTML=r.replace(t,n)},t.unwrapBlockTag=function(e){e||(e=function(e){return Rt.test(e)}),this.getEditor().changeBlockFormat(e),this.eventManager.emit("wysiwygRangeChangeAfter",this)},t.scrollIntoCursor=function(){var e=this.scrollTop(),t=this.getEditor().getCursorPosition(),n=t.top,r=t.height,i=this.editorContainerEl.getBoundingClientRect(),o=i.top,a=n-o,s=n+r-(o+i.height);a<0?this.scrollTop(e+a):s>0&&this.scrollTop(Math.ceil(e+s))},t.moveCursorToEnd=function(){this.getEditor().moveCursorToEnd(),this.scrollIntoCursor(),this._correctRangeAfterMoveCursor("end")},t.moveCursorToStart=function(){this.getEditor().moveCursorToStart(),this.scrollTop(0)},t.scrollTop=function(e){return Pe()(e)||(this.editorContainerEl.scrollTop=e),this.editorContainerEl.scrollTop},t._correctRangeAfterMoveCursor=function(e){var t=this.getRange(),n=this.getBody();if("start"===e)for(;n.firstChild;)n=n.firstChild;else for(;n.lastChild;)n=n.lastChild;"BR"===n.tagName?t.setStartBefore(n):t.setStartAfter(n),t.collapse(!0),this.setRange(t)},t.getRange=function(){return this.getEditor().getSelection().cloneRange()},t.getIMERange=function(){var e,t=getSelection();return t&&t.rangeCount&&(e=t.getRangeAt(0).cloneRange()),e},t.fixIMERange=function(){var e=this.getIMERange();if(e){var t=ze.a.getParentUntil(e.commonAncestorContainer,this.editorContainerEl);t&&t.parentNode&&this.setRange(e)}},t.setRange=function(e){this.getEditor().setSelection(e)},t.isInTable=function(e){var t=e.collapsed?e.startContainer:e.commonAncestorContainer;return!!ze.a.closest(t,"[contenteditable=true] table")},t.getTextObject=function(e){return new Ot(this,e)},t.defer=function(e,t){var n=this;setTimeout((function(){n.isEditorValid()&&e(n)}),t||0)},t.isEditorValid=function(){return this.getEditor()&&ze.a.isContain(document.body,this.editorContainerEl)},t._isCursorNotInRestrictedAreaOfTabAction=function(e){return!e.hasFormat("li")&&!e.hasFormat("blockquote")&&!e.hasFormat("table")},t.getSanitizer=function(){return this._sanitizer},e.factory=function(t,n,r){var i=new e(t,n,r);return i.init(),i.componentManager.addManager(Je),i.componentManager.addManager(et),i.componentManager.addManager(at),i.componentManager.addManager(ot),i.componentManager.addManager(st),i.componentManager.addManager(lt),i.componentManager.addManager(dt),i.componentManager.addManager(yt),i},e}(),Ht=['<div class="tui-editor">','<div class="te-md-container">','<div class="te-editor"></div>','<div class="te-md-splitter"></div>','<div class="te-preview"></div>',"</div>",'<div class="te-ww-container">','<div class="te-editor"></div>',"</div>","</div>"].join(""),zt=function(){function e(e,t){this.el=e.el,this.height=e.height,this.type=e.initialEditType,this.eventManager=t,this.init(),this._initEvent()}var t=e.prototype;return t.init=function(){this._renderLayout(),this._initMarkdownAndPreviewSection(),this._initWysiwygSection()},t._initEvent=function(){this.eventManager.listen("hide",this.hide.bind(this)),this.eventManager.listen("show",this.show.bind(this))},t._renderLayout=function(){h()(this.el,{boxSizing:"border-box"}),this.containerEl=ze.a.createElementWith(Ht,this.el)},t.switchToWYSIWYG=function(){g()(this.containerEl,"te-md-mode"),f()(this.containerEl,"te-ww-mode")},t.switchToMarkdown=function(){g()(this.containerEl,"te-ww-mode"),f()(this.containerEl,"te-md-mode")},t._initMarkdownAndPreviewSection=function(){this.mdEditorContainerEl=this.containerEl.querySelector(".te-md-container .te-editor"),this.previewEl=this.containerEl.querySelector(".te-md-container .te-preview")},t._initWysiwygSection=function(){this.wwEditorContainerEl=this.containerEl.querySelector(".te-ww-container .te-editor")},t._verticalSplitStyle=function(){var e=this.containerEl.querySelector(".te-md-container");g()(e,"te-preview-style-tab"),f()(e,"te-preview-style-vertical")},t._tabStyle=function(){var e=this.containerEl.querySelector(".te-md-container");g()(e,"te-preview-style-vertical"),f()(e,"te-preview-style-tab")},t.changePreviewStyle=function(e){"tab"===e?this._tabStyle():"vertical"===e&&this._verticalSplitStyle()},t.hide=function(){f()(this.el.querySelector(".tui-editor"),"te-hide")},t.show=function(){g()(this.el.querySelector(".tui-editor"),"te-hide")},t.remove=function(){ze.a.remove(this.el.querySelector(".tui-editor"))},t.getEditorEl=function(){return this.containerEl},t.getPreviewEl=function(){return this.previewEl},t.getMdEditorContainerEl=function(){return this.mdEditorContainerEl},t.getWwEditorContainerEl=function(){return this.wwEditorContainerEl},e}(),qt=n(36),Ut=n(1),Xt=n(14),Wt=n.n(Xt),Vt=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/g,Gt=function(){function e(e){this.eventManager=e,this._initEvent(),this._initDefaultImageImporter()}e.decodeURIGraceful=function(e){var t,n=e.split(" "),r=[];return je()(n,(function(e){try{t=(t=decodeURIComponent(e)).replace(/ /g,"%20")}catch(n){t=e}return r.push(t)})),r.join(" ")},e.encodeMarkdownCharacters=function(e){return e.replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\[/g,"%5B").replace(/\]/g,"%5D").replace(/</g,"%3C").replace(/>/g,"%3E")},e.escapeMarkdownCharacters=function(e){return e.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\[/g,"\\[").replace(/\]/g,"\\]").replace(/</g,"\\<").replace(/>/g,"\\>")};var t=e.prototype;return t._initEvent=function(){var e=this;this.eventManager.listen("drop",(function(t){var n=t.data.dataTransfer&&t.data.dataTransfer.files;e._processBlobItems(n,t.data)})),this.eventManager.listen("willPaste",(function(t){var n=t.data.fragment.querySelectorAll("*");if(1===n.length&&"IMG"===n[0].tagName&&/^data:image/.test(n[0].src)){t.data.preventDefault();var r=function(e){for(var t=atob(e.split(",")[1]),n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i+=1)r[i]=t.charCodeAt(i);var o=e.split(",")[0];return new Blob([n],{type:o.split(":")[1].split(";")[0]})}(n[0].src);e._emitAddImageBlobHook(r,"paste")}})),this.eventManager.listen("paste",(function(t){e._processClipboard(t.data)})),this.eventManager.listen("pasteBefore",(function(t){e._decodeURL(t)}))},t._initDefaultImageImporter=function(){this.eventManager.listen("addImageBlobHook",(function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)}))},t._emitAddImageBlobHook=function(e,t){var n=this;this.eventManager.emit("addImageBlobHook",e,(function(t,r){n.eventManager.emit("command","AddImage",{imageUrl:t,altText:r||e.name||"image"})}),t)},t._decodeURL=function(t){var n=e.decodeURIGraceful,r=e.encodeMarkdownCharacters;if("markdown"===t.source&&t.data.text){var i=t.data.text,o=i[0];1===i.length&&o.match(Vt)&&(o=r(o=n(o)),t.data.update(null,null,[o]))}else if("wysiwyg"===t.source){var a=t.clipboardContainer,s=a.childNodes[0],l=s.innerText;1===a.childNodes.length&&"A"===s.tagName&&l.match(Vt)&&(s.innerText=n(l),s.href=r(s.href))}},t._processClipboard=function(e){var t=e.clipboardData||window.clipboardData,n=t&&t.items,r=t.types;n&&r&&1===r.length&&-1!==Wt()("Files",[].slice.call(r))&&this._processBlobItems(n,e)},t._processBlobItems=function(e,t){var n=this;e&&je()(e,(function(e){if(-1!==e.type.indexOf("image")){t.preventDefault(),t.stopPropagation(),t.codemirrorIgnore=!0;var r=e.name?e:e.getAsFile();return n._emitAddImageBlobHook(r,t.type),!1}return!0}))},e}(),Yt=n(37),Kt=n(46),$t=n(23),Jt=new(function(){function e(){this._code="en-US",this._langs=new $t.a}var t=e.prototype;return t.setCode=function(e){this._code=e},t.setLanguage=function(e,t){var n=this;(e=[].concat(e)).forEach((function(e){if(n._langs.has(e)){var r=n._langs.get(e);n._langs.set(e,u()(r,t))}else n._langs.set(e,t)}))},t.get=function(e,t){t||(t=this._code);var n=this._langs.get(t);n||(n=this._langs.get("en-US"));var r=n[e];if(!r)throw new Error('There is no text key "'+e+'" in '+t);return r},e}()),Zt=n(57),Qt=n(9),en=n.n(Qt),tn=n(54),nn=n.n(tn),rn=n(58),on=n.n(rn);function an(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sn=["click","mousedown","mousemove","mouseup","mouseover","mouseout","scroll"],ln=-1,cn=function(){function e(e){void 0===e&&(e={}),an(this,"tagName",void 0),an(this,"className",void 0),an(this,"el",void 0),an(this,"_id",void 0),e=u()({tagName:"div"},e),this.tagName=e.tagName,this.className=e.className,this._id=ln+=1,this.customEventManager=new on.a,this._setRootElement(e.rootElement)}var t=e.prototype;return t.on=function(e,t){var n=this;nn()(e)?i()(e,(function(e,t){n._addEvent(t,e)})):this._addEvent(e,t)},t._bindDomEvent=function(e,t,n){t?ze.a.findAll(this.el,t).forEach((function(t){Fe()(t,e,n)})):Fe()(this.el,e,n)},t._addEvent=function(e,t){var n=this._parseEventType(e),r=n.event,i=n.selector;Wt()(r,sn)>-1?this._bindDomEvent(r,i,t):this.customEventManager.on(r,t)},t._unbindDomEvent=function(e,t,n){t?ze.a.findAll(this.el,t).forEach((function(t){He()(t,e,n)})):He()(this.el,e,n)},t.off=function(e,t){var n=this._parseEventType(e),r=n.event,i=n.selector;Wt()(r,sn)>-1?this._unbindDomEvent(r,i,t):this.customEventManager.off(r,t)},t._parseEventType=function(e){var t=e.split(" ");return{event:t.shift(),selector:t.join(" ")}},t._setRootElement=function(e){if(!e){var t=this.tagName;(e=document.createElement(t)).className=this.className||"uic"+this._id}this.el=e},t.trigger=function(e,t){this.customEventManager.fire(e,t)},t.remove=function(){this.el&&ze.a.remove(this.el)},t.destroy=function(){var e=this;this.remove(),i()(this,(function(t,n){e[n]=null}))},e}();function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dn=function(e){var t,n;function r(t){var n;return void 0===t&&(t={name:r.name}),(n=e.call(this,u()({className:r.className},t))||this)._name=t.name,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.getName=function(){return this._name},r}(cn);un(dn,"name","item"),un(dn,"className","tui-toolbar-item");var hn=dn,pn=new(function(){function e(){this.el=ze.a.createElementWith('<div class="tui-tooltip"><div class="arrow"></div><span class="text"></span></span></div>'),document.body.appendChild(this.el),this.hide()}var t=e.prototype;return t.show=function(e,t){var n=e.getBoundingClientRect(),r=n.left+window.pageXOffset,i=n.top+window.pageYOffset;h()(this.el,{top:i+e.clientHeight+7+"px",left:r+3+"px"}),this.el.querySelector(".text").innerHTML=t,h()(this.el,{display:"block"})},t.hide=function(){h()(this.el,{display:"none"})},t.remove=function(){ze.a.remove(this.el)},e}());function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=function(e){var t,n;function r(t){var n;return void 0===t&&(t={tagName:"button",name:r.name}),(n=e.call(this,{name:t.name,tagName:"button",className:t.className+" "+r.className,rootElement:t.el})||this)._setOptions(t),n._render(),n.on("click",n._onClick.bind(fn(n))),t.tooltip&&(n.on("mouseover",n._onOver.bind(fn(n))),n.on("mouseout",n._onOut.bind(fn(n)))),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.setTooltip=function(e){this._tooltip=e},i._setOptions=function(e){this._command=e.command,this._event=e.event,this._text=e.text,this._tooltip=e.tooltip,this._style=e.style,this._state=e.state},i._render=function(){var e=document.createTextNode(this._text||"");this.el.appendChild(e),this.el.setAttribute("type","button"),this._style&&this.el.setAttribute("style",this._style)},i._onClick=function(){this.isEnabled()&&(this._command?this.trigger("command",this._command):this._event&&this.trigger("event",this._event),this.trigger("clicked"))},i._onOver=function(){this.isEnabled()&&pn.show(this.el,this._tooltip)},i._onOut=function(){pn.hide()},i.enable=function(){this.el.disabled=!1},i.disable=function(){this.el.disabled=!0},i.isEnabled=function(){return!this.el.disabled},r}(hn);mn(gn,"name","button"),mn(gn,"className","tui-toolbar-icons");var vn=gn;function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yn=function(e){var t,n;function r(){return e.call(this,{name:r.name,tagName:"div",className:r.className})||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r}(hn);_n(yn,"name","divider"),_n(yn,"className","tui-toolbar-divider");var bn=yn,Cn=function(){function e(){}return e.create=function(e,t){var n;switch(e){case"heading":n=new vn({name:"heading",className:"tui-heading",event:"openHeadingSelect",tooltip:Jt.get("Headings"),state:"heading"});break;case"bold":n=new vn({name:"bold",className:"tui-bold",command:"Bold",tooltip:Jt.get("Bold"),state:"strong"});break;case"italic":n=new vn({name:"italic",className:"tui-italic",command:"Italic",tooltip:Jt.get("Italic"),state:"emph"});break;case"strike":n=new vn({name:"strike",className:"tui-strike",command:"Strike",tooltip:Jt.get("Strike"),state:"strike"});break;case"hr":n=new vn({name:"hr",className:"tui-hrline",command:"HR",tooltip:Jt.get("Line"),state:"thematicBreak"});break;case"quote":n=new vn({name:"quote",className:"tui-quote",command:"Blockquote",tooltip:Jt.get("Blockquote"),state:"blockQuote"});break;case"ul":n=new vn({name:"ul",className:"tui-ul",command:"UL",tooltip:Jt.get("Unordered list"),state:"list"});break;case"ol":n=new vn({name:"ol",className:"tui-ol",command:"OL",tooltip:Jt.get("Ordered list"),state:"orderedList"});break;case"task":n=new vn({name:"task",className:"tui-task",command:"Task",tooltip:Jt.get("Task"),state:"taskList"});break;case"table":n=new vn({name:"table",className:"tui-table",event:"openPopupAddTable",tooltip:Jt.get("Insert table"),state:"table"});break;case"image":n=new vn({name:"image",className:"tui-image",event:"openPopupAddImage",tooltip:Jt.get("Insert image"),state:""});break;case"link":n=new vn({name:"link",className:"tui-link",event:"openPopupAddLink",tooltip:Jt.get("Insert link")});break;case"code":n=new vn({name:"code",className:"tui-code",command:"Code",tooltip:Jt.get("Code"),state:"code"});break;case"codeblock":n=new vn({name:"codeblock",className:"tui-codeblock",command:"CodeBlock",tooltip:Jt.get("Insert CodeBlock"),state:"codeBlock"});break;case"indent":n=new vn({name:"indent",className:"tui-indent",command:"Indent",tooltip:Jt.get("Indent")});break;case"outdent":n=new vn({name:"outdent",className:"tui-outdent",command:"Outdent",tooltip:Jt.get("Outdent")});break;case"divider":n=new bn;break;case"button":n=new vn(t);break;case"item":default:n=new hn(t)}return n},e}();function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xn=function(e){var t,n;function r(t,n){var r;return void 0===n&&(n=[]),Sn(wn(r=e.call(this,{tagName:"div",className:"tui-editor-defaultUI-toolbar"})||this),"_items",[]),Sn(wn(r),"_eventManager",void 0),r._eventManager=t,r.setItems(n),r._initEvent(t),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initEvent=function(e){var t=this;e.listen("stateChange",(function(e){t._items.forEach((function(t){t._state&&ze.a.toggleClass(t.el,"active",!!e[t._state])}))})),e.listen("changePreviewTabPreview",(function(){return t.disableAllButton()})),e.listen("changePreviewTabWrite",(function(){return t.enableAllButton()})),e.listen("changeMode",(function(){return t.enableAllButton()}))},i.disableAllButton=function(){this._items.forEach((function(e){e instanceof vn&&e.disable()}))},i.enableAllButton=function(){this._items.forEach((function(e){e instanceof vn&&e.enable()}))},i.getItems=function(){return this._items.slice(0)},i.getItem=function(e){return this._items[e]},i.setItems=function(e){this.removeAllItems(),e.forEach(this.addItem.bind(this))},i.addItem=function(e){this.insertItem(this._items.length,e)},i.insertItem=function(e,t){var n=this;en()(t)?t=Cn.create(t):en()(t.type)&&(t=Cn.create(t.type,t.options));var r=this.el.children;e>=0&&e<r.length?(ze.a.insertBefore(t.el,r[e]),this._items.splice(e,0,t)):(this.el.appendChild(t.el),this._items.push(t)),t.onCommandHandler=function(e){return n._eventManager.emit("command",e)},t.onEventHandler=function(e){return n._eventManager.emit(e)},t.on("command",t.onCommandHandler),t.on("event",t.onEventHandler)},i.indexOfItem=function(e){var t;if(e instanceof hn)t=this._items.indexOf(e);else if(en()(e)){var n=e;t=this._items.map((function(e){return e.getName()})).indexOf(n)}return t},i.removeItem=function(e,t){var n,r;return void 0===t&&(t=!0),(n=e instanceof hn?this.indexOfItem(e):e)>=0&&(r=this._items.splice(n,1)[0]),r&&(t?r.destroy():(r.off("command",r.onCommandHandler),r.off("event",r.onEventHandler),ze.a.remove(r.el))),r},i.removeAllItems=function(){for(;this._items&&this._items.length>0;)this.removeItem(0)},i.destroy=function(){this.removeAllItems(),e.prototype.destroy.call(this)},r}(cn),kn=function(e){var t,n;function r(t){var n;return t=u()({header:!0,target:document.body,textContent:""},t),(n=e.call(this,{tagName:"div",className:t.modal?"tui-popup-modal-background":"tui-popup-wrapper",rootElement:t.el})||this)._clickEventMap={},n._onClickCloseButton=n.hide.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n._initInstance(t),n._initDOM(t),n._initDOMEvent(t),n._initEditorEvent(t),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(e){this._target=e.target,e.el&&(this.el=e.el,this._isExternalHtmlUse=!0),e.content?this.content=e.content:this.content=e.textContent,this.options=e},i._initDOM=function(){this._initLayout(),this._isExternalHtmlUse||(a()(this.options.title)&&this.setTitle(this.options.title),this.setContent(this.content));var e=this.options.headerButtons;if(e){ze.a.findAll(this.el,".tui-popup-close-button").forEach((function(e){ze.a.remove(e)}));var t=this.el.querySelector(".tui-popup-header-buttons");ze.a.empty(t),t.innerHTML=e}this.options.css&&h()(this.el,this.options.css)},i._initDOMEvent=function(){var e=this,t=this.options,n=t.openerCssQuery,r=t.closerCssQuery,i=document.body;n&&ze.a.findAll(i,n).forEach((function(t){var n="click."+e._id;e._clickEventMap[n]=e.show.bind(e),Fe()(t,"click",e._clickEventMap[n])})),r&&ze.a.findAll(i,r).forEach((function(t){var n="click."+e._id;e._clickEventMap[n]=e.hide.bind(e),Fe()(t,"click",e._clickEventMap[n])})),this.on("click .tui-popup-close-button",this._onClickCloseButton)},i._initEditorEvent=function(){},i._initLayout=function(){var e=this.options;if(this._isExternalHtmlUse)this.hide(),this._target.appendChild(this.el);else{var t=e.modal?'<div class="tui-popup-wrapper">\n        <div class="tui-popup-header">\n            <span class="tui-popup-title"></span>\n            <div class="tui-popup-header-buttons">\n                <button type="button" class="tui-popup-close-button"></button>\n            </div>\n        </div>\n        <div class="tui-popup-body"></div>\n    </div>':'<div class="tui-popup-header">\n        <span class="tui-popup-title"></span>\n        <div class="tui-popup-header-buttons">\n            <button type="button" class="tui-popup-close-button"></button>\n        </div>\n    </div>\n    <div class="tui-popup-body"></div>';this.el.innerHTML=t,e.className&&f.a.apply(void 0,[this.el].concat(e.className.split(/\s+/g))),this.hide(),this._target.appendChild(this.el),this.body=this.el.querySelector(".tui-popup-body"),e.header||ze.a.remove(this.el.querySelector(".tui-popup-header"))}},i.setContent=function(e){ze.a.empty(this.body),en()(e)?this.body.innerHTML=e:this.body.appendChild(e)},i.setTitle=function(e){var t=this.el.querySelector(".tui-popup-title");ze.a.empty(t),t.innerHTML=e},i.getTitleElement=function(){return this.el.querySelector(".tui-popup-title")},i.hide=function(){h()(this.el,{display:"none"}),this._isShow=!1,this.trigger("hidden",this)},i.show=function(){h()(this.el,{display:"block"}),this._isShow=!0,this.trigger("shown",this)},i.isShow=function(){return this._isShow},i.remove=function(){var e=this,t=this.options,n=t.openerCssQuery,r=t.closerCssQuery,i=document.body;this.trigger("remove",this),this.off("click .tui-popup-close-button",this._onClickCloseButton),n&&ze.a.findAll(i,n).forEach((function(t){He()(t,"click",e._clickEventMap["click."+e._id]),delete e._clickEventMap["click."+e._id]})),r&&ze.a.findAll(i,r).forEach((function(t){He()(t,"click",e._clickEventMap["click."+e._id]),delete e._clickEventMap["click."+e._id]})),ze.a.remove(this.el),this.el=null},i.setFitToWindow=function(e){ze.a.toggleClass(this.el,"fit-window",e)},i.isFitToWindow=function(){return Qe()(this.el,"fit-window")},i.toggleFitToWindow=function(){var e=!this.isFitToWindow();return this.setFitToWindow(e),e},r}(cn),En=function(e){var t,n;function r(t){return t=u()({header:!1,className:"te-dropdown-toolbar"},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getToolbar=function(){return this._toolbar},i.getItems=function(){return this.getToolbar().getItems()},i.getItem=function(e){return this.getToolbar().getItem(e)},i.setItems=function(e){this.getToolbar().setItems(e)},i.addItem=function(e){this.getToolbar().addItem(e)},i.insertItem=function(e,t){this.getToolbar().insertItem(e,t)},i.indexOfItem=function(e){return this.getToolbar().indexOfItem(e)},i.removeItem=function(e,t){return this.getToolbar().removeItem(e,t)},i.removeAllItems=function(){this.getToolbar().removeAllItems()},i._initInstance=function(t){e.prototype._initInstance.call(this,t);var n=t.button,r=t.eventManager;this._button=n,this._eventManager=r,this._toolbar=new xn(r)},i._initDOM=function(){e.prototype._initDOM.call(this),this.setContent(this._toolbar.el)},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",(function(){return t.hide()})),this._eventManager.listen("closeAllPopup",(function(){return t.hide()})),this._eventManager.listen(r.OPEN_EVENT,(function(){var e=t.isShow();t._eventManager.emit("closeAllPopup"),e||t.show(),h()(t.el,{left:"-1000px"});var n=t._button,r=ze.a.getOuterHeight(n,!0),i=(r-ze.a.getOuterHeight(n))/2,o=n.offsetTop+r-i,a=n.offsetLeft+ze.a.getOuterWidth(n,!0)-ze.a.getOuterWidth(t.el,!0);h()(t.el,{top:o+"px",left:a+"px"})}))},r}(kn);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(En,"OPEN_EVENT","openDropdownToolbar");var Tn=En;function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pn=function(e){var t,n;function r(t,n){var r;return On(jn(r=e.call(this,t,n)||this),"_moreButton",void 0),On(jn(r),"_popupDropdownToolbar",void 0),On(jn(r),"_observer",void 0),r._init(t),r._bindWidthChangedEvent(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.insertItem=function(t,n){e.prototype.insertItem.call(this,t,n),this._arrangeMoreButton()},i._init=function(e){var t=Cn.create("button",{name:"more",className:"tui-more",tooltip:Jt.get("More"),event:Tn.OPEN_EVENT});this._moreButton=t,this._popupDropdownToolbar=new Tn({eventManager:e,target:this.el,button:t.el}),this.addItem(t)},i._bindWidthChangedEvent=function(){var e=this;this._observer=new Zt.a((function(){e._popupDropdownToolbar.hide(),e._balanceButtons()})),this._observer.observe(this.el)},i._balanceButtons=function(){var t=this;this._popupDropdownToolbar.getItems().forEach((function(n){t._popupDropdownToolbar.removeItem(n,!1);var r=t.getItems().length;e.prototype.insertItem.call(t,r,n)})),this.removeItem(this._moreButton,!1),e.prototype.insertItem.call(this,0,this._moreButton),this.getItems().filter((function(e){return e.el.offsetTop>t.el.clientHeight})).forEach((function(e){t.removeItem(e,!1),t._popupDropdownToolbar.addItem(e)})),this._arrangeMoreButton()},i._arrangeMoreButton=function(){if(this._popupDropdownToolbar){this.removeItem(this._moreButton,!1);var t=this._popupDropdownToolbar.getItems().length>0,n=this.getItems().length;t&&e.prototype.insertItem.call(this,n,this._moreButton)}},i.destroy=function(){this._observer&&(this._observer.disconnect(),this._observer=null)},r}(xn),Dn=function(e){var t,n;function r(t){var n;return void 0===t&&(t={}),(n=e.call(this,{tagName:"div",className:"te-tab"})||this).sections=t.sections,n._activeButton=null,n._render(t),n._initEvent(t),n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initEvent=function(e){var t=e.onItemClick;t&&this.on("itemClick",t),this.on("click button",this._onTabButton.bind(this))},i._render=function(e){for(var t=e.items,n=e.initName,r=[],i=0,o=t.length;i<o;i+=1)r.push('<button type="button" data-index="'+i+'">'+t[i]+"</button>");this.el.innerHTML=r.join(""),this.activate(n)},i._findButtonContained=function(e,t,n){return ze.a.findAll(e,t).filter((function(e){return new RegExp(n).test(e.textContent)}))},i.activate=function(e){var t=this._findButtonContained(this.el,"button",e)[0];this._activateTabByButton(t)},i._onTabButton=function(e){var t=e.target;this._activateTabByButton(t),this.trigger("itemClick",t.textContent)},i._activateTabByButton=function(e){this._isActivatedButton(e)||this._updateClassByButton(e)},i._updateClassByButton=function(e){if(this._activeButton){var t=this._activeButton.getAttribute("data-index");g()(this._activeButton,"te-tab-active"),this.sections&&g()(this.sections[t],"te-tab-active")}f()(e,"te-tab-active"),this._activeButton=e;var n=e.getAttribute("data-index");this.sections&&f()(this.sections[n],"te-tab-active")},i._isActivatedButton=function(e){return this._activeButton&&this._activeButton.textContent===e.textContent},r}(cn);function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=function(e){var t,n;function r(t,n,r){var i;return In(Mn(i=e.call(this,{tagName:"div",className:"te-mode-switch"})||this),"_buttons",{}),In(Mn(i),"_type",void 0),In(Mn(i),"_rootElement",void 0),i._eventManager=r,i._render(t),i._switchType(a()(n)?n:"markdown"),i._initEvent(),i}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.isShown=function(){return"block"===this._rootElement.style.display},i.show=function(){h()(this._rootElement,{display:"block"})},i.hide=function(){h()(this._rootElement,{display:"none"})},i._render=function(e){this._buttons.markdown=ze.a.createElementWith('<button class="te-switch-button markdown" type="button">'+Jt.get("Markdown")+"</button>"),this._buttons.wysiwyg=ze.a.createElementWith('<button class="te-switch-button wysiwyg" type="button">'+Jt.get("WYSIWYG")+"</button>"),this.el.appendChild(this._buttons.markdown),this.el.appendChild(this._buttons.wysiwyg),e&&(e.appendChild(this.el),this._rootElement=e),this.on("click .markdown",this._changeMarkdown.bind(this)),this.on("click .wysiwyg",this._changeWysiwyg.bind(this)),this.show()},i._changeMarkdown=function(){this._switchType("markdown")},i._changeWysiwyg=function(){this._switchType("wysiwyg")},i._setActiveButton=function(e){g()(this._buttons.markdown,"active"),g()(this._buttons.wysiwyg,"active"),f()(this._buttons[""+e],"active")},i._switchType=function(e){this._type!==e&&(this._type=e,this._setActiveButton(e),this.trigger("modeSwitched",this._type))},i._initEvent=function(){var e=this;this._eventManager.listen("changeMode",(function(t){e._type!==t&&(e._type=t,e._setActiveButton(t))}))},r}(cn);In(Rn,"TYPE",{MARKDOWN:"markdown",WYSIWYG:"wysiwyg"});var Ln=Rn,Nn=/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})(\/([^\s]*))?$/,An=function(e){var t,n;function r(t){var n='\n            <label for="url">'+Jt.get("URL")+'</label>\n            <input type="text" class="te-url-input" />\n            <label for="linkText">'+Jt.get("Link text")+'</label>\n            <input type="text" class="te-link-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+Jt.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Jt.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:Jt.get("Insert link"),className:"te-popup-add-link tui-editor-popup",content:n},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this._editor=t.editor,this._eventManager=t.editor.eventManager},i._initDOM=function(){e.prototype._initDOM.call(this);var t=this.el;this._inputText=t.querySelector(".te-link-text-input"),this._inputURL=t.querySelector(".te-url-input")},i._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click .te-close-button",(function(){return t.hide()})),this.on("click .te-ok-button",(function(){return t._addLink()})),this.on("shown",(function(){var e=t._inputText,n=t._inputURL,r=t._editor.getSelectedText().trim();e.value=r,Nn.exec(r)&&(n.value=r),n.focus()})),this.on("hidden",(function(){t._resetInputs()}))},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this);var n=this._eventManager;n.listen("focus",(function(){return t.hide()})),n.listen("closeAllPopup",(function(){return t.hide()})),n.listen("openPopupAddLink",(function(){n.emit("closeAllPopup"),t.show()}))},i._addLink=function(){var e=this._getValue(),t=e.url,n=e.linkText;this._clearValidationStyle(),n.length<1?f()(this._inputText,"wrong"):t.length<1?f()(this._inputURL,"wrong"):(this._eventManager.emit("command","AddLink",{linkText:n,url:t}),this.hide())},i._getValue=function(){return{url:this._inputURL.value,linkText:this._inputText.value}},i._clearValidationStyle=function(){g()(this._inputURL,"wrong"),g()(this._inputText,"wrong")},i._resetInputs=function(){this._inputText.value="",this._inputURL.value="",this._clearValidationStyle()},r}(kn),Fn=function(e){var t,n;function r(t){var n='\n            <div class="te-tab-section"></div>\n            <div class="te-url-type">\n                <label for="">'+Jt.get("Image URL")+'</label>\n                <input type="text" class="te-image-url-input" />\n            </div>\n            <div class="te-file-type">\n                <label for="">'+Jt.get("Select image file")+'</label>\n                <input type="file" class="te-image-file-input" accept="image/*" />\n            </div>\n            <label for="url">'+Jt.get("Description")+'</label>\n            <input type="text" class="te-alt-text-input" />\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+Jt.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Jt.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:Jt.get("Insert image"),className:"te-popup-add-image tui-editor-popup",content:n},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager},i._initDOM=function(){e.prototype._initDOM.call(this);var t=this.el;this._imageUrlInput=t.querySelector(".te-image-url-input"),this._imageFileInput=t.querySelector(".te-image-file-input"),this._altTextInput=t.querySelector(".te-alt-text-input");var n=t.querySelector(".te-file-type"),r=t.querySelector(".te-url-type"),i=this.body.querySelector(".te-tab-section");this.tab=new Dn({initName:Jt.get("File"),items:[Jt.get("File"),Jt.get("URL")],sections:[n,r]}),i.appendChild(this.tab.el)},i._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("shown",(function(){return t._imageUrlInput.focus()})),this.on("hidden",(function(){return t._resetInputs()})),this.on("change .te-image-file-input",(function(){var e=t._imageFileInput.value.split("\\").pop();t._altTextInput.value=e})),this.on("click .te-close-button",(function(){return t.hide()})),this.on("click .te-ok-button",(function(){var e=t._imageUrlInput.value,n=t._altTextInput.value;if(e)t._applyImage(e,n);else{var r=t._imageFileInput.files;if(r.length){var i=r.item(0);t.eventManager.emit("addImageBlobHook",i,(function(e,r){return t._applyImage(e,r||n)}),"ui")}}t.hide()})),this.tab.on("itemClick",(function(){return t._resetInputs()}))},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("openPopupAddImage",(function(){t.eventManager.emit("closeAllPopup"),t.show()}))},i._applyImage=function(e,t){this.eventManager.emit("command","AddImage",{imageUrl:e,altText:t||"image"}),this.hide()},i._resetInputs=function(){ze.a.findAll(this.el,"input").forEach((function(e){e.value=""}))},i.remove=function(){this.tab.remove(),e.prototype.remove.call(this)},r}(kn),Bn=function(e){var t,n;function r(t){var n='\n      <button type="button" class="te-table-add-row">'+Jt.get("Add row")+'</button>\n      <button type="button" class="te-table-add-col">'+Jt.get("Add col")+'</button>\n      <button type="button" class="te-table-remove-row">'+Jt.get("Remove row")+'</button>\n      <button type="button" class="te-table-remove-col">'+Jt.get("Remove col")+'</button>\n      <hr/>\n      <button type="button" class="te-table-col-align-left">'+Jt.get("Align left")+'</button>\n      <button type="button" class="te-table-col-align-center">'+Jt.get("Align center")+'</button>\n      <button type="button" class="te-table-col-align-right">'+Jt.get("Align right")+'</button>\n      <hr/>\n      <button type="button" class="te-table-remove">'+Jt.get("Remove table")+"</button>\n    ";return t=u()({header:!1,className:"te-popup-table-utils",content:n},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager},i._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click .te-table-add-row",(function(){return t.eventManager.emit("command","AddRow")})),this.on("click .te-table-add-col",(function(){return t.eventManager.emit("command","AddCol")})),this.on("click .te-table-col-align-left",(function(){return t.eventManager.emit("command","AlignCol","left")})),this.on("click .te-table-col-align-center",(function(){return t.eventManager.emit("command","AlignCol","center")})),this.on("click .te-table-col-align-right",(function(){return t.eventManager.emit("command","AlignCol","right")})),this.on("click .te-table-remove-col",(function(){return t.eventManager.emit("command","RemoveCol")})),this.on("click .te-table-remove",(function(){return t.eventManager.emit("command","RemoveTable")})),this._bindClickEventOnRemoveRowMenu()},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("mousedown",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("openPopupTableUtils",(function(e){var n=t.el.parentNode.getBoundingClientRect(),r=n.left,i=n.top;t._disableRemoveRowMenu(e.target),h()(t.el,{position:"absolute",top:e.clientY-i+5+"px",left:e.clientX-r+10+"px"}),t.eventManager.emit("closeAllPopup"),t.show()}))},i._bindClickEventOnRemoveRowMenu=function(){var e=this;this.on("click .te-table-remove-row",(function(t){var n=t.target;Qe()(n,"te-context-menu-disabled")?t.preventDefault():e.eventManager.emit("command","RemoveRow")}))},i._disableRemoveRowMenu=function(e){var t=this.el.querySelector(".te-table-remove-row");ze.a.toggleClass(t,"te-context-menu-disabled","TH"===e.nodeName)},r}(kn),Hn=function(e){var t,n;function r(t){return t=u()({header:!1,className:"te-popup-add-table",content:'\n    <div class="te-table-selection">\n        <div class="te-table-header"></div>\n        <div class="te-table-body"></div>\n        <div class="te-selection-area"></div>\n    </div>\n    <p class="te-description"></p>\n'},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this._selectedBound={},this._tableBound={},this._eventManager=t.eventManager,this._button=t.button,this._eventHandlers={onMousedown:this._selectTableRange.bind(this),onClick:this._fireCommandEvent.bind(this)}},i._initDOM=function(){e.prototype._initDOM.call(this),this._cacheElements(),this._setTableSizeByBound(5,7)},i._initDOMEvent=function(t){e.prototype._initDOMEvent.call(this,t),this.on("mousemove .te-table-selection",this._eventHandlers.onMousedown),this.on("click .te-table-selection",this._eventHandlers.onClick)},i._selectTableRange=function(e){var t=e.pageX-this._selectionOffset.left,n=e.pageY-this._selectionOffset.top,r=this._getSelectionBoundByOffset(t,n);this._resizeTableBySelectionIfNeed(r.col,r.row),this._setSelectionAreaByBound(r.col,r.row),this._setDisplayText(r.col,r.row),this._setSelectedBound(r.col,r.row)},i._fireCommandEvent=function(){var e=this._getSelectedTableSize();this._eventManager.emit("command","Table",e.col,e.row)},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",(function(){return t.hide()})),this._eventManager.listen("closeAllPopup",(function(){return t.hide()})),this._eventManager.listen("openPopupAddTable",(function(){var e=t._button,n=e.offsetTop,r=e.offsetLeft;h()(t.el,{top:n+ze.a.getOuterHeight(e)+"px",left:r+"px"}),t._eventManager.emit("closeAllPopup"),t.show();var i=t.el.querySelector(".te-table-selection").getBoundingClientRect(),o=i.left,a=i.top;t._selectionOffset={left:o+window.pageXOffset,top:a+window.pageYOffset}}))},i._cacheElements=function(){this.header=this.el.querySelector(".te-table-header"),this.body=this.el.querySelector(".te-table-body"),this.selection=this.el.querySelector(".te-selection-area"),this.desc=this.el.querySelector(".te-description")},i._resizeTableBySelectionIfNeed=function(e,t){var n=this._getResizedTableBound(e,t);n&&this._setTableSizeByBound(n.col,n.row)},i._getResizedTableBound=function(e,t){var n,r,i;return e>=5&&e<9?n=e+1:e<5&&(n=5),t>=7&&t<14?r=t+1:t<7&&(r=7),this._isNeedResizeTable(n,r)&&(i={row:r||this._tableBound.row,col:n||this._tableBound.col}),i},i._isNeedResizeTable=function(e,t){return e&&e!==this._tableBound.col||t&&t!==this._tableBound.row},i._getBoundByOffset=function(e,t){return{row:parseInt(t/17,10),col:parseInt(e/25,10)}},i._getOffsetByBound=function(e,t){return{x:25*e+25,y:17*t+17}},i._setTableSizeByBound=function(e,t){var n=this._getOffsetByBound(e,t-1);this._setTableSize(n.x,n.y),this._tableBound.row=t,this._tableBound.col=e},i._getSelectionBoundByOffset=function(e,t){var n=this._getBoundByOffset(e,t);return n.row<1?n.row=1:n.row>this._tableBound.row&&(n.row=this._tableBound.row),n.col<1?n.col=1:n.col>this._tableBound.col&&(n.col=this._tableBound.col),n},i._setSelectionAreaByBound=function(e,t){var n=this._getOffsetByBound(e,t);this._setSelectionArea(n.x,n.y)},i._setSelectedBound=function(e,t){this._selectedBound.col=e,this._selectedBound.row=t},i._getSelectedTableSize=function(){return{row:this._selectedBound.row+1,col:this._selectedBound.col+1}},i._setDisplayText=function(e,t){this.desc.innerHTML=e+1+" x "+(t+1)},i._setTableSize=function(e,t){e+=1,t+=1,h()(this.header,{height:"17px",width:e+"px"}),h()(this.body,{height:t+"px",width:e+"px"}),h()(this.el,{width:e+30+"px"})},i._setSelectionArea=function(e,t){e+=1,t+=1,h()(this.selection,{height:t+"px",width:e+"px"})},i.remove=function(){this.off("mousemove .te-table-selection",this._eventHandlers.onMousedown),this.off("click .te-table-selection",this._eventHandlers.onClick),e.prototype.remove.call(this)},r}(kn);Hn.CELL_WIDTH=25,Hn.CELL_HEIGHT=17,Hn.MIN_ROW_SELECTION_INDEX=1,Hn.MIN_COL_SELECTION_INDEX=1;var zn=Hn,qn=function(e){var t,n;function r(t){var n='\n      <ul>\n        <li data-value="1" data-type="Heading"><h1>'+Jt.get("Heading")+' 1</h1></li>\n        <li data-value="2" data-type="Heading"><h2>'+Jt.get("Heading")+' 2</h2></li>\n        <li data-value="3" data-type="Heading"><h3>'+Jt.get("Heading")+' 3</h3></li>\n        <li data-value="4" data-type="Heading"><h4>'+Jt.get("Heading")+' 4</h4></li>\n        <li data-value="5" data-type="Heading"><h5>'+Jt.get("Heading")+' 5</h5></li>\n        <li data-value="6" data-type="Heading"><h6>'+Jt.get("Heading")+' 6</h6></li>\n        <li data-type="Paragraph"><div>'+Jt.get("Paragraph")+"</div></li>\n      </ul>\n    ";return t=u()({header:!1,className:"te-heading-add",content:n},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this._eventManager=t.eventManager,this._button=t.button},i._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("click li",(function(e){var n=ze.a.closest(e.target,"li");t._eventManager.emit("command",n.getAttribute("data-type"),n.getAttribute("data-value"))}))},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this._eventManager.listen("focus",this.hide.bind(this)),this._eventManager.listen("closeAllPopup",this.hide.bind(this)),this._eventManager.listen("openHeadingSelect",(function(){var e=t._button,n=e.offsetTop,r=e.offsetLeft;h()(t.el,{top:n+ze.a.getOuterHeight(e)+"px",left:r+"px"}),t._eventManager.emit("closeAllPopup"),t.show()}))},r}(kn);function Un(e){return e.map((function(e){return'<button type="button" class="te-popup-code-block-lang-'+e+'" data-lang="'+e+'">'+e+"</button>"})).join("")}var Xn=function(e){var t,n;function r(t){var n=t.languages;return t=u()({header:!1,className:"te-popup-code-block-languages",content:Un(n)},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){var n=this;e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager,this._onSelectedLanguage=null,this._onDismissed=null,this._currentButton=null,this._buttons=null,this._languages=t.languages,this._btnMousedownHandler=function(e){var t=e.target.getAttribute("data-lang");n._onSelectedLanguage&&n._onSelectedLanguage(t),n.hide()}},i._initDOM=function(t){e.prototype._initDOM.call(this,t),h()(this.el,"zIndex",1e4),this._buttons=ze.a.findAll(this.el,"button"),this._activateButtonByIndex(0)},i._initDOMEvent=function(){e.prototype._initDOMEvent.call(this),this._addBtnMouseDownHandler()},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("openPopupCodeBlockLanguages",(function(e){return t.show(e.callback),h()(t.el,{top:e.offset.top+"px"}),h()(t.el,{left:e.offset.left+"px"}),t.setCurrentLanguage(e.language),t})),this.eventManager.listen("focus",(function(){return t.hide()})),this.eventManager.listen("mousedown",(function(){return t.hide()})),this.eventManager.listen("closeAllPopup",(function(){return t.hide()})),this.eventManager.listen("closePopupCodeBlockLanguages",(function(){return t.hide()})),this.eventManager.listen("scroll",(function(){return t.hide()})),this.eventManager.listen("setCodeBlockLanguages",(function(e){return t._changeLanguageButtons(e)}))},i._activateButtonByIndex=function(e){this._currentButton&&g()(this._currentButton,"active"),this._buttons.length&&(this._currentButton=this._buttons[e],f()(this._currentButton,"active"),this._currentButton.scrollIntoView())},i.prev=function(){var e=Wt()(this._currentButton,this._buttons)-1;e<0&&(e=this._buttons.length-1),this._activateButtonByIndex(e)},i.next=function(){var e=Wt()(this._currentButton,this._buttons)+1;e>=this._buttons.length&&(e=0),this._activateButtonByIndex(e)},i.getCurrentLanguage=function(){return this._currentButton.getAttribute("data-lang")},i.setCurrentLanguage=function(e){var t=this._buttons.filter((function(t){return Ue()(t,".te-popup-code-block-lang-"+e)}));if(t.length>0){var n=Wt()(t[0],this._buttons);this._activateButtonByIndex(n)}},i.show=function(t){this._onSelectedLanguage=t.selected,this._onDismissed=t.dismissed,e.prototype.show.call(this)},i.hide=function(){this._onDismissed&&this._onDismissed(),this._onSelectedLanguage=null,this._onDismissed=null,e.prototype.hide.call(this)},i._addBtnMouseDownHandler=function(){var e=this;this._languages.forEach((function(t){e.off("mousedown .te-popup-code-block-lang-"+t,e._btnMousedownHandler),e.on("mousedown .te-popup-code-block-lang-"+t,e._btnMousedownHandler)}))},i._changeLanguageButtons=function(e){this._languages=e,e&&e.length&&(this.content=Un(e),this.setContent(this.content),this._addBtnMouseDownHandler(),this._buttons=ze.a.findAll(this.el,"button"),this._activateButtonByIndex(0))},r}(kn),Wn={left:"tui-split-content-left",right:"tui-split-content-right"},Vn=function(){function e(e,t,n,r){void 0===r&&(r={}),r=u()({showScrollSyncButton:!1,scrollSync:!0,splitView:!0},r),this._baseElement=e,this._eventManager=r.eventManager,this._contentElements=[],this._initDom(t,n,r),this._initDomEvent()}var t=e.prototype;return t._initDom=function(e,t,n){var r=document.createElement("div");r.className="tui-split-scroll",this._el=r;var i=document.createElement("div");i.className="tui-split-scroll-wrapper",this._scrollWrapper=i,this._setScrollSync(n.scrollSync),this.setSplitView(n.splitView);var o=document.createElement("div");o.className="tui-split-scroll-content",this._contentWrapper=o;var a=document.createElement("div");a.className="tui-splitter",this._baseElement.appendChild(r),r.appendChild(i),i.appendChild(o),i.appendChild(a),this._setLeft(e),this._setRight(t)},t._initDomEvent=function(){this._contentWrapper.addEventListener("scroll",this.sync.bind(this))},t._requireScrollIntoView=function(e){var t,n=e.getBoundingClientRect(),r=n.top,i=n.bottom;if(this.isScrollSynced())t=this._contentWrapper;else if(ze.a.parents(e,this._contentElements.left).length)t=this._contentElements.left;else{if(!ze.a.parents(e,this._contentElements.right).length)return;t=this._contentElements.right}var o=t.getBoundingClientRect(),a=o.top,s=o.bottom;r<a?t.scrollTop=t.scrollTop+r-a:i>s&&(t.scrollTop=t.scrollTop+i-s),this.sync()},t._setContentElement=function(e,t){var n=this,r=this._contentElements[t];r&&(this._eventManager.removeEventHandler("requireScrollIntoView"),this._contentWrapper.removeChild(r)),f()(e,Wn[t]),this._contentWrapper.appendChild(e),this._eventManager.listen("requireScrollIntoView",(function(e){return n._requireScrollIntoView(e)})),this._eventManager.listen("requireScrollSync",(function(){return n.sync()})),this._contentElements[t]=e,this.sync()},t._setLeft=function(e){this._setContentElement(e,"left")},t._setRight=function(e){this._setContentElement(e,"right")},t._setScrollSync=function(e){ze.a.toggleClass(this._el,"scroll-sync",e)},t.toggleScrollSync=function(){ze.a.toggleClass(this._el,"scroll-sync")},t.setSplitView=function(e){e?g()(this._el,"single-content"):f()(this._el,"single-content")},t.toggleSplitView=function(){ze.a.toggleClass(this._el,"single-content")},t.isScrollSynced=function(){return Qe()(this._el,"scroll-sync")},t.isSplitView=function(){return!Qe()(this._el,"single-content")},t.sync=function(){if(this._contentElements.left&&this._contentElements.right){var e=this._contentWrapper.clientHeight,t=this._contentWrapper.scrollTop,n=this._contentElements.left,r=this._contentElements.right,i=n.offsetHeight-e>0?n:r,o=i===n?r:n,a=i.offsetHeight,s=Math.max(a-e,0),l=a-Math.max(o.offsetHeight,e);h()(i,{top:0}),h()(o,{top:t/s*l+"px"})}},t.scrollTop=function(e){this._contentWrapper.scrollTop=e},e}(),Gn=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,t,{singleCursorHeightPerLine:!1,theme:"none"})||this)._language="",r._eventManager=n,r._initEvent(),r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initEvent=function(){var e=this;this.on("cursorActivity",this._onRequireScrollIntoView.bind(this)),this.on("beforeChange",(function(t,n){"paste"===n.origin&&e._eventManager.emit("pasteBefore",{source:"codeblock",data:n})}))},i._onRequireScrollIntoView=function(){var e=this,t=this.getCursor(),n=this.getWrapperElement();setTimeout((function(){var r=n.querySelector("pre:nth-child("+(t.line+1)+")");r&&e._eventManager.emit("requireScrollIntoView",r)}),0)},i.load=function(e){var t=e.cloneNode(!0);this.setLanguage(t.getAttribute("data-language")||""),this.setEditorCodeText(t.textContent)},i.save=function(e){e.innerHTML="",e.textContent=this.getEditorCodeText(),e.setAttribute("data-language",this._language),this._eventManager.emit("changeLanguage")},i.clear=function(){this.setLanguage(""),this.setEditorCodeText("")},i.getLanguage=function(){return this._language},i.setLanguage=function(e){void 0===e&&(e=""),this._language=e},i.getEditorCodeText=function(){return this.getValue()},i.setEditorCodeText=function(e){void 0===e&&(e=""),this.setValue(e)},i.refresh=function(){this.cm.refresh()},r}(q),Yn=function(e){var t,n;function r(t,n,r,i){var o;return(o=e.call(this,t,n,r,!0)||this)._codeBlockEditor=i,o._initEvent(),o.lazyRunner.registerLazyRunFunction("refresh",o.refresh,o.delayCodeBlockTime,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o)),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initEvent=function(){var e=this;this._codeBlockEditor.on("update",(function(){return e.lazyRunner.run("refresh")}))},i.refresh=function(){var t=this._codeBlockEditor.getLanguage(),n=this._codeBlockEditor.getEditorCodeText();e.prototype.refresh.call(this,"```"+t+"\n"+n+"\n```"),this.eventManager.emit("requireScrollSync")},i.clear=function(){e.prototype.render.call(this,"")},r}(n(38).a),Kn=function(){function e(e,t){this._eventManager=e,this._languages=t,this._initDOM(),this._initDOMEvent(),this._initEvent()}var t=e.prototype;return t._initDOM=function(){this._inputLanguage=ze.a.createElementWith('<input type="text" maxlength="20" placeholder="'+Jt.get("Choose language")+'" />'),this._wrapper=ze.a.createElementWith('<span class="te-input-language"></span>'),this._wrapper.appendChild(this._inputLanguage),this._hide()},t._initDOMEvent=function(){var e=this;this._inputLanguage.addEventListener("keydown",(function(t){return e._onKeyEvent(t)})),this._inputLanguage.addEventListener("focus",(function(){return e._showPopupCodeBlockLanguages()})),this._inputLanguage.addEventListener("focusout",(function(){return e._onFocusOut()})),this._wrapper.addEventListener("mousedown",(function(t){t.target===e._wrapper&&(t.preventDefault(),e._toggleFocus())}))},t._initEvent=function(){var e=this;this._eventManager.listen("setCodeBlockLanguages",(function(t){e._languages=t,t&&t.length?e._show():e._hide()}))},t._showPopupCodeBlockLanguages=function(){var e=this,t=this._inputLanguage.getBoundingClientRect();f()(this._wrapper,"active"),this.active=!0,this._popupCodeBlockLanguages=this._eventManager.emitReduce("openPopupCodeBlockLanguages",{language:this._prevStoredLanguage,offset:{left:t.left,top:t.bottom},callback:{selected:function(t){return e._onLanguageSelectedFromList(t)},dismissed:function(){e._popupCodeBlockLanguages=null}}})},t._toggleFocus=function(){var e=this._inputLanguage;Qe()(this._wrapper,"active")?e.blur():e.focus()},t._onFocusOut=function(){g()(this._wrapper,"active"),this._inputLanguage.value=this._prevStoredLanguage,this._hidePopupCodeBlockLanguages()},t._onKeyEvent=function(e){if(this._popupCodeBlockLanguages)switch(e.which){case X.keyCode("UP"):this._popupCodeBlockLanguages.prev(),e.preventDefault();break;case X.keyCode("DOWN"):this._popupCodeBlockLanguages.next(),e.preventDefault();break;case X.keyCode("ENTER"):case X.keyCode("TAB"):var t=this._popupCodeBlockLanguages.getCurrentLanguage();this._inputLanguage.value=t,this._storeInputLanguage(),e.preventDefault();break;default:this._popupCodeBlockLanguages.hide()}else e.which!==X.keyCode("ENTER")&&e.which!==X.keyCode("TAB")||(this._storeInputLanguage(),e.preventDefault())},t._onLanguageSelectedFromList=function(e){this._inputLanguage.value=e,this._storeInputLanguage()},t.setOnLanguageSelected=function(e){this._onLanguageSelected=e},t._hidePopupCodeBlockLanguages=function(){this._eventManager.emit("closePopupCodeBlockLanguages")},t.setLanguage=function(e){this._prevStoredLanguage=e,this._inputLanguage.value=e},t._storeInputLanguage=function(){var e=this._inputLanguage.value;this.setLanguage(e),this._onLanguageSelected&&this._onLanguageSelected(e),this._hidePopupCodeBlockLanguages()},t.getElement=function(){return this._wrapper},t._show=function(){h()(this._wrapper,{display:"inline-block"})},t._hide=function(){h()(this._wrapper,{display:"none"})},e}(),$n=function(e){var t,n;function r(t){var n='\n            <div class="popup-editor-body"></div>\n            <div class="te-button-section">\n                <button type="button" class="te-ok-button">'+Jt.get("OK")+'</button>\n                <button type="button" class="te-close-button">'+Jt.get("Cancel")+"</button>\n            </div>\n        ";return t=u()({header:!0,title:"CodeBlock Editor",content:n,className:"tui-popup-code-block-editor",headerButtons:'\n    <button type="button" class="popup-editor-toggle-scroll"></button>\n    <button type="button" class="popup-editor-toggle-preview"></button>\n    <button type="button" class="popup-editor-toggle-fit"></button>\n    <button type="button" class="tui-popup-close-button"></button>\n',modal:!0},t),e.call(this,t)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i._initInstance=function(t){e.prototype._initInstance.call(this,t),this.eventManager=t.eventManager,this.convertor=t.convertor,this.languages=t.languages},i._initDOM=function(t){e.prototype._initDOM.call(this,t);var n=this.el,r=this.eventManager;this._body=n.querySelector(".popup-editor-body"),this._toggleFitButton=n.querySelector(".popup-editor-toggle-fit"),this._togglePreviewButton=n.querySelector(".popup-editor-toggle-preview"),this._toggleScrollButton=n.querySelector(".popup-editor-toggle-scroll"),this._okButton=n.querySelector(".te-ok-button"),this._closeButton=n.querySelector(".te-close-button"),this._codeMirrorWrapper=this._createCodeBlockEditor(),this._previewWrapper=this._createPreview(),this._scrollSyncSplit=new Vn(this._body,this._codeMirrorWrapper,this._previewWrapper,{eventManager:r}),this._updateFitWindowButton(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockLanguagesCombo=this._createCodeBlockLanguagesCombo()},i._initDOMEvent=function(){var t=this;e.prototype._initDOMEvent.call(this),this.on("scroll",(function(e){return e.preventDefault()})),this.on("click .popup-editor-toggle-fit",(function(){return t._toggleFitToWindow()})),this.on("click .popup-editor-toggle-preview",(function(){return t._togglePreview()})),this.on("click .popup-editor-toggle-scroll",(function(){return t._toggleScroll()})),this.on("click .te-ok-button",(function(){return t._save()})),this.on("click .te-close-button",(function(){return t.hide()})),this.on("click .popup-editor-close",(function(){return t.hide()})),this.on("click .popup-editor-editor-wrapper",(function(e){e.target===t._codeMirrorWrapper&&t._focusEditor(!0)}))},i._initEditorEvent=function(){var t=this;e.prototype._initEditorEvent.call(this),this.eventManager.listen("openPopupCodeBlockEditor",(function(e){return t.eventManager.emit("closeAllPopup"),t.show(e),t})),this.eventManager.listen("closeAllPopup",this.hide.bind(this)),this.eventManager.listen("closePopupCodeBlockEditor",this.hide.bind(this))},i._createCodeBlockEditor=function(){var e=document.createElement("div");return e.className="popup-editor-editor-wrapper",this._codeBlockEditor=new Gn(e,this.eventManager),e},i._createPreview=function(){var e=document.createElement("div");return this._codeBlockPreview=new Yn(e,this.eventManager,this.convertor,this._codeBlockEditor),e},i._createCodeBlockLanguagesCombo=function(){var e=this,t=this.getTitleElement(),n=new Kn(this.eventManager,this.languages);return n.setOnLanguageSelected((function(t){e._codeBlockEditor.setLanguage(t),e._codeBlockEditor.refresh(),e._focusEditor()})),t.innerHTML="CodeBlock Editor",t.appendChild(n.getElement()),n},i._updateFitWindowButton=function(){ze.a.toggleClass(this._toggleFitButton,"active",this.isFitToWindow())},i._updatePreviewButton=function(){ze.a.toggleClass(this._togglePreviewButton,"active",this._scrollSyncSplit.isSplitView())},i._updateScrollButton=function(){this._scrollSyncSplit.isSplitView()?h()(this._toggleScrollButton,{display:"inline-block"}):h()(this._toggleScrollButton,{display:"none"}),ze.a.toggleClass(this._toggleScrollButton,"active",this._scrollSyncSplit.isScrollSynced())},i._focusEditor=function(e){this._codeBlockEditor.focus(),e?this._codeBlockEditor.moveCursorToEnd():this._codeBlockEditor.moveCursorToStart()},i._togglePreview=function(){this._scrollSyncSplit.toggleSplitView(),this._updatePreviewButton(),this._updateScrollButton(),this._codeBlockEditor.refresh()},i._toggleFitToWindow=function(){this.toggleFitToWindow(),this._updateFitWindowButton(),this._codeBlockEditor.refresh()},i._toggleScroll=function(){this._scrollSyncSplit.toggleScrollSync(),this._updateScrollButton()},i._save=function(){this._codeBlockEditor.save(this._codeBlockElement),this.hide()},i._load=function(e){this._codeBlockElement=e,this._codeBlockEditor.load(e),this._codeBlockLanguagesCombo.setLanguage(this._codeBlockEditor.getLanguage()),this._focusEditor(),this._codeBlockPreview.refresh()},i.show=function(t){if(e.prototype.show.call(this),!t)throw new Error("should be called with codeBlockElement");this._load(t)},i.hide=function(){this.setFitToWindow(!1),this._codeBlockEditor&&this._codeBlockEditor.clear(),this._codeBlockPreview&&this._codeBlockPreview.clear(),this._codeBlockElement=null,e.prototype.hide.call(this)},r}(kn);function Jn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn=['<div class="tui-editor-defaultUI">','<div class="te-toolbar-section"><div class="te-markdown-tab-section"></div></div>','<div class="te-editor-section"></div>','<div class="te-mode-switch-section"></div>',"</div>"].join(""),Qn=function(){function e(e){Jn(this,"name","default"),Jn(this,"el",void 0),Jn(this,"_toolbar",void 0),Jn(this,"_container",void 0),Jn(this,"_editorSection",void 0),Jn(this,"_initialEditType",void 0),Jn(this,"_editor",void 0),Jn(this,"_markdownTabSection",void 0),Jn(this,"_markdownTab",void 0),Jn(this,"_modeSwitch",void 0),Jn(this,"_popups",[]),this._editor=e,this._initialEditType=e.options.initialEditType,this._init(e.options),this._initEvent()}var t=e.prototype;return t._init=function(e){var t=e.el,n=e.toolbarItems,r=e.hideModeSwitch;this.el=ze.a.createElementWith(Zn,t),this._container=t,this._editorSection=this.el.querySelector(".te-editor-section"),this._editorSection.appendChild(this._editor.layout.getEditorEl()),this._initToolbar(this._editor.eventManager,n),this._initModeSwitch(this._editor.eventManager,r),this._initPopupAddLink(),this._initPopupAddImage(),this._initPopupAddTable(),this._initPopupAddHeading(),this._initPopupTableUtils(),this._initPopupCodeBlockLanguages(),this._initPopupCodeBlockEditor(),this._initMarkdownTab()},t._initEvent=function(){this._editor.eventManager.listen("hide",this.hide.bind(this)),this._editor.eventManager.listen("show",this.show.bind(this)),this._editor.eventManager.listen("changeMode",this._markdownTabControl.bind(this)),this._editor.eventManager.listen("changePreviewStyle",this._markdownTabControl.bind(this))},t._initToolbar=function(e,t){var n=new Pn(e,t);this._toolbar=n,this.el.querySelector(".te-toolbar-section").appendChild(n.el)},t._initModeSwitch=function(e,t){var n=this,r=this.el.querySelector(".te-mode-switch-section"),i="markdown"===this._initialEditType?Ln.TYPE.MARKDOWN:Ln.TYPE.WYSIWYG,o=new Ln(r,i,e);this._modeSwitch=o,t&&o.hide(),o.on("modeSwitched",(function(e){return n._editor.changeMode(e)}))},t._initMarkdownTab=function(){var e=this._editor;this._markdownTab=new Dn({initName:Jt.get("Write"),items:[Jt.get("Write"),Jt.get("Preview")],sections:[e.layout.getMdEditorContainerEl(),e.layout.getPreviewEl()]}),this._markdownTabSection=this.el.querySelector(".te-markdown-tab-section"),this._markdownTabSection.appendChild(this._markdownTab.el),this._markdownTab.on("itemClick",(function(t){t===Jt.get("Preview")?(e.eventManager.emit("previewNeedsRefresh"),e.eventManager.emit("changePreviewTabPreview"),e.eventManager.emit("closeAllPopup")):(e.getCodeMirror().focus(),e.eventManager.emit("changePreviewTabWrite"))}))},t._markdownTabControl=function(){this._editor.isMarkdownMode()&&"tab"===this._editor.getCurrentPreviewStyle()?(h()(this._markdownTabSection,{display:"block"}),this._markdownTab.activate(Jt.get("Write"))):h()(this._markdownTabSection,{display:"none"})},t._initPopupAddLink=function(){this._popups.push(new An({target:this.el,editor:this._editor}))},t._initPopupAddImage=function(){this._popups.push(new Fn({target:this.el,eventManager:this._editor.eventManager}))},t._initPopupAddTable=function(){this._popups.push(new zn({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-table"),css:{position:"absolute"}}))},t._initPopupAddHeading=function(){this._popups.push(new qn({target:this._toolbar.el,eventManager:this._editor.eventManager,button:this.el.querySelector("button.tui-heading"),css:{position:"absolute"}}))},t._initPopupTableUtils=function(){var e=this;this._editor.eventManager.listen("contextmenu",(function(t){ze.a.parents(t.data.target,"[contenteditable=true] table").length>0&&(t.data.preventDefault(),e._editor.eventManager.emit("openPopupTableUtils",t.data))})),this._popups.push(new Bn({target:this.el,eventManager:this._editor.eventManager}))},t._initPopupCodeBlockLanguages=function(){var e=this._editor;this._popups.push(new Xn({target:this.el,eventManager:e.eventManager,languages:e.codeBlockLanguages}))},t._initPopupCodeBlockEditor=function(){this._popups.push(new $n({target:this.el,eventManager:this._editor.eventManager,convertor:this._editor.convertor,languages:this._editor.codeBlockLanguages}))},t.getToolbar=function(){return this._toolbar},t.setToolbar=function(e){this._toolbar.destroy(),this._toolbar=e},t.getModeSwitch=function(){return this._modeSwitch},t.getEditorSectionHeight=function(){var e=this._editorSection.getBoundingClientRect();return e.bottom-e.top},t.getEditorHeight=function(){var e=this._container.getBoundingClientRect();return e.bottom-e.top},t.getPopupTableUtils=function(){var e;return this._popups.forEach((function(t){t instanceof Bn&&(e=t)})),e},t.hide=function(){f()(this.el,"te-hide")},t.show=function(){g()(this.el,"te-hide")},t.remove=function(){ze.a.remove(this.el),this._markdownTab.remove(),this._modeSwitch.remove(),this._toolbar.destroy(),this._popups.forEach((function(e){return e.remove()})),this._popups=[],pn.hide()},t.createPopup=function(e){return new kn(e)},e}(),er=n(30),tr=n(32),nr=n.n(tr);function rr(e,t,n){var r,i=t.match(/^(\s*)((?:.|\n)*\S)(\s*)$/m),o=i[1],a=i[2],s=i[3];if(function(e){var t=ze.a.isElemNode,n=ze.a.isTextNode,r=n(e.previousSibling)&&t(e.firstChild),i=n(e.nextSibling)&&t(e.lastChild);return!r&&!i}(e))r=""+n+a+n;else{var l=e.nodeName.toLowerCase();r="<"+l+">"+a+"</"+l+">"}return""+o+r+s}var ir=nr.a.Renderer.factory(nr.a.gfmRenderer,{"EM, I":function(e,t){return this.isEmptyText(t)?"":rr(e,t,"*")},"STRONG, B":function(e,t){return this.isEmptyText(t)?"":rr(e,t,"**")},"DEL, S":function(e,t){return this.isEmptyText(t)?"":rr(e,t,"~~")}}),or=n(31),ar=function(e,t){var n=t.length;return e.substr(n,e.length-2*n)},sr=function(e,t){return""+t+e+t},lr=function(e,t,n,r,i){var o=function(e,t){var n,r=e.start,i=e.end;return r.ch>=t&&(n={from:{line:r.line,ch:r.ch-t},to:{line:i.line,ch:i.ch+t}}),n}(t,n),a=!1;if(o){var s=o.from,l=o.to,c=e.getRange(s,l);r(c)&&(e.setSelection(s,l),e.replaceSelection(i(c),"around"),a=!0)}return a},cr=function(e,t,n,r){var i=!1;return n(t)&&(e.replaceSelection(r(t),"around"),i=!0),i},ur=function(e,t,n,r,i){var o=e.getCursor(),a=o.line,s=o.ch,l=e.getSelection(),c=n.length,u=function(e){return r.test(e)};if(!lr(e,t,c,u,(function(e){return ar(e,n)}))&&!cr(e,l,u,(function(e){return ar(e,n)}))){var d=l.replace(i,"$1");e.replaceSelection(sr(d,n),"around")}var h=e.getSelection(),p=s;l||(u(h)?p+=c:p-=c,e.setCursor(a,p))},dr=/^(\*{2}|_{2}).*\1$/,hr=/[*_]{2,}([^*_]*)[*_]{2,}/g,pr=Ut.a.command("markdown",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getRange();ur(n,r,"**",dr,hr),t.focus()}}),fr=/^(\*{3}|_{3}).*\1$/,mr=/^(\*{2}|_{2}).*\1$/,gr=/^(\*|_).*\1$/,vr=/([^*_])[*_]([^*_]+)[*_]([^*_])/g,_r=function(e){return fr.test(e)},yr=function(e){return mr.test(e)},br=function(e){return gr.test(e)},Cr="*".length,wr="**".length,Sr="***".length,xr=function(e){return e?e.replace(vr,"$1$2$3"):""},kr=Ut.a.command("markdown",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=n.getCursor(),i=r.line,o=r.ch,a=e.getRange(),s=n.getSelection();if(s)(function(e,t,n){var r=lr.bind(this,e,n);return r(Sr,_r,(function(e){return ar(e,"*")}))||r(wr,yr,(function(e){return sr(xr(e),"*")}))||r(Cr,br,(function(e){return ar(e,"*")}))||cr(e,t,_r,(function(e){return ar(e,"*")}))||cr(e,t,yr,(function(e){return sr(xr(e),"*")}))||cr(e,t,br,(function(e){return ar(e,"*")}))})(n,s,a)||n.replaceSelection(sr(xr(s),"*"),"around");else{!function(e,t){lr(e,t,Sr,_r,(function(e){return ar(e,"*")}))||lr(e,t,wr,yr,(function(e){return sr(e,"*")}))||lr(e,t,Cr,br,(function(){return""}))||e.replaceSelection("**","around")}(n,a);var l=n.getSelection(),c=o;_r(l)||br(l)&&!yr(l)?c+=Cr:c-=Cr,n.setCursor(i,c)}t.focus()}}),Er=/^~~.*~~$/,Tr=/~~([^~]*)~~/g,jr=Ut.a.command("markdown",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getRange();ur(n,r,"~~",Er,Tr),t.focus()}}),Or=/^> ?/,Pr=Ut.a.command("markdown",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t,n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:0},a={line:i.to.line,ch:r.getLineHandle(i.to.line).text.length},s=r.getRange(o,a).split("\n"),l=this._haveBlockquote(s);if(t=l?this._removeBlockquote(s):this._addBlockquote(s),r.replaceRange(t.join("\n"),o,a),l){var c=s.length;this._isBlockquoteWithSpace(s[c-1])?i.to.ch-=2:i.to.ch-=1}else i.to.ch+=2;r.setCursor(i.to),n.focus()},_haveBlockquote:function(e){for(var t=0;t<e.length;t+=1)if(!Or.test(e[t]))return!1;return!0},_addBlockquote:function(e){return e.map((function(e){return"> "+e}))},_removeBlockquote:function(e){return e.map((function(e){return e.replace(Or,"")}))},_isBlockquoteWithSpace:function(e){return/^> /.test(e)}}),Dr=/^#+\s/g,Mr=Ut.a.command("markdown",{name:"Heading",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:0},a={line:i.to.line,ch:r.getLineHandle(i.to.line).text.length},s=r.getLine(a.line).length,l=r.getRange(o,a).split("\n");Ee()(l).forEach((function(e,n){l[n]=function(e,t){var n=e.match(Dr),r="";do{r+="#",t-=1}while(t>0);if(n){var i=e.split(n[0]);e=i[1]}return r+" "+e}(e,t)})),r.replaceRange(l.join("\n"),o,a),i.to.ch+=r.getLine(a.line).length-s,r.setSelection(o,i.to),n.focus()}}),Ir=Ut.a.command("markdown",{name:"Paragraph",exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i={line:r.from.line,ch:0},o={line:r.to.line,ch:n.getLineHandle(r.to.line).text.length},a=n.getLine(o.line).length,s=n.getRange(i,o).split("\n");Ee()(s).forEach((function(e,t){s[t]=e.replace(/^(#{1,6}| *((?:\*|-|\d\.)(?: \[[ xX]])?)) /,"")})),n.replaceRange(s.join("\n"),i,o),r.to.ch+=n.getLine(o.line).length-a,n.setSelection(i,o),t.focus()}}),Rr=Ut.a.command("markdown",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r="",i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch};i.collapsed&&(r=n.getLine(o.line),o.ch=0,a.ch=n.getLineHandle(i.to.line).text.length),n.getLine(o.line).length?r+="\n\n* * *\n\n":r+="\n* * *\n",n.replaceRange(r,o,a),t.focus()}}),Lr=Gt.decodeURIGraceful,Nr=Gt.encodeMarkdownCharacters,Ar=Gt.escapeMarkdownCharacters,Fr=Ut.a.command("markdown",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},s=t.linkText,l=t.url;s=Lr(s);var c="["+(s=Ar(s))+"]("+(l=Nr(l))+")";r.replaceRange(c,o,a),n.focus()}}),Br=Gt.decodeURIGraceful,Hr=Gt.encodeMarkdownCharacters,zr=Gt.escapeMarkdownCharacters,qr=Ut.a.command("markdown",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=n.getDoc(),i=e.getCurrentRange(),o={line:i.from.line,ch:i.from.ch},a={line:i.to.line,ch:i.to.ch},s=t.altText,l=t.imageUrl;s=Br(s);var c="!["+(s=zr(s))+"]("+(l=Hr(l))+")";r.replaceRange(c,o,a,"+addImage"),n.focus()}}),Ur=Ut.a.command("markdown",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"ul")}}),Xr=Ut.a.command("markdown",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"ol")}}),Wr=Ut.a.command("markdown",{name:"Indent",exec:function(e){e.getEditor().execCommand("indentOrderedList")}}),Vr=Ut.a.command("markdown",{name:"Outdent",exec:function(e){e.getEditor().execCommand("indentLessOrderedList")}}),Gr=Ut.a.command("markdown",{name:"Table",exec:function(e,t,n,r){var i=e.getEditor(),o=i.getDoc(),a="\n";i.getCursor().ch>0&&(a+="\n"),a+=function(e,t){for(var n="|",r="|",i=0;e;)t?(n+=" "+t[i]+" |",i+=1):n+="  |",r+=" --- |",e-=1;return n+"\n"+r+"\n"}(t,r),a+=function(e,t,n){for(var r="",i=e,o=0;o<t;o+=1){r+="|";for(var a=0;a<e;a+=1)n?(r+=" "+n[i]+" |",i+=1):r+="  |";r+="\n"}return r=r.replace(/\n$/g,"")}(t,n-1,r),o.replaceSelection(a),r||i.setCursor(i.getCursor().line-n,2),e.focus()}}),Yr=Ut.a.command("markdown",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getCurrentRange();e.componentManager.getManager("list").changeSyntax(t,"task")}}),Kr=/^`([^`]+)`$/,$r=/`([^`]+)`/g,Jr=Ut.a.command("markdown",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t,n=e.getEditor(),r=n.getDoc(),i=r.getSelection(),o=n.getCursor(),a=this.hasStrikeSyntax(i);a?(t=this.remove(i),t=this._removeCodeSyntax(t)):(t=this._removeCodeSyntax(i),t=this.append(t)),r.replaceSelection(t,"around"),i||a||this.setCursorToCenter(r,o,a),n.focus()},setCursorToCenter:function(e,t,n){var r=n?-1:1;e.setCursor(t.line,t.ch+r)},hasStrikeSyntax:function(e){return Kr.test(e)},append:function(e){return"`"+e+"`"},remove:function(e){return e.substr(1,e.length-2)},_removeCodeSyntax:function(e){return e?e.replace($r,"$1"):""}}),Zr=Ut.a.command("markdown",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e){var t=e.getEditor(),n=t.getDoc(),r=e.getCurrentRange(),i=["```",n.getSelection(),"```"],o=1;0!==r.from.ch&&(i.unshift(""),o+=1),r.to.ch!==n.getLine(r.to.line).length&&i.push(""),n.replaceSelection(i.join("\n")),t.setCursor(r.from.line+o,0),t.focus()}});function Qr(e){e.hasFormat("b")||e.hasFormat("strong")?e.changeFormat(null,{tag:"b"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.bold())}var ei=Ut.a.command("wysiwyg",{name:"Bold",keyMap:["CTRL+B","META+B"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(Qr);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else Qr(t),ze.a.optimizeRange(t.getSelection(),"B")}});function ti(e){e.hasFormat("i")||e.hasFormat("em")?e.changeFormat(null,{tag:"i"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.italic())}var ni=Ut.a.command("wysiwyg",{name:"Italic",keyMap:["CTRL+I","META+I"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(ti);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else ti(t),ze.a.optimizeRange(t.getSelection(),"I")}});function ri(e){e.hasFormat("S")?e.changeFormat(null,{tag:"S"}):e.hasFormat("PRE")||(e.hasFormat("code")&&e.changeFormat(null,{tag:"code"}),e.strikethrough())}var ii=Ut.a.command("wysiwyg",{name:"Strike",keyMap:["CTRL+S","META+S"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection");if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(ri);var r=t.getSelection();r.collapse(!0),t.setSelection(r)}else ri(t),ze.a.optimizeRange(t.getSelection(),"S")}}),oi=Ut.a.command("wysiwyg",{name:"Blockquote",keyMap:["ALT+Q","ALT+Q"],exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||(t.hasFormat("BLOCKQUOTE")?t.decreaseQuoteLevel():t.increaseQuoteLevel())}}),ai=Gt.decodeURIGraceful,si=Gt.encodeMarkdownCharacters,li=Ut.a.command("wysiwyg",{name:"AddImage",exec:function(e,t){var n=e.getEditor(),r=t.altText,i=t.imageUrl;r=ai(r),i=si(i),e.focus(),n.hasFormat("PRE")||n.insertImage(i,{alt:r})}}),ci=Gt.decodeURIGraceful,ui=Gt.encodeMarkdownCharacters,di=Ut.a.command("wysiwyg",{name:"AddLink",exec:function(e,t){var n=e.getEditor(),r=e.getLinkAttribute(),i=t.url,o=t.linkText;if(o=ci(o),i=ui(i),e.focus(),!n.hasFormat("PRE"))if(n.removeAllFormatting(),n.getSelectedText())n.makeLink(i,r);else{var a=n.createElement("A",u()({href:i},r));a.textContent=o,n.insertElement(a)}}}),hi=Ut.a.command("wysiwyg",{name:"HR",keyMap:["CTRL+L","META+L"],exec:function(e){var t=e.getEditor(),n=t.getSelection();if(n.collapsed&&!t.hasFormat("TABLE")&&!t.hasFormat("PRE")){var r=document.createElement("hr"),i=ze.a.getChildNodeByOffset(n.startContainer,n.startOffset),o=ze.a.getTopNextNodeUnder(i,e.getBody());if(o&&!ze.a.isTextNode(o))for(;o&&"false"===o.getAttribute("contenteditable");)o=o.nextSibling;o||(o=ze.a.createEmptyLine(),ze.a.append(e.getBody(),o)),t.modifyBlocks((function(e){return e.appendChild(r),e}));var a=r.previousSibling;a&&ze.a.isTextNode(a)&&0===ze.a.getTextLength(a)&&r.parentNode.removeChild(a),r.parentNode.replaceChild(ze.a.createHorizontalRule(),r),n.selectNodeContents(o),n.collapse(!0),t.setSelection(n),t.saveUndoState(n)}e.focus()}}),pi=Ut.a.command("wysiwyg",{name:"Heading",exec:function(e,t){var n=e.getEditor();e.focus(),n.hasFormat("TABLE")||n.hasFormat("PRE")||n.modifyBlocks((function(e){var n=ze.a.children(e,"h1, h2, h3, h4, h5, h6, div");return Ee()(n).forEach((function(e){var n="h"+t;if("DIV"===ze.a.getNodeName(e))ze.a.wrap(e,n);else{var r=document.createElement(n);ze.a.insertBefore(r,e),r.innerHTML=e.innerHTML,ze.a.remove(e)}})),e}))}});function fi(e,t){Ee()(t).forEach((function(t){e.appendChild(t.cloneNode(!0))}))}var mi=Ut.a.command("wysiwyg",{name:"Paragraph",exec:function(e){var t=e.getEditor();e.focus(),t.hasFormat("TABLE")||t.hasFormat("PRE")||t.modifyBlocks((function(e){var t=document.createDocumentFragment();return Ee()(e.childNodes).forEach((function(e){e.nodeName.match(/h\d/i)?fi(t,e.children):e.nodeName.match(/ul|ol/i)?ze.a.findAll(e,"li").forEach((function(e){fi(t,e.children)})):t.appendChild(e)})),t}))}}),gi=Ut.a.command("wysiwyg",{name:"UL",keyMap:["CTRL+U","META+U"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"UL");else for(var c=r.getLinesOfSelection(i,o),u=0;u<c.length;u+=1){var d=this._changeFormatToUnorderedListIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,o,a,s,l)},_changeFormatToUnorderedListIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("LI")?(e.saveSelection(i),o.unformatTask(i.startContainer),r.replaceParent(i.startContainer,"ol","ul"),e.restoreSavedSelection()):(e.unwrapBlockTag(),r.makeUnorderedList()),n=r.getSelection().startContainer),n}}),vi=Ut.a.command("wysiwyg",{name:"OL",keyMap:["CTRL+O","META+O"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.startOffset,a=n.endContainer,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"OL");else for(var c=r.getLinesOfSelection(i,a),u=0;u<c.length;u+=1){var d=this._changeFormatToOrderedListIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,a,o,s,l)},_changeFormatToOrderedListIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("LI")?(e.saveSelection(i),o.unformatTask(i.startContainer),r.replaceParent(i.startContainer,"ul","ol"),e.restoreSavedSelection()):(e.unwrapBlockTag(),r.makeOrderedList()),n=r.getSelection().startContainer),n}}),_i=Ut.a.command("wysiwyg",{name:"Table",exec:function(e,t,n,r){var i,o=e.getEditor(),a=e.componentManager.getManager("table").getTableIDClassName();!o.getSelection().collapsed||o.hasFormat("TABLE")||o.hasFormat("PRE")?e.focus():(i='<table class="'+a+'">',i+=function(e,t){for(var n="<thead><tr>",r=0;e;)n+="<th>",t&&(n+=t[r],r+=1),n+="</th>",e-=1;return n+="</tr></thead>"}(t,r),i+=function(e,t,n){for(var r="<tbody>",i=e,o=0;o<t;o+=1){r+="<tr>";for(var a=0;a<e;a+=1)r+="<td>",n&&(r+=n[i],i+=1),r+="</td>";r+="</tr>"}return r+="</tbody>"}(t,n-1,r),i+="</table>",o.insertHTML(i),e.focus(),r||function(e,t){var n=e.getSelection();n.selectNodeContents(t.querySelector("th")),n.collapse(!0),e.setSelection(n)}(o,e.getBody().querySelector("."+a)))}});function yi(e){var t=e.cloneNode(!0),n=Re.a.msie?"":"<br />";return ze.a.findAll(t,"td").forEach((function(e){e.innerHTML=n})),t}function bi(e,t){var n=e.getSelection();n.selectNodeContents(t.querySelector("td")),n.collapse(!0),e.setSelection(n)}var Ci=Ut.a.command("wysiwyg",{name:"AddRow",exec:function(e){var t,n,r=e.getEditor(),i=r.getSelection().cloneRange(),o=function(e){var t=e.componentManager.getManager("tableSelection"),n=t.getSelectedCells(),r=1;if(n.length>1){var i=n[0],o=n[n.length-1],a=t.getSelectionRangeFromTable(i,o);r=a.to.row-a.from.row+1}return r}(e);if(e.focus(),r.hasFormat("TD")){r.saveUndoState(i),t=ze.a.closest(i.startContainer,"tr");for(var a=0;a<o;a+=1)n=yi(t),ze.a.insertAfter(n,t);bi(r,n)}else if(r.hasFormat("TH")){r.saveUndoState(i),t=ze.a.closest(i.startContainer,"tr");var s=ze.a.parents(t,"thead")[0].nextSibling;Ue()(s,"tbody")&&(t=ze.a.children(s,"tr")[0]);for(var l=0;l<o;l+=1)n=yi(t),ze.a.insertBefore(n,t);bi(r,n)}}}),wi=Ut.a.command("wysiwyg",{name:"AddCol",exec:function(e){var t,n=e.getEditor(),r=n.getSelection().cloneRange(),i=function(e){var t=e.componentManager.getManager("tableSelection").getSelectedCells(),n=1;if(t.length>0){var r=t[0].parentNode.querySelectorAll("td, th").length;n=Math.min(r,t.length)}return n}(e);e.focus(),n.hasFormat("TR")&&(n.saveUndoState(r),function(e,t){void 0===t&&(t=1);var n=ze.a.parents(e,"table")[0];if(n){var r,i=Wt()(e,Ee()(e.parentNode.childNodes));ze.a.findAll(n,"tr").forEach((function(e){for(var n="TBODY"===ze.a.getNodeName(e.parentNode),o=Re.a.msie,a=e.children[i],s=0;s<t;s+=1)r=n?document.createElement("td"):document.createElement("th"),o||r.appendChild(document.createElement("br")),ze.a.insertAfter(r,a)}))}}(t=function(e){var t=e.startContainer;return"TD"!==ze.a.getNodeName(t)&&"TH"!==ze.a.getNodeName(t)&&(t=ze.a.parentsUntil(t,"tr")),t}(r),i),function(e,t){var n=e.getSelection();n.selectNodeContents(t.nextSibling),n.collapse(!0),e.setSelection(n)}(n,t))}});function Si(e,t,n){var r=n.querySelectorAll("tbody tr").length,i=ze.a.parents(e,"thead").length,o=t.from.row,a=t.to.row;return i&&(o+=1),(1===o||i)&&a===r&&(a-=1),ze.a.findAll(n,"tr").slice(o,a+1)}var xi=Ut.a.command("wysiwyg",{name:"RemoveRow",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=ze.a.parents(n.startContainer,"table")[0],i=e.componentManager.getManager("tableSelection"),o=e.componentManager.getManager("table"),a=function(e,t,n){var r,i,o=t.getSelectedCells();if(o.length)r=t.getSelectionRangeFromTable(o[0],o[o.length-1]),i=Si(o[0],r,n);else{var a=ze.a.closest(e.startContainer,"td,th");r=t.getSelectionRangeFromTable(a,a),i=Si(a,r,n)}return i}(n,i,r),s=r.querySelectorAll("tbody tr").length;if(e.focus(),(t.hasFormat("TD")||t.hasFormat("TABLE"))&&s>1){t.saveUndoState(n);var l=a[0],c=a[a.length-1],u=c&&c.nextSibling?c.nextSibling:l&&l.previousSibling;u&&function(e,t,n,r){var i=n.querySelector("td");t.setStart(i,0),t.collapse(!0),r.setLastCellNode(i),e.setSelection(t)}(t,n,u,o),a.forEach((function(e){return ze.a.remove(e)}))}i.removeClassAttrbuteFromAllCellsIfNeed()}});function ki(e){var t=ze.a.parents(e,"table")[0];if(t){var n=Wt()(e,Ee()(e.parentNode.childNodes));ze.a.findAll(t,"tr").forEach((function(e){var t=e.children[n];ze.a.remove(t)}))}}var Ei=Ut.a.command("wysiwyg",{name:"RemoveCol",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange(),r=ze.a.parents(n.startContainer,"table")[0],i=e.componentManager.getManager("table"),o=e.componentManager.getManager("tableSelection"),a=ze.a.closest(n.startContainer,"table").querySelectorAll("thead tr th").length>1;if(e.focus(),n.collapse(!0),t.setSelection(n),t.hasFormat("TR",null,n)&&a){var s=r.querySelectorAll("tbody tr"),l=s.length?s[0].querySelectorAll("td").length:0,c=o.getSelectedCells();if(c.length<l){var u;if(t.saveUndoState(n),c.length>1){var d=c[c.length-1],h=c[0];u=d.nextSibling?d.nextSibling:h.previousSibling,function(e){for(var t=e.length,n=0;n<t;n+=1)e[n]&&ki(e[n])}(c)}else{var p=function(e){var t=e.startContainer;return"TD"!==ze.a.getNodeName(t)&&"TH"===!ze.a.getNodeName(t)&&(t=ze.a.parentsUntil(t,"tr")),t}(n);u=p.nextSibling?p.nextSibling:p.previousSibling,ki(p)}!function(e,t,n){var r=t;if(t&&ze.a.isContain(document.body,t)){var i=e.getSelection();i.selectNodeContents(t),i.collapse(!0),e.setSelection(i),n.setLastCellNode(r)}}(t,u,i)}}}}),Ti=Ut.a.command("wysiwyg",{name:"AlignCol",exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange(),i=e.componentManager.getManager("tableSelection"),o=function(e,t){var n,r,i=t.getSelectedCells();if(i.length)n=t.getSelectionRangeFromTable(i[0],i[i.length-1]);else{var o=e.startContainer;r=ze.a.isTextNode(o)?ze.a.parent(o,"td,th"):o,n=t.getSelectionRangeFromTable(r,r)}return n}(r,i);if(e.focus(),n.hasFormat("TR")){n.saveUndoState(r);var a=ze.a.parents(r.startContainer,"table")[0],s=function(e,t){var n,r,i,o=e.querySelectorAll("tr"),a=o.length?o[0].querySelectorAll("td,th").length:0,s=t.from,l=t.to;return s.row===l.row?(n=s.cell,r=l.cell):s.row<l.row&&(s.cell<=l.cell?(n=0,r=a-1):(n=s.cell,r=l.cell,i=!0)),{startColumnIndex:n,endColumnIndex:r,isDivided:i}}(a,o);!function(e,t,n){var r=n.isDivided||!1,i=n.startColumnIndex,o=n.endColumnIndex,a=ze.a.findAll(e,"tr"),s=a.length?a[0].querySelectorAll("td,th").length:0;a.forEach((function(e){Ee()(ze.a.children(e,"td,th")).forEach((function(e,n){(r&&(i<=n&&n<=s||n<=o)||i<=n&&n<=o)&&e.setAttribute("align",t)}))}))}(a,t,s)}i.removeClassAttrbuteFromAllCellsIfNeed()}}),ji=Ut.a.command("wysiwyg",{name:"RemoveTable",exec:function(e){var t=e.getEditor(),n=t.getSelection().cloneRange();t.hasFormat("TABLE")&&(t.saveUndoState(n),ze.a.remove(ze.a.closest(n.startContainer,"table"))),e.focus()}}),Oi=Ut.a.command("wysiwyg",{name:"Indent",exec:function(e){var t,n,r,i=e.componentManager.getManager("list"),o=e.getEditor().getSelection(),a=ze.a.closest(o.startContainer,"li"),s=a&&a.previousSibling;if(s){var l=a.querySelector("li");e.getEditor().saveUndoState(),n=a.className,t=s.className,a.className="",s.className="",l&&(r=l.className,Ee()(l.children).filter((function(e){return Ue()(e,"div")})).length||(l.className="")),e.getEditor().increaseListLevel(),i.mergeList(a),a.className=n,s.className=t,l&&(l.className=r)}}});function Pi(e){var t=e.getEditor().getSelection();return ze.a.closest(t.startContainer,"li")}var Di=Ut.a.command("wysiwyg",{name:"Outdent",exec:function(e){var t=Pi(e);if(t&&function(e){var t=ze.a.getNodeName(e.nextSibling);return"OL"!==t&&"UL"!==t}(t)){e.getEditor().saveUndoState();var n=t.className;e.getEditor().decreaseListLevel(),(t=Pi(e))&&n&&(t.className=n)}}}),Mi=Ut.a.command("wysiwyg",{name:"Task",keyMap:["ALT+T","ALT+T"],exec:function(e){var t=e.getEditor(),n=t.getSelection(),r=e.componentManager.getManager("list"),i=n.startContainer,o=n.endContainer,a=n.startOffset,s=n.endOffset,l=[];if(e.focus(),t.saveUndoState(n),r.isAvailableMakeListInTable())l=r.createListInTable(n,"TASK");else for(var c=r.getLinesOfSelection(i,o),u=0;u<c.length;u+=1){var d=this._changeFormatToTaskIfNeed(e,c[u]);d&&l.push(d)}l.length&&r.adjustRange(i,o,a,s,l)},_changeFormatToTaskIfNeed:function(e,t){var n,r=e.getEditor(),i=r.getSelection(),o=e.componentManager.getManager("task");return r.hasFormat("PRE")||(i.setStart(t,0),i.collapse(!0),r.setSelection(i),r.hasFormat("li")||(r.makeUnorderedList(),t=r.getSelection().startContainer),Qe()(t,"task-list-item")?o.unformatTask(t):o.formatTask(t),n=r.getSelection().startContainer),n}});function Ii(e,t){if(!t.hasFormat("PRE")&&t.hasFormat("code"))t.changeFormat(null,{tag:"code"}),function(e){"CODE"===ze.a.getNodeName(e.startContainer.nextSibling)&&0===ze.a.getTextLength(e.startContainer.nextSibling)&&ze.a.remove(e.startContainer.nextSibling)}(e.getSelection().cloneRange());else if(!t.hasFormat("a")&&!t.hasFormat("PRE")){t.hasFormat("b")?t.removeBold():t.hasFormat("i")&&t.removeItalic(),t.changeFormat({tag:"code"});var n=t.getSelection().cloneRange();n.setStart(n.endContainer,n.endOffset),n.collapse(!0),t.setSelection(n)}}var Ri=Ut.a.command("wysiwyg",{name:"Code",keyMap:["SHIFT+CTRL+C","SHIFT+META+C"],exec:function(e){var t=e.getEditor(),n=e.componentManager.getManager("tableSelection"),r=Ii.bind(null,e.getEditor());if(e.focus(),t.hasFormat("table")&&n.getSelectedCells().length){n.styleToSelectedCells(r);var i=t.getSelection();i.collapse(!0),t.setSelection(i)}else r(t)}}),Li=Ut.a.command("wysiwyg",{name:"CodeBlock",keyMap:["SHIFT+CTRL+P","SHIFT+META+P"],exec:function(e,t){var n=e.getEditor(),r=n.getSelection().cloneRange();if(!n.hasFormat("PRE")&&!n.hasFormat("TABLE")){var i='data-te-codeblock class = "te-content-codeblock-temp"';t&&(i+=' data-language="'+t+'"');var o=function(e,t){var n,r=t.componentManager.getManager("codeblock");if(e.collapsed)n="<br>";else{var i=e.extractContents(),o=Ee()(i.childNodes),a=document.createElement("div");a.appendChild(r.prepareToPasteOnCodeblock(o)),n=a.innerHTML}return n}(r,e);n.insertHTML("<pre "+i+">"+o+"</pre>"),function(e,t){var n=t.getEditor().getSelection().cloneRange();g()(e,"te-content-codeblock-temp"),n.setStartBefore(e.firstChild),n.collapse(!0),t.getEditor().setSelection(n)}(e.getBody().querySelector(".te-content-codeblock-temp"),e)}e.focus()}}),Ni=null,Ai=null;function Fi(e,t){var n=t.syncScrollTop,r=t.releaseEventBlock;clearTimeout(Ai),n(e),Ai=setTimeout((function(){r()}),15)}function Bi(e,t,n){var r=t-e,i=Date.now();!function o(){var a,s=(Date.now()-i)/200;Ni&&clearTimeout(Ni),s<1?(a=e+r*Math.cos((1-s)*Math.PI/2),Fi(Math.ceil(a),n),Ni=setTimeout(o,1)):(Fi(t,n),Ni=null)}()}var Hi=n(18),zi=n(24),qi=!1,Ui=null;function Xi(e,t){var n=Object(zi.a)(t),r=n||e.offsetHeight;return n||Object(zi.d)(t,r),r}function Wi(e,t,n){var r=t._previewContent,i=t.el,o=e.cm,a=e.toastMark,s=o.getScrollInfo(),l=s.left,c=s.top,u=s.height-c<=s.clientHeight,d=i.scrollTop,h=u?i.scrollHeight:0;if(c&&!u){var p=(n?o.coordsChar({left:l,top:c},"local"):o.getCursor("from")).line,f=a.findFirstNodeAtLine(p+1);if(!f||Object(ae.g)(f))return;var m=Object(Hi.f)(f),g=m.node,v=m.mdNode,_=Object(ae.f)(v),y=Xi(i,0);if(h=Object(Hi.g)(g,r)||g.offsetTop,n){if(Object(Hi.h)(v)){var b=Xi(g,v.id),C=o.heightAtLine(_-1,"local"),w=Object(Hi.c)(v,o);h+=Object(Hi.b)(c,C,w,b);var S={latestScrollTop:Ui,scrollTop:c,targetScrollTop:h,sourceScrollTop:d};if(h=Object(Hi.d)(S),Ui=c,h===d)return}}else{var x=function(e,t,n,r,i){var o=Object(ae.f)(n),a=e.lineInfo(t).handle.height,s=Xi(i,0),l=r.getBoundingClientRect().top-i.getBoundingClientRect().top,c=.5*-s;if(Object(ae.j)(n)){var u=(t-o+1)*a;c=u,l+=u}return{top:l,additionalScrollTop:c}}(o,p,v,g,i),k=x.top,E=x.additionalScrollTop;if(k>0&&k<y)return;h+=E,Ui=null}}qi=!0,Bi(d,h,{syncScrollTop:function(e){return i.scrollTop=e},releaseEventBlock:function(){return qi=!1}})}var Vi=!1,Gi=null;function Yi(e,t,n){var r=e.toastMark,i=e.cm,o=t.el,a=o.scrollTop,s=o.clientHeight,l=o.scrollHeight,c=t._previewContent,u=l-a<=s,d=i.getScrollInfo(),h=d.left,p=d.top,f=d.height,m=u?f:0;if(a&&n&&!u){if(!(n=function(e,t){for(;!e.getAttribute("data-nodeid")&&e.parentElement!==t;)e=e.parentElement;return e}(n,c)).getAttribute("data-nodeid"))return;var g=i.coordsChar({left:h,top:p},"local").line,v=Number(n.getAttribute("data-nodeid")),_=Object(Hi.f)(r.findNodeById(v)),y=_.mdNode,b=_.node,C=Object(ae.f)(y);if(m=i.heightAtLine(C-1,"local"),Object(ae.i)(y)&&(m+=Object(Hi.e)(i,C,g)),Object(Hi.h)(y)){var w=Object(Hi.c)(y,i),S=function(e,t,n){var r=Object(zi.a)(t),i=Object(zi.b)(t),o=r||e.offsetHeight,a=i||Object(Hi.g)(e,n)||e.offsetTop;return r||Object(zi.d)(t,o),i||Object(zi.e)(t,a),{offsetHeight:o,offsetTop:a}}(b,v,c),x=S.offsetHeight,k=S.offsetTop;m+=Object(Hi.b)(a,k,x,w);var E={latestScrollTop:Gi,scrollTop:a,targetScrollTop:m,sourceScrollTop:p};if(m=Object(Hi.d)(E),Gi=a,m===p)return}}Vi=!0,Bi(p,m,{syncScrollTop:function(e){return i.scrollTo(0,e)},releaseEventBlock:function(){return Vi=!1}})}var Ki=!0;function $i(){return Ki}function Ji(e){if(!e.isViewer()&&"default"===e.getUI().name){var t=e.i18n,n={ACTIVE:t.get("Auto scroll enabled"),INACTIVE:t.get("Auto scroll disabled")},r=e.getUI().getToolbar(),i=document.createElement("button");i.className="tui-scrollsync active",r.addItem("divider"),r.addItem({type:"button",options:{command:"scrollSyncToggle",tooltip:n.ACTIVE,el:i}});var o=r.getItems(),a=o[o.length-2].el,s=o[o.length-1];Zi(e,s,a),function(e,t,n){e.on("changeMode",(function(){return Zi(e,t,n)})),e.on("changePreviewStyle",(function(){return Zi(e,t,n)}))}(e,s,a),function(e,t,n){e.addCommand("markdown",{name:"scrollSyncToggle",exec:function(){Ki=!Ki,t._onOut(),Ki?(t.el.className="tui-scrollsync active",t.setTooltip(n.ACTIVE)):(t.el.className="tui-scrollsync",t.setTooltip(n.INACTIVE)),t._onOver()}})}(e,s,n)}}function Zi(e,t,n){"vertical"===e.mdPreviewStyle&&"markdown"===e.currentMode?(h()(t.el,{display:"inline-block"}),h()(n,{display:"inline-block"})):(h()(t.el,{display:"none"}),h()(n,{display:"none"}))}var Qi=!0;function eo(e){var t=e.mdEditor,n=e.preview;Ji(e),function(e,t){e.eventManager.listen("scroll",(function(n){var r=n.source,i=n.data;$i()&&Qi&&t.isVisible()&&("markdown"!==r||Vi?"preview"!==r||qi||Yi(e,t,i):Wi(e,t,!0))}))}(t,n),function(e,t){e.eventManager.listen("previewRenderAfter",(function(){setTimeout((function(){$i()&&Wi(e,t),Qi=!0}),200)}))}(t,n),t.cm.on("change",(function(){return Qi=!1}))}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var no=[],ro=function(){function e(e){var t=this;this.initialHtml=e.el.innerHTML,e.el.innerHTML="",this.options=u()({previewStyle:"tab",previewHighlight:!0,initialEditType:"markdown",height:"300px",minHeight:"200px",language:"en-US",useDefaultHTMLSanitizer:!0,useCommandShortcut:!0,usageStatistics:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"],hideModeSwitch:!1,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null},e),this.codeBlockLanguages=[],this.eventManager=new qt.a,this.importManager=new Gt(this.eventManager),this.commandManager=new Ut.a(this,{useCommandShortcut:this.options.useCommandShortcut});var n=Object(y.c)(this.options.linkAttribute),r=Object(or.a)(this.options.plugins),o=r.renderer,a=r.parser,s=r.plugins,l=this.options,c=l.customHTMLRenderer,d=l.customHTMLSanitizer,h=l.extendedAutolinks,p=l.referenceDefinition,f=l.useDefaultHTMLSanitizer,m={linkAttribute:n,customHTMLRenderer:to({},o,{},c),extendedAutolinks:h,referenceDefinition:p,customParser:a};this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager,m):this.convertor=new Yt.a(this.eventManager,m);var g=d||(f?Xe.a:null);g&&this.convertor.initHtmlSanitizer(g),this.options.hooks&&i()(this.options.hooks,(function(e,n){return t.addHook(n,e)})),this.options.events&&i()(this.options.events,(function(e,n){return t.on(n,e)})),this.layout=new zt(e,this.eventManager),this.i18n=Jt,this.i18n.setCode(this.options.language),this.setUI(this.options.UI||new Qn(this)),this.toastMark=new v.ToastMark("",{disallowedHtmlBlockTags:["br"],extendedAutolinks:h,referenceDefinition:p,disallowDeepHeading:!0,customParser:a}),this.mdEditor=Se.factory(this.layout.getMdEditorContainerEl(),this.eventManager,this.toastMark,this.options),this.preview=new xe.a(this.layout.getPreviewEl(),this.eventManager,this.convertor,to({},m,{isViewer:!1,highlight:this.options.previewHighlight})),this.wwEditor=Bt.factory(this.layout.getWwEditorContainerEl(),this.eventManager,{sanitizer:g,linkAttribute:n}),this.toMarkOptions={gfm:!0,renderer:ir},s&&Object(or.b)(s,this),this.changePreviewStyle(this.options.previewStyle),this.changeMode(this.options.initialEditType,!0),this.minHeight(this.options.minHeight),this.height(this.options.height),this.setMarkdown(this.options.initialValue,!1),this.options.placeholder&&this.setPlaceholder(this.options.placeholder),this.options.initialValue||this.setHtml(this.initialHtml,!1),this.eventManager.emit("load",this),no.push(this),this._addDefaultCommands(),this.options.usageStatistics&&Object(y.d)(),eo(this)}var t=e.prototype;return t.changePreviewStyle=function(e){this.layout.changePreviewStyle(e),this.mdPreviewStyle=e,this.eventManager.emit("changePreviewStyle",e),this.eventManager.emit("previewNeedsRefresh",this.getMarkdown())},t.exec=function(){var e;(e=this.commandManager).exec.apply(e,arguments)},t._addDefaultCommands=function(){this.addCommand(pr),this.addCommand(kr),this.addCommand(Pr),this.addCommand(Mr),this.addCommand(Ir),this.addCommand(Rr),this.addCommand(Fr),this.addCommand(qr),this.addCommand(Ur),this.addCommand(Xr),this.addCommand(Wr),this.addCommand(Vr),this.addCommand(Gr),this.addCommand(Yr),this.addCommand(Jr),this.addCommand(Zr),this.addCommand(jr),this.addCommand(ei),this.addCommand(ni),this.addCommand(oi),this.addCommand(gi),this.addCommand(vi),this.addCommand(li),this.addCommand(di),this.addCommand(hi),this.addCommand(pi),this.addCommand(mi),this.addCommand(Oi),this.addCommand(Di),this.addCommand(Mi),this.addCommand(_i),this.addCommand(Ci),this.addCommand(wi),this.addCommand(xi),this.addCommand(Ei),this.addCommand(Ti),this.addCommand(ji),this.addCommand(Ri),this.addCommand(Li),this.addCommand(ii)},t.addCommand=function(e,t){t?this.commandManager.addCommand(Ut.a.command(e,t)):this.commandManager.addCommand(e)},t.afterAddedCommand=function(){this.eventManager.emit("afterAddedCommand",this)},t.on=function(e,t){this.eventManager.listen(e,t)},t.off=function(e){this.eventManager.removeEventHandler(e)},t.addHook=function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)},t.removeHook=function(e){this.eventManager.removeEventHandler(e)},t.getCodeMirror=function(){return this.mdEditor.getEditor()},t.getSquire=function(){return this.wwEditor.getEditor()},t.focus=function(){this.getCurrentModeEditor().focus()},t.blur=function(){this.getCurrentModeEditor().blur()},t.moveCursorToEnd=function(){this.getCurrentModeEditor().moveCursorToEnd()},t.moveCursorToStart=function(){this.getCurrentModeEditor().moveCursorToStart()},t.setMarkdown=function(e,t){void 0===t&&(t=!0),e=e||"",this.isMarkdownMode()?this.mdEditor.setValue(e,t):this.wwEditor.setValue(this.convertor.toHTML(e),t),this.eventManager.emit("setMarkdownAfter",e)},t.setHtml=function(e,t){if(void 0===t&&(t=!0),e=e||"",this.wwEditor.setValue(e,t),this.isMarkdownMode()){var n=this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions);this.mdEditor.setValue(n,t),this.eventManager.emit("setMarkdownAfter",n)}},t.getMarkdown=function(){return this.isMarkdownMode()?this.mdEditor.getValue():this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)},t.getHtml=function(){return this.isWysiwygMode()&&this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions)),this.convertor.toHTML(this.mdEditor.getValue())},t.insertText=function(e){this.isMarkdownMode()?this.mdEditor.replaceSelection(e):this.wwEditor.insertText(e)},t.addWidget=function(e,t,n,r){this.getCurrentModeEditor().addWidget(e,t,n,r)},t.height=function(e){if(a()(e)){var t=this.options.el;"auto"===e?(f()(t,"auto-height"),this.minHeight(this.minHeight())):(g()(t,"auto-height"),this.minHeight(e)),l()(e)&&(e+="px"),h()(this.options.el,{height:e}),this._height=e}return this._height},t.minHeight=function(e){if(a()(e)){var t=this._ui.getEditorHeight()-this._ui.getEditorSectionHeight();this._minHeight=e,e=parseInt(e,10),e=Math.max(e-t,0),this.wwEditor.setMinHeight(e),this.mdEditor.setMinHeight(e),this.preview.setMinHeight(e)}return this._minHeight},t.getCurrentModeEditor=function(){return this.isMarkdownMode()?this.mdEditor:this.wwEditor},t.isMarkdownMode=function(){return"markdown"===this.currentMode},t.isWysiwygMode=function(){return"wysiwyg"===this.currentMode},t.isViewer=function(){return!1},t.getCurrentPreviewStyle=function(){return this.mdPreviewStyle},t.changeMode=function(e,t){this.currentMode!==e&&(this.eventManager.emit("changeModeBefore",this.currentMode),this.currentMode=e,this.isWysiwygMode()?(this.layout.switchToWYSIWYG(),this.wwEditor.setValue(this.convertor.toHTML(this.mdEditor.getValue()),!t),this.eventManager.emit("changeModeToWysiwyg")):(this.layout.switchToMarkdown(),this.mdEditor.resetState(),this.mdEditor.setValue(this.convertor.toMarkdown(this.wwEditor.getValue(),this.toMarkOptions),!t),this.getCodeMirror().refresh(),this.eventManager.emit("changeModeToMarkdown")),this.eventManager.emit("changeMode",e),t||this.focus())},t.remove=function(){var e=this,t=no.length-1;for(this.wwEditor.remove(),this.mdEditor.remove(),this.layout.remove(),this.preview.remove(),this.getUI()&&this.getUI().remove(),this.eventManager.emit("removeEditor"),this.eventManager.events.forEach((function(t,n){e.off(n)})),this.eventManager=null;t>=0;t-=1)no[t]===this&&no.splice(t,1)},t.hide=function(){this.eventManager.emit("hide",this)},t.show=function(){this.eventManager.emit("show",this),this.getCodeMirror().refresh()},t.scrollTop=function(e){return this.getCurrentModeEditor().scrollTop(e)},t.setUI=function(e){this._ui=e},t.getUI=function(){return this._ui},t.reset=function(){this.wwEditor.reset(),this.mdEditor.reset()},t.getRange=function(){return this.getCurrentModeEditor().getRange()},t.getTextObject=function(e){return this.getCurrentModeEditor().getTextObject(e)},t.getSelectedText=function(){var e=this.getRange();return this.getTextObject(e).getTextContent()||""},t.setPlaceholder=function(e){this.mdEditor.setPlaceholder(e),this.wwEditor.setPlaceholder(e)},t.setCodeBlockLanguages=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.codeBlockLanguages.indexOf(e)<0&&t.codeBlockLanguages.push(e)})),this.eventManager.emit("setCodeBlockLanguages",this.codeBlockLanguages)},e.getInstances=function(){return no},e.factory=function(t){return t.viewer?new Kt.a(t):new e(t)},e.setLanguage=function(e,t){Jt.setLanguage(e,t)},e}();ro._createMarkdownToHTML=function(e){var t=e.extendedAutolinks,n=e.customHTMLRenderer,r=e.referenceDefinition,i=e.customParser,o=new v.Parser({disallowedHtmlBlockTags:["br"],extendedAutolinks:t,referenceDefinition:r,disallowDeepHeading:!0,customParser:i}),a=Object(v.createRenderHTML)({gfm:!0,convertors:Object(_.a)(null,n)});return function(e){return a(o.parse(e))}},ro.isViewer=!1,ro.codeBlockManager=er.a,ro.WwCodeBlockManager=yt,ro.WwTableManager=ot,ro.WwTableSelectionManager=at,ro.CommandManager=Ut.a;var io=ro;n(50),n(51),n(41),n(52),io.setLanguage(["en","en-US"],{Markdown:"Markdown",WYSIWYG:"WYSIWYG",Write:"Write",Preview:"Preview",Headings:"Headings",Paragraph:"Paragraph",Bold:"Bold",Italic:"Italic",Strike:"Strike",Code:"Inline code",Line:"Line",Blockquote:"Blockquote","Unordered list":"Unordered list","Ordered list":"Ordered list",Task:"Task",Indent:"Indent",Outdent:"Outdent","Insert link":"Insert link","Insert CodeBlock":"Insert codeBlock","Insert table":"Insert table","Insert image":"Insert image",Heading:"Heading","Image URL":"Image URL","Select image file":"Select image file",Description:"Description",OK:"OK",More:"More",Cancel:"Cancel",File:"File",URL:"URL","Link text":"Link text","Add row":"Add row","Add col":"Add col","Remove row":"Remove row","Remove col":"Remove col","Align left":"Align left","Align center":"Align center","Align right":"Align right","Remove table":"Remove table","Would you like to paste as table?":"Would you like to paste as table?","Text color":"Text color","Auto scroll enabled":"Auto scroll enabled","Auto scroll disabled":"Auto scroll disabled","Choose language":"Choose language"}),t.default=io}]).default},e.exports=r(n(33))},function(e,t,n){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=r||i||o,s=a&&(r?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!o&&/Chrome\//.test(e),d=/Opera\//.test(e),h=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),f=/PhantomJS/.test(e),m=!o&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),_=m||/Mac/.test(t),y=/\bCrOS\b/.test(e),b=/win/i.test(t),C=d&&e.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(d=!1,l=!0);var w=_&&(c||d&&(null==C||C<12.11)),S=n||a&&s>=9;function x(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var k,E=function(e,t){var n=e.className,r=x(t).exec(n);if(r){var i=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(i?r[1]+i:"")}};function T(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function j(e,t){return T(e).appendChild(t)}function O(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function P(e,t,n,r){var i=O(e,t,n,r);return i.setAttribute("role","presentation"),i}function D(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function M(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function I(e,t){var n=e.className;x(t).test(n)||(e.className+=(n?" ":"")+t)}function R(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!x(n[r]).test(t)&&(t+=" "+n[r]);return t}k=document.createRange?function(e,t,n,r){var i=document.createRange();return i.setEnd(r||e,n),i.setStart(e,t),i}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var L=function(e){e.select()};function N(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function A(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function F(e,t,n,r,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=r||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}}m?L=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(L=function(e){try{e.select()}catch(t){}});var B=function(){this.id=null,this.f=null,this.time=0,this.handler=N(this.onTimeout,this)};function H(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}B.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},B.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var z={toString:function(){return"CodeMirror.Pass"}},q={scroll:!1},U={origin:"*mouse"},X={origin:"+move"};function W(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("\t",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,r=o+1,(i+=n-i%n)>=t)return r}}var V=[""];function G(e){for(;V.length<=e;)V.push(Y(V)+" ");return V[e]}function Y(e){return e[e.length-1]}function K(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function $(){}function J(e,t){var n;return Object.create?n=Object.create(e):($.prototype=e,n=new $),t&&A(t,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Q(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function ee(e,t){return t?!!(t.source.indexOf("\\w")>-1&&Q(e))||t.test(e):Q(e)}function te(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function re(e){return e.charCodeAt(0)>=768&&ne.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&re(e.charAt(t));)t+=n;return t}function oe(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var i=(t+n)/2,o=r<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:n;e(o)?n=o:t=o+r}}var ae=null;function se(e,t,n){var r;ae=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==n?r=i:ae=i),o.from==t&&(o.from!=o.to&&"before"!=n?r=i:ae=i)}return null!=r?r:ae}var le=function(){var e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,n=/[LRr]/,r=/[Lb1n]/,i=/[1n]/;function o(e,t,n){this.level=e,this.from=t,this.to=n}return function(a,s){var l="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!e.test(a))return!1;for(var c,u=a.length,d=[],h=0;h<u;++h)d.push((c=a.charCodeAt(h))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(c):1424<=c&&c<=1524?"R":1536<=c&&c<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(c-1536):1774<=c&&c<=2220?"r":8192<=c&&c<=8203?"w":8204==c?"b":"L");for(var p=0,f=l;p<u;++p){var m=d[p];"m"==m?d[p]=f:f=m}for(var g=0,v=l;g<u;++g){var _=d[g];"1"==_&&"r"==v?d[g]="n":n.test(_)&&(v=_,"r"==_&&(d[g]="R"))}for(var y=1,b=d[0];y<u-1;++y){var C=d[y];"+"==C&&"1"==b&&"1"==d[y+1]?d[y]="1":","!=C||b!=d[y+1]||"1"!=b&&"n"!=b||(d[y]=b),b=C}for(var w=0;w<u;++w){var S=d[w];if(","==S)d[w]="N";else if("%"==S){var x=void 0;for(x=w+1;x<u&&"%"==d[x];++x);for(var k=w&&"!"==d[w-1]||x<u&&"1"==d[x]?"1":"N",E=w;E<x;++E)d[E]=k;w=x-1}}for(var T=0,j=l;T<u;++T){var O=d[T];"L"==j&&"1"==O?d[T]="L":n.test(O)&&(j=O)}for(var P=0;P<u;++P)if(t.test(d[P])){var D=void 0;for(D=P+1;D<u&&t.test(d[D]);++D);for(var M="L"==(P?d[P-1]:l),I=M==("L"==(D<u?d[D]:l))?M?"L":"R":l,R=P;R<D;++R)d[R]=I;P=D-1}for(var L,N=[],A=0;A<u;)if(r.test(d[A])){var F=A;for(++A;A<u&&r.test(d[A]);++A);N.push(new o(0,F,A))}else{var B=A,H=N.length,z="rtl"==s?1:0;for(++A;A<u&&"L"!=d[A];++A);for(var q=B;q<A;)if(i.test(d[q])){B<q&&(N.splice(H,0,new o(1,B,q)),H+=z);var U=q;for(++q;q<A&&i.test(d[q]);++q);N.splice(H,0,new o(2,U,q)),H+=z,B=q}else++q;B<A&&N.splice(H,0,new o(1,B,A))}return"ltr"==s&&(1==N[0].level&&(L=a.match(/^\s+/))&&(N[0].from=L[0].length,N.unshift(new o(0,0,L[0].length))),1==Y(N).level&&(L=a.match(/\s+$/))&&(Y(N).to-=L[0].length,N.push(new o(0,u-L[0].length,u)))),"rtl"==s?N.reverse():N}}();function ce(e,t){var n=e.order;return null==n&&(n=e.order=le(e.text,t)),n}var ue=[],de=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||ue).concat(n)}};function he(e,t){return e._handlers&&e._handlers[t]||ue}function pe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,i=r&&r[t];if(i){var o=H(i,n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function fe(e,t){var n=he(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)}function me(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),fe(e,n||t.type,e,t),Ce(t)||t.codemirrorIgnore}function ge(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==H(n,t[r])&&n.push(t[r])}function ve(e,t){return he(e,t).length>0}function _e(e){e.prototype.on=function(e,t){de(this,e,t)},e.prototype.off=function(e,t){pe(this,e,t)}}function ye(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function be(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function we(e){ye(e),be(e)}function Se(e){return e.target||e.srcElement}function xe(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),_&&e.ctrlKey&&1==t&&(t=3),t}var ke,Ee,Te=function(){if(a&&s<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}();function je(e){if(null==ke){var t=O("span","\u200b");j(e,O("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(ke=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var n=ke?O("span","\u200b"):O("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Oe(e){if(null!=Ee)return Ee;var t=j(e,document.createTextNode("A\u062eA")),n=k(t,0,1).getBoundingClientRect(),r=k(t,1,2).getBoundingClientRect();return T(e),!(!n||n.left==n.right)&&(Ee=r.right-n.right<3)}var Pe=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},De=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(n){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Me=function(){var e=O("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Ie=null,Re={},Le={};function Ne(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),Re[e]=t}function Ae(e){if("string"==typeof e&&Le.hasOwnProperty(e))e=Le[e];else if(e&&"string"==typeof e.name&&Le.hasOwnProperty(e.name)){var t=Le[e.name];"string"==typeof t&&(t={name:t}),(e=J(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ae("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ae("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Fe(e,t){t=Ae(t);var n=Re[t.name];if(!n)return Fe(e,"text/plain");var r=n(e,t);if(Be.hasOwnProperty(t.name)){var i=Be[t.name];for(var o in i)i.hasOwnProperty(o)&&(r.hasOwnProperty(o)&&(r["_"+o]=r[o]),r[o]=i[o])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)r[a]=t.modeProps[a];return r}var Be={};function He(e,t){A(t,Be.hasOwnProperty(e)?Be[e]:Be[e]={})}function ze(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n}function qe(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ue(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function We(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(t<o){n=i;break}t-=o}return n.lines[t]}function Ve(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,(function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i})),r}function Ge(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function Ye(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ke(e){if(null==e.parent)return null;for(var t=e.parent,n=H(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function $e(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(t<o){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return n+a}function Je(e,t){return t>=e.first&&t<e.first+e.size}function Ze(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function Qe(e,t,n){if(void 0===n&&(n=null),!(this instanceof Qe))return new Qe(e,t,n);this.line=e,this.ch=t,this.sticky=n}function et(e,t){return e.line-t.line||e.ch-t.ch}function tt(e,t){return e.sticky==t.sticky&&0==et(e,t)}function nt(e){return Qe(e.line,e.ch)}function rt(e,t){return et(e,t)<0?t:e}function it(e,t){return et(e,t)<0?e:t}function ot(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function at(e,t){if(t.line<e.first)return Qe(e.first,0);var n=e.first+e.size-1;return t.line>n?Qe(n,We(e,n).text.length):function(e,t){var n=e.ch;return null==n||n>t?Qe(e.line,t):n<0?Qe(e.line,0):e}(t,We(e,t.line).text.length)}function st(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=at(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=F(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return F(this.string,null,this.tabSize)-(this.lineStart?F(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var lt=function(e,t){this.state=e,this.lookAhead=t},ct=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function ut(e,t,n,r){var i=[e.state.modeGen],o={};yt(e,t.text,e.doc.mode,n,(function(e,t){return i.push(e,t)}),o,r);for(var a=n.state,s=function(r){n.baseTokens=i;var s=e.state.overlays[r],l=1,c=0;n.state=!0,yt(e,t.text,s.mode,n,(function(e,t){for(var n=l;c<e;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"overlay "+t}}),o),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function dt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=ht(e,Ke(t)),i=t.text.length>e.options.maxHighlightLength&&ze(e.doc.mode,r.state),o=ut(e,t,r);i&&(r.state=i),t.stateAfter=r.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function ht(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return new ct(r,!0,t);var o=function(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=We(o,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof lt?c.lookAhead:0)<=o.modeFrontier))return s;var u=F(l.text,null,e.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}(e,t,n),a=o>r.first&&We(r,o-1).stateAfter,s=a?ct.fromSaved(r,a,o):new ct(r,Ue(r.mode),o);return r.iter(o,t,(function(n){pt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=i.viewFrom&&r<i.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function pt(e,t,n,r){var i=e.doc.mode,o=new Xe(t,e.options.tabSize,n);for(o.start=o.pos=r||0,""==t&&ft(i,n.state);!o.eol();)mt(i,o,n.state),o.start=o.pos}function ft(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=qe(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function mt(e,t,n,r){for(var i=0;i<10;i++){r&&(r[0]=qe(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}ct.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ct.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ct.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ct.fromSaved=function(e,t,n){return t instanceof lt?new ct(e,ze(e.mode,t.state),n,t.lookAhead):new ct(e,ze(e.mode,t),n)},ct.prototype.save=function(e){var t=!1!==e?ze(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new lt(t,this.maxLookAhead):t};var gt=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function vt(e,t,n,r){var i,o,a=e.doc,s=a.mode,l=We(a,(t=at(a,t)).line),c=ht(e,t.line,n),u=new Xe(l.text,e.options.tabSize,c);for(r&&(o=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,i=mt(s,u,c.state),r&&o.push(new gt(u,i,ze(a.mode,c.state)));return r?o:new gt(u,i,c.state)}function _t(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function yt(e,t,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new Xe(t,e.options.tabSize,r),h=e.options.addModeClass&&[null];for(""==t&&_t(ft(n,r.state),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&pt(e,t,r,d.pos),d.pos=t.length,l=null):l=_t(mt(n,d,r.state,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)i(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);i(f,u),c=f}}var bt=!1,Ct=!1;function wt(e,t,n){this.marker=e,this.from=t,this.to=n}function St(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function xt(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function kt(e,t){if(t.full)return null;var n=Je(e,t.from.line)&&We(e,t.from.line).markedSpans,r=Je(e,t.to.line)&&We(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==et(t.from,t.to),s=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new wt(a,o.from,s?null:o.to))}}return r}(n,i,a),l=function(e,t,n){var r;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new wt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return r}(r,o,a),c=1==t.text.length,u=Y(t.text).length+(c?i:0);if(s)for(var d=0;d<s.length;++d){var h=s[d];if(null==h.to){var p=St(l,h.marker);p?c&&(h.to=null==p.to?null:p.to+u):h.to=i}}if(l)for(var f=0;f<l.length;++f){var m=l[f];null!=m.to&&(m.to+=u),null==m.from?St(s,m.marker)||(m.from=u,c&&(s||(s=[])).push(m)):(m.from+=u,c&&(s||(s=[])).push(m))}s&&(s=Et(s)),l&&l!=s&&(l=Et(l));var g=[s];if(!c){var v,_=t.text.length-2;if(_>0&&s)for(var y=0;y<s.length;++y)null==s[y].to&&(v||(v=[])).push(new wt(s[y].marker,null,null));for(var b=0;b<_;++b)g.push(v);g.push(l)}return g}function Et(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Tt(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function jt(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ot(e){return e.inclusiveLeft?-1:0}function Pt(e){return e.inclusiveRight?1:0}function Dt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=et(r.from,i.from)||Ot(e)-Ot(t);if(o)return-o;var a=et(r.to,i.to)||Pt(e)-Pt(t);return a||t.id-e.id}function Mt(e,t){var n,r=Ct&&e.markedSpans;if(r)for(var i=void 0,o=0;o<r.length;++o)(i=r[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!n||Dt(n,i.marker)<0)&&(n=i.marker);return n}function It(e){return Mt(e,!0)}function Rt(e){return Mt(e,!1)}function Lt(e,t){var n,r=Ct&&e.markedSpans;if(r)for(var i=0;i<r.length;++i){var o=r[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!n||Dt(n,o.marker)<0)&&(n=o.marker)}return n}function Nt(e,t,n,r,i){var o=We(e,t),a=Ct&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=et(c.from,n)||Ot(l.marker)-Ot(i),d=et(c.to,r)||Pt(l.marker)-Pt(i);if(!(u>=0&&d<=0||u<=0&&d>=0)&&(u<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(c.to,n)>=0:et(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?et(c.from,r)<=0:et(c.from,r)<0)))return!0}}}function At(e){for(var t;t=It(e);)e=t.find(-1,!0).line;return e}function Ft(e,t){var n=We(e,t),r=At(n);return n==r?t:Ke(r)}function Bt(e,t){if(t>e.lastLine())return t;var n,r=We(e,t);if(!Ht(e,r))return t;for(;n=Rt(r);)r=n.find(1,!0).line;return Ke(r)+1}function Ht(e,t){var n=Ct&&t.markedSpans;if(n)for(var r=void 0,i=0;i<n.length;++i)if((r=n[i]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&zt(e,t,r))return!0}}function zt(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return zt(e,r.line,St(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&zt(e,t,i))return!0}function qt(e){for(var t=0,n=(e=At(e)).parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;o=(n=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==n)break;t+=s.height}return t}function Ut(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=It(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Rt(r);){var o=t.find(0,!0);n-=r.text.length-o.from.ch,n+=(r=o.to.line).text.length-o.to.ch}return n}function Xt(e){var t=e.display,n=e.doc;t.maxLine=We(n,n.first),t.maxLineLength=Ut(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=Ut(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var Wt=function(e,t,n){this.text=e,jt(this,t),this.height=n?n(this):1};function Vt(e){e.parent=null,Tt(e)}Wt.prototype.lineNo=function(){return Ke(this)},_e(Wt);var Gt={},Yt={};function Kt(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?Yt:Gt;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function $t(e,t){var n=P("span",null,null,l?"padding-right: .1px":null),r={pre:P("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;r.pos=0,r.addToken=Zt,Oe(e.display.measure)&&(a=ce(o,e.doc.direction))&&(r.addToken=Qt(r.addToken,a)),r.map=[],tn(o,r,dt(e,o,t!=e.display.externalMeasured&&Ke(o))),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=R(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=R(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(je(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return fe(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=R(r.pre.className,r.textClass||"")),r}function Jt(e){var t=O("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function Zt(e,t,n,r,i,o,l){if(t){var c,u=e.splitSpaces?function(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!n||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),r+=o,n=" "==o}return r}(t,e.trailingSpace):t,d=e.cm.state.specialChars,h=!1;if(d.test(t)){c=document.createDocumentFragment();for(var p=0;;){d.lastIndex=p;var f=d.exec(t),m=f?f.index-p:t.length-p;if(m){var g=document.createTextNode(u.slice(p,p+m));a&&s<9?c.appendChild(O("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!f)break;p+=m+1;var v=void 0;if("\t"==f[0]){var _=e.cm.options.tabSize,y=_-e.col%_;(v=c.appendChild(O("span",G(y),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=y}else"\r"==f[0]||"\n"==f[0]?((v=c.appendChild(O("span","\r"==f[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",f[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(f[0])).setAttribute("cm-text",f[0]),a&&s<9?c.appendChild(O("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),a&&s<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||i||h||o){var b=n||"";r&&(b+=r),i&&(b+=i);var C=O("span",[c],b,o);if(l)for(var w in l)l.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&C.setAttribute(w,l[w]);return e.content.appendChild(C)}e.content.appendChild(c)}}function Qt(e,t){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var d=void 0,h=0;h<t.length&&!((d=t[h]).to>c&&d.from<=c);h++);if(d.to>=u)return e(n,r,i,o,a,s,l);e(n,r.slice(0,d.to-c),i,o,null,s,l),o=null,r=r.slice(d.to-c),c=d.to}}}function en(e,t,n,r){var i=!r&&n.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!r&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function tn(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,d,h,p=i.length,f=0,m=1,g="",v=0;;){if(v==f){l=c=u=s="",h=null,d=null,v=1/0;for(var _=[],y=void 0,b=0;b<r.length;++b){var C=r[b],w=C.marker;if("bookmark"==w.type&&C.from==f&&w.widgetNode)_.push(w);else if(C.from<=f&&(null==C.to||C.to>f||w.collapsed&&C.to==f&&C.from==f)){if(null!=C.to&&C.to!=f&&v>C.to&&(v=C.to,c=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&C.from==f&&(u+=" "+w.startStyle),w.endStyle&&C.to==v&&(y||(y=[])).push(w.endStyle,C.to),w.title&&((h||(h={})).title=w.title),w.attributes)for(var S in w.attributes)(h||(h={}))[S]=w.attributes[S];w.collapsed&&(!d||Dt(d.marker,w)<0)&&(d=C)}else C.from>f&&v>C.from&&(v=C.from)}if(y)for(var x=0;x<y.length;x+=2)y[x+1]==v&&(c+=" "+y[x]);if(!d||d.from==f)for(var k=0;k<_.length;++k)en(t,0,_[k]);if(d&&(d.from||0)==f){if(en(t,(null==d.to?p+1:d.to)-f,d.marker,null==d.from),null==d.to)return;d.to==f&&(d=!1)}}if(f>=p)break;for(var E=Math.min(p,v);;){if(g){var T=f+g.length;if(!d){var j=T>E?g.slice(0,E-f):g;t.addToken(t,j,a?a+l:l,u,f+j.length==v?c:"",s,h)}if(T>=E){g=g.slice(E-f),f=E;break}f=T,u=""}g=i.slice(o,o=n[m++]),a=Kt(n[m++],t.cm.options)}}else for(var O=1;O<n.length;O+=2)t.addToken(t,i.slice(o,o=n[O]),Kt(n[O+1],t.cm.options))}function nn(e,t,n){this.line=t,this.rest=function(e){for(var t,n;t=Rt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?Ke(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Ht(e,t)}function rn(e,t,n){for(var r,i=[],o=t;o<n;o=r){var a=new nn(e.doc,We(e.doc,o),o);r=o+a.size,i.push(a)}return i}var on=null,an=null;function sn(e,t){var n=he(e,t);if(n.length){var r,i=Array.prototype.slice.call(arguments,2);on?r=on.delayedCallbacks:an?r=an:(r=an=[],setTimeout(ln,0));for(var o=function(e){r.push((function(){return n[e].apply(null,i)}))},a=0;a<n.length;++a)o(a)}}function ln(){var e=an;an=null;for(var t=0;t<e.length;++t)e[t]()}function cn(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?hn(e,t):"gutter"==o?fn(e,t,n,r):"class"==o?pn(e,t):"widget"==o&&mn(e,t,r)}t.changes=null}function un(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function dn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):$t(e,t)}function hn(e,t){var n=t.text.className,r=dn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,pn(e,t)):n&&(t.text.className=n)}function pn(e,t){!function(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=un(t);t.background=r.insertBefore(O("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?un(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function fn(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=un(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=un(t),s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(O("div",Ze(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=o.hasOwnProperty(c)&&o[c];u&&s.appendChild(O("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function mn(e,t,n){t.alignable&&(t.alignable=null);for(var r=x("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,r.test(i.className)&&t.node.removeChild(i);vn(e,t,n)}function gn(e,t,n,r){var i=dn(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),pn(e,t),fn(e,t,n,r),vn(e,t,r),t.node}function vn(e,t,n){if(_n(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)_n(e,t.rest[r],t,n,!1)}function _n(e,t,n,r,i){if(t.widgets)for(var o=un(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=O("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),yn(l,c,n,r),e.display.input.setUneditable(c),i&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),sn(l,"redraw")}}function yn(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function bn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!D(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),j(t.display.measure,O("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Cn(e,t){for(var n=Se(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function wn(e){return e.lineSpace.offsetTop}function Sn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function xn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=j(e.measure,O("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function kn(e){return 50-e.display.nativeBarWidth}function En(e){return e.display.scroller.clientWidth-kn(e)-e.display.barWidth}function Tn(e){return e.display.scroller.clientHeight-kn(e)-e.display.barHeight}function jn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var i=0;i<e.rest.length;i++)if(Ke(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function On(e,t,n,r){return Mn(e,Dn(e,t),n,r)}function Pn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[cr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function Dn(e,t){var n=Ke(t),r=Pn(e,n);r&&!r.text?r=null:r&&r.changes&&(cn(e,r,n,ir(e)),e.curOp.forceUpdate=!0),r||(r=function(e,t){var n=Ke(t=At(t)),r=e.display.externalMeasured=new nn(e.doc,t,n);r.lineN=n;var i=r.built=$t(e,r);return r.text=i.pre,j(e.display.lineMeasure,i.pre),r}(e,t));var i=jn(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Mn(e,t,n,r,i){t.before&&(n=-1);var o,l=n+(r||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,n){var r=e.options.lineWrapping,i=r&&En(e);if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,r){var i,o=Ln(t.map,n,r),l=o.node,c=o.start,u=o.end,d=o.collapse;if(3==l.nodeType){for(var h=0;h<4;h++){for(;c&&re(t.line.text.charAt(o.coverStart+c));)--c;for(;o.coverStart+u<o.coverEnd&&re(t.line.text.charAt(o.coverStart+u));)++u;if((i=a&&s<9&&0==c&&u==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Nn(k(l,c,u).getClientRects(),r)).left||i.right||0==c)break;u=c,c-=1,d="right"}a&&s<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Ie)return Ie;var t=j(e,O("span","x")),n=t.getBoundingClientRect(),r=k(t,0,1).getBoundingClientRect();return Ie=Math.abs(n.left-r.left)>1}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}(e.display.measure,i))}else{var p;c>0&&(d=r="right"),i=e.options.lineWrapping&&(p=l.getClientRects()).length>1?p["right"==r?p.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!c&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+rr(e.display),top:f.top,bottom:f.bottom}:Rn}for(var m=i.top-t.rect.top,g=i.bottom-t.rect.top,v=(m+g)/2,_=t.view.measure.heights,y=0;y<_.length-1&&!(v<_[y]);y++);var b=y?_[y-1]:0,C=_[y],w={left:("right"==d?i.right:i.left)-t.rect.left,right:("left"==d?i.left:i.right)-t.rect.left,top:b,bottom:C};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=m,w.rbottom=g),w}(e,t,n,r)).bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var In,Rn={left:0,right:0,top:0,bottom:0};function Ln(e,t,n){for(var r,i,o,a,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(r=e[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],a="left";if("right"==n&&i==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],a="right";break}return{node:r,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function Nn(e,t){var n=Rn;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var i=e.length-1;i>=0&&(n=e[i]).left==n.right;i--);return n}function An(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Fn(e){e.display.externalMeasure=null,T(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)An(e.display.view[t])}function Bn(e){Fn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Hn(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function zn(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function qn(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=bn(e.widgets[n]));return t}function Un(e,t,n,r,i){if(!i){var o=qn(t);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=qt(t);if("local"==r?a+=wn(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:zn());var l=s.left+("window"==r?0:Hn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Xn(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Hn(),i-=zn();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Wn(e,t,n,r,i){return r||(r=We(e.doc,t.line)),Un(e,r,On(e,r,t.ch,i),n)}function Vn(e,t,n,r,i,o){function a(t,a){var s=Mn(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Un(e,r,s,n)}r=r||We(e.doc,t.line),i||(i=Dn(e,r));var s=ce(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return a("before"==c?l-1:l,"before"==c);function u(e,t,n){return a(n?e-1:e,1==s[t].level!=n)}var d=se(s,l,c),h=ae,p=u(l,d,"before"==c);return null!=h&&(p.other=u(l,h,"before"!=c)),p}function Gn(e,t){var n=0;t=at(e.doc,t),e.options.lineWrapping||(n=rr(e.display)*t.ch);var r=We(e.doc,t.line),i=qt(r)+wn(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Yn(e,t,n,r,i){var o=Qe(e,t,n);return o.xRel=i,r&&(o.outside=r),o}function Kn(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return Yn(r.first,0,null,-1,-1);var i=$e(r,n),o=r.first+r.size-1;if(i>o)return Yn(r.first+r.size-1,We(r,o).text.length,null,1,1);t<0&&(t=0);for(var a=We(r,i);;){var s=Qn(e,a,i,t,n),l=Lt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==i)return c;a=We(r,i=c.line)}}function $n(e,t,n,r){r-=qn(t);var i=t.text.length,o=oe((function(t){return Mn(e,n,t-1).bottom<=r}),i,0);return{begin:o,end:i=oe((function(t){return Mn(e,n,t).top>r}),o,i)}}function Jn(e,t,n,r){return n||(n=Dn(e,t)),$n(e,t,n,Un(e,t,Mn(e,n,r),"line").top)}function Zn(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Qn(e,t,n,r,i){i-=qt(t);var o=Dn(e,t),a=qn(t),s=0,l=t.text.length,c=!0,u=ce(t,e.doc.direction);if(u){var d=(e.options.lineWrapping?tr:er)(e,t,n,o,u,r,i);s=(c=1!=d.level)?d.from:d.to-1,l=c?d.to:d.from-1}var h,p,f=null,m=null,g=oe((function(t){var n=Mn(e,o,t);return n.top+=a,n.bottom+=a,!!Zn(n,r,i,!1)&&(n.top<=i&&n.left<=r&&(f=t,m=n),!0)}),s,l),v=!1;if(m){var _=r-m.left<m.right-r,y=_==c;g=f+(y?0:1),p=y?"after":"before",h=_?m.left:m.right}else{c||g!=l&&g!=s||g++,p=0==g?"after":g==t.text.length?"before":Mn(e,o,g-(c?1:0)).bottom+a<=i==c?"after":"before";var b=Vn(e,Qe(n,g,p),"line",t,o);h=b.left,v=i<b.top?-1:i>=b.bottom?1:0}return Yn(n,g=ie(t.text,g,1),p,v,r-h)}function er(e,t,n,r,i,o,a){var s=oe((function(s){var l=i[s],c=1!=l.level;return Zn(Vn(e,Qe(n,c?l.to:l.from,c?"before":"after"),"line",t,r),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var c=1!=l.level,u=Vn(e,Qe(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Zn(u,o,a,!0)&&u.top>a&&(l=i[s-1])}return l}function tr(e,t,n,r,i,o,a){var s=$n(e,t,r,a),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,d=null,h=0;h<i.length;h++){var p=i[h];if(!(p.from>=c||p.to<=l)){var f=Mn(e,r,1!=p.level?Math.min(c,p.to)-1:Math.max(l,p.from)).right,m=f<o?o-f+1e9:f-o;(!u||d>m)&&(u=p,d=m)}}return u||(u=i[i.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function nr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==In){In=O("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)In.appendChild(document.createTextNode("x")),In.appendChild(O("br"));In.appendChild(document.createTextNode("x"))}j(e.measure,In);var n=In.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),T(e.measure),n||1}function rr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),n=O("pre",[t],"CodeMirror-line-like");j(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function ir(e){for(var t=e.display,n={},r={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;n[s]=o.offsetLeft+o.clientLeft+i,r[s]=o.clientWidth}return{fixedPos:or(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function or(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function ar(e){var t=nr(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/rr(e.display)-3);return function(i){if(Ht(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function sr(e){var t=e.doc,n=ar(e);t.iter((function(e){var t=n(e);t!=e.height&&Ye(e,t)}))}function lr(e,t,n,r){var i=e.display;if(!n&&"true"==Se(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(d){return null}var l,c=Kn(e,o,a);if(r&&c.xRel>0&&(l=We(e.doc,c.line).text).length==c.ch){var u=F(l,l.length,e.options.tabSize)-l.length;c=Qe(c.line,Math.max(0,Math.round((o-xn(e.display).left)/rr(e.display))-u))}return c}function cr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function ur(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Ct&&Ft(e.doc,t)<i.viewTo&&hr(e);else if(n<=i.viewFrom)Ct&&Bt(e.doc,n+r)>i.viewFrom?hr(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)hr(e);else if(t<=i.viewFrom){var o=pr(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):hr(e)}else if(n>=i.viewTo){var a=pr(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):hr(e)}else{var s=pr(e,t,t,-1),l=pr(e,n,n+r,1);s&&l?(i.view=i.view.slice(0,s.index).concat(rn(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=r):hr(e)}var c=i.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(i.externalMeasured=null))}function dr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[cr(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==H(a,n)&&a.push(n)}}}function hr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function pr(e,t,n,r){var i,o=cr(e,t),a=e.display.view;if(!Ct||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(r>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,n+=i}for(;Ft(e.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function fr(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function mr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function gr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&vr(e,s.head,i),l||yr(e,s,o)}}return r}function vr(e,t,n){var r=Vn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(O("div","\xa0","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(O("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function _r(e,t){return e.top-t.top||e.left-t.left}function yr(e,t,n){var r=e.display,i=e.doc,o=document.createDocumentFragment(),a=xn(e.display),s=a.left,l=Math.max(r.sizerWidth,En(e)-r.sizer.offsetLeft)-a.right,c="ltr"==i.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),o.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function d(t,n,r){var o,a,d=We(i,t),h=d.text.length;function p(n,r){return Wn(e,Qe(t,n),"div",d,r)}function f(t,n,r){var i=Jn(e,d,null,t),o="ltr"==n==("after"==r)?"left":"right";return p("after"==r?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1),o)[o]}var m=ce(d,i.direction);return function(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr",o),i=!0)}i||r(t,n,"ltr")}(m,n||0,null==r?h:r,(function(e,t,i,d){var g="ltr"==i,v=p(e,g?"left":"right"),_=p(t-1,g?"right":"left"),y=null==n&&0==e,b=null==r&&t==h,C=0==d,w=!m||d==m.length-1;if(_.top-v.top<=3){var S=(c?b:y)&&w,x=(c?y:b)&&C?s:(g?v:_).left,k=S?l:(g?_:v).right;u(x,v.top,k-x,v.bottom)}else{var E,T,j,O;g?(E=c&&y&&C?s:v.left,T=c?l:f(e,i,"before"),j=c?s:f(t,i,"after"),O=c&&b&&w?l:_.right):(E=c?f(e,i,"before"):s,T=!c&&y&&C?l:v.right,j=!c&&b&&w?s:_.left,O=c?f(t,i,"after"):l),u(E,v.top,T-E,v.bottom),v.bottom<_.top&&u(s,v.bottom,null,_.top),u(j,_.top,O-j,_.bottom)}(!o||_r(v,o)<0)&&(o=v),_r(_,o)<0&&(o=_),(!a||_r(v,a)<0)&&(a=v),_r(_,a)<0&&(a=_)})),{start:o,end:a}}var h=t.from(),p=t.to();if(h.line==p.line)d(h.line,h.ch,p.ch);else{var f=We(i,h.line),m=We(i,p.line),g=At(f)==At(m),v=d(h.line,h.ch,g?f.text.length+1:null).end,_=d(p.line,g?0:null,p.ch).start;g&&(v.top<_.top-2?(u(v.right,v.top,null,v.bottom),u(s,_.top,_.left,_.bottom)):u(v.right,v.top,_.left-v.right,v.bottom)),v.bottom<_.top&&u(s,v.bottom,null,_.top)}n.appendChild(o)}function br(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){return t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Cr(e){e.state.focused||(e.display.input.focus(),Sr(e))}function wr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,xr(e))}),100)}function Sr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(fe(e,"focus",e,t),e.state.focused=!0,I(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),br(e))}function xr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(fe(e,"blur",e,t),e.state.focused=!1,E(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function kr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i=t.view[r],o=e.options.lineWrapping,l=void 0,c=0;if(!i.hidden){if(a&&s<8){var u=i.node.offsetTop+i.node.offsetHeight;l=u-n,n=u}else{var d=i.node.getBoundingClientRect();l=d.bottom-d.top,!o&&i.text.firstChild&&(c=i.text.firstChild.getBoundingClientRect().right-d.left-1)}var h=i.line.height-l;if((h>.005||h<-.005)&&(Ye(i.line,l),Er(i.line),i.rest))for(var p=0;p<i.rest.length;p++)Er(i.rest[p]);if(c>e.display.sizerWidth){var f=Math.ceil(c/rr(e.display));f>e.display.maxLineLength&&(e.display.maxLineLength=f,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function Er(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function Tr(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-wn(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=$e(t,r),a=$e(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=$e(t,qt(We(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=$e(t,qt(We(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function jr(e,t){var n=e.display,r=nr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,o=Tn(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Sn(n),l=t.top<r,c=t.bottom>s-r;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var u=Math.min(t.top,(c?s:t.bottom)-o);u!=i&&(a.scrollTop=u)}var d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft,h=En(e)-(e.options.fixedGutter?n.gutters.offsetWidth:0),p=t.right-t.left>h;return p&&(t.right=t.left+h),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left-(p?0:10)):t.right>h+d-3&&(a.scrollLeft=t.right+(p?0:10)-h),a}function Or(e,t){null!=t&&(Mr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Pr(e){Mr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Dr(e,t,n){null==t&&null==n||Mr(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function Mr(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Ir(e,Gn(e,t.from),Gn(e,t.to),t.margin))}function Ir(e,t,n,r){var i=jr(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});Dr(e,i.scrollLeft,i.scrollTop)}function Rr(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||si(e,{top:t}),Lr(e,t,!0),n&&si(e),ni(e,100))}function Lr(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Nr(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,ui(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ar(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+Sn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var Fr=function(e,t,n){this.cm=n;var r=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=i.tabIndex=-1,e(r),e(i),de(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),de(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Fr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var i=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},Fr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Fr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Fr.prototype.zeroWidthHack=function(){var e=_&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new B,this.disableVert=new B},Fr.prototype.enableZeroWidthBar=function(e,t,n){e.style.pointerEvents="auto",t.set(1e3,(function r(){var i=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}))},Fr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Br=function(){};function Hr(e,t){t||(t=Ar(e));var n=e.display.barWidth,r=e.display.barHeight;zr(e,t);for(var i=0;i<4&&n!=e.display.barWidth||r!=e.display.barHeight;i++)n!=e.display.barWidth&&e.options.lineWrapping&&kr(e),zr(e,Ar(e)),n=e.display.barWidth,r=e.display.barHeight}function zr(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}Br.prototype.update=function(){return{bottom:0,right:0}},Br.prototype.setScrollLeft=function(){},Br.prototype.setScrollTop=function(){},Br.prototype.clear=function(){};var qr={native:Fr,null:Br};function Ur(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&E(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new qr[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),de(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?Nr(e,t):Rr(e,t)}),e),e.display.scrollbars.addClass&&I(e.display.wrapper,e.display.scrollbars.addClass)}var Xr=0;function Wr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Xr},t=e.curOp,on?on.ops.push(t):t.ownsGroup=on={ops:[t],delayedCallbacks:[]}}function Vr(e){var t=e.curOp;t&&function(e,t){var n=e.ownsGroup;if(n)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<t.length)}(n)}finally{on=null,t(n)}}(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Gr(t[n]);for(var r=0;r<t.length;r++)Yr(t[r]);for(var i=0;i<t.length;i++)Kr(t[i]);for(var o=0;o<t.length;o++)$r(t[o]);for(var a=0;a<t.length;a++)Jr(t[a])}(e)}))}function Gr(e){var t=e.cm,n=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=kn(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&Xt(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ii(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Yr(e){e.updatedDisplay=e.mustUpdate&&oi(e.cm,e.update)}function Kr(e){var t=e.cm,n=t.display;e.updatedDisplay&&kr(t),e.barMeasure=Ar(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=On(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-En(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function $r(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Nr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==M();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&Hr(t,e.barMeasure),e.updatedDisplay&&ci(t,e.barMeasure),e.selectionChanged&&br(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Cr(e.cm)}function Jr(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&ai(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&Lr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Nr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(e,t){if(!me(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!f){var o=O("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-wn(e.display))+"px;\n                         height: "+(t.bottom-t.top+kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}}(t,function(e,t,n,r){var i;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?Qe(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?Qe(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var a=!1,s=Vn(e,t),l=n&&n!=t?Vn(e,n):s,c=jr(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),u=e.doc.scrollTop,d=e.doc.scrollLeft;if(null!=c.scrollTop&&(Rr(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(a=!0)),null!=c.scrollLeft&&(Nr(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-d)>1&&(a=!0)),!a)break}return i}(t,at(r,e.scrollToPos.from),at(r,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||fe(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&fe(o[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&fe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Zr(e,t){if(e.curOp)return t();Wr(e);try{return t()}finally{Vr(e)}}function Qr(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Wr(e);try{return t.apply(e,arguments)}finally{Vr(e)}}}function ei(e){return function(){if(this.curOp)return e.apply(this,arguments);Wr(this);try{return e.apply(this,arguments)}finally{Vr(this)}}}function ti(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Wr(t);try{return e.apply(this,arguments)}finally{Vr(t)}}}function ni(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,N(ri,e))}function ri(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=ht(e,t.highlightFrontier),i=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(r.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?ze(t.mode,r.state):null,l=ut(e,o,r,!0);s&&(r.state=s),o.styles=l.styles;var c=o.styleClasses,u=l.classes;u?o.styleClasses=u:c&&(o.styleClasses=null);for(var d=!a||a.length!=o.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),h=0;!d&&h<a.length;++h)d=a[h]!=o.styles[h];d&&i.push(r.line),o.stateAfter=r.save(),r.nextLine()}else o.text.length<=e.options.maxHighlightLength&&pt(e,o.text,r),o.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return ni(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),i.length&&Zr(e,(function(){for(var t=0;t<i.length;t++)dr(e,i[t],"text")}))}}var ii=function(e,t,n){var r=e.display;this.viewport=t,this.visible=Tr(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=En(e),this.force=n,this.dims=ir(e),this.events=[]};function oi(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return hr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==fr(e))return!1;di(e)&&(hr(e),t.dims=ir(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Ct&&(o=Ft(e.doc,o),a=Bt(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=rn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=rn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(cr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(rn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,cr(e,n)))),r.viewTo=n}(e,o,a),n.viewOffset=qt(We(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var c=fr(e);if(!s&&0==c&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=function(e){if(e.hasFocus())return null;var t=M();if(!t||!D(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&D(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}(e);return c>4&&(n.lineDiv.style.display="none"),function(e,t,n){var r=e.display,i=e.options.lineNumbers,o=r.lineDiv,a=o.firstChild;function s(t){var n=t.nextSibling;return l&&_&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,d=0;d<c.length;d++){var h=c[d];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=s(a);var p=i&&null!=t&&t<=u&&h.lineNumber;h.changes&&(H(h.changes,"gutter")>-1&&(p=!1),cn(e,h,u,n)),p&&(T(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(Ze(e.options,u)))),a=h.node.nextSibling}else{var f=gn(e,h,u,n);o.insertBefore(f,a)}u+=h.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),c>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(e){if(e&&e.activeElt&&e.activeElt!=M()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&D(document.body,e.anchorNode)&&D(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}(u),T(n.cursorDiv),T(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ni(e,400)),n.updateLineNumbers=null,!0}function ai(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=En(e))r&&(t.visible=Tr(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+Sn(e.display)-Tn(e),n.top)}),t.visible=Tr(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!oi(e,t))break;kr(e);var i=Ar(e);mr(e),Hr(e,i),ci(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function si(e,t){var n=new ii(e,t);if(oi(e,n)){kr(e),ai(e,n);var r=Ar(e);mr(e),Hr(e,r),ci(e,r),n.finish()}}function li(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px"}function ci(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+kn(e)+"px"}function ui(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=or(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function di(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=Ze(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(O("div",[O("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",li(e.display),!0}return!1}function hi(e,t){for(var n=[],r=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;r=!0}n.push({className:o,style:a})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function pi(e){var t=e.gutters,n=e.gutterSpecs;T(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var i=n[r],o=i.className,a=i.style,s=t.appendChild(O("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",li(e)}function fi(e){pi(e.display),ur(e),ui(e)}function mi(e,t,r,i){var o=this;this.input=r,o.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=P("div",null,"CodeMirror-code"),o.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=O("div",null,"CodeMirror-cursors"),o.measure=O("div",null,"CodeMirror-measure"),o.lineMeasure=O("div",null,"CodeMirror-measure"),o.lineSpace=P("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var c=P("div",[o.lineSpace],"CodeMirror-lines");o.mover=O("div",[c],null,"position: relative"),o.sizer=O("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=O("div",null,null,"position: absolute; height: 50px; width: 1px;"),o.gutters=O("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=O("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=O("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||n&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=hi(i.gutters,i.lineNumbers),pi(o),r.init(o)}ii.prototype.signal=function(e,t){ve(e,t)&&this.events.push(arguments)},ii.prototype.finish=function(){for(var e=0;e<this.events.length;e++)fe.apply(null,this.events[e])};var gi=0,vi=null;function _i(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function yi(e){var t=_i(e);return t.x*=vi,t.y*=vi,t}function bi(e,t){var r=_i(t),i=r.x,o=r.y,a=e.display,s=a.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(i&&c||o&&u){if(o&&_&&l)e:for(var h=t.target,p=a.view;h!=s;h=h.parentNode)for(var f=0;f<p.length;f++)if(p[f].node==h){e.display.currentWheelTarget=h;break e}if(i&&!n&&!d&&null!=vi)return o&&u&&Rr(e,Math.max(0,s.scrollTop+o*vi)),Nr(e,Math.max(0,s.scrollLeft+i*vi)),(!o||o&&u)&&ye(t),void(a.wheelStartX=null);if(o&&null!=vi){var m=o*vi,g=e.doc.scrollTop,v=g+a.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),si(e,{top:g,bottom:v})}gi<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=i,a.wheelDY=o,setTimeout((function(){if(null!=a.wheelStartX){var e=s.scrollLeft-a.wheelStartX,t=s.scrollTop-a.wheelStartY,n=t&&a.wheelDY&&t/a.wheelDY||e&&a.wheelDX&&e/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(vi=(vi*gi+n)/(gi+1),++gi)}}),200)):(a.wheelDX+=i,a.wheelDY+=o))}}a?vi=-.53:n?vi=15:u?vi=-.7:h&&(vi=-1/3);var Ci=function(e,t){this.ranges=e,this.primIndex=t};Ci.prototype.primary=function(){return this.ranges[this.primIndex]},Ci.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!tt(n.anchor,r.anchor)||!tt(n.head,r.head))return!1}return!0},Ci.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new wi(nt(this.ranges[t].anchor),nt(this.ranges[t].head));return new Ci(e,this.primIndex)},Ci.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Ci.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(et(t,r.from())>=0&&et(e,r.to())<=0)return n}return-1};var wi=function(e,t){this.anchor=e,this.head=t};function Si(e,t,n){var r=e&&e.options.selectionsMayTouch,i=t[n];t.sort((function(e,t){return et(e.from(),t.from())})),n=H(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=et(s.to(),a.from());if(r&&!a.empty()?l>0:l>=0){var c=it(s.from(),a.from()),u=rt(s.to(),a.to()),d=s.empty()?a.from()==a.head:s.from()==s.head;o<=n&&--n,t.splice(--o,2,new wi(d?u:c,d?c:u))}}return new Ci(t,n)}function xi(e,t){return new Ci([new wi(e,t||e)],0)}function ki(e){return e.text?Qe(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Ei(e,t){if(et(e,t.from)<0)return e;if(et(e,t.to)<=0)return ki(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ki(t).ch-t.to.ch),Qe(n,r)}function Ti(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new wi(Ei(i.anchor,t),Ei(i.head,t)))}return Si(e.cm,n,e.sel.primIndex)}function ji(e,t,n){return e.line==t.line?Qe(n.line,e.ch-t.ch+n.ch):Qe(n.line+(e.line-t.line),e.ch)}function Oi(e){e.doc.mode=Fe(e.options,e.doc.modeOption),Pi(e)}function Pi(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ni(e,100),e.state.modeGen++,e.curOp&&ur(e)}function Di(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Mi(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){!function(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Tt(e),jt(e,n);var i=r?r(e):1;i!=e.height&&Ye(e,i)}(e,n,i,r),sn(e,"change",e,t)}function a(e,t){for(var n=[],o=e;o<t;++o)n.push(new Wt(c[o],i(o),r));return n}var s=t.from,l=t.to,c=t.text,u=We(e,s.line),d=We(e,l.line),h=Y(c),p=i(c.length-1),f=l.line-s.line;if(t.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(Di(e,t)){var m=a(0,c.length-1);o(d,d.text,p),f&&e.remove(s.line,f),m.length&&e.insert(s.line,m)}else if(u==d)if(1==c.length)o(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),p);else{var g=a(1,c.length-1);g.push(new Wt(h+u.text.slice(l.ch),p,r)),o(u,u.text.slice(0,s.ch)+c[0],i(0)),e.insert(s.line+1,g)}else if(1==c.length)o(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),i(0)),e.remove(s.line+1,f);else{o(u,u.text.slice(0,s.ch)+c[0],i(0)),o(d,h+d.text.slice(l.ch),p);var v=a(1,c.length-1);f>1&&e.remove(s.line+1,f-1),e.insert(s.line+1,v)}sn(e,"change",e,t)}function Ii(e,t,n){!function e(r,i,o){if(r.linked)for(var a=0;a<r.linked.length;++a){var s=r.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(t(s.doc,l),e(s.doc,r,l))}}}(e,null,!0)}function Ri(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,sr(e),Oi(e),Li(e),e.options.lineWrapping||Xt(e),e.options.mode=t.modeOption,ur(e)}function Li(e){("rtl"==e.doc.direction?I:E)(e.display.lineDiv,"CodeMirror-rtl")}function Ni(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ai(e,t){var n={from:nt(t.from),to:ki(t),text:Ve(e,t.from,t.to)};return qi(e,n,t.from.line,t.to.line+1),Ii(e,(function(e){return qi(e,n,t.from.line,t.to.line+1)}),!0),n}function Fi(e){for(;e.length&&Y(e).ranges;)e.pop()}function Bi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=function(e,t){return t?(Fi(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}(i,i.lastOp==r)))a=Y(o.changes),0==et(t.from,t.to)&&0==et(t.from,a.to)?a.to=ki(t):o.changes.push(Ai(e,t));else{var l=Y(i.done);for(l&&l.ranges||zi(e.sel,i.done),o={changes:[Ai(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,a||fe(e,"historyAdded")}function Hi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||function(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,o,Y(i.done),t))?i.done[i.done.length-1]=t:zi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&!1!==r.clearRedo&&Fi(i.undone)}function zi(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function qi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o}))}function Ui(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Xi(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],i=0;i<t.text.length;++i)r.push(Ui(n[i]));return r}(e,t),r=kt(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Wi(e,t,n){for(var r=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?Ci.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c=a[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var d in c)(u=d.match(/^spans_(\d+)$/))&&H(t,Number(u[1]))>-1&&(Y(s)[d]=c[d],delete c[d])}}}return r}function Vi(e,t,n,r){if(r){var i=e.anchor;if(n){var o=et(t,i)<0;o!=et(n,i)<0?(i=t,t=n):o!=et(t,n)<0&&(t=n)}return new wi(i,t)}return new wi(n||t,t)}function Gi(e,t,n,r,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Zi(e,new Ci([Vi(e.sel.primary(),t,n,i)],0),r)}function Yi(e,t,n){for(var r=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)r[o]=Vi(e.sel.ranges[o],t[o],null,i);Zi(e,Si(e.cm,r,e.sel.primIndex),n)}function Ki(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,Zi(e,Si(e.cm,i,e.sel.primIndex),r)}function $i(e,t,n,r){Zi(e,xi(t,n),r)}function Ji(e,t,n){var r=e.history.done,i=Y(r);i&&i.ranges?(r[r.length-1]=t,Qi(e,t,n)):Zi(e,t,n)}function Zi(e,t,n){Qi(e,t,n),Hi(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Qi(e,t,n){(ve(e,"beforeSelectionChange")||e.cm&&ve(e.cm,"beforeSelectionChange"))&&(t=function(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new wi(at(e,t[n].anchor),at(e,t[n].head))},origin:n&&n.origin};return fe(e,"beforeSelectionChange",e,r),e.cm&&fe(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?Si(e.cm,r.ranges,r.ranges.length-1):t}(e,t,n));var r=n&&n.bias||(et(t.primary().head,e.sel.primary().head)<0?-1:1);eo(e,no(e,t,r,!0)),n&&!1===n.scroll||!e.cm||Pr(e.cm)}function eo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ge(e.cm)),sn(e,"cursorActivity",e))}function to(e){eo(e,no(e,e.sel,null,!1))}function no(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=io(e,a.anchor,s&&s.anchor,n,r),c=io(e,a.head,s&&s.head,n,r);(i||l!=a.anchor||c!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new wi(l,c))}return i?Si(e.cm,i,t.primIndex):t}function ro(e,t,n,r,i){var o=We(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(i&&(fe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var d=l.find(r<0?1:-1),h=void 0;if((r<0?u:c)&&(d=oo(e,d,-r,d&&d.line==t.line?o:null)),d&&d.line==t.line&&(h=et(d,n))&&(r<0?h<0:h>0))return ro(e,d,t,r,i)}var p=l.find(r<0?-1:1);return(r<0?c:u)&&(p=oo(e,p,r,p.line==t.line?o:null)),p?ro(e,p,t,r,i):null}}return t}function io(e,t,n,r,i){var o=r||1,a=ro(e,t,n,o,i)||!i&&ro(e,t,n,o,!0)||ro(e,t,n,-o,i)||!i&&ro(e,t,n,-o,!0);return a||(e.cantEdit=!0,Qe(e.first,0))}function oo(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?at(e,Qe(t.line-1)):null:n>0&&t.ch==(r||We(e,t.line)).text.length?t.line<e.first+e.size-1?Qe(t.line+1,0):null:new Qe(t.line,t.ch+n)}function ao(e){e.setSelection(Qe(e.firstLine(),0),Qe(e.lastLine()),q)}function so(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,i,o){t&&(r.from=at(e,t)),n&&(r.to=at(e,n)),i&&(r.text=i),void 0!==o&&(r.origin=o)}),fe(e,"beforeChange",e,r),e.cm&&fe(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function lo(e,t,n){if(e.cm){if(!e.cm.curOp)return Qr(e.cm,lo)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"))||(t=so(e,t,!0))){var r=bt&&!n&&function(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=H(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(et(c.to,s.from)<0||et(c.from,s.to)>0)){var u=[l,1],d=et(c.from,s.from),h=et(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-3}}return i}(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)co(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text,origin:t.origin});else co(e,t)}}function co(e,t){if(1!=t.text.length||""!=t.text[0]||0!=et(t.from,t.to)){var n=Ti(e,t);Bi(e,t,n,e.cm?e.cm.curOp.id:NaN),po(e,t,n,kt(e,t));var r=[];Ii(e,(function(e,n){n||-1!=H(r,e.history)||(vo(e.history,t),r.push(e.history)),po(e,t,null,kt(e,t))}))}}function uo(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,c=0;c<s.length&&(i=s[c],n?!i.ranges||i.equals(e.sel):i.ranges);c++);if(c!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(r)return void s.push(i);break}if(zi(i,l),n&&!i.equals(e.sel))return void Zi(e,i,{clearRedo:!1});a=i}var u=[];zi(a,l),l.push({changes:u,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var d=ve(e,"beforeChange")||e.cm&&ve(e.cm,"beforeChange"),h=function(n){var r=i.changes[n];if(r.origin=t,d&&!so(e,r,!1))return s.length=0,{};u.push(Ai(e,r));var o=n?Ti(e,r):Y(s);po(e,r,o,Xi(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ki(r)});var a=[];Ii(e,(function(e,t){t||-1!=H(a,e.history)||(vo(e.history,r),a.push(e.history)),po(e,r,null,Xi(e,r))}))},p=i.changes.length-1;p>=0;--p){var f=h(p);if(f)return f.v}}}}function ho(e,t){if(0!=t&&(e.first+=t,e.sel=new Ci(K(e.sel.ranges,(function(e){return new wi(Qe(e.anchor.line+t,e.anchor.ch),Qe(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){ur(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)dr(e.cm,r,"gutter")}}function po(e,t,n,r){if(e.cm&&!e.cm.curOp)return Qr(e.cm,po)(e,t,n,r);if(t.to.line<e.first)ho(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ho(e,i),t={from:Qe(e.first,0),to:Qe(t.to.line+i,t.to.ch),text:[Y(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:Qe(o,We(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ve(e,t.from,t.to),n||(n=Ti(e,t)),e.cm?function(e,t,n){var r=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=Ke(At(We(r,o.line))),r.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ge(e),Mi(r,t,n,ar(e)),e.options.lineWrapping||(r.iter(l,o.line+t.text.length,(function(e){var t=Ut(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var i=We(e,r).stateAfter;if(i&&(!(i instanceof lt)||r+i.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}(r,o.line),ni(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?ur(e):o.line!=a.line||1!=t.text.length||Di(e.doc,t)?ur(e,o.line,a.line+1,c):dr(e,o.line,"text");var u=ve(e,"changes"),d=ve(e,"change");if(d||u){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&sn(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,r):Mi(e,t,r),Qi(e,n,q),e.cantEdit&&io(e,Qe(e.firstLine(),0))&&(e.cantEdit=!1)}}function fo(e,t,n,r,i){var o;r||(r=n),et(r,n)<0&&(n=(o=[r,n])[0],r=o[1]),"string"==typeof t&&(t=e.splitLines(t)),lo(e,{from:n,to:r,text:t,origin:i})}function mo(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function go(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)mo(o.ranges[s].anchor,t,n,r),mo(o.ranges[s].head,t,n,r)}else{for(var l=0;l<o.changes.length;++l){var c=o.changes[l];if(n<c.from.line)c.from=Qe(c.from.line+r,c.from.ch),c.to=Qe(c.to.line+r,c.to.ch);else if(t<=c.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function vo(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;go(e.done,n,r,i),go(e.undone,n,r,i)}function _o(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=We(e,ot(e,t)):i=Ke(t),null==i?null:(r(o,i)&&e.cm&&dr(e.cm,i,n),o)}function yo(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function bo(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}wi.prototype.from=function(){return it(this.anchor,this.head)},wi.prototype.to=function(){return rt(this.anchor,this.head)},wi.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},yo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var i=this.lines[n];this.height-=i.height,Vt(i),sn(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},bo.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(e<i){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof yo))){var s=[];this.collapse(s),this.children=[new yo(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new yo(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++r,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new bo(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=H(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new bo(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var Co=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function wo(e,t,n){qt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Or(e,n)}Co.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=Ke(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=bn(this);Ye(n,Math.max(0,n.height-o)),e&&(Zr(e,(function(){wo(e,n,-o),dr(e,r,"widget")})),sn(e,"lineWidgetCleared",e,this,r))}},Co.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var i=bn(this)-t;i&&(Ht(this.doc,r)||Ye(r,r.height+i),n&&Zr(n,(function(){n.curOp.forceUpdate=!0,wo(n,r,i),sn(n,"lineWidgetChanged",n,e,Ke(r))})))},_e(Co);var So=0,xo=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++So};function ko(e,t,n,r,i){if(r&&r.shared)return function(e,t,n,r,i){(r=A(r)).shared=!1;var o=[ko(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Ii(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(ko(e,at(e,t),at(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=Y(o)})),new Eo(o,a)}(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return Qr(e.cm,ko)(e,t,n,r,i);var o=new xo(e,i),a=et(t,n);if(r&&A(r,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=P("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Nt(e,t.line,t,n,o)||t.line!=n.line&&Nt(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Ct=!0}o.addToHistory&&Bi(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&o.collapsed&&!c.options.lineWrapping&&At(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Ye(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new wt(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),o.collapsed&&e.iter(t.line,n.line+1,(function(t){Ht(e,t)&&Ye(t,0)})),o.clearOnEnter&&de(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(bt=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++So,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)ur(c,t.line,n.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var u=t.line;u<=n.line;u++)dr(c,u,"text");o.atomic&&to(c.doc),sn(c,"markerAdded",c,o)}return o}xo.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Wr(e),ve(this,"clear")){var n=this.find();n&&sn(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=St(a.markedSpans,this);e&&!this.collapsed?dr(e,Ke(a),"text"):e&&(null!=s.to&&(i=Ke(a)),null!=s.from&&(r=Ke(a))),a.markedSpans=xt(a.markedSpans,s),null==s.from&&this.collapsed&&!Ht(this.doc,a)&&e&&Ye(a,nr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=At(this.lines[l]),u=Ut(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&ur(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&to(e.doc)),e&&sn(e,"markerCleared",e,this,r,i),t&&Vr(e),this.parent&&this.parent.clear()}},xo.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=St(o.markedSpans,this);if(null!=a.from&&(n=Qe(t?o:Ke(o),a.from),-1==e))return n;if(null!=a.to&&(r=Qe(t?o:Ke(o),a.to),1==e))return r}return n&&{from:n,to:r}},xo.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Zr(r,(function(){var i=t.line,o=Ke(t.line),a=Pn(r,o);if(a&&(An(a),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!Ht(n.doc,i)&&null!=n.height){var s=n.height;n.height=null;var l=bn(n)-s;l&&Ye(i,i.height+l)}sn(r,"markerChanged",r,e)}))},xo.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=H(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},xo.prototype.detachLine=function(e){if(this.lines.splice(H(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(xo);var Eo=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function To(e){return e.findMarks(Qe(e.first,0),e.clipPos(Qe(e.lastLine())),(function(e){return e.parent}))}function jo(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];Ii(n.primary.doc,(function(e){return r.push(e)}));for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==H(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}},n=0;n<e.length;n++)t(n)}Eo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();sn(this,"clear")}},Eo.prototype.find=function(e,t){return this.primary.find(e,t)},_e(Eo);var Oo=0,Po=function e(t,n,r,i,o){if(!(this instanceof e))return new e(t,n,r,i,o);null==r&&(r=0),bo.call(this,[new yo([new Wt("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var a=Qe(r,0);this.sel=xi(a),this.history=new Ni(null),this.id=++Oo,this.modeOption=n,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Mi(this,{from:a,to:a,text:t}),Zi(this,xi(a),q)};(Po.prototype=J(bo.prototype,{constructor:Po,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Ge(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ti((function(e){var t=Qe(this.first,0),n=this.first+this.size-1;lo(this,{from:t,to:Qe(n,We(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Dr(this.cm,0,0),Zi(this,xi(t),q)})),replaceRange:function(e,t,n,r){fo(this,e,t=at(this,t),n=n?at(this,n):t,r)},getRange:function(e,t,n){var r=Ve(this,at(this,e),at(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Je(this,e))return We(this,e)},getLineNumber:function(e){return Ke(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=We(this,e)),At(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return at(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ti((function(e,t,n){$i(this,at(this,"number"==typeof e?Qe(e,t||0):e),null,n)})),setSelection:ti((function(e,t,n){$i(this,at(this,e),at(this,t||e),n)})),extendSelection:ti((function(e,t,n){Gi(this,at(this,e),t&&at(this,t),n)})),extendSelections:ti((function(e,t){Yi(this,st(this,e),t)})),extendSelectionsBy:ti((function(e,t){Yi(this,st(this,K(this.sel.ranges,e)),t)})),setSelections:ti((function(e,t,n){if(e.length){for(var r=[],i=0;i<e.length;i++)r[i]=new wi(at(this,e[i].anchor),at(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Zi(this,Si(this.cm,r,t),n)}})),addSelection:ti((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new wi(at(this,e),at(this,t||e))),Zi(this,Si(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Ve(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Ve(this,n[r].from(),n[r].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:ti((function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}for(var s=t&&"end"!=t&&function(e,t,n){for(var r=[],i=Qe(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=ji(s.from,i,o),c=ji(ki(s),i,o);if(i=s.to,o=c,"around"==n){var u=e.sel.ranges[a],d=et(u.head,u.anchor)<0;r[a]=new wi(d?c:l,d?l:c)}else r[a]=new wi(l,l)}return new Ci(r,e.sel.primIndex)}(this,r,t),l=r.length-1;l>=0;l--)lo(this,r[l]);s?Ji(this,s):this.cm&&Pr(this.cm)})),undo:ti((function(){uo(this,"undo")})),redo:ti((function(){uo(this,"redo")})),undoSelection:ti((function(){uo(this,"undo",!0)})),redoSelection:ti((function(){uo(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new Ni(this.history.maxGeneration),Ii(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Wi(this.history.done),undone:Wi(this.history.undone)}},setHistory:function(e){var t=this.history=new Ni(this.history.maxGeneration);t.done=Wi(e.done.slice(0),null,!0),t.undone=Wi(e.undone.slice(0),null,!0)},setGutterMarker:ti((function(e,t,n){return _o(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&te(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:ti((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&_o(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,te(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!Je(this,e))return null;if(t=e,!(e=We(this,e)))return null}else if(null==(t=Ke(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ti((function(e,t,n){return _o(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(x(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:ti((function(e,t,n){return _o(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(x(n));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:ti((function(e,t,n){return function(e,t,n,r){var i=new Co(e,n,r),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),_o(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!Ht(e,t)){var r=qt(t)<e.scrollTop;Ye(t,t.height+bn(i)),r&&Or(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&sn(o,"lineWidgetAdded",o,i,"number"==typeof t?t:Ke(t)),i}(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return ko(this,at(this,e),at(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return ko(this,e=at(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=We(this,(e=at(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=at(this,e),t=at(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+r;if(o>e)return t=e,!0;e-=o,++n})),at(this,Qe(n,t))},indexFromPos:function(e){var t=(e=at(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Po(Ge(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Po(Ge(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(et(o,a)){var s=ko(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}(r,To(this)),r},unlinkDoc:function(e){if(e instanceof Ea&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),jo(To(this));break}if(e.history==this.history){var n=[e.id];Ii(e,(function(e){return n.push(e.id)}),!0),e.history=new Ni(null),e.history.done=Wi(this.history.done,n),e.history.undone=Wi(this.history.undone,n)}},iterLinkedDocs:function(e){Ii(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Pe(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ti((function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&Zr(t=this.cm,(function(){Li(t),ur(t)})))}))})).eachLine=Po.prototype.iter;var Do=0;function Mo(e){var t=this;if(Io(t),!me(t,e)&&!Cn(t.display,e)){ye(e),a&&(Do=+new Date);var n=lr(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),s=0,l=function(){++s==i&&Qr(t,(function(){var e={from:n=at(t.doc,n),to:n,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};lo(t.doc,e),Ji(t.doc,xi(at(t.doc,n),at(t.doc,ki(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==H(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var d=e.dataTransfer.getData("Text");if(d){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Qi(t.doc,xi(n,n)),h)for(var p=0;p<h.length;++p)fo(t.doc,"",h[p].anchor,h[p].head,"drag");t.replaceSelection(d,"around","paste"),t.display.input.focus()}}catch(f){}}}}function Io(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Ro(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var i=t[r].CodeMirror;i&&n.push(i)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Lo=!1;function No(){Lo||(function(){var e;de(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Ro(Ao)}),100))})),de(window,"blur",(function(){return Ro(xr)}))}(),Lo=!0)}function Ao(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Fo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Bo=0;Bo<10;Bo++)Fo[Bo+48]=Fo[Bo+96]=String(Bo);for(var Ho=65;Ho<=90;Ho++)Fo[Ho]=String.fromCharCode(Ho);for(var zo=1;zo<=12;zo++)Fo[zo+111]=Fo[zo+63235]="F"+zo;var qo={};function Uo(e){var t,n,r,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Xo(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var i=K(n.split(" "),Uo),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e}function Wo(e,t,n,r){var i=(t=Ko(t)).call?t.call(e,r):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Wo(e,t.fallthrough,n,r);for(var o=0;o<t.fallthrough.length;o++){var a=Wo(e,t.fallthrough[o],n,r);if(a)return a}}}function Vo(e){var t="string"==typeof e?e:Fo[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Go(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(w?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(w?t.ctrlKey:t.metaKey)&&"Cmd"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Yo(e,t){if(d&&34==e.keyCode&&e.char)return!1;var n=Fo[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Go(n,e,t))}function Ko(e){return"string"==typeof e?qo[e]:e}function $o(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&et(o.from,Y(r).to)<=0;){var a=r.pop();if(et(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Zr(e,(function(){for(var t=r.length-1;t>=0;t--)fo(e.doc,"",r[t].from,r[t].to,"+delete");Pr(e)}))}function Jo(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Zo(e,t,n){var r=Jo(e,t.ch,n);return null==r?null:new Qe(t.line,r,n<0?"after":"before")}function Qo(e,t,n,r,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=ce(n,t.doc.direction);if(o){var a,s=i<0?Y(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Dn(t,n);a=i<0?n.text.length-1:0;var u=Mn(t,c,a).top;a=oe((function(e){return Mn(t,c,e).top==u}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Jo(n,a,1))}else a=i<0?s.to:s.from;return new Qe(r,a,l)}}return new Qe(r,i<0?n.text.length:0,i<0?"before":"after")}qo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},qo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},qo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},qo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},qo.default=_?qo.macDefault:qo.pcDefault;var ea={selectAll:ao,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),q)},killLine:function(e){return $o(e,(function(t){if(t.empty()){var n=We(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:Qe(t.head.line+1,0)}:{from:t.head,to:Qe(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return $o(e,(function(t){return{from:Qe(t.from().line,0),to:at(e.doc,Qe(t.to().line+1,0))}}))},delLineLeft:function(e){return $o(e,(function(e){return{from:Qe(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return $o(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return $o(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(Qe(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(Qe(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return ta(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return na(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return function(e,t){var n=We(e.doc,t),r=function(e){for(var t;t=Rt(e);)e=t.find(1,!0).line;return e}(n);return r!=n&&(t=Ke(r)),Qo(!0,e,n,t,-1)}(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),X)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),X)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?na(e,t.head):r}),X)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=F(e.getLine(o.line),o.ch,r);t.push(G(r-a%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Zr(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var i=t[r].head,o=We(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Qe(i.line,i.ch-1)),i.ch>0)i=new Qe(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Qe(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=We(e.doc,i.line-1).text;a&&(i=new Qe(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),Qe(i.line-1,a.length-1),i,"+transpose"))}n.push(new wi(i,i))}e.setSelections(n)}))},newlineAndIndent:function(e){return Zr(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);Pr(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function ta(e,t){var n=We(e.doc,t),r=At(n);return r!=n&&(t=Ke(r)),Qo(!0,e,r,t,1)}function na(e,t){var n=ta(e,t.line),r=We(e.doc,n.line),i=ce(r,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(n.ch,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return Qe(n.line,a?0:o,n.sticky)}return n}function ra(e,t,n){if("string"==typeof t&&!(t=ea[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=z}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}var ia=new B;function oa(e,t,n,r){var i=e.state.keySeq;if(i){if(Vo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:ia.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),aa(e,i+" "+t,n,r))return!0}return aa(e,t,n,r)}function aa(e,t,n,r){var i=function(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var i=Wo(t,e.state.keyMaps[r],n,e);if(i)return i}return e.options.extraKeys&&Wo(t,e.options.extraKeys,n,e)||Wo(t,e.options.keyMap,n,e)}(e,t,r);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&sn(e,"keyHandled",e,t,n),"handled"!=i&&"multi"!=i||(ye(n),br(e)),!!i}function sa(e,t){var n=Yo(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?oa(e,"Shift-"+n,t,(function(t){return ra(e,t,!0)}))||oa(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ra(e,t)})):oa(e,n,t,(function(t){return ra(e,t)})))}var la=null;function ca(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=M(),!me(t,e))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var i=sa(t,e);d&&(la=i?r:null,i||88!=r||Me||!(_?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!_&&!i&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(E(t,"CodeMirror-crosshair"),pe(document,"keyup",n),pe(document,"mouseover",n))}I(t,"CodeMirror-crosshair"),de(document,"keyup",n),de(document,"mouseover",n)}(t)}}function ua(e){16==e.keyCode&&(this.doc.sel.shift=!1),me(this,e)}function da(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Cn(t.display,e)||me(t,e)||e.ctrlKey&&!e.altKey||_&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(d&&n==la)return la=null,void ye(e);if(!d||e.which&&!(e.which<10)||!sa(t,e)){var i=String.fromCharCode(null==r?n:r);"\b"!=i&&(function(e,t,n){return oa(e,"'"+n+"'",t,(function(t){return ra(e,t,!0)}))}(t,e,i)||t.display.input.onKeyPress(e))}}}var ha,pa,fa=function(e,t,n){this.time=e,this.pos=t,this.button=n};function ma(e){var t=this,n=t.display;if(!(me(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Cn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!_a(t,e)){var r=lr(t,e),i=xe(e),o=r?function(e,t){var n=+new Date;return pa&&pa.compare(n,e,t)?(ha=pa=null,"triple"):ha&&ha.compare(n,e,t)?(pa=new fa(n,e,t),ha=null,"double"):(ha=new fa(n,e,t),pa=null,"single")}(r,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),r&&function(e,t,n,r,i){var o="Click";return"double"==r?o="Double"+o:"triple"==r&&(o="Triple"+o),oa(e,Go(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=ea[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=z}finally{e.state.suppressEdits=!1}return r}))}(t,i,r,o,e)||(1==i?r?function(e,t,n,r){a?setTimeout(N(Cr,e),0):e.curOp.focus=M();var i,o=function(e,t,n){var r=e.getOption("configureMouse"),i=r?r(e,t,n):{};if(null==i.unit){var o=y?n.shiftKey&&n.metaKey:n.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||n.shiftKey),null==i.addNew&&(i.addNew=_?n.metaKey:n.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(_?n.altKey:n.ctrlKey)),i}(e,n,r),c=e.doc.sel;e.options.dragDrop&&Te&&!e.isReadOnly()&&"single"==n&&(i=c.contains(t))>-1&&(et((i=c.ranges[i]).from(),t)<0||t.xRel>0)&&(et(i.to(),t)>0||t.xRel<0)?function(e,t,n,r){var i=e.display,o=!1,c=Qr(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,pe(i.wrapper.ownerDocument,"mouseup",c),pe(i.wrapper.ownerDocument,"mousemove",u),pe(i.scroller,"dragstart",d),pe(i.scroller,"drop",c),o||(ye(t),r.addNew||Gi(e.doc,n,null,null,r.extend),l&&!h||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),u=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},d=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),de(i.wrapper.ownerDocument,"mouseup",c),de(i.wrapper.ownerDocument,"mousemove",u),de(i.scroller,"dragstart",d),de(i.scroller,"drop",c),wr(e),setTimeout((function(){return i.input.focus()}),20)}(e,r,t,o):function(e,t,n,r){var i=e.display,o=e.doc;ye(t);var a,s,l=o.sel,c=l.ranges;if(r.addNew&&!r.extend?(s=o.sel.contains(n),a=s>-1?c[s]:new wi(n,n)):(a=o.sel.primary(),s=o.sel.primIndex),"rectangle"==r.unit)r.addNew||(a=new wi(n,n)),n=lr(e,t,!0,!0),s=-1;else{var u=ga(e,n,r.unit);a=r.extend?Vi(a,u.anchor,u.head,r.extend):u}r.addNew?-1==s?(s=c.length,Zi(o,Si(e,c.concat([a]),s),{scroll:!1,origin:"*mouse"})):c.length>1&&c[s].empty()&&"char"==r.unit&&!r.extend?(Zi(o,Si(e,c.slice(0,s).concat(c.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=o.sel):Ki(o,s,a,U):(s=0,Zi(o,new Ci([a],0),U),l=o.sel);var d=n;function h(t){if(0!=et(d,t))if(d=t,"rectangle"==r.unit){for(var i=[],c=e.options.tabSize,u=F(We(o,n.line).text,n.ch,c),h=F(We(o,t.line).text,t.ch,c),p=Math.min(u,h),f=Math.max(u,h),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=We(o,m).text,_=W(v,p,c);p==f?i.push(new wi(Qe(m,_),Qe(m,_))):v.length>_&&i.push(new wi(Qe(m,_),Qe(m,W(v,f,c))))}i.length||i.push(new wi(n,n)),Zi(o,Si(e,l.ranges.slice(0,s).concat(i),s),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var y,b=a,C=ga(e,t,r.unit),w=b.anchor;et(C.anchor,w)>0?(y=C.head,w=it(b.from(),C.anchor)):(y=C.anchor,w=rt(b.to(),C.head));var S=l.ranges.slice(0);S[s]=function(e,t){var n=t.anchor,r=t.head,i=We(e.doc,n.line);if(0==et(n,r)&&n.sticky==r.sticky)return t;var o=ce(i);if(!o)return t;var a=se(o,n.ch,n.sticky),s=o[a];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==o.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=se(o,r.ch,r.sticky),d=u-a||(r.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?d<0:d>0}var h=o[c+(l?-1:0)],p=l==(1==h.level),f=p?h.from:h.to,m=p?"after":"before";return n.ch==f&&n.sticky==m?t:new wi(new Qe(n.line,f,m),r)}(e,new wi(at(o,w),y)),Zi(o,Si(e,S,s),U)}}var p=i.wrapper.getBoundingClientRect(),f=0;function m(t){e.state.selectingText=!1,f=1/0,t&&(ye(t),i.input.focus()),pe(i.wrapper.ownerDocument,"mousemove",g),pe(i.wrapper.ownerDocument,"mouseup",v),o.history.lastSelOrigin=null}var g=Qr(e,(function(t){0!==t.buttons&&xe(t)?function t(n){var a=++f,s=lr(e,n,!0,"rectangle"==r.unit);if(s)if(0!=et(s,d)){e.curOp.focus=M(),h(s);var l=Tr(i,o);(s.line>=l.to||s.line<l.from)&&setTimeout(Qr(e,(function(){f==a&&t(n)})),150)}else{var c=n.clientY<p.top?-20:n.clientY>p.bottom?20:0;c&&setTimeout(Qr(e,(function(){f==a&&(i.scroller.scrollTop+=c,t(n))})),50)}}(t):m(t)})),v=Qr(e,m);e.state.selectingText=v,de(i.wrapper.ownerDocument,"mousemove",g),de(i.wrapper.ownerDocument,"mouseup",v)}(e,r,t,o)}(t,r,o,e):Se(e)==n.scroller&&ye(e):2==i?(r&&Gi(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==i&&(S?t.display.input.onContextMenu(e):wr(t)))}}function ga(e,t,n){if("char"==n)return new wi(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new wi(Qe(t.line,0),at(e.doc,Qe(t.line+1,0)));var r=n(e,t);return new wi(r.from,r.to)}function va(e,t,n,r){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(u){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&ye(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ve(e,n))return Ce(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=i)return fe(e,n,e,$e(e.doc,o),e.display.gutterSpecs[l].className,t),Ce(t)}}function _a(e,t){return va(e,t,"gutterClick",!0)}function ya(e,t){Cn(e.display,t)||function(e,t){return!!ve(e,"gutterContextMenu")&&va(e,t,"gutterContextMenu",!1)}(e,t)||me(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function ba(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(e)}fa.prototype.compare=function(e,t,n){return this.time+400>e&&0==et(t,this.pos)&&n==this.button};var Ca={toString:function(){return"CodeMirror.Init"}},wa={},Sa={};function xa(e,t,n){if(!t!=!(n&&n!=Ca)){var r=e.display.dragFunctions,i=t?de:pe;i(e.display.scroller,"dragstart",r.start),i(e.display.scroller,"dragenter",r.enter),i(e.display.scroller,"dragover",r.over),i(e.display.scroller,"dragleave",r.leave),i(e.display.scroller,"drop",r.drop)}}function ka(e){e.options.lineWrapping?(I(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(E(e.display.wrapper,"CodeMirror-wrap"),Xt(e)),sr(e),ur(e),Bn(e),setTimeout((function(){return Hr(e)}),100)}function Ea(e,t){var n=this;if(!(this instanceof Ea))return new Ea(e,t);this.options=t=t?A(t):{},A(wa,t,!1);var r=t.value;"string"==typeof r?r=new Po(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var i=new Ea.inputStyles[t.inputStyle](this),o=this.display=new mi(e,r,i,t);for(var c in o.wrapper.CodeMirror=this,ba(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ur(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new B,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),function(e){var t=e.display;de(t.scroller,"mousedown",Qr(e,ma)),de(t.scroller,"dblclick",a&&s<11?Qr(e,(function(t){if(!me(e,t)){var n=lr(e,t);if(n&&!_a(e,t)&&!Cn(e.display,t)){ye(t);var r=e.findWordAt(n);Gi(e.doc,r.anchor,r.head)}}})):function(t){return me(e,t)||ye(t)}),de(t.scroller,"contextmenu",(function(t){return ya(e,t)})),de(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||ya(e,n)}));var n,r={end:0};function i(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function o(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}de(t.scroller,"touchstart",(function(i){if(!me(e,i)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(i)&&!_a(e,i)){t.input.ensurePolled(),clearTimeout(n);var o=+new Date;t.activeTouch={start:o,moved:!1,prev:o-r.end<=300?r:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),de(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),de(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Cn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,s=e.coordsChar(t.activeTouch,"page");a=!r.prev||o(r,r.prev)?new wi(s,s):!r.prev.prev||o(r,r.prev.prev)?e.findWordAt(s):new wi(Qe(s.line,0),at(e.doc,Qe(s.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),ye(n)}i()})),de(t.scroller,"touchcancel",i),de(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(Rr(e,t.scroller.scrollTop),Nr(e,t.scroller.scrollLeft,!0),fe(e,"scroll",e))})),de(t.scroller,"mousewheel",(function(t){return bi(e,t)})),de(t.scroller,"DOMMouseScroll",(function(t){return bi(e,t)})),de(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){me(e,t)||we(t)},over:function(t){me(e,t)||(function(e,t){var n=lr(e,t);if(n){var r=document.createDocumentFragment();vr(e,n,r),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),j(e.display.dragCursor,r)}}(e,t),we(t))},start:function(t){return function(e,t){if(a&&(!e.state.draggingText||+new Date-Do<100))we(t);else if(!me(e,t)&&!Cn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!h)){var n=O("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),d&&n.parentNode.removeChild(n)}}(e,t)},drop:Qr(e,Mo),leave:function(t){me(e,t)||Io(e)}};var l=t.input.getField();de(l,"keyup",(function(t){return ua.call(e,t)})),de(l,"keydown",Qr(e,ca)),de(l,"keypress",Qr(e,da)),de(l,"focus",(function(t){return Sr(e,t)})),de(l,"blur",(function(t){return xr(e,t)}))}(this),No(),Wr(this),this.curOp.forceUpdate=!0,Ri(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout(N(Sr,this),20):xr(this),Sa)Sa.hasOwnProperty(c)&&Sa[c](this,t[c],Ca);di(this),t.finishInit&&t.finishInit(this);for(var u=0;u<Ta.length;++u)Ta[u](this);Vr(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}Ea.defaults=wa,Ea.optionHandlers=Sa;var Ta=[];function ja(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=ht(e,t).state:n="prev");var a=e.options.tabSize,s=We(o,t),l=F(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(i,s.text.slice(u.length),s.text))==z||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?F(We(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)h+=a,d+="\t";if(h<c&&(d+=G(c-h)),d!=u)return fo(o,d,Qe(t,0),Qe(t,u.length),"+input"),s.stateAfter=null,!0;for(var f=0;f<o.sel.ranges.length;f++){var m=o.sel.ranges[f];if(m.head.line==t&&m.head.ch<u.length){var g=Qe(t,u.length);Ki(o,f,new wi(g,g));break}}}Ea.defineInitHook=function(e){return Ta.push(e)};var Oa=null;function Pa(e){Oa=e}function Da(e,t,n,r,i){var o=e.doc;e.display.shift=!1,r||(r=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=Pe(t),c=null;if(s&&r.ranges.length>1)if(Oa&&Oa.text.join("\n")==t){if(r.ranges.length%Oa.text.length==0){c=[];for(var u=0;u<Oa.text.length;u++)c.push(o.splitLines(Oa.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=K(l,(function(e){return[e]})));for(var d=e.curOp.updateInput,h=r.ranges.length-1;h>=0;h--){var p=r.ranges[h],f=p.from(),m=p.to();p.empty()&&(n&&n>0?f=Qe(f.line,f.ch-n):e.state.overwrite&&!s?m=Qe(m.line,Math.min(We(o,m.line).text.length,m.ch+Y(l).length)):s&&Oa&&Oa.lineWise&&Oa.text.join("\n")==t&&(f=m=Qe(f.line,0)));var g={from:f,to:m,text:c?c[h%c.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};lo(e.doc,g),sn(e,"inputRead",e,g)}t&&!s&&Ia(e,t),Pr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=d),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ma(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Zr(t,(function(){return Da(t,n,0,null,"paste")})),!0}function Ia(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=ja(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(We(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=ja(e,i.head.line,"smart"));a&&sn(e,"electricInput",e,i.head.line)}}}function Ra(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var i=e.doc.sel.ranges[r].head.line,o={anchor:Qe(i,0),head:Qe(i+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function La(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Na(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),La(e),t}function Aa(e,t,n,r,i){var o=t,a=n,s=We(e,t.line),l=i&&"rtl"==e.direction?-n:n;function c(r){var o;if(null==(o=i?function(e,t,n,r){var i=ce(t,e.doc.direction);if(!i)return Zo(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var o=se(i,n.ch,n.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(r>0?a.to>n.ch:a.from<n.ch))return Zo(t,n,r);var s,l=function(e,n){return Jo(t,e instanceof Qe?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||Dn(e,t),Jn(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==a.level){var d=1==a.level==r<0,h=l(n,d?1:-1);if(null!=h&&(d?h<=a.to&&h<=u.end:h>=a.from&&h>=u.begin)){var p=d?"before":"after";return new Qe(n.line,h,p)}}var f=function(e,t,r){for(var o=function(e,t){return t?new Qe(n.line,l(e,1),"before"):new Qe(n.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),c=s?r.begin:l(r.end,-1);if(a.from<=c&&c<a.to)return o(c,s);if(c=s?a.from:l(a.to,-1),r.begin<=c&&c<r.end)return o(c,s)}},m=f(o+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||!(m=f(r>0?0:i.length-1,r,c(g)))?null:m}(e.cm,s,t,n):Zo(s,t,n))){if(r||!function(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new Qe(n,t.ch,t.sticky),s=We(e,n))}())return!1;t=Qo(i,e.cm,s,t.line,l)}else t=o;return!0}if("char"==r)c();else if("column"==r)c(!0);else if("word"==r||"group"==r)for(var u=null,d="group"==r,h=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(n<0)||c(!p);p=!1){var f=s.text.charAt(t.ch)||"\n",m=ee(f,h)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||p||m||(m="s"),u&&u!=m){n<0&&(n=1,c(),t.sticky="after");break}if(m&&(u=m),n>0&&!c(!p))break}var g=io(e,t,o,a,!0);return tt(o,g)&&(g.hitSide=!0),g}function Fa(e,t,n,r){var i,o,a=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*nr(e.display),3);i=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;(o=Kn(e,s,i)).outside;){if(n<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*n}return o}var Ba=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new B,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ha(e,t){var n=Pn(e,t.line);if(!n||n.hidden)return null;var r=We(e.doc,t.line),i=jn(n,r,t.line),o=ce(r,e.doc.direction),a="left";o&&(a=se(o,t.ch)%2?"right":"left");var s=Ln(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function za(e,t){return t&&(e.bad=!0),e}function qa(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return za(e.clipPos(Qe(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==r)return Ua(o,t,n)}}function Ua(e,t,n){var r=e.text.firstChild,i=!1;if(!t||!D(r,t))return za(Qe(Ke(e.line),0),!0);if(t==r&&(i=!0,t=r.childNodes[n],n=0,!t)){var o=e.rest?Y(e.rest):e.line;return za(Qe(Ke(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?l.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==n){var u=Ke(i<0?e.line:e.rest[i]),d=o[a]+r;return(r<0||s!=t)&&(d=o[a+(r?1:0)]),Qe(u,d)}}}var d=u(a,s,n);if(d)return za(d,i);for(var h=s.nextSibling,p=a?a.nodeValue.length-n:0;h;h=h.nextSibling){if(d=u(h,h.firstChild,0))return za(Qe(d.line,d.ch-p),i);p+=h.textContent.length}for(var f=s.previousSibling,m=n;f;f=f.previousSibling){if(d=u(f,f.firstChild,-1))return za(Qe(d.line,d.ch+m),i);m+=f.textContent.length}}Ba.prototype.init=function(e){var t=this,n=this,r=n.cm,i=n.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!me(r,e)){if(r.somethingSelected())Pa({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=Ra(r);Pa({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,q),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Oa.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Na(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=Oa.text.join("\n");var c=document.activeElement;L(l),setTimeout((function(){r.display.lineSpace.removeChild(s),c.focus(),c==i&&n.showPrimarySelection()}),50)}}La(i,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),de(i,"paste",(function(e){!o(e)||me(r,e)||Ma(e,r)||s<=11&&setTimeout(Qr(r,(function(){return t.updateFromDOM()})),20)})),de(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),de(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),de(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),de(i,"touchstart",(function(){return n.forceCompositionEnd()})),de(i,"input",(function(){t.composing||t.readFromDOMSoon()})),de(i,"copy",a),de(i,"cut",a)},Ba.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Ba.prototype.prepareSelection=function(){var e=gr(this.cm,!1);return e.focus=document.activeElement==this.div,e},Ba.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Ba.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ba.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),i=r.from(),o=r.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=qa(t,e.anchorNode,e.anchorOffset),s=qa(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=et(it(a,s),i)||0!=et(rt(a,s),o)){var l=t.display.view,c=i.line>=t.display.viewFrom&&Ha(t,i)||{node:l[0].measure.map[2],offset:0},u=o.line<t.display.viewTo&&Ha(t,o);if(!u){var d=l[l.length-1].measure,h=d.maps?d.maps[d.maps.length-1]:d.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(c&&u){var p,f=e.rangeCount&&e.getRangeAt(0);try{p=k(c.node,c.offset,u.offset,u.node)}catch(m){}p&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),p.collapsed||(e.removeAllRanges(),e.addRange(p))):(e.removeAllRanges(),e.addRange(p)),f&&null==e.anchorNode?e.addRange(f):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Ba.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Ba.prototype.showMultipleSelections=function(e){j(this.cm.display.cursorDiv,e.cursors),j(this.cm.display.selectionDiv,e.selection)},Ba.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Ba.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return D(this.div,t)},Ba.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ba.prototype.blur=function(){this.div.blur()},Ba.prototype.getField=function(){return this.div},Ba.prototype.supportsTouch=function(){return!0},Ba.prototype.receivedFocus=function(){var e=this;this.selectionInEditor()?this.pollSelection():Zr(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,(function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}))},Ba.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Ba.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=qa(t,e.anchorNode,e.anchorOffset),r=qa(t,e.focusNode,e.focusOffset);n&&r&&Zr(t,(function(){Zi(t.doc,xi(n,r),q),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Ba.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,i=r.display,o=r.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>r.firstLine()&&(a=Qe(a.line-1,We(r.doc,a.line-1).length)),s.ch==We(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=Qe(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=cr(r,a.line))?(t=Ke(i.view[0].line),n=i.view[0].node):(t=Ke(i.view[e].line),n=i.view[e-1].node.nextSibling);var l,c,u=cr(r,s.line);if(u==i.view.length-1?(l=i.viewTo-1,c=i.lineDiv.lastChild):(l=Ke(i.view[u+1].line)-1,c=i.view[u+1].node.previousSibling),!n)return!1;for(var d=r.doc.splitLines(function(e,t,n,r,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function u(e){e&&(c(),o+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void u(n);var o,h=t.getAttribute("cm-marker");if(h){var p=e.findMarks(Qe(r,0),Qe(i+1,0),(g=+h,function(e){return e.id==g}));return void(p.length&&(o=p[0].find(0))&&u(Ve(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var f=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;f&&c();for(var m=0;m<t.childNodes.length;m++)d(t.childNodes[m]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),f&&(a=!0)}else 3==t.nodeType&&u(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var g}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return o}(r,n,c,t,l)),h=Ve(r.doc,Qe(t,0),Qe(l,We(r.doc,l).text.length));d.length>1&&h.length>1;)if(Y(d)==Y(h))d.pop(),h.pop(),l--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),t++}for(var p=0,f=0,m=d[0],g=h[0],v=Math.min(m.length,g.length);p<v&&m.charCodeAt(p)==g.charCodeAt(p);)++p;for(var _=Y(d),y=Y(h),b=Math.min(_.length-(1==d.length?p:0),y.length-(1==h.length?p:0));f<b&&_.charCodeAt(_.length-f-1)==y.charCodeAt(y.length-f-1);)++f;if(1==d.length&&1==h.length&&t==a.line)for(;p&&p>a.ch&&_.charCodeAt(_.length-f-1)==y.charCodeAt(y.length-f-1);)p--,f++;d[d.length-1]=_.slice(0,_.length-f).replace(/^\u200b+/,""),d[0]=d[0].slice(p).replace(/\u200b+$/,"");var C=Qe(t,p),w=Qe(l,h.length?Y(h).length-f:0);return d.length>1||d[0]||et(C,w)?(fo(r.doc,d,C,w,"+input"),!0):void 0},Ba.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ba.prototype.reset=function(){this.forceCompositionEnd()},Ba.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ba.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Ba.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Zr(this.cm,(function(){return ur(e.cm)}))},Ba.prototype.setUneditable=function(e){e.contentEditable="false"},Ba.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Qr(this.cm,Da)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Ba.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Ba.prototype.onContextMenu=function(){},Ba.prototype.resetPosition=function(){},Ba.prototype.needsContentAttribute=!0;var Xa=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new B,this.hasSelection=!1,this.composing=null};Xa.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!me(r,e)){if(r.somethingSelected())Pa({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=Ra(r);Pa({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,q):(n.prevInput="",i.value=t.text.join("\n"),L(i))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(i.style.width="0px"),de(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),de(i,"paste",(function(e){me(r,e)||Ma(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),de(i,"cut",o),de(i,"copy",o),de(e.scroller,"paste",(function(t){if(!Cn(e,t)&&!me(r,t)){if(!i.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),de(e.lineSpace,"selectstart",(function(t){Cn(e,t)||ye(t)})),de(i,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),de(i,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},Xa.prototype.createField=function(e){this.wrapper=Na(),this.textarea=this.wrapper.firstChild},Xa.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Xa.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=gr(e);if(e.options.moveInputWithCursor){var i=Vn(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},Xa.prototype.showSelection=function(e){var t=this.cm.display;j(t.cursorDiv,e.cursors),j(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Xa.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&L(this.textarea),a&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Xa.prototype.getField=function(){return this.textarea},Xa.prototype.supportsTouch=function(){return!1},Xa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||M()!=this.textarea))try{this.textarea.focus()}catch(e){}},Xa.prototype.blur=function(){this.textarea.blur()},Xa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Xa.prototype.receivedFocus=function(){this.slowPoll()},Xa.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},Xa.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,(function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}))},Xa.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||De(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=n.value;if(i==r&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||_&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||r||(r="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,i.length);l<c&&r.charCodeAt(l)==i.charCodeAt(l);)++l;return Zr(t,(function(){Da(t,i.slice(l),r.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},Xa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Xa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Xa.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=lr(n,e),c=r.scroller.scrollTop;if(o&&!d){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(o)&&Qr(n,Zi)(n.doc,xi(o),q);var u,h=i.style.cssText,p=t.wrapper.style.cssText,f=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=g,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),a&&s>=9&&m(),S?(we(e),de(window,"mouseup",(function e(){pe(window,"mouseup",e),setTimeout(g,20)}))):setTimeout(g,50)}function m(){if(null!=i.selectionStart){var e=n.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,r.selForContextMenu=n.doc.sel}}function g(){if(t.contextMenuPending==g&&(t.contextMenuPending=!1,t.wrapper.style.cssText=p,i.style.cssText=h,a&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=i.selectionStart)){(!a||a&&s<9)&&m();var e=0;r.detectingSelectAll=setTimeout((function o(){r.selForContextMenu==n.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Qr(n,ao)(n):e++<10?r.detectingSelectAll=setTimeout(o,500):(r.selForContextMenu=null,r.input.reset())}),200)}}},Xa.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Xa.prototype.setUneditable=function(){},Xa.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function n(n,r,i,o){e.defaults[n]=r,i&&(t[n]=o?function(e,t,n){n!=Ca&&i(e,t,n)}:i)}e.defineOption=n,e.Init=Ca,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,Oi(e)}),!0),n("indentUnit",2,Oi,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){Pi(e),Bn(e),ur(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,n.push(Qe(r,o))}r++}));for(var i=n.length-1;i>=0;i--)fo(e.doc,t,n[i],Qe(n[i].line,n[i].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Ca&&e.refresh()})),n("specialCharPlaceholder",Jt,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){ba(e),fi(e)}),!0),n("keyMap","default",(function(e,t,n){var r=Ko(t),i=n!=Ca&&Ko(n);i&&i.detach&&i.detach(e,r),r.attach&&r.attach(e,i||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,ka,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=hi(t,e.options.lineNumbers),fi(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?or(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return Hr(e)}),!0),n("scrollbarStyle","native",(function(e){Ur(e),Hr(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=hi(e.options.gutters,t),fi(e)}),!0),n("firstLineNumber",1,fi,!0),n("lineNumberFormatter",(function(e){return e}),fi,!0),n("showCursorWhenSelecting",!1,mr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(xr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,xa),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,mr,!0),n("singleCursorHeightPerLine",!0,mr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Pi,!0),n("addModeClass",!1,Pi,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,Pi,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}(Ea),function(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,i=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Qr(this,t[e])(this,n,i),fe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Ko(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:ei((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){for(var r=0,i=n(t);r<e.length&&n(e[r])<=i;)r++;e.splice(r,0,t)}(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,ur(this)})),removeOverlay:ei((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void ur(this)}})),indentLine:ei((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Je(this.doc,e)&&ja(this,e,t,n)})),indentSelection:ei((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(ja(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&Pr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)ja(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&Ki(this.doc,r,new wi(o,c[r].to()),q)}}})),getTokenAt:function(e,t){return vt(this,e,t)},getLineTokens:function(e,t){return vt(this,Qe(e),t,!0)},getTokenTypeAt:function(e){e=at(this.doc,e);var t,n=dt(this,We(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var i=n[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&r.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&r.push(s)}else o.helperType&&i[o.helperType]?r.push(i[o.helperType]):i[o.name]&&r.push(i[o.name]);for(var l=0;l<i._global.length;l++){var c=i._global[l];c.pred(o,this)&&-1==H(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return ht(this,(e=ot(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Vn(this,null==e?n.head:"object"==typeof e?at(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return Wn(this,at(this.doc,e),t||"page")},coordsChar:function(e,t){return Kn(this,(e=Xn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Xn(this,{top:e,left:0},t||"page").top,$e(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),r=We(this.doc,e)}else r=e;return Un(this,r,{top:0,left:0},t||"page",n||i).top+(i?this.doc.height-qt(r):0)},defaultTextHeight:function(){return nr(this.display)},defaultCharWidth:function(){return rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display,a=(e=Vn(this,at(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&function(e,t){var n=jr(e,t);null!=n.scrollTop&&Rr(e,n.scrollTop),null!=n.scrollLeft&&Nr(e,n.scrollLeft)}(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:ei(ca),triggerOnKeyPress:ei(da),triggerOnKeyUp:ua,triggerOnMouseDown:ei(ma),execCommand:function(e){if(ea.hasOwnProperty(e))return ea[e].call(null,this)},triggerElectric:ei((function(e){Ia(this,e)})),findPosH:function(e,t,n,r){var i=1;t<0&&(i=-1,t=-t);for(var o=at(this.doc,e),a=0;a<t&&!(o=Aa(this.doc,o,i,n,r)).hitSide;++a);return o},moveH:ei((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Aa(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),X)})),deleteH:ei((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$o(this,(function(n){var i=Aa(r,n.head,e,t,!1);return e<0?{from:i,to:n.head}:{from:n.head,to:i}}))})),findPosV:function(e,t,n,r){var i=1,o=r;t<0&&(i=-1,t=-t);for(var a=at(this.doc,e),s=0;s<t;++s){var l=Vn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Fa(this,l,i,n)).hitSide)break}return a},moveV:ei((function(e,t){var n=this,r=this.doc,i=[],o=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=Vn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Fa(n,s,e,t);return"page"==t&&a==r.sel.primary()&&Or(n,Wn(n,l,"div").top-s.top),l}),X),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=We(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var o=t.charAt(n),a=ee(o,i)?function(e){return ee(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ee(e)};n>0&&a(t.charAt(n-1));)--n;for(;r<t.length&&a(t.charAt(r));)++r}return new wi(Qe(e.line,n),Qe(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?I(this.display.cursorDiv,"CodeMirror-overwrite"):E(this.display.cursorDiv,"CodeMirror-overwrite"),fe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==M()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ei((function(e,t){Dr(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-kn(this)-this.display.barHeight,width:e.scrollWidth-kn(this)-this.display.barWidth,clientHeight:Tn(this),clientWidth:En(this)}},scrollIntoView:ei((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:Qe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){Mr(e),e.curOp.scrollToPos=t}(this,e):Ir(this,e.from,e.to,e.margin)})),setSize:ei((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Fn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){dr(n,i,"widget");break}++i})),this.curOp.forceUpdate=!0,fe(this,"refresh",this)})),operation:function(e){return Zr(this,e)},startOperation:function(){return Wr(this)},endOperation:function(){return Vr(this)},refresh:ei((function(){var e=this.display.cachedTextHeight;ur(this),this.curOp.forceUpdate=!0,Bn(this),Dr(this,this.doc.scrollLeft,this.doc.scrollTop),li(this.display),(null==e||Math.abs(e-nr(this.display))>.5||this.options.lineWrapping)&&sr(this),fe(this,"refresh",this)})),swapDoc:ei((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Ri(this,e),Bn(this),this.display.input.reset(),Dr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,sn(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_e(e),e.registerHelper=function(t,r,i){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=i},e.registerGlobalHelper=function(t,r,i,o){e.registerHelper(t,r,o),n[t]._global.push({pred:i,val:o})}}(Ea);var Wa="iter insert remove copy getEditor constructor".split(" ");for(var Va in Po.prototype)Po.prototype.hasOwnProperty(Va)&&H(Wa,Va)<0&&(Ea.prototype[Va]=function(e){return function(){return e.apply(this.doc,arguments)}}(Po.prototype[Va]));return _e(Po),Ea.inputStyles={textarea:Xa,contenteditable:Ba},Ea.defineMode=function(e){Ea.defaults.mode||"null"==e||(Ea.defaults.mode=e),Ne.apply(this,arguments)},Ea.defineMIME=function(e,t){Le[e]=t},Ea.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Ea.defineMIME("text/plain","null"),Ea.defineExtension=function(e,t){Ea.prototype[e]=t},Ea.defineDocExtension=function(e,t){Po.prototype[e]=t},Ea.fromTextArea=function(e,t){if((t=t?A(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=M();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var i;if(e.form&&(de(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=a}}catch(l){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(pe(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Ea((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s},function(e){e.off=pe,e.on=de,e.wheelEventPixels=yi,e.Doc=Po,e.splitLines=Pe,e.countColumn=F,e.findColumn=W,e.isWordChar=Q,e.Pass=z,e.signal=fe,e.Line=Wt,e.changeEnd=ki,e.scrollbarModel=qr,e.Pos=Qe,e.cmpPos=et,e.modes=Re,e.mimeModes=Le,e.resolveMode=Ae,e.getMode=Fe,e.modeExtensions=Be,e.extendMode=He,e.copyState=ze,e.startState=Ue,e.innerMode=qe,e.commands=ea,e.keyMap=qo,e.keyName=Yo,e.isModifierKey=Vo,e.lookupKey=Wo,e.normalizeKeyMap=Xo,e.StringStream=Xe,e.SharedTextMarker=Eo,e.TextMarker=xo,e.LineWidget=Co,e.e_preventDefault=ye,e.e_stopPropagation=be,e.e_stop=we,e.addClass=I,e.contains=D,e.rmClass=E,e.keyNames=Fo}(Ea),Ea.version="5.55.0",Ea}()},function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=60)}([function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(8),a=n.n(o),s=n(9),l=n.n(s),c=n(3),u=n.n(c),d=n(5),h=n.n(d),p=n(6),f=n.n(p),m=n(16),g=n.n(m),v=n(13),_=n.n(v),y=/\u200B/g,b=window.getComputedStyle,C=function(e){return e&&e.nodeType===Node.TEXT_NODE},w=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},S=function(e){return w(e)?e.tagName:"TEXT"},x=function(e){var t;return w(e)?t=e.textContent.replace(y,"").length:C(e)&&(t=e.nodeValue.replace(y,"").length),t},k=function(e){var t,n,r,i=e.parentNode.childNodes;for(t=0,n=i.length;t<n;t+=1)if(i[t]===e){r=t;break}return r},E=function(e,t){var n;return C(e)?n=e:e.childNodes.length&&t>=0&&(n=e.childNodes[t]),n},T=function(e,t,n){for(var r,i,o=e+"Sibling";t&&!t[o]&&(r=S(t.parentNode))!==n&&"BODY"!==r;)t=t.parentNode;return t[o]&&(i=t[o]),i},j=function(e,t,n){for(var r;e.parentNode&&!t(e.parentNode)&&(e=e.parentNode,!n||!n(e.parentNode)););return t(e.parentNode)&&(r=e),r},O=function(e,t){return l()(t)?j(e,(function(e){return t===S(e)})):j(e,(function(e){return t===e}))},P=function(e,t,n){var r,i=e+"Sibling";return(t=O(t,n))&&t[i]&&(r=t[i]),r},D=function(e){var t={};t.tagName=e.nodeName,e.id&&(t.id=e.id);var n=e.className.trim();return n&&(t.className=n),t},M=function(e,t,n){var r=t;if(r&&e===r.parentNode)for(;r!==n;){var i=r.nextSibling;e.removeChild(r),r=i}},I=function(e){return!!e&&("UL"===e.nodeName||"OL"===e.nodeName)},R=function(e,t){e.hasChildNodes()&&(i()(e.childNodes).forEach((function(){t.appendChild(e.firstChild)})),t.normalize()),e.parentNode&&e.parentNode.removeChild(e)},L=function(e,t){if("SPAN"!==e.nodeName)for(var n=e.parentNode,r=e;r.childNodes&&1===r.childNodes.length&&!C(r.firstChild)&&"SPAN"!==(r=r.firstChild).nodeName;)if(r.nodeName===t){var i=document.createElement(t);return R(r,r.parentNode),n.replaceChild(i,e),i.appendChild(e),i}return e},N=function(e,t,n){var r=L(e,n);if(r.nodeName===n)for(var i=L(t,n),o=r,a=r.nextSibling;a;){var s=a.nextSibling;if((a=L(a,n)).nodeName===n?o?R(a,o):o=a:o=null,a===i)break;a=s}};function A(e,t){var n=i()(e.querySelectorAll(t));return n.length?n:[]}function F(e,t){var n;for(n=l()(t)?function(e){return _()(e,t)}:function(e){return e===t};e&&e!==document;){if(w(e)&&n(e))return e;e=e.parentNode}return null}function B(e,t){for(var n=[];e&&e!==document;)(e=F(e.parentNode,t))&&n.push(e);return n}function H(e,t){var n;return n=e.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.childNodes:e.children,i()(n).filter((function(e){return _()(e,t)}))}function z(e){e.parentNode&&e.parentNode.removeChild(e)}t.a={getNodeName:S,isTextNode:C,isElemNode:w,isBlockNode:function(e){return/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|DETAILS|DIALOG|DD|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[\d]|HEADER|HGROUP|HR|LI|MAIN|NAV|OL|P|PRE|SECTION|UL)$/gi.test(this.getNodeName(e))},getTextLength:x,getOffsetLength:function(e){var t;return w(e)?t=e.childNodes.length:C(e)&&(t=e.nodeValue.replace(y,"").length),t},getPrevOffsetNodeUntil:function(e,t,n){return t>0?E(e,t-1):T("previous",e,n)},getNodeOffsetOfParent:k,getChildNodeByOffset:E,getNodeWithDirectionUntil:T,containsNode:function(e,t){for(var n=document.createTreeWalker(e,4,null,!1),r=e===t;!r&&n.nextNode();)r=n.currentNode===t;return r},getTopPrevNodeUnder:function(e,t){return P("previous",e,t)},getTopNextNodeUnder:function(e,t){return P("next",e,t)},getParentUntilBy:j,getParentUntil:O,getTopBlockNode:function(e){return O(e,"BODY")},getPrevTextNode:function(e){for(e=e.previousSibling||e.parentNode;!C(e)&&"BODY"!==S(e);)if(e.previousSibling)for(e=e.previousSibling;e.lastChild;)e=e.lastChild;else e=e.parentNode;return"BODY"===S(e)&&(e=null),e},findOffsetNode:function(e,t,n){var r,i=[],o="",s=0;if(!t.length)return i;for(var l=t.shift(),c=document.createTreeWalker(e,4,null,!1);c.nextNode();){for(o=c.currentNode.nodeValue||"",n&&(o=n(o)),r=s+o.length;r>=l;){if(i.push({container:c.currentNode,offsetInContainer:l-s,offset:l}),!t.length)return i;l=t.shift()}s=r}do{i.push({container:c.currentNode,offsetInContainer:o.length,offset:l}),l=t.shift()}while(!a()(l));return i},getPath:function(e,t){for(var n=[];e&&e!==t;)w(e)&&n.unshift(D(e)),e=e.parentNode;return n},getNodeInfo:D,getTableCellByDirection:function(e,t){var n=null;return a()(t)||"next"!==t&&"previous"!==t||(n="next"===t?e.nextElementSibling:e.previousElementSibling),n},getSiblingRowCellByDirection:function(e,t,n){var r,i,o,s,l,c=null;return a()(t)||"next"!==t&&"previous"!==t||e&&("next"===t?(i=e.parentNode&&e.parentNode.nextSibling,l=(s=(o=B(e,"thead"))[0]&&o[0].nextSibling)&&"TBODY"===S(s),r=0):(i=e.parentNode&&e.parentNode.previousSibling,l=(s=(o=B(e,"tbody"))[0]&&o[0].previousSibling)&&"THEAD"===S(s),r=e.parentNode.childNodes.length-1),!a()(n)&&n||(r=k(e)),i?c=H(i,"td,th")[r]:o[0]&&l&&(c=A(s,"td,th")[r])),c},isMDSupportInlineNode:function(e){return/^(A|B|BR|CODE|DEL|EM|I|IMG|S|SPAN|STRONG)$/gi.test(e.nodeName)},isStyledNode:function(e){return/^(A|ABBR|ACRONYM|B|BDI|BDO|BIG|CITE|CODE|DEL|DFN|EM|I|INS|KBD|MARK|Q|S|SAMP|SMALL|SPAN|STRONG|SUB|SUP|U|VAR)$/gi.test(e.nodeName)},removeChildFromStartToEndNode:M,removeNodesByDirection:function(e,t,n){for(var r=t;r!==e;){var i=r.parentNode,o=r,a=o.nextSibling,s=o.previousSibling;!n&&a?M(i,a,null):n&&s&&M(i,i.childNodes[0],r),r=i}},getLeafNode:function(e){for(var t=e;t.childNodes&&t.childNodes.length;){var n=t.firstChild;t=C(n)&&!x(n)&&n.nextSibling||n}return t},isInsideTaskBox:function(e,t,n){var r=parseInt(e.left,10),i=parseInt(e.top,10),o=parseInt(e.width,10),a=parseInt(e.height,10);return t>=r&&t<=r+o&&n>=i&&n<=i+a},isListNode:I,isFirstListItem:function(e){var t=e.nodeName,n=e.parentNode;return"LI"===t&&e===n.firstChild},isFirstLevelListItem:function(e){var t=e.nodeName,n=e.parentNode.parentNode;return"LI"===t&&!I(n)},mergeNode:R,createHorizontalRule:function(){var e=document.createElement("div"),t=document.createElement("hr");return e.setAttribute("contenteditable",!1),t.setAttribute("contenteditable",!1),e.appendChild(t),e},createEmptyLine:function(){var e=document.createElement("div");return e.appendChild(document.createElement("br")),e},changeTagOrder:L,mergeSameNodes:N,optimizeRange:function(e,t){var n=e.collapsed,r=e.commonAncestorContainer,i=e.startContainer,o=e.endContainer;if(!n){var a=null;if(i!==o){var s=O(i,r),l=O(o,r);s&&l&&N(s,l,t),a=r}else C(i)&&(a=i.parentNode);if(a&&a.nodeName===t){var c,u=a.previousSibling;u&&(c=L(u)).nodeName===t&&R(a,c);var d=a.nextSibling;d&&(c=L(d)).nodeName===t&&R(c,a)}}},getAllTextNode:function(e){for(var t=document.createTreeWalker(e,4,null,!1),n=[];t.nextNode();){var r=t.currentNode;C(r)&&n.push(r)}return n},isCellNode:function(e){return!!e&&("TD"===e.nodeName||"TH"===e.nodeName)},getLastNodeBy:function(e,t){for(var n=e&&e.lastChild;n&&t(n);)n=n.lastChild;return n},getParentNodeBy:function(e,t){for(;e&&t(e.parentNode,e);)e=e.parentNode;return e},getSiblingNodeBy:function(e,t,n){for(var r=t+"Sibling";e&&n(e[r],e);)e=e[r];return e},createElementWith:function(e,t){var n=document.createElement("div");l()(e)?n.innerHTML=e:n.appendChild(e);var r=n.firstChild;return t&&t.appendChild(r),r},findAll:A,isContain:function(e,t){return e!==t&&e.contains(t)},closest:F,parent:function(e,t){var n=e.parentNode;return t?n&&_()(n,t)?n:null:n},parents:B,parentsUntil:function(e,t){for(var n=[];e.parentNode&&!_()(e.parentNode,t);)(e=e.parentNode)&&n.push(e);return n},children:H,append:function(e,t){if(l()(t))e.insertAdjacentHTML("beforeEnd",t);else for(var n=0,r=(t=t.length?i()(t):[t]).length;n<r;n+=1)e.appendChild(t[n])},prepend:function(e,t){if(l()(t))e.insertAdjacentHTML("afterBegin",t);else for(var n=(t=t.length?i()(t):[t]).length-1;n>=0;n-=1)e.insertBefore(t[n],e.firstChild)},insertBefore:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t)},insertAfter:function(e,t){var n=t.parentNode;n&&n.insertBefore(e,t.nextSibling)},replaceWith:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){e.insertAdjacentHTML("afterEnd",t),e.parentNode.removeChild(e)}))},wrap:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){var n=document.createElement(t);e.parentNode.insertBefore(n,e),n.appendChild(e)}))},wrapInner:function(e,t){(e=e.length?i()(e):[e]).forEach((function(e){var n=document.createElement(t);for(e.appendChild(n);e.firstChild!==n;)n.appendChild(e.firstChild)}))},unwrap:function(e){for(var t=[];e.firstChild;)t.push(e.firstChild),e.parentNode.insertBefore(e.firstChild,e);return z(e),t},remove:z,empty:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOffset:function(e,t){var n=e.parentNode.getBoundingClientRect(),r=n.top,i=n.left;u()(e,{top:t.top-r-document.body.scrollTop+"px"}),u()(e,{left:t.left-i-document.body.scrollLeft+"px"})},getOffset:function(e,t){void 0===t&&(t="document");var n=0,r=0;do{n+=e.offsetTop||0,r+=e.offsetLeft||0,e=e.offsetParent}while(e&&!_()(e,t));return{top:n,left:r}},getOuterWidth:function(e,t){var n=e.offsetWidth;if(t){var r=b(e),i=r.marginLeft,o=r.marginRight;n+=parseInt(i,10)+parseInt(o,10)}return n},getOuterHeight:function(e,t){var n=e.offsetHeight;if(t){var r=b(e),i=r.marginTop,o=r.marginBottom;n+=parseInt(i,10)+parseInt(o,10)}return n},toggleClass:function(e,t,n){a()(n)&&(n=!g()(e,t)),(n?h.a:f.a)(e,t)},finalizeHtml:function(e,t){var n;if(t)n=e.innerHTML;else{for(var r=document.createDocumentFragment(),o=i()(e.childNodes),a=o.length,s=0;s<a;s+=1)r.appendChild(o[s]);n=r}return n}}},function(e,t,n){"use strict";var r=n(7),i=n.n(r),o=function(){function e(e,t,n){this.name=e,this.type=t,n&&this.setKeyMap(n)}var t=e.prototype;return t.getName=function(){return this.name},t.getType=function(){return this.type},t.isMDType=function(){return this.type===e.TYPE.MD},t.isWWType=function(){return this.type===e.TYPE.WW},t.isGlobalType=function(){return this.type===e.TYPE.GB},t.setKeyMap=function(e,t){this.keyMap=[e,t]},e}();o.factory=function(e,t){var n;"markdown"===e?n=o.TYPE.MD:"wysiwyg"===e?n=o.TYPE.WW:"global"===e&&(n=o.TYPE.GB);var r=new o(t.name,n);return i()(r,t),r},o.TYPE={MD:0,WW:1,GB:2};var a=o,s=n(12),l=n(23),c=s.b?1:0,u=function(){function e(e,t){void 0===t&&(t={}),this._command=new l.a,this._mdCommand=new l.a,this._wwCommand=new l.a,this._options=i()({useCommandShortcut:!0},t),this.base=e,this.keyMapCommand={},this._initEvent()}var t=e.prototype;return t._addCommandBefore=function(e){var t={command:e};return this.base.eventManager.emit("addCommandBefore",t),t.command||e},t.addCommand=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(t=e.command.apply(e,[t].concat(r)));var o,a=(t=this._addCommandBefore(t)).getName();return t.isMDType()?o=this._mdCommand:t.isWWType()?o=this._wwCommand:t.isGlobalType()&&(o=this._command),o.set(a,t),t.keyMap&&(this.keyMapCommand[t.keyMap[c]]=a),t},t._initEvent=function(){var e=this;this.base.eventManager.listen("command",(function(){e.exec.apply(e,arguments)})),this.base.eventManager.listen("keyMap",(function(t){if(e._options.useCommandShortcut){var n=e.keyMapCommand[t.keyMap];n&&(t.data.preventDefault(),e.exec(n))}}))},t.exec=function(e){var t,n,r=this.base;if((t=this._command.get(e))||(this.base.isMarkdownMode()?(t=this._mdCommand.get(e),r=this.base.mdEditor):(t=this._wwCommand.get(e),r=this.base.wwEditor)),t){for(var i,o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];a.unshift(r),n=(i=t).exec.apply(i,a)}return n},e}();u.command=function(e,t){var n=a.factory(e,t.name,t.keyMap);return i()(n,t),n},t.a=u},function(e,t,n){"use strict";var r=n(21);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";var r=n(9),i=n(26);e.exports=function(e,t,n){var o=e.style;r(t)?o[t]=n:i(t,(function(e,t){o[t]=e}))}},function(e,t,n){"use strict";function r(e){return e.sourcepos[0][0]}function i(e){return e.sourcepos[1][0]}function o(e){return e.sourcepos[0][1]}function a(e){return e.sourcepos[1][1]}function s(e){var t=e.type;return"codeBlock"===t||"paragraph"===t}function l(e){var t=e.type;return"htmlBlock"===t||"htmlInline"===t}function c(e){var t=e.type;return"strike"===t||"strong"===t||"emph"===t}function u(e){return"item"===e.type}function d(e){switch(e.type){case"code":case"text":case"emph":case"strong":case"strike":case"link":case"image":case"htmlInline":case"linebreak":case"softbreak":return!0;default:return!1}}function h(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;){if(t(e))return e;e=e.parent}return null}function p(e,t,n){for(void 0===n&&(n=!0),e=n?e:e.parent;e&&"document"!==e.type;)t(e),e=e.parent}function f(e,t){return{line:e.line,ch:e.ch+t}}function m(e,t){return{line:e.line,ch:t}}n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"j",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"m",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return m})),n(12)},function(e,t,n){"use strict";var r=n(26),i=n(14),o=n(33),a=n(39);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=o(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),a(e,l))}},function(e,t,n){"use strict";var r=n(21),i=n(14),o=n(33),a=n(39);e.exports=function(e){var t,n,s=Array.prototype.slice.call(arguments,1),l=e.classList;l?r(s,(function(e){l.remove(e)})):(t=o(e).split(/\s+/),n=[],r(t,(function(e){i(e,s)<0&&n.push(e)})),a(e,n))}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a=Object.prototype.hasOwnProperty;for(i=1,o=arguments.length;i<o;i+=1)for(r in n=arguments[i])a.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";e.exports=function(e){return"string"===typeof e||e instanceof String}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return d}));var r=n(8),i=n.n(r),o=n(43),a=n.n(o),s=/Mac/.test(navigator.platform);function l(){a()("editor","UA-129966929-1")}function c(e,t){return-1!==e.indexOf(t)}var u=["rel","target","contenteditable","hreflang","type"];function d(e){if(!e)return null;var t={};return u.forEach((function(n){i()(e[n])||(t[n]=e[n])})),t}},function(e,t,n){"use strict";var r=n(14),i=n(2),o=Element.prototype,a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.msMatchesSelector||function(e){var t=this.document||this.ownerDocument;return r(this,i(t.querySelectorAll(e)))>-1};e.exports=function(e,t){return a.call(e,t)}},function(e,t,n){"use strict";var r=n(17);e.exports=function(e,t,n){var i,o;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(o=t.length,i=n;n>=0&&i<o;i+=1)if(t[i]===e)return i;return-1}},,function(e,t,n){"use strict";var r=n(14),i=n(33);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"d",(function(){return g}));var r=n(12),i=n(4),o=["list","blockQuote"],a=["UL","OL","BLOCKQUOTE"],s=["TR","TH","TBODY","TD"];function l(e){return!Object(r.a)(o,e.type)}function c(e,t,n,r){var i=(e-t)/n;return i<1?i*r:r}function u(e){for(var t=document.querySelector('[data-nodeid="'+e.id+'"]');!t||Object(r.a)(s,e.type)||Object(i.k)(e);)e=e.parent,t=document.querySelector('[data-nodeid="'+e.id+'"]');return function(e){for(var t=e.mdNode,n=e.node;Object(r.a)(o,t.type)&&t.firstChild;)t=t.firstChild,n=n.firstElementChild;return{mdNode:t,node:n}}(function(e){for(var t=e;e&&"document"!==e;){if("item"===e.type){t=e;break}e=e.parent}return{mdNode:t,node:document.querySelector('[data-nodeid="'+t.id+'"]')}}(e))}function d(e,t){var n=Object(i.f)(e),r=Object(i.d)(e),o=t.lineInfo(n-1).handle.height,a=t.heightAtLine(r,"local")-t.heightAtLine(n-1,"local");return a<=0?o:a+h(t,Object(i.d)(e))}function h(e,t,n){void 0===n&&(n=Number.MAX_VALUE);var r=e.lineInfo(t);if(!r)return 0;for(var i=r.handle,o=0;t<=n&&!i.text.trim();)o+=i.height,t+=1,i=e.lineInfo(t).handle;return o}function p(e,t){for(var n=0;e&&e!==t&&(Object(r.a)(a,e.tagName)||(n+=e.offsetTop),e.offsetParent!==t.offsetParent);)e=e.parentElement;return n}function f(e,t){for(var n=t,r=null;n;){var i=n.firstElementChild;if(!i)break;r=n,n=m(i,e,p(n,t))}var o=n||r;return o===t?null:o}function m(e,t,n){return e&&t>n+e.offsetTop?m(e.nextElementSibling,t,n)||e:null}function g(e){var t=e.latestScrollTop,n=e.scrollTop,r=e.targetScrollTop,i=e.sourceScrollTop;return null===t?r:t<n?Math.max(r,i):Math.min(r,i)}},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n,r){function a(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,a):"attachEvent"in e&&e.attachEvent("on"+t,a),function(e,t,n,r){var a=o(e,t),s=!1;i(a,(function(e){return e.handler!==n||(s=!0,!1)})),s||a.push({handler:n,wrappedHandler:r})}(e,t,n,a)}e.exports=function(e,t,n,o){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n,o)})):i(t,(function(t,r){a(e,r,t,n)}))}},function(e,t,n){"use strict";var r=n(9),i=n(26),o=n(40);function a(e,t,n){var r,a=o(e,t);n?(i(a,(function(i,o){return n!==i.handler||(s(e,t,i.wrappedHandler),r=o,!1)})),a.splice(r,1)):(i(a,(function(n){s(e,t,n.wrappedHandler)})),a.splice(0,a.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){a(e,t,n)})):i(t,(function(t,n){a(e,n,t)}))}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=10)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return u})),n.d(t,"__generator",(function(){return d})),n.d(t,"__exportStar",(function(){return h})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return f})),n.d(t,"__spread",(function(){return m})),n.d(t,"__spreadArrays",(function(){return g})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return y})),n.d(t,"__asyncValues",(function(){return b})),n.d(t,"__makeTemplateObject",(function(){return C})),n.d(t,"__importStar",(function(){return w})),n.d(t,"__importDefault",(function(){return S}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function u(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function f(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(f(arguments[t]));return e}function g(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,c):u(o[0][2],n)}catch(e){u(o[0][3],e)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function S(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.__importDefault(n(17));function o(e){switch(e.type){case"document":case"blockQuote":case"list":case"item":case"paragraph":case"heading":case"emph":case"strong":case"strike":case"link":case"image":case"table":case"tableHead":case"tableBody":case"tableRow":case"tableCell":case"tableDelimRow":return!0;default:return!1}}t.isContainer=o;var a=1,s={};t.getNodeById=function(e){return s[e]},t.removeNodeById=function(e){delete s[e]},t.removeAllNode=function(){s={}};var l=function(){function e(e,t){this.parent=null,this.prev=null,this.next=null,this.firstChild=null,this.lastChild=null,this.literal=null,this.id="document"===e?-1:a++,this.type=e,this.sourcepos=t,s[this.id]=this}return e.prototype.isContainer=function(){return o(this)},e.prototype.unlink=function(){this.prev?this.prev.next=this.next:this.parent&&(this.parent.firstChild=this.next),this.next?this.next.prev=this.prev:this.parent&&(this.parent.lastChild=this.prev),this.parent=null,this.next=null,this.prev=null},e.prototype.replaceWith=function(e){this.insertBefore(e),this.unlink()},e.prototype.insertAfter=function(e){e.unlink(),e.next=this.next,e.next&&(e.next.prev=e),e.prev=this,this.next=e,this.parent&&(e.parent=this.parent,e.next||(e.parent.lastChild=e))},e.prototype.insertBefore=function(e){e.unlink(),e.prev=this.prev,e.prev&&(e.prev.next=e),e.next=this,this.prev=e,e.parent=this.parent,e.prev||(e.parent.firstChild=e)},e.prototype.appendChild=function(e){e.unlink(),e.parent=this,this.lastChild?(this.lastChild.next=e,e.prev=this.lastChild,this.lastChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.prependChild=function(e){e.unlink(),e.parent=this,this.firstChild?(this.firstChild.prev=e,e.next=this.firstChild,this.firstChild=e):(this.firstChild=e,this.lastChild=e)},e.prototype.walker=function(){return new i.default(this)},e}();t.Node=l;var c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.open=!0,r.lineOffsets=null,r.stringContent=null,r.lastLineBlank=!1,r.lastLineChecked=!1,r.type=t,r}return r.__extends(t,e),t}(l);t.BlockNode=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.listData=null,t}return r.__extends(t,e),t}(c);t.ListNode=u;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.level=0,t.headingType="atx",t}return r.__extends(t,e),t}(c);t.HeadingNode=d;var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.destination=null,t.title=null,t.extendedAutolink=!1,t}return r.__extends(t,e),t}(l);t.LinkNode=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isFenced=!1,t.fenceChar=null,t.fenceLength=0,t.fenceOffset=-1,t.info=null,t.infoPadding=0,t}return r.__extends(t,e),t}(c);t.CodeBlockNode=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.htmlBlockType=-1,t}return r.__extends(t,e),t}(c);t.HtmlBlockNode=f;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tickCount=0,t}return r.__extends(t,e),t}(l);t.CodeNode=m;var g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.columns=[],t}return r.__extends(t,e),t}(c);t.TableNode=g;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startIdx=0,t.endIdx=0,t.paddingLeft=0,t.paddingRight=0,t.ignored=!1,t}return r.__extends(t,e),t}(c);t.TableCellNode=v;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title="",t.dest="",t.label="",t}return r.__extends(t,e),t}(c);function y(e,t){switch(e){case"heading":return new d(e,t);case"list":case"item":return new u(e,t);case"link":case"image":return new h(e,t);case"codeBlock":return new p(e,t);case"htmlBlock":return new f(e,t);case"table":return new g(e,t);case"tableCell":return new v(e,t);case"document":case"paragraph":case"blockQuote":case"thematicBreak":case"tableRow":case"tableBody":case"tableHead":return new c(e,t);case"code":return new m(e,t);case"refDef":return new _(e,t);default:return new l(e,t)}}t.RefDefNode=_,t.createNode=y,t.isCodeBlock=function(e){return"codeBlock"===e.type},t.isHtmlBlock=function(e){return"htmlBlock"===e.type},t.isHeading=function(e){return"heading"===e.type},t.isList=function(e){return"list"===e.type},t.isTable=function(e){return"table"===e.type},t.isRefDef=function(e){return"refDef"===e.type},t.text=function(e,t){var n=y("text",t);return n.literal=e,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).__importDefault(n(11)),i=n(7);t.ENTITY="&(?:#x[a-f0-9]{1,6}|#[0-9]{1,7}|[a-z][a-z0-9]{1,31});";var o=/[\\&]/;t.ESCAPABLE="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]";var a=new RegExp("\\\\"+t.ESCAPABLE+"|"+t.ENTITY,"gi"),s=new RegExp('[&<>"]',"g"),l=function(e){return 92===e.charCodeAt(0)?e.charAt(1):i.decodeHTML(e)};function c(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}}t.unescapeString=function(e){return o.test(e)?e.replace(a,l):e},t.normalizeURI=function(e){try{return r.default(e)}catch(t){return e}},t.escapeXml=function(e){return s.test(e)?e.replace(s,c):e},t.repeat=function(e,t){for(var n=[],r=0;r<t;r++)n.push(e);return n.join("")},t.last=function(e){return e.length?e[e.length-1]:null},t.isEmpty=function(e){return!e||!/[^ \t]+/.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.last=function(e){return e[e.length-1]},t.normalizeReference=function(e){return e.slice(1,e.length-1).trim().replace(/[ \t\r\n]+/," ").toLowerCase().toUpperCase()},t.iterateObject=function(e,t){Object.keys(e).forEach((function(n){t(n,e[n])}))},t.omit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=r.__assign({},e);return t.forEach((function(e){delete i[e]})),i},t.isEmptyObj=function(e){return!Object.keys(e).length},t.clearObj=function(e){Object.keys(e).forEach((function(t){delete e[t]}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CODE_INDENT=4,t.C_TAB=9,t.C_NEWLINE=10,t.C_GREATERTHAN=62,t.C_LESSTHAN=60,t.C_SPACE=32,t.C_OPEN_BRACKET=91,t.reNonSpace=/[^ \t\f\v\r\n]/,t.reClosingCodeFence=/^(?:`{3,}|~{3,})(?= *$)/,t.endsWithBlankLine=function(e){for(var t=e;t;){if(t.lastLineBlank)return!0;var n=t.type;if(t.lastLineChecked||"list"!==n&&"item"!==n){t.lastLineChecked=!0;break}t.lastLineChecked=!0,t=t.lastChild}return!1},t.peek=function(e,t){return t<e.length?e.charCodeAt(t):-1},t.isBlank=function(e){return!t.reNonSpace.test(e)},t.isSpaceOrTab=function(e){return e===t.C_SPACE||e===t.C_TAB}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(6),o=n(1),a=n(25),s=n(9),l=n(3),c=n(4),u=/\r\n|\n|\r/;function d(e){return{id:e.id,title:e.title,sourcepos:e.sourcepos,unlinked:!1,destination:e.dest}}t.createRefDefState=d;var h=function(){function e(e,t){var n;this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.referenceDefinition=!!(null===(n=t)||void 0===n?void 0:n.referenceDefinition),this.parser=new i.Parser(t),this.parser.setRefMaps(this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap),this.eventHandlerMap={change:[]},e=e||"",this.lineTexts=e.split(u),this.root=this.parser.parse(e)}return e.prototype.updateLineTexts=function(e,t,n){var i,o=e[0],a=e[1],s=t[0],l=t[1],c=n.split(u),d=c.length,h=this.lineTexts[o-1],p=this.lineTexts[s-1];c[0]=h.slice(0,a-1)+c[0],c[d-1]=c[d-1]+p.slice(l-1);var f=s-o+1;return(i=this.lineTexts).splice.apply(i,r.__spreadArrays([o-1,f],c)),d-f},e.prototype.updateRootNodeState=function(){if(1===this.lineTexts.length&&""===this.lineTexts[0])return this.root.lastLineBlank=!0,void(this.root.sourcepos=[[1,1],[1,0]]);this.root.lastChild&&(this.root.lastLineBlank=this.root.lastChild.lastLineBlank);for(var e=this.lineTexts,t=e.length-1;""===e[t];)t-=1;e.length-2>t&&(t+=1),this.root.sourcepos[1]=[t+1,e[t].length]},e.prototype.replaceRangeNodes=function(e,t,n){e?(a.insertNodesBefore(e,n),a.removeNextUntil(e,t),[e.id,t.id].forEach((function(e){return o.removeNodeById(e)})),e.unlink()):t?(a.insertNodesBefore(t,n),o.removeNodeById(t.id),t.unlink()):a.prependChildNodes(this.root,n)},e.prototype.getNodeRange=function(e,t){var n=a.findChildNodeAtLine(this.root,e[0]),r=a.findChildNodeAtLine(this.root,t[0]);return r&&r.next&&t[0]+1===r.next.sourcepos[0][0]&&(r=r.next),[n,r]},e.prototype.trigger=function(e,t){this.eventHandlerMap[e].forEach((function(e){e(t)}))},e.prototype.extendEndLine=function(e){for(;""===this.lineTexts[e];)e+=1;return e},e.prototype.parseRange=function(e,t,n,r){var i;e&&e.prev&&(o.isList(e.prev)&&function(e){var t=e.match(/^[ \t]+/);if(t&&(t[0].length>=2||/\t/.test(t[0])))return!0;var n=t?e.slice(t.length):e;return s.reBulletListMarker.test(n)||s.reOrderedListMarker.test(n)}(this.lineTexts[n-1])||o.isTable(e.prev)&&(i=this.lineTexts[n-1],!c.isBlank(i)&&-1!==i.indexOf("|")))&&(n=(e=e.prev).sourcepos[0][0]);for(var l=this.lineTexts.slice(n-1,r),u=this.parser.partialParseStart(n,l),d=t?t.next:this.root.firstChild;u.lastChild&&o.isList(u.lastChild)&&d&&("list"===d.type||d.sourcepos[0][1]>=2);){var h=this.extendEndLine(d.sourcepos[1][0]);this.parser.partialParseExtends(this.lineTexts.slice(r,h)),e||(e=t),t=d,r=h,d=d.next}return this.parser.partialParseFinish(),{newNodes:a.getChildNodes(u),extStartNode:e,extEndNode:t}},e.prototype.getRemovedNodeRange=function(e,t){return!e||e&&o.isRefDef(e)||t&&o.isRefDef(t)?null:{id:[e.id,t.id],line:[e.sourcepos[0][0]-1,t.sourcepos[1][0]-1]}},e.prototype.markDeletedRefMap=function(e,t){var n=this;if(!l.isEmptyObj(this.refMap)){var r=function(e){if(o.isRefDef(e)){var t=n.refMap[e.label];t&&e.id===t.id&&(t.unlinked=!0)}};e&&a.invokeNextUntil(r,e.parent,t),t&&a.invokeNextUntil(r,t)}},e.prototype.replaceWithNewRefDefState=function(e){var t=this;if(!l.isEmptyObj(this.refMap)){var n=function(e){if(o.isRefDef(e)){var n=e.label,r=t.refMap[n];r&&!r.unlinked||(t.refMap[n]=d(e))}};e.forEach((function(e){a.invokeNextUntil(n,e)}))}},e.prototype.replaceWithRefDefCandidate=function(){var e=this;l.isEmptyObj(this.refDefCandidateMap)||l.iterateObject(this.refDefCandidateMap,(function(t,n){var r=n.label,i=n.sourcepos,o=e.refMap[r];(!o||o.unlinked||o.sourcepos[0][0]>i[0][0])&&(e.refMap[r]=d(n))}))},e.prototype.getRangeWithRefDef=function(e,t,n,r,i){if(this.referenceDefinition&&!l.isEmptyObj(this.refMap)){var s=a.findChildNodeAtLine(this.root,e-1),c=a.findChildNodeAtLine(this.root,t+1);s&&o.isRefDef(s)&&s!==n&&s!==r&&(e=(n=s).sourcepos[0][0]),c&&o.isRefDef(c)&&c!==n&&c!==r&&(r=c,t=this.extendEndLine(r.sourcepos[1][0]+i))}return[n,r,e,t]},e.prototype.parse=function(e,t,n){void 0===n&&(n=0);var r=this.getNodeRange(e,t),i=r[0],o=r[1],a=i?Math.min(i.sourcepos[0][0],e[0]):e[0],s=this.extendEndLine((o?Math.max(o.sourcepos[1][0],t[0]):t[0])+n),l=this.parseRange.apply(this,this.getRangeWithRefDef(a,s,i,o,n)),c=l.newNodes,u=l.extStartNode,d=l.extEndNode,h=this.getRemovedNodeRange(u,d),p=d?d.next:this.root.firstChild;return this.referenceDefinition?(this.markDeletedRefMap(u,d),this.replaceRangeNodes(u,d,c),this.replaceWithNewRefDefState(c)):this.replaceRangeNodes(u,d,c),{nodes:c,removedNodeRange:h,nextNode:p}},e.prototype.parseRefLink=function(){var e=this,t=[];return l.isEmptyObj(this.refMap)||l.iterateObject(this.refMap,(function(n,r){r.unlinked&&delete e.refMap[n],l.iterateObject(e.refLinkCandidateMap,(function(r,i){var o=i.node;i.refLabel===n&&t.push(e.parse(o.sourcepos[0],o.sourcepos[1]))}))})),t},e.prototype.removeUnlinkedCandidate=function(){l.isEmptyObj(this.refDefCandidateMap)||[this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){l.iterateObject(e,(function(t){a.isUnlinked(t)&&delete e[t]}))}))},e.prototype.editMarkdown=function(e,t,n){var r=this.updateLineTexts(e,t,n),i=this.parse(e,t,r),o=l.omit(i,"nextNode");a.updateNextLineNumbers(i.nextNode,r),this.updateRootNodeState();var s=[o];return this.referenceDefinition&&(this.removeUnlinkedCandidate(),this.replaceWithRefDefCandidate(),s=s.concat(this.parseRefLink())),this.trigger("change",s),s},e.prototype.getLineTexts=function(){return this.lineTexts},e.prototype.getRootNode=function(){return this.root},e.prototype.findNodeAtPosition=function(e){var t=a.findNodeAtPosition(this.root,e);return t&&t!==this.root?t:null},e.prototype.findFirstNodeAtLine=function(e){return a.findFirstNodeAtLine(this.root,e)},e.prototype.on=function(e,t){this.eventHandlerMap[e].push(t)},e.prototype.off=function(e,t){var n=this.eventHandlerMap[e],r=n.indexOf(t);n.splice(r,1)},e.prototype.findNodeById=function(e){return a.findNodeById(e)},e.prototype.removeAllNode=function(){o.removeAllNode()},e}();t.ToastMark=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(1),a=n(18),s=n(21),l=n(4),c=n(9),u=n(3),d=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],h=/^[#`~*+_=<>0-9-]/,p=/\r\n|\n|\r/;function f(){return o.createNode("document",[[1,1],[0,0]])}var m={smart:!1,tagFilter:!1,extendedAutolinks:!1,disallowedHtmlBlockTags:[],referenceDefinition:!1,disallowDeepHeading:!1,customParser:null},g=function(){function e(e){this.options=r.__assign(r.__assign({},m),e),this.doc=f(),this.tip=this.doc,this.oldtip=this.doc,this.lineNumber=0,this.offset=0,this.column=0,this.nextNonspace=0,this.nextNonspaceColumn=0,this.indent=0,this.currentLine="",this.indented=!1,this.blank=!1,this.partiallyConsumedTab=!1,this.allClosed=!0,this.lastMatchedContainer=this.doc,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.lastLineLength=0,this.inlineParser=new a.InlineParser(this.options)}return e.prototype.advanceOffset=function(e,t){void 0===t&&(t=!1);for(var n,r,i,o=this.currentLine;e>0&&(i=o[this.offset]);)"\t"===i?(n=4-this.column%4,t?(this.partiallyConsumedTab=n>e,r=n>e?e:n,this.column+=r,this.offset+=this.partiallyConsumedTab?0:1,e-=r):(this.partiallyConsumedTab=!1,this.column+=n,this.offset+=1,e-=1)):(this.partiallyConsumedTab=!1,this.offset+=1,this.column+=1,e-=1)},e.prototype.advanceNextNonspace=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn,this.partiallyConsumedTab=!1},e.prototype.findNextNonspace=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=l.CODE_INDENT},e.prototype.addLine=function(){if(this.partiallyConsumedTab){this.offset+=1;var e=4-this.column%4;this.tip.stringContent+=i.repeat(" ",e)}this.tip.lineOffsets?this.tip.lineOffsets.push(this.offset):this.tip.lineOffsets=[this.offset],this.tip.stringContent+=this.currentLine.slice(this.offset)+"\n"},e.prototype.addChild=function(e,t){for(;!s.blockHandlers[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,r=o.createNode(e,[[this.lineNumber,n],[0,0]]);return r.stringContent="",this.tip.appendChild(r),this.tip=r,r},e.prototype.closeUnmatchedBlocks=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip.parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},e.prototype.finalize=function(e,t){var n=e.parent;e.open=!1,e.sourcepos[1]=[t,this.lastLineLength],s.blockHandlers[e.type].finalize(this,e),this.tip=n},e.prototype.processInlines=function(e){var t,n=this.options.customParser,r=e.walker();for(this.inlineParser.refMap=this.refMap,this.inlineParser.refLinkCandidateMap=this.refLinkCandidateMap,this.inlineParser.refDefCandidateMap=this.refDefCandidateMap,this.inlineParser.options=this.options;t=r.next();){var i=t.node,o=t.entering,a=i.type;n&&n[a]&&n[a](i,{entering:o}),o||"paragraph"!==a&&"heading"!==a&&("tableCell"!==a||i.ignored)||this.inlineParser.parse(i)}},e.prototype.incorporateLine=function(e){var t=this.doc;this.oldtip=this.tip,this.offset=0,this.column=0,this.blank=!1,this.partiallyConsumedTab=!1,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"\ufffd")),this.currentLine=e;for(var n,r=!0;(n=t.lastChild)&&n.open;){switch(t=n,this.findNextNonspace(),s.blockHandlers[t.type].continue(this,t)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw new Error("continue returned illegal value, must be 0, 1, or 2")}if(!r){t=t.parent;break}}this.allClosed=t===this.oldtip,this.lastMatchedContainer=t;for(var i="paragraph"!==t.type&&s.blockHandlers[t.type].acceptsLines,a=c.blockStarts.length;!i;){if(this.findNextNonspace(),"table"!==t.type&&"tableBody"!==t.type&&"paragraph"!==t.type&&!this.indented&&!h.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<a;){var u=c.blockStarts[l](this,t);if(1===u){t=this.tip;break}if(2===u){t=this.tip,i=!0;break}l++}if(l===a){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&t.lastChild&&(t.lastChild.lastLineBlank=!0);for(var p=t.type,f=this.blank&&!("blockQuote"===p||o.isCodeBlock(t)&&t.isFenced||"item"===p&&!t.firstChild&&t.sourcepos[0][0]===this.lineNumber),m=t;m;)m.lastLineBlank=f,m=m.parent;s.blockHandlers[p].acceptsLines?(this.addLine(),o.isHtmlBlock(t)&&t.htmlBlockType>=1&&t.htmlBlockType<=5&&d[t.htmlBlockType].test(this.currentLine.slice(this.offset))&&(this.lastLineLength=e.length,this.finalize(t,this.lineNumber))):this.offset<e.length&&!this.blank&&(t=this.addChild("paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},e.prototype.parse=function(e){this.doc=f(),this.tip=this.doc,this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";var t=e.split(p),n=t.length;this.options.referenceDefinition&&this.clearRefMaps(),e.charCodeAt(e.length-1)===a.C_NEWLINE&&(n-=1);for(var r=0;r<n;r++)this.incorporateLine(t[r]);for(;this.tip;)this.finalize(this.tip,n);return this.processInlines(this.doc),this.doc},e.prototype.partialParseStart=function(e,t){this.doc=f(),this.tip=this.doc,this.lineNumber=e-1,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="";for(var n=t.length,r=0;r<n;r++)this.incorporateLine(t[r]);return this.doc},e.prototype.partialParseExtends=function(e){for(var t=0;t<e.length;t++)this.incorporateLine(e[t])},e.prototype.partialParseFinish=function(){for(;this.tip;)this.finalize(this.tip,this.lineNumber);this.processInlines(this.doc)},e.prototype.setRefMaps=function(e,t,n){this.refMap=e,this.refLinkCandidateMap=t,this.refDefCandidateMap=n},e.prototype.clearRefMaps=function(){[this.refMap,this.refLinkCandidateMap,this.refDefCandidateMap].forEach((function(e){u.clearObj(e)}))},e}();t.Parser=g},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=r(n(13)),a=r(n(14)),s=r(n(15));function l(e){var t=Object.keys(e).join("|"),n=u(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}t.decodeXML=l(a.default),t.decodeHTMLStrict=l(i.default);var c=function(e,t){return e<t?1:-1};function u(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(c),t=Object.keys(i.default).sort(c),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=u(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPENTAG="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",t.CLOSETAG="</[A-Za-z][A-Za-z0-9-]*\\s*[>]";var r="(?:"+t.OPENTAG+"|"+t.CLOSETAG+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)";t.reHtmlTag=new RegExp("^"+r,"i")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(8),o=n(4),a=n(24),s=/^`{3,}(?!.*`)|^~{3,}/,l=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[123456]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+i.OPENTAG+"|"+i.CLOSETAG+")\\s*$","i")],c=/^(?:=+|-+)[ \t]*$/,u=/^#{1,6}(?:[ \t]+|$)/,d=/^(?:(?:\*[ \t]*){3,}|(?:_[ \t]*){3,}|(?:-[ \t]*){3,})[ \t]*$/;function h(e,t){return e.options.disallowDeepHeading&&("blockQuote"===t.type||"item"===t.type)}t.reBulletListMarker=/^[*+-]/,t.reOrderedListMarker=/^(\d{1,9})([.)])/,t.blockStarts=[function(e){return e.indented||o.peek(e.currentLine,e.nextNonspace)!==o.C_GREATERTHAN?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0),e.closeUnmatchedBlocks(),e.addChild("blockQuote",e.nextNonspace),1)},function(e,t){var n;if(!e.indented&&!h(e,t)&&(n=e.currentLine.slice(e.nextNonspace).match(u))){e.advanceNextNonspace(),e.advanceOffset(n[0].length,!1),e.closeUnmatchedBlocks();var r=e.addChild("heading",e.nextNonspace);return r.level=n[0].trim().length,r.headingType="atx",r.stringContent=e.currentLine.slice(e.offset).replace(/^[ \t]*#+[ \t]*$/,"").replace(/[ \t]+#+[ \t]*$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(s))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("codeBlock",e.nextNonspace);return r.isFenced=!0,r.fenceLength=n,r.fenceChar=t[0][0],r.fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&o.peek(e.currentLine,e.nextNonspace)===o.C_LESSTHAN){var n=e.currentLine.slice(e.nextNonspace),r=e.options.disallowedHtmlBlockTags,i=void 0;for(i=1;i<=7;i++){var a=n.match(l[i]);if(a){if(7===i){if("paragraph"===t.type)return 0;if(r.length>0&&new RegExp("</?(?:"+r.join("|")+")","i").test(a[0]))return 0}return e.closeUnmatchedBlocks(),e.addChild("htmlBlock",e.offset).htmlBlockType=i,2}}}return 0},function(e,t){var n;if(null!==t.stringContent&&!e.indented&&"paragraph"===t.type&&!h(e,t.parent)&&(n=e.currentLine.slice(e.nextNonspace).match(c))){e.closeUnmatchedBlocks();for(var i=void 0;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(i=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(i);if(t.stringContent.length>0){var a=r.createNode("heading",t.sourcepos);return a.level="="===n[0][0]?1:2,a.headingType="setext",a.stringContent=t.stringContent,t.insertAfter(a),t.unlink(),e.tip=a,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0}return 0},function(e){return!e.indented&&d.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("thematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,n){var r,i,a,s=n;return e.indented&&"list"!==n.type||!(r=function(e,n){var r,i,a=e.currentLine.slice(e.nextNonspace),s={type:"bullet",tight:!0,bulletChar:"",start:0,delimiter:"",padding:0,markerOffset:e.indent,task:!1,checked:!1};if(e.indent>=4)return null;if(r=a.match(t.reBulletListMarker))s.type="bullet",s.bulletChar=r[0][0];else{if(!(r=a.match(t.reOrderedListMarker))||"paragraph"===n.type&&"1"!==r[1])return null;s.type="ordered",s.start=parseInt(r[1],10),s.delimiter=r[2]}if(-1!==(i=o.peek(e.currentLine,e.nextNonspace+r[0].length))&&i!==o.C_TAB&&i!==o.C_SPACE)return null;if("paragraph"===n.type&&!e.currentLine.slice(e.nextNonspace+r[0].length).match(o.reNonSpace))return null;e.advanceNextNonspace(),e.advanceOffset(r[0].length,!0);var l=e.column,c=e.offset;do{e.advanceOffset(1,!0),i=o.peek(e.currentLine,e.offset)}while(e.column-l<5&&o.isSpaceOrTab(i));var u=-1===o.peek(e.currentLine,e.offset),d=e.column-l;return d>=5||d<1||u?(s.padding=r[0].length+1,e.column=l,e.offset=c,o.isSpaceOrTab(o.peek(e.currentLine,e.offset))&&e.advanceOffset(1,!0)):s.padding=r[0].length+d,s}(e,s))?0:(e.closeUnmatchedBlocks(),"list"===e.tip.type&&(a=r,(i=s.listData).type===a.type&&i.delimiter===a.delimiter&&i.bulletChar===a.bulletChar)||((s=e.addChild("list",e.nextNonspace)).listData=r),(s=e.addChild("item",e.nextNonspace)).listData=r,1)},function(e){return e.indented&&"paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(o.CODE_INDENT,!0),e.closeUnmatchedBlocks(),e.addChild("codeBlock",e.offset),2):0},a.tableHead,a.tableBody]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);t.ToastMark=r.ToastMark;var i=n(26);t.createRenderHTML=i.createRenderHTML;var o=n(6);t.Parser=o.Parser},function(e,t,n){"use strict";var r={};function i(e,t,n){var o,a,s,l,c,u="";for("string"!=typeof t&&(n=t,t=i.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,i=r[e];if(i)return i;for(i=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}(t),o=0,a=e.length;o<a;o++)if(s=e.charCodeAt(o),n&&37===s&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))u+=e.slice(o,o+3),o+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&o+1<a&&(l=e.charCodeAt(o+1))>=56320&&l<=57343){u+=encodeURIComponent(e[o]+e[o+1]),o++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[o]);return u}i.defaultChars=";/?:@&=+$,-_.!~*'()#",i.componentChars="-_.!~*'()",e.exports=i},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\ud835\udd04","afr":"\ud835\udd1e","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\ud835\udd38","aopf":"\ud835\udd52","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\ud835\udc9c","ascr":"\ud835\udcb6","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\ud835\udd05","bfr":"\ud835\udd1f","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\ud835\udd39","bopf":"\ud835\udd53","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\ud835\udcb7","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\ud835\udd20","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\ud835\udd54","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\ud835\udc9e","cscr":"\ud835\udcb8","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\ud835\udd07","dfr":"\ud835\udd21","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\ud835\udd3b","dopf":"\ud835\udd55","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\ud835\udc9f","dscr":"\ud835\udcb9","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\ud835\udd08","efr":"\ud835\udd22","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\ud835\udd3c","eopf":"\ud835\udd56","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\ud835\udd09","ffr":"\ud835\udd23","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\ud835\udd3d","fopf":"\ud835\udd57","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\ud835\udcbb","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\ud835\udd0a","gfr":"\ud835\udd24","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\ud835\udd3e","gopf":"\ud835\udd58","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\ud835\udca2","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\ud835\udd25","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\ud835\udd59","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\ud835\udcbd","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\ud835\udd26","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\ud835\udd40","iopf":"\ud835\udd5a","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\ud835\udcbe","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\ud835\udd0d","jfr":"\ud835\udd27","jmath":"\u0237","Jopf":"\ud835\udd41","jopf":"\ud835\udd5b","Jscr":"\ud835\udca5","jscr":"\ud835\udcbf","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\ud835\udd0e","kfr":"\ud835\udd28","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\ud835\udd42","kopf":"\ud835\udd5c","Kscr":"\ud835\udca6","kscr":"\ud835\udcc0","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\ud835\udd0f","lfr":"\ud835\udd29","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\ud835\udd43","lopf":"\ud835\udd5d","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\ud835\udcc1","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\ud835\udd10","mfr":"\ud835\udd2a","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\ud835\udd44","mopf":"\ud835\udd5e","mp":"\u2213","mscr":"\ud835\udcc2","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\ud835\udd11","nfr":"\ud835\udd2b","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\ud835\udd5f","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\ud835\udca9","nscr":"\ud835\udcc3","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\ud835\udd12","ofr":"\ud835\udd2c","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\ud835\udd46","oopf":"\ud835\udd60","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\ud835\udcaa","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\ud835\udd13","pfr":"\ud835\udd2d","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\ud835\udd61","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\ud835\udcab","pscr":"\ud835\udcc5","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\ud835\udd14","qfr":"\ud835\udd2e","qint":"\u2a0c","qopf":"\ud835\udd62","Qopf":"\u211a","qprime":"\u2057","Qscr":"\ud835\udcac","qscr":"\ud835\udcc6","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\ud835\udd2f","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\ud835\udd63","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\ud835\udcc7","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\ud835\udd16","sfr":"\ud835\udd30","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\ud835\udd4a","sopf":"\ud835\udd64","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\ud835\udcae","sscr":"\ud835\udcc8","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\ud835\udd17","tfr":"\ud835\udd31","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\ud835\udd4b","topf":"\ud835\udd65","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\ud835\udcaf","tscr":"\ud835\udcc9","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\ud835\udd18","ufr":"\ud835\udd32","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\ud835\udd4c","uopf":"\ud835\udd66","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\ud835\udcb0","uscr":"\ud835\udcca","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\ud835\udd19","vfr":"\ud835\udd33","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\ud835\udd4d","vopf":"\ud835\udd67","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\ud835\udcb1","vscr":"\ud835\udccb","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\ud835\udd1a","wfr":"\ud835\udd34","Wopf":"\ud835\udd4e","wopf":"\ud835\udd68","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\ud835\udcb2","wscr":"\ud835\udccc","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\ud835\udd1b","xfr":"\ud835\udd35","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\ud835\udd4f","xopf":"\ud835\udd69","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\ud835\udcb3","xscr":"\ud835\udccd","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\ud835\udd1c","yfr":"\ud835\udd36","YIcy":"\u0407","yicy":"\u0457","Yopf":"\ud835\udd50","yopf":"\ud835\udd6a","Yscr":"\ud835\udcb4","yscr":"\ud835\udcce","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\ud835\udd37","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\ud835\udd6b","Zopf":"\u2124","Zscr":"\ud835\udcb5","zscr":"\ud835\udccf","zwj":"\u200d","zwnj":"\u200c"}')},function(e){e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(16));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"\ufffd";e in i.default&&(e=i.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){this.current=e,this.root=e,this.entering=!0}return e.prototype.next=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=r.isContainer(e);return t&&n?e.firstChild?(this.current=e.firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e.next?(this.current=e.parent,this.entering=!1):(this.current=e.next,this.entering=!0),{entering:t,node:e}},e.prototype.resumeAt=function(e,t){this.current=e,this.entering=!0===t},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(8),s=r.__importDefault(n(19)),l=n(7),c=n(20),u=n(3),d=n(5);t.C_NEWLINE=10;var h="\\\\"+o.ESCAPABLE,p=new RegExp(/[!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/),f=new RegExp('^(?:"('+h+'|[^"\\x00])*"|\'('+h+"|[^'\\x00])*'|\\(("+h+"|[^()\\x00])*\\))"),m=/^(?:<(?:[^<>\n\\\x00]|\\.)*>)/,g=new RegExp("^"+o.ESCAPABLE),v=new RegExp("^"+o.ENTITY,"i"),_=/`+/,y=/^`+/,b=/\.\.\./g,C=/--+/g,w=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,S=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,x=/^ *(?:\n *)?/,k=/^[ \t\n\x0b\x0c\x0d]/,E=/^\s/,T=/ *$/,j=/^ */,O=/^ *(?:\n|$)/,P=/^\[(?:[^\\\[\]]|\\.){0,1000}\]/,D=/^[^\n`\[\]\\!<&*_'"~]+/m,M=function(){function e(e){this.subject="",this.delimiters=null,this.brackets=null,this.pos=0,this.lineStartNum=0,this.lineIdx=0,this.lineOffsets=[0],this.linePosOffset=0,this.refMap={},this.refLinkCandidateMap={},this.refDefCandidateMap={},this.options=e}return e.prototype.sourcepos=function(e,t){var n=this.linePosOffset+this.lineOffsets[this.lineIdx],r=this.lineStartNum+this.lineIdx,i=[r,e+n];return"number"==typeof t?[i,[r,t+n]]:i},e.prototype.nextLine=function(){this.lineIdx+=1,this.linePosOffset=-this.pos},e.prototype.match=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},e.prototype.peek=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},e.prototype.spnl=function(){return this.match(x),!0},e.prototype.parseBackticks=function(e){var t=this.pos+1,n=this.match(y);if(null===n)return!1;for(var r,o=this.pos;null!==(r=this.match(_));)if(r===n){var a=this.subject.slice(o,this.pos-n.length),s=this.sourcepos(t,this.pos),l=a.split("\n");if(l.length>1){var c=u.last(l);this.lineIdx+=l.length-1,this.linePosOffset=-(this.pos-c.length-n.length),s[1]=this.sourcepos(this.pos),a=l.join(" ")}var d=i.createNode("code",s);return a.length>0&&null!==a.match(/[^ ]/)&&" "==a[0]&&" "==a[a.length-1]?d.literal=a.slice(1,a.length-1):d.literal=a,d.tickCount=n.length,e.appendChild(d),!0}return this.pos=o,e.appendChild(i.text(n,this.sourcepos(t,this.pos-1))),!0},e.prototype.parseBackslash=function(e){var n,r=this.subject;this.pos+=1;var o=this.pos;return this.peek()===t.C_NEWLINE?(this.pos+=1,n=i.createNode("linebreak",this.sourcepos(this.pos-1,this.pos)),e.appendChild(n),this.nextLine()):g.test(r.charAt(this.pos))?(e.appendChild(i.text(r.charAt(this.pos),this.sourcepos(o,this.pos))),this.pos+=1):e.appendChild(i.text("\\",this.sourcepos(o,o))),!0},e.prototype.parseAutolink=function(e){var t,n,r,a=this.pos+1;return(t=this.match(w))?(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI("mailto:"+n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0):!!(t=this.match(S))&&(n=t.slice(1,t.length-1),(r=i.createNode("link",this.sourcepos(a,this.pos))).destination=o.normalizeURI(n),r.title="",r.appendChild(i.text(n,this.sourcepos(a+1,this.pos-1))),e.appendChild(r),!0)},e.prototype.parseHtmlTag=function(e){var t=this.pos+1,n=this.match(a.reHtmlTag);if(null===n)return!1;var r=i.createNode("htmlInline",this.sourcepos(t,this.pos));return r.literal=n,e.appendChild(r),!0},e.prototype.scanDelims=function(e){var t=0,n=this.pos;if(39===e||34===e)t++,this.pos++;else for(;this.peek()===e;)t++,this.pos++;if(0===t||t<2&&126===e)return this.pos=n,null;var r,i=0===n?"\n":this.subject.charAt(n-1),o=this.peek();r=-1===o?"\n":s.default(o);var a,l,c=E.test(r),u=p.test(r),d=E.test(i),h=p.test(i),f=!c&&(!u||d||h),m=!d&&(!h||c||u);return 95===e?(a=f&&(!m||h),l=m&&(!f||u)):39===e||34===e?(a=f&&!m,l=m):(a=f,l=m),this.pos=n,{numdelims:t,canOpen:a,canClose:l}},e.prototype.handleDelim=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,o=n.numdelims,a=this.pos+1;this.pos+=o,r=39===e?"\u2019":34===e?"\u201c":this.subject.slice(a-1,this.pos);var s=i.text(r,this.sourcepos(a,this.pos));return t.appendChild(s),(n.canOpen||n.canClose)&&(this.options.smart||39!==e&&34!==e)&&(this.delimiters={cc:e,numdelims:o,origdelims:o,node:s,previous:this.delimiters,next:null,canOpen:n.canOpen,canClose:n.canClose},this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)),!0},e.prototype.removeDelimiter=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},e.prototype.removeDelimitersBetween=function(e,t){e.next!==t&&(e.next=t,t.previous=e)},e.prototype.processEmphasis=function(e){var t,n,r,o,a,s,l,c=!1,u=((t={})[95]=[e,e,e],t[42]=[e,e,e],t[39]=[e],t[34]=[e],t[126]=[e],t);for(r=this.delimiters;null!==r&&r.previous!==e;)r=r.previous;for(;null!==r;){var d=r.cc,h=95===d||42===d;if(r.canClose){for(n=r.previous,l=!1;null!==n&&n!==e&&n!==u[d][h?r.origdelims%3:0];){if(c=h&&(r.canOpen||n.canClose)&&r.origdelims%3!=0&&(n.origdelims+r.origdelims)%3==0,n.cc===r.cc&&n.canOpen&&!c){l=!0;break}n=n.previous}if(o=r,h||126===d)if(l){if(n){var p=r.numdelims>=2&&n.numdelims>=2?2:1,f=h?0:1;a=n.node,s=r.node;var m=i.createNode(h?1===p?"emph":"strong":"strike"),g=a.sourcepos[1],v=s.sourcepos[0];m.sourcepos=[[g[0],g[1]-p+1],[v[0],v[1]+p-1]],a.sourcepos[1][1]-=p,s.sourcepos[0][1]+=p,a.literal=a.literal.slice(p),s.literal=s.literal.slice(p),n.numdelims-=p,r.numdelims-=p;for(var _=a.next,y=void 0;_&&_!==s;)y=_.next,_.unlink(),m.appendChild(_),_=y;if(a.insertAfter(m),this.removeDelimitersBetween(n,r),n.numdelims<=f&&(0===n.numdelims&&a.unlink(),this.removeDelimiter(n)),r.numdelims<=f){0===r.numdelims&&s.unlink();var b=r.next;this.removeDelimiter(r),r=b}}}else r=r.next;else 39===d?(r.node.literal="\u2019",l&&(n.node.literal="\u2018"),r=r.next):34===d&&(r.node.literal="\u201d",l&&(n.node.literal="\u201c"),r=r.next);l||(u[d][h?o.origdelims%3:0]=o.previous,o.canOpen||this.removeDelimiter(o))}else r=r.next}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},e.prototype.parseLinkTitle=function(){var e=this.match(f);return null===e?null:o.unescapeString(e.substr(1,e.length-2))},e.prototype.parseLinkDestination=function(){var e=this.match(m);if(null===e){if(60===this.peek())return null;for(var t=this.pos,n=0,r=void 0;-1!==(r=this.peek());)if(92===r&&g.test(this.subject.charAt(this.pos+1)))this.pos+=1,-1!==this.peek()&&(this.pos+=1);else if(40===r)this.pos+=1,n+=1;else if(41===r){if(n<1)break;this.pos+=1,n-=1}else{if(null!==k.exec(s.default(r)))break;this.pos+=1}return this.pos===t&&41!==r||0!==n?null:(e=this.subject.substr(t,this.pos-t),o.normalizeURI(o.unescapeString(e)))}return o.normalizeURI(o.unescapeString(e.substr(1,e.length-2)))},e.prototype.parseLinkLabel=function(){var e=this.match(P);return null===e||e.length>1001?0:e.length},e.prototype.parseOpenBracket=function(e){var t=this.pos;this.pos+=1;var n=i.text("[",this.sourcepos(this.pos,this.pos));return e.appendChild(n),this.addBracket(n,t,!1),!0},e.prototype.parseBang=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=i.text("![",this.sourcepos(this.pos-1,this.pos));e.appendChild(n),this.addBracket(n,t+1,!0)}else n=i.text("!",this.sourcepos(this.pos,this.pos)),e.appendChild(n);return!0},e.prototype.parseCloseBracket=function(e){var t=null,n=null,r=!1;this.pos+=1;var o=this.pos,a=this.brackets;if(null===a)return e.appendChild(i.text("]",this.sourcepos(o,o))),!0;if(!a.active)return e.appendChild(i.text("]",this.sourcepos(o,o))),this.removeBracket(),!0;var s=a.image,l=this.pos;40===this.peek()&&(this.pos++,this.spnl()&&null!==(t=this.parseLinkDestination())&&this.spnl()&&(k.test(this.subject.charAt(this.pos-1))&&(n=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()?(this.pos+=1,r=!0):this.pos=l);var c="";if(!r){var d=this.pos,h=this.parseLinkLabel();if(h>2?c=this.subject.slice(d,d+h):a.bracketAfter||(c=this.subject.slice(a.index,o)),0===h&&(this.pos=l),c){c=u.normalizeReference(c);var p=this.refMap[c];p&&(t=p.destination,n=p.title,r=!0)}}if(r){var f=i.createNode(s?"image":"link");f.destination=t,f.title=n||"",f.sourcepos=[a.startpos,this.sourcepos(this.pos)];for(var m=a.node.next,g=void 0;m;)g=m.next,m.unlink(),f.appendChild(m),m=g;if(e.appendChild(f),this.processEmphasis(a.previousDelimiter),this.removeBracket(),a.node.unlink(),!s)for(a=this.brackets;null!==a;)a.image||(a.active=!1),a=a.previous;return this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0}return this.removeBracket(),this.pos=o,e.appendChild(i.text("]",this.sourcepos(o,o))),this.options.referenceDefinition&&(this.refLinkCandidateMap[e.id]={node:e,refLabel:c}),!0},e.prototype.addBracket=function(e,t,n){null!==this.brackets&&(this.brackets.bracketAfter=!0),this.brackets={node:e,startpos:this.sourcepos(t+(n?0:1)),previous:this.brackets,previousDelimiter:this.delimiters,index:t,image:n,active:!0}},e.prototype.removeBracket=function(){this.brackets&&(this.brackets=this.brackets.previous)},e.prototype.parseEntity=function(e){var t,n=this.pos+1;return!!(t=this.match(v))&&(e.appendChild(i.text(l.decodeHTML(t),this.sourcepos(n,this.pos))),!0)},e.prototype.parseString=function(e){var t,n=this.pos+1;if(t=this.match(D)){if(this.options.smart){var r=t.replace(b,"\u2026").replace(C,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),o.repeat("\u2014",n)+o.repeat("\u2013",t)}));e.appendChild(i.text(r,this.sourcepos(n,this.pos)))}else{var a=i.text(t,this.sourcepos(n,this.pos));e.appendChild(a)}return!0}return!1},e.prototype.parseNewline=function(e){this.pos+=1;var t=e.lastChild;if(t&&"text"===t.type&&" "===t.literal[t.literal.length-1]){var n=" "===t.literal[t.literal.length-2],r=t.literal.length;t.literal=t.literal.replace(T,"");var o=r-t.literal.length;t.sourcepos[1][1]-=o,e.appendChild(i.createNode(n?"linebreak":"softbreak",this.sourcepos(this.pos-o,this.pos)))}else e.appendChild(i.createNode("softbreak",this.sourcepos(this.pos,this.pos)));return this.nextLine(),this.match(j),!0},e.prototype.parseReference=function(e,t){if(!this.options.referenceDefinition)return 0;this.subject=e.stringContent,this.pos=0;var n=null,r=this.pos,o=this.parseLinkLabel();if(0===o)return 0;var a=this.subject.substr(0,o);if(58!==this.peek())return this.pos=r,0;this.pos++,this.spnl();var s=this.parseLinkDestination();if(null===s)return this.pos=r,0;var l=this.pos;this.spnl(),this.pos!==l&&(n=this.parseLinkTitle()),null===n&&(n="",this.pos=l);var c=!0;if(null===this.match(O)&&(""===n?c=!1:(n="",this.pos=l,c=null!==this.match(O))),!c)return this.pos=r,0;var h=u.normalizeReference(a);if(""===h)return this.pos=r,0;var p=this.getReferenceDefSourcepos(e);e.sourcepos[0][0]=p[1][0]+1;var f=i.createNode("refDef",p);return f.title=n,f.dest=s,f.label=h,e.insertBefore(f),t[h]?this.refDefCandidateMap[f.id]=f:t[h]=d.createRefDefState(f),this.pos-r},e.prototype.mergeTextNodes=function(e){for(var t,n=[];t=e.next();){var r=t.entering,i=t.node;if(r&&"text"===i.type)n.push(i);else if(1===n.length)n=[];else if(n.length>1){var o=n[0],a=n[n.length-1];o.sourcepos&&a.sourcepos&&(o.sourcepos[1]=a.sourcepos[1]),o.next=a.next,o.next&&(o.next.prev=o);for(var s=1;s<n.length;s+=1)o.literal+=n[s].literal,n[s].unlink();n=[]}}},e.prototype.getReferenceDefSourcepos=function(e){for(var t=e.stringContent.split(/\n|\r\n/),n=!1,r=0,i={line:0,ch:0},o=0;o<t.length;o+=1){var a=t[o];if(k.test(a))break;if(/\:/.test(a)&&0===r){if(n)break;var s=a.indexOf(":")===a.length-1?o+1:o;i={line:s,ch:t[s].length},n=!0}var l=a.match(/'|"/g);if(l&&(r+=l.length),2===r){i={line:o,ch:a.length};break}}return[[e.sourcepos[0][0],e.sourcepos[0][1]],[e.sourcepos[0][0]+i.line,i.ch]]},e.prototype.parseInline=function(e){var n,r=!1,o=this.peek();if(-1===o)return!1;switch(o){case t.C_NEWLINE:r=this.parseNewline(e);break;case 92:r=this.parseBackslash(e);break;case 96:r=this.parseBackticks(e);break;case 42:case 95:case 126:r=this.handleDelim(o,e);break;case 39:case 34:r=!!(null===(n=this.options)||void 0===n?void 0:n.smart)&&this.handleDelim(o,e);break;case 91:r=this.parseOpenBracket(e);break;case 33:r=this.parseBang(e);break;case 93:r=this.parseCloseBracket(e);break;case 60:r=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:r=this.parseEntity(e);break;default:r=this.parseString(e)}return r||(this.pos+=1,e.appendChild(i.text(s.default(o),this.sourcepos(this.pos,this.pos+1)))),!0},e.prototype.parse=function(e){for(this.subject=e.stringContent.trim(),this.pos=0,this.delimiters=null,this.brackets=null,this.lineOffsets=e.lineOffsets||[0],this.lineIdx=0,this.linePosOffset=0,this.lineStartNum=e.sourcepos[0][0],i.isHeading(e)&&(this.lineOffsets[0]+=e.level+1);this.parseInline(e););e.stringContent=null,this.processEmphasis(null),this.mergeTextNodes(e.walker());var t=this.options,n=t.extendedAutolinks,r=t.customParser;if(n&&c.convertExtAutoLinks(e.walker(),n),r&&e.firstChild)for(var o,a=e.firstChild.walker();o=a.next();){var s=o.node,l=o.entering;r[s.type]&&r[s.type](s,{entering:l})}},e}();t.InlineParser=M},function(e,t,n){"use strict";var r;if(Object.defineProperty(t,"__esModule",{value:!0}),String.fromCodePoint)r=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var i=String.fromCharCode,o=Math.floor;r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r,a=16384,s=[],l=-1,c=e.length;if(!c)return"";for(var u="";++l<c;){var d=Number(e[l]);if(!isFinite(d)||d<0||d>1114111||o(d)!==d)return String.fromCharCode(65533);d<=65535?s.push(d):(n=55296+((d-=65536)>>10),r=d%1024+56320,s.push(n,r)),(l+1===c||s.length>a)&&(u+=i.apply(void 0,s),s.length=0)}return u}}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1);function o(e){var t=/\)+$/.exec(e);if(t){for(var n=0,r=0,i=e;r<i.length;r++){var o=i[r];"("===o?n<0?n=1:n+=1:")"===o&&(n-=1)}if(n<0){var a=Math.min(-n,t[0].length);return e.substring(0,e.length-a)}}return e}function a(e){return e.replace(/&[A-Za-z0-9]+;$/,"")}function s(e){for(var t,n=new RegExp("[\\w.+-]+@(?:[\\w-]+\\.)+[\\w-]+","g"),r=[];t=n.exec(e);){var i=t[0];/[_-]+$/.test(i)||r.push({text:i,range:[t.index,t.index+i.length-1],url:"mailto:"+i})}return r}function l(e){for(var t,n=new RegExp("(www|https?://).(?:[w-]+.)*[A-Za-z0-9-]+.[A-Za-z0-9-]+[^<\\s]*[^<?!.,:*_?~\\s]","g"),r=[];t=n.exec(e);){var i=a(o(t[0])),s="www"===t[1]?"http://":"";r.push({text:i,range:[t.index,t.index+i.length-1],url:""+s+i})}return r}function c(e){return r.__spreadArrays(l(e),s(e)).sort((function(e,t){return e.range[0]-t.range[0]}))}t.parseEmailLink=s,t.parseUrlLink=l,t.convertExtAutoLinks=function(e,t){var n;"boolean"==typeof t&&(t=c);for(var r=function(){var e=n.entering,r=n.node;if(e&&"text"===r.type&&"link"!==r.parent.type){var o=r.literal,a=t(o);if(!a||!a.length)return"continue";for(var s=0,l=r.sourcepos[0],c=l[0],u=l[1],d=function(e,t){return[[c,u+e],[c,u+t]]},h=[],p=0,f=a;p<f.length;p++){var m=f[p],g=m.range,v=m.url,_=m.text;g[0]>s&&h.push(i.text(o.substring(s,g[0]),d(s,g[0]-1)));var y=i.createNode("link",d.apply(void 0,g));y.appendChild(i.text(_,d.apply(void 0,g))),y.destination=v,y.extendedAutolink=!0,h.push(y),s=g[1]+1}s<o.length&&h.push(i.text(o.substring(s),d(s,o.length-1)));for(var b=0,C=h;b<C.length;b++){var w=C[b];r.insertBefore(w)}r.unlink()}};n=e.next();)r()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),i=n(23),o=n(4),a=n(2),s={continue:function(){return 0},finalize:function(e,t){for(var n=t.firstChild;n;){if(o.endsWithBlankLine(n)&&n.next){t.listData.tight=!1;break}for(var r=n.firstChild;r;){if(o.endsWithBlankLine(r)&&(n.next||r.next)){t.listData.tight=!1;break}r=r.next}n=n.next}},canContain:function(e){return"item"===e},acceptsLines:!1},l={continue:function(e){var t=e.currentLine;return e.indented||o.peek(t,e.nextNonspace)!==o.C_GREATERTHAN?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),o.isSpaceOrTab(o.peek(t,e.offset))&&e.advanceOffset(1,!0),0)},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},c={continue:function(e,t){if(e.blank){if(null===t.firstChild)return 1;e.advanceNextNonspace()}else{if(!(e.indent>=t.listData.markerOffset+t.listData.padding))return 1;e.advanceOffset(t.listData.markerOffset+t.listData.padding,!0)}return 0},finalize:r.taskListItemFinalize,canContain:function(e){return"item"!==e},acceptsLines:!1},u={continue:function(e,t){var n=e.currentLine,r=e.indent;if(t.isFenced){var i=r<=3&&n.charAt(e.nextNonspace)===t.fenceChar&&n.slice(e.nextNonspace).match(o.reClosingCodeFence);if(i&&i[0].length>=t.fenceLength)return e.lastLineLength=e.offset+r+i[0].length,e.finalize(t,e.lineNumber),2;for(var a=t.fenceOffset;a>0&&o.isSpaceOrTab(o.peek(n,e.offset));)e.advanceOffset(1,!0),a--}else if(r>=o.CODE_INDENT)e.advanceOffset(o.CODE_INDENT,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){var n;if(null!==t.stringContent){if(t.isFenced){var r=t.stringContent,i=r.indexOf("\n"),o=r.slice(0,i),s=r.slice(i+1),l=o.match(/^(\s*)(.*)/);t.infoPadding=l[1].length,t.info=a.unescapeString(l[2].trim()),t.literal=s}else t.literal=null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,"\n");t.stringContent=null}},canContain:function(){return!1},acceptsLines:!0},d={continue:function(e){return e.blank?1:0},finalize:function(e,t){if(null!==t.stringContent){for(var n,r=!1;o.peek(t.stringContent,0)===o.C_OPEN_BRACKET&&(n=e.inlineParser.parseReference(t,e.refMap));)t.stringContent=t.stringContent.slice(n),r=!0;r&&o.isBlank(t.stringContent)&&t.unlink()}},canContain:function(){return!1},acceptsLines:!0};t.blockHandlers={document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"item"!==e},acceptsLines:!1},list:s,blockQuote:l,item:c,heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},thematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},codeBlock:u,htmlBlock:{continue:function(e,t){return!e.blank||6!==t.htmlBlockType&&7!==t.htmlBlockType?0:1},finalize:function(e,t){var n;t.literal=(null===(n=t.stringContent)||void 0===n?void 0:n.replace(/(\n *)+$/,""))||null,t.stringContent=null},canContain:function(){return!1},acceptsLines:!0},paragraph:d,table:i.table,tableBody:i.tableBody,tableHead:i.tableHead,tableRow:i.tableRow,tableCell:i.tableCell,tableDelimRow:i.tableDelimRow,tableDelimCell:i.tableDelimCell,refDef:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=/^\[([ \txX])\][ \t]+/;t.taskListItemFinalize=function(e,t){if(t.firstChild&&"paragraph"===t.firstChild.type){var n=t.firstChild,i=n.stringContent.match(r);if(i){var o=i[0].length;n.stringContent=n.stringContent.substring(o-1),n.sourcepos[0][1]+=o,n.lineOffsets[0]+=o,t.listData.task=!0,t.listData.checked=/[xX]/.test(i[1])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.table={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableHead"===e||"tableBody"===e},acceptsLines:!1},t.tableBody={continue:function(){return 0},finalize:function(){},canContain:function(e){return"tableRow"===e},acceptsLines:!1},t.tableHead={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableRow"===e||"tableDelimRow"===e},acceptsLines:!1},t.tableDelimRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableDelimCell"===e},acceptsLines:!1},t.tableDelimCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},t.tableRow={continue:function(){return 1},finalize:function(){},canContain:function(e){return"tableCell"===e},acceptsLines:!1},t.tableCell={continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(3);function a(e){for(var t=0,n=0,i=[],o=0;o<e.length;o+=1)if("|"===e[o]&&"\\"!==e[o-1]){var a=e.substring(t,o);0===t&&r.isEmpty(a)?n=o+1:i.push(a),t=o+1}return t<e.length&&(a=e.substring(t,e.length),r.isEmpty(a)||i.push(a)),[n,i]}function s(e,t,n,r){for(var o=[],a=0,s=t;a<s.length;a++){var l=s[a],c=l.match(/^[ \t]+/),u=c?c[0].length:0,d=void 0,h=void 0;if(u===l.length)u=0,d=0,h="";else{var p=l.match(/[ \t]+$/);d=p?p[0].length:0,h=l.slice(u,l.length-d)}var f=r+u,m=i.createNode(e,[[n,r],[n,r+l.length-1]]);m.stringContent=h.replace(/\\\|/g,"|"),m.startIdx=o.length,m.endIdx=o.length,m.lineOffsets=[f-1],m.paddingLeft=u,m.paddingRight=d,o.push(m),r+=l.length+1}return o}function l(e){var t="left",n=e.stringContent,r=n[0];return":"===n[n.length-1]&&(t=":"===r?"center":"right"),{align:t}}t.tableHead=function(e,t){var n=t.stringContent;if("paragraph"===t.type&&!e.indented&&!e.blank){var r=n.length-1,c=n.lastIndexOf("\n",r-1)+1,u=n.slice(c,r),d=e.currentLine.slice(e.nextNonspace),h=a(u),p=h[0],f=h[1],m=a(d),g=m[0],v=m[1],_=/^[ \t]*:?-+:?[ \t]*$/;if(!f.length||!v.length||v.some((function(e){return!_.test(e)}))||1===v.length&&0!==d.indexOf("|"))return 0;var y=t.lineOffsets,b=e.lineNumber-1,C=o.last(y)+1,w=i.createNode("table",[[b,C],[e.lineNumber,e.offset]]);if(w.columns=v.map((function(){return{align:"left"}})),t.insertAfter(w),1===y.length)t.unlink();else{t.stringContent=n.slice(0,c);var S=c-(n.lastIndexOf("\n",c-2)+1)-1;e.lastLineLength=y[y.length-2]+S,e.finalize(t,b-1)}e.advanceOffset(e.currentLine.length-e.offset,!1);var x=i.createNode("tableHead",[[b,C],[e.lineNumber,e.offset]]);w.appendChild(x);var k=i.createNode("tableRow",[[b,C],[b,C+u.length-1]]),E=i.createNode("tableDelimRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.offset]]);x.appendChild(k),x.appendChild(E),s("tableCell",f,b,C+p).forEach((function(e){k.appendChild(e)}));var T=s("tableDelimCell",v,e.lineNumber,e.nextNonspace+1+g);return T.forEach((function(e){E.appendChild(e)})),w.columns=T.map(l),e.tip=w,2}return 0},t.tableBody=function(e,t){if("table"!==t.type&&"tableBody"!==t.type||!e.blank&&-1===e.currentLine.indexOf("|"))return 0;if(e.advanceOffset(e.currentLine.length-e.offset,!1),e.blank){var n=t;return"tableBody"===t.type&&(n=t.parent,e.finalize(t,e.lineNumber)),e.finalize(n,e.lineNumber),0}var r=t;"table"===t.type&&((r=e.addChild("tableBody",e.nextNonspace)).stringContent=null);var o=i.createNode("tableRow",[[e.lineNumber,e.nextNonspace+1],[e.lineNumber,e.currentLine.length]]);r.appendChild(o);var l=r.parent,c=a(e.currentLine.slice(e.nextNonspace)),u=c[0];return s("tableCell",c[1],e.lineNumber,e.nextNonspace+1+u).forEach((function(e,t){t>=l.columns.length&&(e.ignored=!0),o.appendChild(e)})),2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);function i(e,t){return e[0]<t[0]?1:e[0]>t[0]?-1:e[1]<t[1]?1:e[1]>t[1]?-1:0}function o(e,t){var n=e[0];return 1===i(e[1],t)?1:-1===i(n,t)?-1:0}function a(e,t){var n=e[0];return e[1][0]<t?1:n[0]>t?-1:0}function s(e){return r.getNodeById(e)||null}t.getAllParents=function(e){for(var t=[];e.parent;)t.push(e.parent),e=e.parent;return t.reverse()},t.removeNextUntil=function(e,t){if(e.parent===t.parent&&e!==t){for(var n=e.next;n&&n!==t;){for(var i=n.next,o=0,a=["parent","prev","next"];o<a.length;o++){var s=a[o];n[s]&&(r.removeNodeById(n[s].id),n[s]=null)}n=i}e.next=t.next,t.next?t.next.prev=e:e.parent.lastChild=e}},t.getChildNodes=function(e){for(var t=[],n=e.firstChild;n;)t.push(n),n=n.next;return t},t.insertNodesBefore=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];e.insertBefore(i)}},t.prependChildNodes=function(e,t){for(var n=t.length-1;n>=0;n-=1)e.prependChild(t[n])},t.updateNextLineNumbers=function(e,t){if(e&&e.parent&&0!==t){var n,r=e.parent.walker();for(r.resumeAt(e,!0);n=r.next();){var i=n.node;n.entering&&(i.sourcepos[0][0]+=t,i.sourcepos[1][0]+=t)}}},t.findChildNodeAtLine=function(e,t){for(var n=e.firstChild;n;){var r=a(n.sourcepos,t);if(0===r)return n;if(-1===r)return n.prev||n;n=n.next}return e.lastChild},t.findFirstNodeAtLine=function(e,t){for(var n=e.firstChild,r=null;n;){var i=a(n.sourcepos,t);if(0===i){if(n.sourcepos[0][0]===t||!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)break;r=n,n=n.next}}return r?function(e){for(;e.parent&&"document"!==e.parent.type&&e.parent.sourcepos[0][0]===e.sourcepos[0][0];)e=e.parent;return e}(function(e){for(;e.lastChild;)e=e.lastChild;return e}(r)):null},t.findNodeAtPosition=function(e,t){for(var n=e,r=null;n;){var i=o(n.sourcepos,t);if(0===i){if(!n.firstChild)return n;r=n,n=n.firstChild}else{if(-1===i)return r;if(!n.next)return r;n=n.next}}return n},t.toString=function(e){return e?"type: "+e.type+", sourcepos: "+e.sourcepos+", firstChild: "+(e.firstChild&&e.firstChild.type)+", lastChild: "+(e.lastChild&&e.lastChild.type)+", prev: "+(e.prev&&e.prev.type)+", next: "+(e.next&&e.next.type):"null"},t.findNodeById=s,t.invokeNextUntil=function(e,t,n){if(void 0===n&&(n=null),t)for(var r=t.walker();t&&t!==n;){e(t);var i=r.next();if(!i)break;t=i.node}},t.isUnlinked=function(e){var t=s(e);if(!t)return!0;for(;t&&"document"!==t.type;){if(!t.parent&&!t.prev&&!t.next)return!0;t=t.parent}return!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(2),a=n(3),s=n(27),l=n(29),c={softbreak:"\n",gfm:!1,tagFilter:!1,nodeId:!1};function u(e){e.length&&"\n"!==a.last(a.last(e))&&e.push("\n")}function d(e,t){e.outerNewLine&&u(t)}function h(e,t){e.innerNewLine&&u(t)}function p(e){for(var t=[],n=e.walker(),r=null;r=n.next();){var i=r.node;"text"===i.type&&t.push(i.literal)}return t.join("")}t.createRenderHTML=function(e){var t=r.__assign(r.__assign({},c),e),n=r.__assign({},s.baseConvertors);if(t.gfm&&(n=r.__assign(r.__assign({},n),l.gfmConvertors)),t.convertors){var a=t.convertors;Object.keys(a).forEach((function(e){var t=n[e],r=a[e];n[e]=t?function(e,n){return n.origin=function(){return t(e,n)},r(e,n)}:r})),delete t.convertors}return function(e){return function(e,t,n){for(var r=[],a=e.walker(),s=null,l=function(){var e=s.node,l=s.entering,c=t[e.type];if(!c)return"continue";var u=!1,f={entering:l,leaf:!i.isContainer(e),options:n,getChildrenText:p,skipChildren:function(){u=!0}},m=c(e,f);m&&((Array.isArray(m)?m:[m]).forEach((function(t,i){"openTag"===t.type&&n.nodeId&&0===i&&(t.attributes||(t.attributes={}),t.attributes["data-nodeid"]=String(e.id)),function(e,t){switch(e.type){case"openTag":case"closeTag":!function(e,t){"openTag"===e.type?(d(e,t),t.push(function(e){var t=[],n=e.tagName,r=e.classNames,i=e.attributes;return t.push("<"+n),r&&r.length>0&&t.push(' class="'+r.join(" ")+'"'),i&&Object.keys(i).forEach((function(e){var n=i[e];t.push(" "+e+'="'+n+'"')})),e.selfClose&&t.push(" /"),t.push(">"),t.join("")}(e)),e.selfClose?d(e,t):h(e,t)):(h(e,t),t.push("</"+e.tagName+">"),d(e,t))}(e,t);break;case"text":!function(e,t){t.push(o.escapeXml(e.content))}(e,t);break;case"html":!function(e,t){d(e,t),t.push(e.content),d(e,t)}(e,t)}}(t,r)})),u&&(a.resumeAt(e,!1),a.next()))};s=a.next();)l();return u(r),r.join("")}(e,n,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=n(28);t.baseConvertors={heading:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"h"+e.level,outerNewLine:!0}},text:function(e){return{type:"text",content:e.literal}},softbreak:function(e,t){return{type:"html",content:t.options.softbreak}},linebreak:function(){return{type:"html",content:"<br />\n"}},emph:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"em"}},strong:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"strong"}},paragraph:function(e,t){var n,r=t.entering,i=null===(n=e.parent)||void 0===n?void 0:n.parent;return i&&"list"===i.type&&i.listData.tight?null:{type:r?"openTag":"closeTag",tagName:"p",outerNewLine:!0}},thematicBreak:function(){return{type:"openTag",tagName:"hr",outerNewLine:!0,selfClose:!0}},blockQuote:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"blockquote",outerNewLine:!0,innerNewLine:!0}},list:function(e,t){var n=t.entering,r=e.listData,i=r.type,o=r.start,a="bullet"===i?"ul":"ol",s={};return"ol"===a&&null!==o&&1!==o&&(s.start=o.toString()),{type:n?"openTag":"closeTag",tagName:a,attributes:s,outerNewLine:!0}},item:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"li",outerNewLine:!0}},htmlInline:function(e,t){return{type:"html",content:t.options.tagFilter?o.filterDisallowedTags(e.literal):e.literal}},htmlBlock:function(e,t){var n=t.options,r=n.tagFilter?o.filterDisallowedTags(e.literal):e.literal;return n.nodeId?[{type:"openTag",tagName:"div",outerNewLine:!0},{type:"html",content:r},{type:"closeTag",tagName:"div",outerNewLine:!0}]:{type:"html",content:r,outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code"},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info,n=t?t.split(/\s+/):[],r=[];return n.length>0&&n[0].length>0&&r.push("language-"+i.escapeXml(n[0])),[{type:"openTag",tagName:"pre",outerNewLine:!0},{type:"openTag",tagName:"code",classNames:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre",outerNewLine:!0}]},link:function(e,t){if(t.entering){var n=e,o=n.title,a=n.destination;return{type:"openTag",tagName:"a",attributes:r.__assign({href:i.escapeXml(a)},o&&{title:i.escapeXml(o)})}}return{type:"closeTag",tagName:"a"}},image:function(e,t){var n=t.getChildrenText,o=t.skipChildren,a=e,s=a.title,l=a.destination;return o(),{type:"openTag",tagName:"img",selfClose:!0,attributes:r.__assign({src:i.escapeXml(l),alt:n(e)},s&&{title:i.escapeXml(s)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp("<(/?(?:"+["title","textarea","style","xmp","iframe","noembed","noframes","script","plaintext"].join("|")+")[^>]*>)","ig");t.filterDisallowedTags=function(e){return r.test(e)?e.replace(r,(function(e,t){return"&lt;"+t})):e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.gfmConvertors={strike:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"del"}},item:function(e,t){var n=t.entering,i=e.listData,o=i.checked,a=i.task;if(n){var s={type:"openTag",tagName:"li",outerNewLine:!0};return a?[s,{type:"openTag",tagName:"input",selfClose:!0,attributes:r.__assign(r.__assign({},o&&{checked:""}),{disabled:"",type:"checkbox"})},{type:"text",content:" "}]:s}return{type:"closeTag",tagName:"li",outerNewLine:!0}},table:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"table",outerNewLine:!0}},tableHead:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"thead",outerNewLine:!0}},tableBody:function(e,t){return{type:t.entering?"openTag":"closeTag",tagName:"tbody",outerNewLine:!0}},tableRow:function(e,t){if(t.entering)return{type:"openTag",tagName:"tr",outerNewLine:!0};var n=[];if(e.lastChild)for(var r=e.parent.parent.columns.length,i=e.lastChild.endIdx+1;i<r;i+=1)n.push({type:"openTag",tagName:"td",outerNewLine:!0},{type:"closeTag",tagName:"td",outerNewLine:!0});return n.push({type:"closeTag",tagName:"tr",outerNewLine:!0}),n},tableCell:function(e,t){var n=t.entering;if(e.ignored)return{type:"text",content:""};var i=e.parent.parent,o="tableHead"===i.type?"th":"td",a=i.parent.columns[e.startIdx],s=a&&"left"!==a.align?a.align:null,l=s?{align:s}:null;return n?r.__assign({type:"openTag",tagName:o,outerNewLine:!0},l&&{attributes:l}):{type:"closeTag",tagName:o,outerNewLine:!0}}}}]))},function(e,t,n){"use strict";var r=n(14),i=n.n(r),o=n(21),a=n.n(o),s=function(){function e(){this._keys=[],this._values=[]}var t=e.prototype;return t._getKeyIndex=function(e){return i()(e,this._keys)},t.get=function(e){return this._values[this._getKeyIndex(e)]},t.set=function(e,t){var n=this._getKeyIndex(e);n>-1?this._values[n]=t:(this._keys.push(e),this._values.push(t))},t.has=function(e){return this._getKeyIndex(e)>-1},t.delete=function(e){var t=this._getKeyIndex(e);t>-1&&(this._keys.splice(t,1),this._values.splice(t,1))},t.forEach=function(e,t){var n=this;void 0===t&&(t=this),a()(this._values,(function(r,i){r&&n._keys[i]&&e.call(t,r,n._keys[i],n)}))},e}();t.a=s},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(2),i=n.n(r),o={};function a(e,t){o[e]=o[e]||{},o[e].height=t}function s(e,t){o[e]=o[e]||{},o[e].offsetTop=t}function l(e){return o[e]&&o[e].height}function c(e){return o[e]&&o[e].offsetTop}function u(e){e&&(delete o[e.getAttribute("data-nodeid")],i()(e.children).forEach((function(e){u(e)})))}},function(e,t,n){"use strict";var r=n(2),i=n.n(r),o=n(9),a=n.n(o),s=n(0),l=new RegExp("^(abbr|align|alt|axis|bgcolor|border|cellpadding|cellspacing|class|clear|color|cols|compact|coords|dir|face|headers|height|hreflang|hspace|ismap|lang|language|nohref|nowrap|rel|rev|rows|rules|scope|scrolling|shape|size|span|start|summary|tabindex|target|title|type|valign|value|vspace|width|checked|mathvariant|encoding|id|name|background|cite|href|longdesc|src|usemap|xlink:href|data-+|checked|style)","g"),c=new RegExp("^(accent-height|accumulate|additive|alphabetic|arabic-form|ascent|baseProfile|bbox|begin|by|calcMode|cap-height|class|color|color-rendering|content|cx|cy|d|dx|dy|descent|display|dur|end|fill|fill-rule|font-family|font-size|font-stretch|font-style|font-variant|font-weight|from|fx|fy|g1|g2|glyph-name|gradientUnits|hanging|height|horiz-adv-x|horiz-origin-x|ideographic|k|keyPoints|keySplines|keyTimes|lang|marker-end|marker-mid|marker-start|markerHeight|markerUnits|markerWidth|mathematical|max|min|offset|opacity|orient|origin|overline-position|overline-thickness|panose-1|path|pathLength|points|preserveAspectRatio|r|refX|refY|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|rotate|rx|ry|slope|stemh|stemv|stop-color|stop-opacity|strikethrough-position|strikethrough-thickness|stroke|stroke-dasharray|stroke-dashoffset|stroke-linecap|stroke-linejoin|stroke-miterlimit|stroke-opacity|stroke-width|systemLanguage|target|text-anchor|to|transform|type|u1|u2|underline-position|underline-thickness|unicode|unicode-range|units-per-em|values|version|viewBox|visibility|width|widths|x|x-height|x1|x2|xlink:actuate|xlink:arcrole|xlink:role|xlink:show|xlink:title|xlink:type|xml:base|xml:lang|xml:space|xmlns|xmlns:xlink|y|y1|y2|zoomAndPan)","g"),u=/href|src|background/gi,d=/((java|vb|live)script|x):/gi,h=/^on\S+/;t.a=function(e,t){var n=document.createElement("div");return a()(e)?(e=e.replace(/<!--[\s\S]*?-->/g,""),n.innerHTML=e):n.appendChild(e),function(e){s.a.findAll(e,"script, iframe, textarea, form, button, select, input, meta, style, link, title, embed, object, details, summary").forEach((function(e){s.a.remove(e)}))}(n),function(e){s.a.findAll(e,"*").forEach((function(e){var t=e.attributes;!function(e,t){i()(t).forEach((function(t){var n=t.name;h.test(n)&&(e[n]=null),e.getAttribute(n)&&e.removeAttribute(n)}))}(e,i()(t).filter((function(e){var t,n=e.name,r=e.value,i=n.match(l),o=n.match(c),a=i&&(t=r,n.match(u)&&t.match(d));return!i&&!o||a})))}))}(n),s.a.finalizeHtml(n,t)}},function(e,t,n){"use strict";var r=n(17),i=n(21),o=n(10);e.exports=function(e,t,n){r(e)?i(e,t,n):o(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(8),i=n(48);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return o}));var i={paragraph:function(e,t){var n=t.entering,r=t.origin;return t.options.nodeId?{type:n?"openTag":"closeTag",outerNewLine:!0,tagName:"p"}:r()},softbreak:function(e){return{type:"html",content:e.prev&&"htmlInline"===e.prev.type&&/<br ?\/?>/.test(e.prev.literal)?"\n":"<br>\n"}},item:function(e,t){if(t.entering){var n={},r=[];return e.listData.task&&(n["data-te-task"]="",r.push("task-list-item"),e.listData.checked&&r.push("checked")),{type:"openTag",tagName:"li",classNames:r,attributes:n,outerNewLine:!0}}return{type:"closeTag",tagName:"li",outerNewLine:!0}},code:function(e){return[{type:"openTag",tagName:"code",attributes:{"data-backticks":e.tickCount}},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"}]},codeBlock:function(e){var t=e.info?e.info.split(/\s+/):[],n=[],r={};if(e.fenceLength>3&&(r["data-backticks"]=e.fenceLength),t.length>0&&t[0].length>0){var i=t[0];n.push("lang-"+i),r["data-language"]=i}return[{type:"openTag",tagName:"pre",classNames:n},{type:"openTag",tagName:"code",attributes:r},{type:"text",content:e.literal},{type:"closeTag",tagName:"code"},{type:"closeTag",tagName:"pre"}]}};function o(e,t){var n=r({},i);return e&&(n.link=function(t,n){var i=n.entering,o=(0,n.origin)();return i&&(o.attributes=r({},o.attributes,{},e)),o}),t&&Object.keys(t).forEach((function(e){var i=n[e],o=t[e];n[e]=i?function(e,t){var n=r({},t);return n.origin=function(){return i(e,t)},o(e,n)}:o})),n}},function(e,t,n){"use strict";var r=function(){function e(){this._replacers={}}var t=e.prototype;return t.setReplacer=function(e,t){e=e.toLowerCase(),this._replacers[e]=t},t.getReplacer=function(e){return this._replacers[e]},t.createCodeBlockHtml=function(e,t){e=e.toLowerCase();var n,r=this.getReplacer(e);return r?r(t,e):(n=!1,t.replace(n?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"))},e}();t.a=new r},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(17),i=n.n(r),o=n(27),a=n.n(o);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){e.forEach((function(e){if(a()(e))e(t);else if(i()(e)){var n=e[0],r=e[1];n(t,void 0===r?{}:r)}}))}function c(e){return e?e.reduce((function(e,t){var n=i()(t)?t[0]:t;if(!a()(n)){var r=n.renderer,o=n.parser,l=n.pluginFn;t=i()(t)?[l,t[1]]:l,r&&(e.renderer=s({},e.renderer,{},r)),o&&(e.parser=s({},e.parser,{},o))}return e.plugins.push(t),e}),{plugins:[],renderer:{},parser:{}}):{}}},function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var r=n(1),i=/\n$/g,o=/[ \xA0]+\n\n/g,a=/([ \xA0]+\n){2,}/g,s=/href\=\"(.*?)\"/,l=/^/gm,c=r.factory({TEXT_NODE:function(e){var t=this.trim(this.getSpaceCollapsedText(e.nodeValue));return this._isNeedEscapeBackSlash(t)&&(t=this.escapeTextBackSlash(t)),t=this.escapePairedCharacters(t),this._isNeedEscapeHtml(t)&&(t=this.escapeTextHtml(t)),this._isNeedEscape(t)&&(t=this.escapeText(t)),this.getSpaceControlled(t,e)},"CODE TEXT_NODE":function(e){return e.nodeValue},"EM, I":function(e,t){var n="";return this.isEmptyText(t)||(n="*"+t+"*"),n},"STRONG, B":function(e,t){var n="";return this.isEmptyText(t)||(n="**"+t+"**"),n},A:function(e,t){var n,r,i=t,o="";return(n=s.exec(e.outerHTML))&&(r=n[1].replace(/&amp;/g,"&")),e.title&&(o=' "'+e.title+'"'),!this.isEmptyText(t)&&r&&(i="["+this.escapeTextForLink(t)+"]("+r+o+")"),i},IMG:function(e){var t="",n=e.getAttribute("src"),r=e.alt;return n&&(t="!["+this.escapeTextForLink(r)+"]("+n+")"),t},BR:function(){return"  \n"},CODE:function(e,t){var n,r,i="";return this.isEmptyText(t)||(r=parseInt(e.getAttribute("data-backticks"),10),i=(n=isNaN(r)?"`":Array(r+1).join("`"))+t+n),i},P:function(e,t){var n="";return t=t.replace(a,"  \n"),this.isEmptyText(t)||(n="\n\n"+t+"\n\n"),n},"BLOCKQUOTE P":function(e,t){return t},"LI P":function(e,t){var n="";return this.isEmptyText(t)||(n=t),n},"H1, H2, H3, H4, H5, H6":function(e,t){for(var n="",r=parseInt(e.tagName.charAt(1),10);r;)n+="#",r-=1;return n+=" ","\n\n"+(n+=t)+"\n\n"},"LI H1, LI H2, LI H3, LI H4, LI H5, LI H6":function(e,t){var n=parseInt(e.tagName.charAt(1),10);return Array(n+1).join("#")+" "+t},"UL, OL":function(e,t){return"\n\n"+t+"\n\n"},"LI OL, LI UL":function(e,t){return"\n"+t.replace(o,"\n").replace(i,"").replace(l,"    ")},"UL LI":function(e,t){var n="";return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+="* "+t+"\n"},"OL LI":function(e,t){for(var n="",r=parseInt(e.parentNode.getAttribute("start")||1,10);e.previousSibling;)1===(e=e.previousSibling).nodeType&&"LI"===e.tagName&&(r+=1);return t=t.replace(a,"  \n"),e.firstChild&&"P"===e.firstChild.tagName&&(n+="\n"),n+=r+". "+t+"\n"},HR:function(){return"\n\n- - -\n\n"},BLOCKQUOTE:function(e,t){return t=t.replace(a,"\n\n"),"\n\n"+this.trim(t).replace(l,"> ")+"\n\n"},"PRE CODE":function(e,t){return"\n\n"+t.replace(i,"").replace(l,"    ")+"\n\n"}});e.exports=c},function(e,t,n){"use strict";var r=/^\u0020/,i=/.+\u0020$/,o=/[\n\s\t]+/g,a=/^[\u0020\r\n\t]+|[\u0020\r\n\t]+$/g,s=/[\u0020]+/g,l=/[>(){}\[\]+-.!#|]/g,c=/[\[\]]/g,u=/!\[.*\]\(.*\)/g;function d(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}function h(e){this.rules={},e&&this.addRules(e)}function p(e){var t=e.tagName;return"S"===t||"B"===t||"I"===t||"EM"===t||"STRONG"===t||"A"===t||"IMG"===t||"CODE"===t}h.prototype.lineFeedReplacement="\u200b\u200b",h.prototype.addRule=function(e,t){var n=e.split(", "),r=n.pop();for(t.fname=e;r;)this._setConverterWithSelector(r,t),r=n.pop()},h.prototype.addRules=function(e){d(e,(function(e,t){this.addRule(t,e)}),this)},h.prototype.getSpaceControlled=function(e,t){var n,o="",a="";return t.previousSibling&&(3===t.previousSibling.nodeType||p(t.previousSibling))&&(n=t.previousSibling.innerHTML||t.previousSibling.nodeValue,(i.test(n)||r.test(t.innerHTML||t.nodeValue))&&(o=" ")),t.nextSibling&&(3===t.nextSibling.nodeType||p(t.nextSibling))&&(n=t.nextSibling.innerHTML||t.nextSibling.nodeValue,(r.test(n)||i.test(t.innerHTML||t.nodeValue))&&(a=" ")),o+e+a},h.prototype.convert=function(e,t){var n,r=this._getConverter(e);return e&&e.nodeType===Node.ELEMENT_NODE&&e.hasAttribute("data-tomark-pass")?(e.removeAttribute("data-tomark-pass"),n=function(e,t){var n=e.cloneNode(!1);return n.innerHTML=t,n.outerHTML}(e,t)):r?n=r.call(this,e,t):e&&(n=this.getSpaceControlled(this._getInlineHtml(e,t),e)),n||""},h.prototype._getInlineHtml=function(e,t){var n=e.outerHTML,r=e.tagName,i=t.replace(/\$/g,"$$$$");return n.replace(new RegExp("(<"+r+" ?.*?>).*(</"+r+">)","i"),"$1"+i+"$2")},h.prototype._getConverter=function(e){for(var t,n=this.rules;e&&n;)n=this._getNextRule(n,this._getRuleNameFromNode(e)),e=this._getPrevNode(e),n&&n.converter&&(t=n.converter);return t},h.prototype._getNextRule=function(e,t){return e[t]},h.prototype._getRuleNameFromNode=function(e){return e.tagName||"TEXT_NODE"},h.prototype._getPrevNode=function(e){var t,n=e.parentNode;return n&&!n.__htmlRootByToMark&&(t=n),t},h.prototype._setConverterWithSelector=function(e,t){var n=this.rules;this._eachSelector(e,(function(e){n[e]||(n[e]={}),n=n[e]})),n.converter=t},h.prototype._eachSelector=function(e,t){var n,r;for(r=(n=e.split(" ")).length-1;r>=0;)t(n[r]),r-=1},h.prototype.trim=function(e){return e.replace(a,"")},h.prototype.isEmptyText=function(e){return""===e.replace(o,"")},h.prototype.getSpaceCollapsedText=function(e){return e.replace(s," ")},h.prototype.escapeText=function(e){return e.replace(l,(function(e){return"\\"+e}))},h.prototype.escapeTextForLink=function(e){for(var t=[],n=u.exec(e);n;)t.push([n.index,n.index+n[0].length]),n=u.exec(e);return e.replace(c,(function(e,n){return t.some((function(e){return n>e[0]&&n<e[1]}))?e:"\\"+e}))},h.prototype.escapeTextHtml=function(e){return e.replace(new RegExp(h.markdownTextToEscapeHtmlRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapeTextBackSlash=function(e){return e.replace(new RegExp(h.markdownTextToEscapeBackSlashRx.source,"g"),(function(e){return"\\"+e}))},h.prototype.escapePairedCharacters=function(e){return e.replace(new RegExp(h.markdownTextToEscapePairedCharsRx.source,"g"),(function(e){return"\\"+e}))},h.markdownTextToEscapeRx={codeblock:/(^ {4}[^\n]+\n*)+/,hr:/^ *((\* *){3,}|(- *){3,} *|(_ *){3,}) */,heading:/^(#{1,6}) +[\s\S]+/,lheading:/^([^\n]+)\n *(=|-){2,} */,blockquote:/^( *>[^\n]+.*)+/,list:/^ *(\*+|-+|\d+\.) [\s\S]+/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? */,link:/!?\[.*\]\(.*\)/,reflink:/!?\[.*\]\s*\[([^\]]*)\]/,verticalBar:/\u007C/,codeblockGfm:/^(`{3,})/,codeblockTildes:/^(~{3,})/},h.markdownTextToEscapeHtmlRx=/<([a-zA-Z_][a-zA-Z0-9\-\._]*)(\s|[^\\/>])*\/?>|<(\/)([a-zA-Z_][a-zA-Z0-9\-\._]*)\s*\/?>|<!--[^-]+-->|<([a-zA-Z_][a-zA-Z0-9\-\.:/]*)>/,h.markdownTextToEscapeBackSlashRx=/\\[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~\\]/,h.markdownTextToEscapePairedCharsRx=/[*_~`]/,h.prototype._isNeedEscape=function(e){var t,n=!1,r=h.markdownTextToEscapeRx;for(t in r)if(r.hasOwnProperty(t)&&r[t].test(e)){n=!0;break}return n},h.prototype._isNeedEscapeHtml=function(e){return h.markdownTextToEscapeHtmlRx.test(e)},h.prototype._isNeedEscapeBackSlash=function(e){return h.markdownTextToEscapeBackSlashRx.test(e)},h.prototype.mix=function(e){!function e(t,n){d(n,(function(n,r){"converter"!==r?(t[r]||(t[r]={}),e(t[r],n)):t[r]=n}))}(this.rules,e.rules)},h.factory=function(e,t){var n=new h;return t?n.mix(e):t=e,n.addRules(t),n},e.exports=h},function(e,t,n){"use strict";var r=n(1),i=n(0),o=r.factory(i,{"DEL, S":function(e,t){return"~~"+t+"~~"},"PRE CODE":function(e,t){var n,r="",i=e.getAttribute("data-backticks");return e.getAttribute("data-language")&&(r=" "+e.getAttribute("data-language")),i=parseInt(i,10),"\n\n"+(n=isNaN(i)?"```":Array(i+1).join("`"))+r+"\n"+(t=t.replace(/(\r\n)|(\r)|(\n)/g,this.lineFeedReplacement))+"\n"+n+"\n\n"},PRE:function(e,t){return t},"UL LI":function(e,t){return i.convert(e,a(e,t))},"OL LI":function(e,t){return i.convert(e,a(e,t))},TABLE:function(e,t){return"\n\n"+t+"\n\n"},"TBODY, TFOOT":function(e,t){return t},"TR TD, TR TH":function(e,t){return" "+(t=t.replace(/(\r\n)|(\r)|(\n)/g,""))+" |"},"TD BR, TH BR":function(){return"<br>"},TR:function(e,t){return"|"+t+"\n"},THEAD:function(e,t){var n,r,i,o="";for(i=(r=l(l(e,"TR")[0],"TH")).length,n=0;n<i;n+=1)o+=" "+s(r[n])+" |";return t?t+"|"+o+"\n":""}});function a(e,t){return-1!==e.className.indexOf("task-list-item")&&(t="["+(-1!==e.className.indexOf("checked")?"x":" ")+"] "+t),t}function s(e){var t,n,r,i;return t=e.align,i=e.textContent?e.textContent.length:e.innerText.length,n="",r="",t&&("left"===t?(n=":",i-=1):"right"===t?(r=":",i-=1):"center"===t&&(r=":",n=":",i-=2)),n+function(e,t){var n=e;for(t=Math.max(t,3);t>1;)n+=e,t-=1;return n}("-",i)+r}function l(e,t){var n,r=e.childNodes,i=r.length,o=[];for(n=0;n<i;n+=1)r[n].tagName&&r[n].tagName===t&&o.push(r[n]);return o}e.exports=o},function(e,t,n){"use strict";var r=n(4),i=n(1),o=n(0),a=n(2);r.Renderer=i,r.basicRenderer=o,r.gfmRenderer=a,e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(6),o=n(0),a=n(2),s=/[ \xA0]+(\n\n)/g,l=/^[\n]+|[\s\n]+$/g,c=/([ \xA0]+\n){2,}/g,u=/([ \xA0]){2,}\n/g,d=/[ \xA0\n]+/g;function h(e,t){var n,r,i="",o=e.getNode();for(n=0,r=o.childNodes.length;n<r;n+=1)e.next(),i+=h(e,t);return t.convert(o,i)}e.exports=function(e,t){var n,p=!0;return e?(n=a,t&&(!1===(p=t.gfm)&&(n=o),n=t.renderer||n),function(e,t,n){return e=(e=(e=(e=(e=e.replace(s,"\n")).replace(c,"\n\n")).replace(d,(function(e){return(e.match(/\n/g)||[]).length>=3?"\n\n":e>=1?"\n":e}))).replace(l,"")).replace(new RegExp(n,"g"),"\n"),t&&(e=e.replace(u,"\n")),e}(function(e,t){for(var n="";e.next();)n+=h(e,t);return n}(new r(i(e)),n),p,n.lineFeedReplacement)):""}},function(e,t,n){"use strict";var r={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3};function i(e){this._normalizeTextChildren(e),this._root=e,this._current=e}i.prototype.next=function(){var e,t=this._current;if(this._current){for(e=this._getNextNode(t);this._isNeedNextSearch(e,t);)e=(t=t.parentNode).nextSibling;this._current=e}return this._current},i.prototype.getNode=function(){return this._normalizeTextChildren(this._current),this._current},i.prototype._normalizeTextChildren=function(e){var t,n;if(e&&!(e.childNodes.length<2))for(t=e.firstChild;t.nextSibling;)n=t.nextSibling,t.nodeType===r.TEXT_NODE&&n.nodeType===r.TEXT_NODE?(t.nodeValue+=n.nodeValue,e.removeChild(n)):t=n},i.prototype.getNodeText=function(){var e=this.getNode();return e.nodeType===r.TEXT_NODE?e.nodeValue:e.textContent||e.innerText},i.prototype._isNeedNextSearch=function(e,t){return!e&&t!==this._root&&t.parentNode!==this._root},i.prototype._getNextNode=function(e){return e.firstChild||e.nextSibling},i.NODE_TYPE=r,e.exports=i},function(e,t,n){"use strict";var r=/^[\s\r\n\t]+|[\s\r\n\t]+$/g,i=/>[\r\n\t]+</g,o=/>[ ]+</g;function a(e){var t;return"[object String]"===Object.prototype.toString.call(e)?(t=document.createElement("div")).innerHTML=s(e):t=e,t.__htmlRootByToMark=!0,t}function s(e){return e=(e=(e=e.replace(r,"")).replace(i,"><")).replace(o,"> <")}a.preProcess=s,e.exports=a}])},e.exports=r()},function(e,t,n){"use strict";var r=n(8);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";e.exports=function(e){return"number"===typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(19),i=n.n(r),o=n(20),a=n.n(o),s=n(5),l=n.n(s),c=n(6),u=n.n(c),d=n(22),h=n(38),p=n(0),f=n(29),m=n(18),g=n(24),v=n(4),_=function(e){var t,n;function r(t,n,r,i){var o;(o=e.call(this,t,n,r,i.isViewer)||this).lazyRunner.registerLazyRunFunction("invokeCodeBlock",o.invokeCodeBlockPlugins,o.delayCodeBlockTime,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(o));var a=i.linkAttribute,s=i.customHTMLRenderer,l=i.highlight,c=void 0!==l&&l;return o.renderHTML=Object(d.createRenderHTML)({gfm:!0,nodeId:!0,convertors:Object(f.a)(a,s)}),o.cursorNodeId=null,o._initEvent(c),o}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o._initEvent=function(e){var t=this;this.eventManager.listen("contentChangedFromMarkdown",this.update.bind(this)),e&&this.eventManager.listen("cursorActivity",(function(e){var n=e.markdownNode,r=e.cursor;t._updateCursorNode(n,r)})),i()(this.el,"scroll",(function(e){t.eventManager.emit("scroll",{source:"preview",data:Object(m.a)(e.target.scrollTop,t._previewContent)})}))},o._updateCursorNode=function(e,t){e&&("tableRow"===(e=Object(v.b)(e,(function(e){return!Object(v.h)(e)}))).type?e=function(e,t){for(var n=t.ch,r=e.firstChild;r&&r.next&&!(Object(v.e)(r.next)>n+1);)r=r.next;return r}(e,t):"tableBody"===e.type&&(e=null));var n=e?e.id:null;if(this.cursorNodeId!==n){var r=this._getElementByNodeId(this.cursorNodeId),i=this._getElementByNodeId(n);r&&u()(r,"te-preview-highlight"),i&&l()(i,"te-preview-highlight"),this.cursorNodeId=n}},o._getElementByNodeId=function(e){return e?this._previewContent.querySelector('[data-nodeid="'+e+'"]'):null},o.update=function(e){var t=this;e.forEach((function(e){return t.replaceRangeNodes(e)})),this.eventManager.emit("previewRenderAfter",this)},o.replaceRangeNodes=function(e){var t=this,n=e.nodes,r=e.removedNodeRange,i=this._previewContent,o=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",n.map((function(e){return t.renderHTML(e)})).join(""));if(r){var a=r.id,s=a[0],l=a[1],c=this._getElementByNodeId(s),u=this._getElementByNodeId(l);if(c){c.insertAdjacentHTML("beforebegin",o);for(var d=c;d!==u;){var h=d.nextElementSibling;d.parentNode.removeChild(d),Object(g.c)(d),d=h}d.parentNode&&(p.a.remove(d),Object(g.c)(d))}}else i.insertAdjacentHTML("afterbegin",o);var f=this.getCodeBlockElements(n.map((function(e){return e.id})));f.length&&this.lazyRunner.run("invokeCodeBlock",f)},o.render=function(t){e.prototype.render.call(this,t),this.eventManager.emit("previewRenderAfter",this)},o.remove=function(){a()(this.el,"scroll"),this.el=null},r}(h.a);t.a=_},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(8),a=n.n(o),s=n(44),l=n.n(s),c=n(45),u=n.n(c),d=n(23),h=["previewBeforeHook","previewRenderAfter","previewNeedsRefresh","addImageBlobHook","setMarkdownAfter","contentChangedFromWysiwyg","changeFromWysiwyg","contentChangedFromMarkdown","changeFromMarkdown","change","changeModeToWysiwyg","changeModeToMarkdown","changeModeBefore","changeMode","changePreviewStyle","changePreviewTabPreview","changePreviewTabWrite","openPopupAddLink","openPopupAddImage","openPopupAddTable","openPopupTableUtils","openHeadingSelect","openPopupCodeBlockLanguages","openPopupCodeBlockEditor","openDropdownToolbar","closePopupCodeBlockLanguages","closePopupCodeBlockEditor","closeAllPopup","command","addCommandBefore","htmlUpdate","markdownUpdate","renderedHtmlUpdated","removeEditor","convertorAfterMarkdownToHtmlConverted","convertorBeforeHtmlToMarkdownConverted","convertorAfterHtmlToMarkdownConverted","stateChange","wysiwygSetValueAfter","wysiwygSetValueBefore","wysiwygGetValueBefore","wysiwygProcessHTMLText","wysiwygRangeChangeAfter","wysiwygKeyEvent","scroll","click","mousedown","mouseover","mouseout","mouseup","contextmenu","keydown","keyup","keyMap","load","focus","blur","paste","pasteBefore","willPaste","copy","copyBefore","copyAfter","cut","cutAfter","drop","show","hide","changeLanguage","cursorActivity","requireScrollSync","requireScrollIntoView","setCodeBlockLanguages"],p=function(){function e(){this.events=new d.a,this.TYPE=new u.a(h)}var t=e.prototype;return t.listen=function(e,t){var n=this._getTypeInfo(e),r=this.events.get(n.type)||[];if(!this._hasEventType(n.type))throw new Error("There is no event type "+n.type);n.namespace&&(t.namespace=n.namespace),r.push(t),this.events.set(n.type,r)},t.emit=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,o=t.shift(),s=this._getTypeInfo(o),l=this.events.get(s.type);return l&&i()(l,(function(e){var n=e.apply(void 0,t);a()(n)||(r=r||[]).push(n)})),r},t.emitReduce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.shift(),o=this.events.get(r);return o&&i()(o,(function(e){var n=e.apply(void 0,t);l()(n)||(t[0]=n)})),t[0]},t._getTypeInfo=function(e){var t=e.split(".");return{type:t[0],namespace:t[1]}},t._hasEventType=function(e){return!a()(this.TYPE[this._getTypeInfo(e).type])},t.addEventType=function(e){if(this._hasEventType(e))throw new Error("There is already have event type "+e);this.TYPE.set(e)},t.removeEventHandler=function(e,t){var n=this,r=this._getTypeInfo(e),i=r.type,o=r.namespace;i&&t?this._removeEventHandlerWithHandler(i,t):i&&!o?this.events.delete(i):!i&&o?this.events.forEach((function(e,t){n._removeEventHandlerWithTypeInfo(t,o)})):i&&o&&this._removeEventHandlerWithTypeInfo(i,o)},t._removeEventHandlerWithHandler=function(e,t){var n=this.events.get(e)||[],r=n.indexOf(t);r>=0&&n.splice(r,1)},t._removeEventHandlerWithTypeInfo=function(e,t){var n=[],r=this.events.get(e);r&&(r.map((function(e){return e.namespace!==t&&n.push(e),null})),this.events.set(e,n))},e}();t.a=p},function(e,t,n){"use strict";var r=n(32),i=n.n(r),o=n(22),a=n(29),s=n(0),l=new RegExp("(\\\\<|<)([A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*)(\\/?>)","g"),c=function(){function e(e,t){void 0===t&&(t={});var n=t,r=n.linkAttribute,i=n.customHTMLRenderer,s=n.extendedAutolinks,l=n.referenceDefinition,c=n.customParser;this.mdReader=new o.Parser({extendedAutolinks:s,disallowedHtmlBlockTags:["br"],referenceDefinition:l,disallowDeepHeading:!0,customParser:c}),this.renderHTML=Object(o.createRenderHTML)({gfm:!0,convertors:Object(a.a)(r,i)}),this.eventManager=e}var t=e.prototype;return t._markdownToHtmlWithCodeHighlight=function(e){return this.renderHTML(this.mdReader.parse(e))},t._markdownToHtml=function(e){return e=e.replace(l,(function(e,t,n,r){return"\\"!==e[0]?""+t+n+" data-tomark-pass "+r:e})),this.renderHTML(this.mdReader.parse(e))},t._removeBrToMarkPassAttributeInCode=function(e){var t=s.a.createElementWith("<div>"+e+"</div>");return s.a.findAll(t,"code, pre").forEach((function(e){var t=e;t.innerHTML=t.innerHTML.replace(/\sdata-tomark-pass\s(\/?)&gt;/g,"$1&gt;")})),e=t.innerHTML},t.toHTMLWithCodeHighlight=function(e){var t=this._markdownToHtmlWithCodeHighlight(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t)},t.toHTML=function(e){var t=this._markdownToHtml(e);return t=this.eventManager.emitReduce("convertorAfterMarkdownToHtmlConverted",t),t=this._removeBrToMarkPassAttributeInCode(t)},t.initHtmlSanitizer=function(e){this.eventManager.listen("convertorAfterMarkdownToHtmlConverted",(function(t){return e(t,!0)}))},t.toMarkdown=function(e,t){var n=[];e=this.eventManager.emitReduce("convertorBeforeHtmlToMarkdownConverted",e),e=this._appendAttributeForLinkIfNeed(e),e=this._appendAttributeForBrIfNeed(e);var r=i()(e,t);return r=this.eventManager.emitReduce("convertorAfterHtmlToMarkdownConverted",r),(r=this._removeNewlinesBeforeAfterAndBlockElement(r)).split("\n").forEach((function(e,t){/^(<br>)+\||\|[^|]*\|/gi.test(e)?e=e.replace(/^(<br>)+\|/gi,(function(e){return e.replace(/<br>/gi,"<br>\n")})):/`[^`]*<br>[^`]*`/gi.test(e)||(e=e.replace(/<br>/gi,"<br>\n")),n[t]=e})),n.join("\n")},t._removeNewlinesBeforeAfterAndBlockElement=function(e){return e=(e=e.replace(/<br>\n\n(#{1,6} .*|```|\||(\*+|-+|\d+\.) .*| *>[^\n]+.*)/g,"<br>$1")).replace(/(#{1,6} .*|```|\|)\n\n<br>/g,"$1\n<br>")},t._appendAttributeForLinkIfNeed=function(e){return e.replace(/!?\[.*\]\(<\s*a[^>]*>(.*?)<\s*\/\s*a>\)/gi,(function(e){return e.replace(/<a /gi,'<a data-tomark-pass="" ')}))},t._appendAttributeForBrIfNeed=function(e){var t=new RegExp(/([^>]|<\/a>|<\/code>|<\/span>|<\/b>|<\/i>|<\/s>|<img [^>]*>)/.source+/<br data-tomark-pass \/><br data-tomark-pass \/>/.source,"g");return e=(e=(e=(e=(e=(e=(e=e.replace(/<br>/gi,"<br />")).replace(/<br \/><br \/>/gi,"<br data-tomark-pass /><br data-tomark-pass />")).replace(/<br data-tomark-pass="">/gi,"<br data-tomark-pass />")).replace(/<br data-tomark-pass \/><br \/>(.)/gi,"<br data-tomark-pass /><br data-tomark-pass />$1")).replace(t,"$1<br /><br />")).replace(/(.)<br \/><br \/>(<h[1-6]>|<pre>|<table>|<ul>|<ol>|<blockquote>)/g,"$1<br /><br data-tomark-pass />$2")).replace(/(<\/h[1-6]>|<\/pre>|<\/table>|<\/ul>|<\/ol>|<\/blockquote>)<br \/>(.)/g,"$1<br data-tomark-pass />$2")},e}();t.a=c},function(e,t,n){"use strict";var r=n(3),i=n.n(r),o=n(9),a=n.n(o),s=function(){function e(){this.globalTOID=null,this.lazyRunFunctions={}}var t=e.prototype;return t.run=function(e,t,n,r){var i;return a()(e)?i=this._runRegisteredRun(e,t,n,r):(i=this._runSingleRun(e,t,n,r,this.globalTOID),this.globalTOID=i),i},t.registerLazyRunFunction=function(e,t,n,r){r=r||this,this.lazyRunFunctions[e]={fn:t,delay:n,context:r,TOID:null}},t._runSingleRun=function(e,t,n,r,i){return this._clearTOIDIfNeed(i),i=setTimeout((function(){e.call(n,t)}),r)},t._runRegisteredRun=function(e,t,n,r){var i=this.lazyRunFunctions[e],o=i.fn,a=i.TOID;return r=r||i.delay,n=n||i.context,a=this._runSingleRun(o,t,n,r,a),i.TOID=a,a},t._clearTOIDIfNeed=function(e){e&&clearTimeout(e)},e}(),l=n(0),c=n(30),u=function(){function e(e,t,n,r){this.eventManager=t,this.convertor=n,this.el=e,this.isViewer=!!r,this.delayCodeBlockTime=500,this._initContentSection(),this.lazyRunner=new s}var t=e.prototype;return t._initContentSection=function(){this._previewContent=l.a.createElementWith('<div class="tui-editor-contents"></div>'),this.el.appendChild(this._previewContent)},t.getCodeBlockElements=function(e){var t=this._previewContent,n=[];return(e?e.map((function(e){return t.querySelector('[data-nodeid="'+e+'"]')})).filter(Boolean):[t]).forEach((function(e){n.push.apply(n,l.a.findAll(e,"code[data-language]"))})),n},t.invokeCodeBlockPlugins=function(e){e.forEach((function(e){var t=e.getAttribute("data-language"),n=c.a.createCodeBlockHtml(t,e.textContent);e.innerHTML=n}))},t.refresh=function(e){void 0===e&&(e=""),this.render(this.convertor.toHTMLWithCodeHighlight(e)),this.invokeCodeBlockPlugins(this.getCodeBlockElements())},t.getHTML=function(){return this._previewContent.innerHTML},t.setHTML=function(e){this._previewContent.innerHTML=e},t.render=function(e){var t=this._previewContent;e=this.eventManager.emit("previewBeforeHook",e)||e,l.a.empty(t),t.innerHTML=e},t.setHeight=function(e){i()(this.el,{height:e+"px"})},t.setMinHeight=function(e){i()(this.el,{minHeight:e+"px"})},t.isVisible=function(){return"none"!==this.el.style.display},e}();t.a=u},function(e,t,n){"use strict";var r=n(17),i=n(8);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},,function(e,t,n){"use strict";var r=n(28);e.exports=function(e){return r(e)&&!1!==e}},function(e,t,n){"use strict";var r=n(8),i=n(49);e.exports=function(e,t){var n=location.hostname,o="TOAST UI "+e+" for "+n+": Statistics",a=window.localStorage.getItem(o);(r(window.tui)||!1!==window.tui.usageStatistics)&&(a&&!function(e){return(new Date).getTime()-e>6048e5}(a)||(window.localStorage.setItem(o,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(42);e.exports=function(e){return!r(e)}},function(e,t,n){"use strict";var r=n(34),i=n(17),o=n(2),a=n(26),s=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),l=0;function c(e){e&&this.set.apply(this,arguments)}c.prototype.set=function(e){var t=this;i(e)||(e=o(arguments)),a(e,(function(e){t._addItem(e)}))},c.prototype.getName=function(e){var t,n=this;return a(this,(function(r,i){if(n._isEnumItem(i)&&e===r)return t=i,!1})),t},c.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),s?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},c.prototype._makeEnumValue=function(){var e;return e=l,l+=1,e},c.prototype._isEnumItem=function(e){return r(this[e])},e.exports=c},function(e,t,n){"use strict";var r=n(10),i=n.n(r),o=n(7),a=n.n(o),s=n(19),l=n.n(s),c=n(20),u=n.n(c),d=n(35),h=n(36),p=n(1),f=n(37),m=n(0),g=n(30),v=n(31),_=n(12),y=n(25);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(){function e(e){var t=this;this.options=a()({useDefaultHTMLSanitizer:!0,linkAttribute:null,extendedAutolinks:!1,customConvertor:null,customHTMLRenderer:null,referenceDefinition:!1,customHTMLSanitizer:null},e),this.codeBlockLanguages=[],this.eventManager=new h.a,this.commandManager=new p.a(this);var n=Object(_.c)(this.options.linkAttribute),r=Object(v.a)(this.options.plugins),o=r.renderer,s=r.parser,c=r.plugins,u=this.options,m=u.customHTMLRenderer,g=u.customHTMLSanitizer,C=u.extendedAutolinks,w=u.referenceDefinition,S={linkAttribute:n,customHTMLRenderer:b({},o,{},m),extendedAutolinks:C,referenceDefinition:w,customParser:s};this.options.customConvertor?this.convertor=new this.options.customConvertor(this.eventManager,S):this.convertor=new f.a(this.eventManager,S);var x=g||(this.options.useDefaultHTMLSanitizer?y.a:null);x&&this.convertor.initHtmlSanitizer(x),this.options.hooks&&i()(this.options.hooks,(function(e,n){t.addHook(n,e)})),this.options.events&&i()(this.options.events,(function(e,n){t.on(n,e)}));var k=this.options,E=k.el,T=k.initialValue,j=E.innerHTML;E.innerHTML="",this.preview=new d.a(E,this.eventManager,this.convertor,b({},S,{isViewer:!0})),l()(this.preview.el,"mousedown",this._toggleTask.bind(this)),c&&Object(v.b)(c,this),T?this.setMarkdown(T):j&&this.preview.setHTML(j),this.eventManager.emit("load",this)}var t=e.prototype;return t._toggleTask=function(e){var t=getComputedStyle(e.target,":before");e.target.hasAttribute("data-te-task")&&m.a.isInsideTaskBox(t,e.offsetX,e.offsetY)&&(m.a.toggleClass(e.target,"checked"),this.eventManager.emit("change",{source:"viewer",data:e}))},t.setMarkdown=function(e){this.markdownValue=e=e||"",this.preview.refresh(this.markdownValue),this.eventManager.emit("setMarkdownAfter",this.markdownValue)},t.on=function(e,t){this.eventManager.listen(e,t)},t.off=function(e){this.eventManager.removeEventHandler(e)},t.remove=function(){this.eventManager.emit("removeEditor"),u()(this.preview.el,"mousedown",this._toggleTask.bind(this)),this.preview.remove(),this.options=null,this.eventManager=null,this.commandManager=null,this.convertor=null,this.preview=null},t.addHook=function(e,t){this.eventManager.removeEventHandler(e),this.eventManager.listen(e,t)},t.isViewer=function(){return!0},t.isMarkdownMode=function(){return!1},t.isWysiwygMode=function(){return!1},t.setCodeBlockLanguages=function(e){var t=this;void 0===e&&(e=[]),e.forEach((function(e){t.codeBlockLanguages.indexOf(e)<0&&t.codeBlockLanguages.push(e)}))},e}();C.isViewer=!0,C.domUtils=m.a,C.codeBlockManager=g.a,C.WwCodeBlockManager=null,C.WwTableManager=null,C.WwTableSelectionManager=null,t.a=C},,function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(10);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},,function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";n.r(t);var r=n(46);n(51),t.default=r.a}]).default},e.exports=r()},function(e,t,n){},function(e,t,n){}]]);
//# sourceMappingURL=2.bfbd5001.chunk.js.map